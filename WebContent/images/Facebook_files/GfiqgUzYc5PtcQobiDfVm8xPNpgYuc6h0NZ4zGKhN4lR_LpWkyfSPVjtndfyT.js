if (self.CavalryLogger) { CavalryLogger.start_js(["epelr"]); }

__d("VideoComposerVideoPublishingMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"VideoPublishResponsePayload",kind:"LinkedField",name:"video_publish",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"video_asset_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoComposerVideoPublishingMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoComposerVideoPublishingMutation",selections:b},params:{id:"2794099187357617",metadata:{},name:"VideoComposerVideoPublishingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("BandicootSession",[],(function(a,b,c,d,e,f){"use strict";f.isValidSession=a;f.isTrackedSession=b;f.isCrashedSession=c;f.isOrphanSession=d;var g=Object.freeze({ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",CLOSED:"CLOSED"});f.Status=g;var h=10*60*1e3,i=14*24*60*60*1e3;function j(a){return Date.now()-a.lastUpdated}function a(a){return!!(typeof a==="object"&&a&&a.lastUpdated&&a.status)}function b(a){if(a.status===g.CLOSED)return!1;else if(a.status===g.INACTIVE&&j(a)>h)return!1;return!0}function c(a){return a.status===g.ACTIVE&&j(a)>h}function d(a){return j(a)>i}}),null);
__d("Bandicoot",["invariant","BandicootSession","FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=5*1e3,i=h*2,j="Bandicoot:";function a(){try{var a=window.localStorage;if(a){var c="__test"+Date.now();a.setItem(c,"");a.removeItem(c)}return a}catch(a){b("FBLogger")("bandicoot").warn("Local storage is full");return null}}var k=a();c=function(){function a(a){this.$5=j+a,this.$4={},this.$1=this.$7.bind(this),this.sessionID=null,this.sessionStartTime=null,this.storage=k}var c=a.prototype;c.getCrashTimeData=function(){var a=window.performance&&window.performance.memory||{},b=this.sessionStartTime;return{duration:b?Date.now()-b:0,tabs:Object.keys(this.$8()).length,jsHeapSizeLimit:a.jsHeapSizeLimit,totalJSHeapSize:a.totalJSHeapSize,usedJSHeapSize:a.usedJSHeapSize,elementsInDOM:document.getElementsByTagName("*").length,uri:window.location.href}};c.getLogTimeData=function(){return{userAgent:window.navigator.userAgent}};c.logCrash=function(a,c,d){b("FBLogger")("bandicoot").warn("Session %s crashed at %s",a,d)};c.logBrowserUnsupported=function(){b("FBLogger")("bandicoot").warn("Browser not supported")};c.logTrackingError=function(){b("FBLogger")("bandicoot").warn("Failed to record data for current session")};c.startSession=function(){var a=this;if(!this.storage){this.logBrowserUnsupported();return}if(this.$2)return;this.sessionID||(this.sessionID=Math.random().toString(36).slice(2,9));this.sessionStartTime||(this.sessionStartTime=Date.now());this.$2=setInterval(function(){a.$9()},h);this.$9();document.addEventListener&&document.addEventListener("visibilitychange",this.$1);this.$10()};c.endSession=function(){if(!this.storage)return;if(!this.$2)return;clearInterval(this.$2);this.$2=null;this.$3||this.$11({status:b("BandicootSession").Status.CLOSED});this.sessionID=null;this.sessionStartTime=null;document.removeEventListener&&document.removeEventListener("visibilitychange",this.$1)};c.logKnownCrashes=function(){var a=this;if(!this.storage)return;if(!this.$2){var c=this.$8();c=this.$12(c,function(c,d){if(b("BandicootSession").isCrashedSession(c)){a.logCrash(d,c,a.getLogTimeData());return null}else return c});this.$13(c)}};c.$14=function(){var a=this.sessionID;a||g(0,663);return a};c.$9=function(){var a=this.$8();this.$15(a);a=this.$16(a);this.$13(a)};c.$15=function(a){var b=this.$14(),c=a[b]?a[b]:{};a[b]=babelHelpers["extends"]({},c,this.getCrashTimeData(),{lastUpdated:Date.now(),status:this.$17()})};c.$12=function(a,c){var d={};Object.keys(a).forEach(function(e){var f=a[e];if(b("BandicootSession").isValidSession(f)&&b("BandicootSession").isTrackedSession(f)&&!b("BandicootSession").isOrphanSession(f)){f=c(f,e);f&&(d[e]=f)}});return d};c.$16=function(a){var c=this;return this.$12(a,function(a,d){if(b("BandicootSession").isCrashedSession(a)){var e=a.loggerReportTime||0;if(Date.now()-e>i)a.loggerReportTime=Date.now(),a.loggerReportSession=c.$14();else if(a.loggerReportSession==c.$14()){c.logCrash(d,a,c.getLogTimeData());c.$4[d]=!0;return null}}return a})};c.$8=function(a){a=a||this.$5;var c=this.storage.getItem(a)||"{}";try{c=JSON.parse(c)}catch(d){c={},this.storage.removeItem(a),b("FBLogger")("bandicoot").catching(d).warn("Invalid JSON data")}return c};c.$11=function(a){a.lastUpdated=Date.now();var b=this.$8(),c=this.sessionID;c&&b[c]&&(Object.assign(b[c],a),this.$13(b))};c.$13=function(a){a=JSON.stringify(a);try{this.storage.setItem(this.$5,a)}catch(d){a=this.$6;var c=Date.now();(!a||c>a+h)&&(this.logTrackingError(),this.$6=c);try{this.storage.removeItem(this.$5)}catch(a){this.$3=!0,this.endSession(),b("FBLogger")("bandicoot").catching(a).warn("Removing from storage failed")}}};c.$10=function(){for(var a=0;a<this.storage.length;++a){var c=this.storage.key(a);if(c.indexOf(j)===0&&c!==this.$5){var d=this.$8(c),e=Object.keys(d).every(function(a){a=d[a];return!b("BandicootSession").isValidSession(a)||b("BandicootSession").isOrphanSession(a)});e&&this.storage.removeItem(c)}}};c.$7=function(){this.$11({status:this.$17()})};c.$17=function(){return document.hidden?b("BandicootSession").Status.INACTIVE:b("BandicootSession").Status.ACTIVE};return a}();e.exports=c}),null);
__d("fileSliceName",["UserAgent_DEPRECATED"],(function(a,b,c,d,e,f){a="slice";(c=b("UserAgent_DEPRECATED").chrome())?c<21&&(a="webkitSlice"):(c=b("UserAgent_DEPRECATED").firefox())?c<13&&(a="mozSlice"):b("UserAgent_DEPRECATED").safari()||b("UserAgent_DEPRECATED").webkit()&&(a="webkitSlice");d=a;e.exports=d}),null);
__d("fileSlice",["fileSliceName"],(function(a,b,c,d,e,f){c=a.File&&a.File.prototype[b("fileSliceName")];c||(c=a.Blob&&a.Blob.prototype[b("fileSliceName")]);d=c;e.exports=d}),null);
__d("VideoUploadFeatureDetector",["UserAgent_DEPRECATED","fileSlice"],(function(a,b,c,d,e,f){f.supportsChunking=a;f.supportsFullProgress=c;f.supportsFileAPI=d;f.supportsFileReading=e;f.supportsXHR=g;function a(){return typeof b("fileSlice")==="function"&&this.supportsXHR()}function c(){return!b("UserAgent_DEPRECATED").firefox()}function d(){return"FileList"in window}function e(){return"FileReader"in window&&"DataView"in window}function g(){return"FormData"in window}}),null);
__d("VideoUploadFile",["VideoUploadFeatureDetector","fileSlice","md5"],(function(a,b,c,d,e,f){a=function(){function a(a,b,c,d){this.$1=a,this.$2=b,this.$3=c,this.$4=d}a.fromBlob=function(b){var c=b.type.indexOf("/")!=-1?"."+b.type.split("/").pop().toLowerCase():"";c="blob"+c;c=new File([b],c,{type:b.type});return a.fromFile(c)};a.fromFile=function(b){var c=a.getExtensionFromFileName(b.name);return new this(null,b,b.size,c)};a.fromFileInput=function(c){var d=null,e=null,f=a.getExtensionFromFileInput(c);b("VideoUploadFeatureDetector").supportsFileAPI()&&c.files.length&&(d=c.files[0],e=d.size);return new this(c,d,e,f)};var c=a.prototype;c.getFileInput=function(){return this.$1};c.getFile=function(){return this.$2};c.getSize=function(){return this.$3};c.getExtension=function(){return this.$4};c.getCreatorProduct=function(){return this.$4==="gif"?4:2};c.getChunk=function(a,c){return this.$2!==null&&this.$2!==void 0?b("fileSlice").call(this.$2,a,c):null};c.getFilePath=function(){var a;return(a=this.$2)==null?void 0:a.name};c.getStableAssetID=function(){var a;return(a=b("md5")(this.getFilePath()))!=null?a:"unknown"};a.getExtensionFromFileInput=function(a){return this.getExtensionFromFileName(a.value)};a.getExtensionFromFileName=function(a){return a!==null&&a!==void 0&&a.indexOf(".")!==-1?a.split(".").pop().toLowerCase():""};return a}();e.exports=a}),null);
__d("VideoUploadCrashMonitor",["Bandicoot","VideoUploadLogger"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h,i){var j;j=a.call(this,"VideoUploadSession")||this;j.$VideoUploadCrashMonitor1={waterfallID:b,actorID:c,source:d,targetID:e,loggingDelay:f,supportsChunking:g,composerEntryPointRef:h,flowStarted:i};return j}var d=c.prototype;d.flowStarted=function(){this.$VideoUploadCrashMonitor1.flowStarted=!0};d.getCrashTimeData=function(){return this.$VideoUploadCrashMonitor1};d.logCrash=function(a,c,d){if(!c.waterfallID)return;a=new(b("VideoUploadLogger"))({actor_id:c.actorID,source:c.source,waterfall_id:c.waterfallID,target_id:c.targetID,delay:c.loggingDelay,is_chunked_upload:c.supportsChunking,composer_entry_point_ref:c.composerEntryPointRef});d={error:"Crash Detected",error_description:"Detected video upload did not complete due to a crash"};a.logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING,d);c.flowStarted&&a.logEvent(b("VideoUploadLogger").EVENT_RESIGNED_FLOW,{})};return c}(b("Bandicoot"));e.exports=a}),null);
__d("GraphQLVideoPublishUtils",["gkx","immutable"],(function(a,b,c,d,e,f){"use strict";f.isGraphQLPublish=a;function a(a,c,d,e){if(d&&!b("gkx")("1797557"))return!1;if(e&&!b("gkx")("1827276"))return!1;d=b("immutable").List(["cs_ab_testing_video_upload","cs_content_library","cs_content_library_bulk_upload","cs_content_library_upload_videos","cs_content_show_episode_upload","cs_global_basic_post","cs_global_bulk_upload","cs_global_multipost","cs_global_upload_video","cs_home_basic_post","cs_home_bulk_video","cs_home_upload_video","cs_home_multipost","cs_instagram_content_library","media_manager","pages_composer_bulk_upload_upsell","page_content_tab_drafts","page_content_tab_published_posts_opted_out","page_content_tab_scheduled_posts_opted_out","page_content_tab_video_library","page_content_tab_video_library_premiere","pages_posts","pages_video_tab","timeline","video_page_video_list"]);e=b("gkx")("1787006")?d.contains(c)||b("gkx")("1809100")&&c==="pages_feed_video_composer":!0;return b("gkx")("1687206")&&(a==="composer"||a==="media_manager_instagram_video_composer")&&e}}),null);
__d("VideoUploadFileValidator",["errorCode","fbt","requireCond","cr:909496","cr:909497","React"],(function(a,b,c,d,e,f,g,h){var i=b("React"),j=[1363019,1363020,1363021,1363022,1363023,1363024,1363025,1363026,1363027,1363030,1363031,1363032,1363033,1363038,1363039,1363040,1363048],k=["VIDEO__INVALID_GUIDE_DATA"];a=function(){"use strict";function a(a){this.$1=a}var c=a.prototype;c.validate=function(a,b){return this.$2(a)&&this.$3(a)&&this.$4(a.getExtension()==="gif",b)};c.getValidationErrorMessage=function(a,b){return this.$5(a)||this.$6(a)||this.$7(a.getExtension()==="gif",b)};a.canReplaceVideoForError=function(a){if(!a)return!0;if(k.indexOf(a)>-1)return!1;return j.indexOf(a)>-1?!0:!1};c.$2=function(a){a=this.$5(a);if(a){b("cr:909496")!==null&&b("cr:909496").show(a.summary,a.description);return!1}else return!0};c.$5=function(a){if(this.$1.extensions[a.getExtension()])return;a="http://www.facebook.com/help/?faq=218673814818907#What-formats-of-video-files-can-I-upload?";a=i.jsx(b("cr:909497"),{target:"_blank",href:a,children:h._("recommended formats")});return{summary:h._("Unsupported File Format"),description:h._("Sorry, the file you selected is in a format that we don't support. Please use one of our {link} for video files.",[h._param("link",a)])}};c.$3=function(a){a=this.$6(a);if(a){b("cr:909496")!==null&&b("cr:909496").show(a.summary,a.description);return!1}else return!0};c.$6=function(a){var b;if(a.getSize()===null)return;a.getSize()<this.$1.minSize&&(b=this.$8());a.getSize()>this.$1.maxSize&&(b=this.$9());return b};c.$8=function(){var a=Math.round(this.$1.minSize/1024);return{summary:h._("Video File Too Small"),description:h._("The video file you tried to upload is too small. The minimum size for a video file is {min-size} KB. Please try again with a larger file.",[h._param("min-size",a)])}};c.$9=function(){var a=Math.floor(this.$1.maxSize/1024/1024);return{summary:h._("Video File Too Large"),description:h._("The video file you tried to upload is too large. The maximum size for a video file is {max-size} MB. Please try again with a smaller file.",[h._param("max-size",a)])}};c.$4=function(a,c){a=this.$7(a,c);if(a){b("cr:909496")!==null&&b("cr:909496").show(a.summary,a.description);return!1}else return!0};c.$7=function(a,b){var c;if(!b)return;var d=b.format.duration;d&&(d>this.$1.maxLength&&(c=this.$10()),d<this.$1.minLength&&!a&&(c=this.$11()));if(!b.streams||!b.streams.primaryVideo)return;d=b.streams.primaryVideo.width;a=b.streams.primaryVideo.height;var e=0,f=0;b.videoPlayerData!==null&&(e=b.videoPlayerData.height,f=b.videoPlayerData.width);this.$1.acceptDimensionsFromPlayer&&f!==0&&e!==0&&(d=f,a=e);!b.streams.primaryVideo&&b.streams.primaryAudio&&(c=this.$12());d<this.$1.minWidth&&(c=this.$13());a<this.$1.minHeight&&(c=this.$14());f=d/a;this.$1.require16to9AspectRatio&&((f>2||f<1.6)&&(c=this.$15()));this.$1.minAspectRatio&&(f<this.$1.minAspectRatio&&(c=this.$16()));this.$1.maxAspectRatio&&(f>this.$1.maxAspectRatio&&(c=this.$17()));return c};c.$10=function(){if(this.$1.source==="profile_video")return{summary:h._("Profile Video Duration Too Long"),description:h._("The maximum length is {max-length} seconds. Please upload a shorter video.",[h._param("max-length",this.$1.maxLength)])};else return{summary:h._("Video Duration Too Long"),description:h._("The duration of the video you tried to upload is too long. The maximum duration for a video is {max-length} minutes. Please upload a shorter video.",[h._param("max-length",Math.round(this.$1.maxLength/60))])}};c.$11=function(){return{summary:h._("Video File Too Short"),description:h._({"second":"The duration of the video you tried to upload is too short. The minimum length for a video is {min-length} second. Please upload a longer video.","seconds":"The duration of the video you tried to upload is too short. The minimum length for a video is {min-length} seconds. Please upload a longer video."},[h._param("min-length",this.$1.minLength),h._enum(this.$1.minLength===1?"second":"seconds",{second:"second",seconds:"seconds"})])}};c.$12=function(){var a="http://www.facebook.com/help/?faq=218673814818907#What-formats-of-video-files-can-I-upload?";a=i.jsx(b("cr:909497"),{href:a,children:h._("supported video format")});return{summary:h._("No Video Detected"),description:h._("It looks like you're trying to upload a file that isn't a video. Please try uploading a {supported-video-format link}",[h._param("supported-video-format link",a)])}};c.$13=function(){return{summary:h._("Video Width Too Narrow"),description:h._("The width of the video you tried to upload is too short. The minimum width for a video is {min-width}. Please upload a wider video.",[h._param("min-width",this.$1.minWidth)])}};c.$15=function(){return{summary:h._("Problem Uploading Video"),description:h._("Videos look best when they have a 16:9 aspect ratio. Please edit your video and upload again.")}};c.$14=function(){return{summary:h._("Video Height Too Short"),description:h._("The height of the video you tried to upload is too short. The minimum height for a video is {min-height}. Please upload a taller video.",[h._param("min-height",this.$1.minHeight)])}};c.$17=function(){return{summary:h._("Video Too Wide"),description:h._("The video you selected is too wide. Aspect ratios for videos need to be between {max_aspect_ratio} and {min_aspect_ratio}. Please record and upload a taller video.",[h._param("max_aspect_ratio",this.$1.maxAspectRatio+":1"),h._param("min_aspect_ratio",this.$1.minAspectRatio+":1")])}};c.$16=function(){return{summary:h._("Video Too Tall"),description:h._("The video you selected is too tall. Aspect ratios for videos need to be between {max_aspect_ratio} and {min_aspect_ratio}. Please record and upload a narrower video.",[h._param("max_aspect_ratio",this.$1.maxAspectRatio+":1"),h._param("min_aspect_ratio",this.$1.minAspectRatio+":1")])}};return a}();e.exports=a}),null);
__d("GraphQLVideoPublisherInputDataHandlerBase",["invariant","gkx"],(function(a,b,c,d,e,f,g){"use strict";f.hasAPISupport=h;a=function(){function a(a,b){this.postData=a,this.extraData=b}var b=a.prototype;b.mapPostDataToGraphQLInputObject=function(){g(0,85)};b.hasAPISupport=function(){return h(this.postData)};b.uploadables=function(){g(0,85)};return a}();f.GraphQLVideoPublisherInputDataHandlerBase=a;function h(a){return b("gkx")("1687206")}}),null);
__d("BrandedContentSharedToSponsorStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_SHARED:0,ALL_SHARED:1});e.exports=a}),null);
__d("BrandedContentSponsorRelationship",[],(function(a,b,c,d,e,f){a=Object.freeze({WITH:0,PAID_RELATIONSHIP_WITH:1,PRESENTED_BY:2,SOCIAL_TAGGING:3,SUPPORT:4,BRAND_INLINE_AD_WITHOUT_CREATOR_PAGE:5,CREATOR_INLINE_AD_WITHOUT_SPONSOR_PAGE:6,SPONSORSHIP:7});e.exports=a}),null);
__d("CallToActionTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({OPEN_LINK:"OPEN_LINK",LIKE_PAGE:"LIKE_PAGE",SHOP_NOW:"SHOP_NOW",PLAY_GAME:"PLAY_GAME",INSTALL_APP:"INSTALL_APP",USE_APP:"USE_APP",CALL:"CALL",CALL_ME:"CALL_ME",VIDEO_CALL:"VIDEO_CALL",GET_MOBILE_APP:"GET_MOBILE_APP",INSTALL_MOBILE_APP:"INSTALL_MOBILE_APP",INSTALL_FREE_MOBILE_APP:"INSTALL_FREE_MOBILE_APP",USE_MOBILE_APP:"USE_MOBILE_APP",MOBILE_DOWNLOAD:"MOBILE_DOWNLOAD",BOOK_TRAVEL:"BOOK_TRAVEL",LISTEN_MUSIC:"LISTEN_MUSIC",WATCH_VIDEO:"WATCH_VIDEO",LEARN_MORE:"LEARN_MORE",SIGN_UP:"SIGN_UP",DOWNLOAD:"DOWNLOAD",WATCH_MORE:"WATCH_MORE",NO_BUTTON:"NO_BUTTON",VISIT_PAGES_FEED:"VISIT_PAGES_FEED",MISSED_CALL:"MISSED_CALL",CALL_NOW:"CALL_NOW",DIAL_CODE:"DIAL_CODE",APPLY_NOW:"APPLY_NOW",CONTACT:"CONTACT",BUY_NOW:"BUY_NOW",GET_OFFER:"GET_OFFER",GET_OFFER_VIEW:"GET_OFFER_VIEW",BUY_TICKETS:"BUY_TICKETS",UPDATE_APP:"UPDATE_APP",GET_DIRECTIONS:"GET_DIRECTIONS",BUY:"BUY",SEE_DETAILS:"SEE_DETAILS",MESSAGE_PAGE:"MESSAGE_PAGE",MESSAGE_USER:"MESSAGE_USER",DONATE:"DONATE",SUBSCRIBE:"SUBSCRIBE",SAY_THANKS:"SAY_THANKS",SELL_NOW:"SELL_NOW",SHARE:"SHARE",DONATE_NOW:"DONATE_NOW",GET_QUOTE:"GET_QUOTE",CONTACT_US:"CONTACT_US",ORDER_NOW:"ORDER_NOW",START_ORDER:"START_ORDER",ADD_TO_CART:"ADD_TO_CART",VIDEO_ANNOTATION:"VIDEO_ANNOTATION",MOMENTS:"MOMENTS",RECORD_NOW:"RECORD_NOW",VOTE_NOW:"VOTE_NOW",GIVE_FREE_RIDES:"GIVE_FREE_RIDES",REGISTER_NOW:"REGISTER_NOW",OPEN_MESSENGER_EXT:"OPEN_MESSENGER_EXT",CIVIC_ACTION:"CIVIC_ACTION",SEND_INVITES:"SEND_INVITES",REFER_FRIENDS:"REFER_FRIENDS",SAVE:"SAVE",REQUEST_TIME:"REQUEST_TIME",SEE_MENU:"SEE_MENU",EMAIL_NOW:"EMAIL_NOW",PAY_OR_REQUEST:"PAY_OR_REQUEST",SEARCH:"SEARCH",GET_SHOWTIMES:"GET_SHOWTIMES",TRY_IT:"TRY_IT",LISTEN_NOW:"LISTEN_NOW",TRY_ON:"TRY_ON",WOODHENGE_SUPPORT:"WOODHENGE_SUPPORT",SOTTO_SUBSCRIBE:"SOTTO_SUBSCRIBE",SEARCH_MORE:"SEARCH_MORE",FOLLOW_USER:"FOLLOW_USER",BLOOD_DONATIONS:"BLOOD_DONATIONS",UNLIKE_PAGE:"UNLIKE_PAGE",BET_NOW:"BET_NOW",OPEN_MOVIES:"OPEN_MOVIES",EVENT_RSVP:"EVENT_RSVP",INTERESTED:"INTERESTED",GO_LIVE:"GO_LIVE",SEND_TIP:"SEND_TIP",WHATSAPP_MESSAGE:"WHATSAPP_MESSAGE",GET_EVENT_TICKETS:"GET_EVENT_TICKETS",VIEW_INSTAGRAM_PROFILE:"VIEW_INSTAGRAM_PROFILE",INSTAGRAM_MESSAGE:"INSTAGRAM_MESSAGE",FOLLOW_NEWS_STORYLINE:"FOLLOW_NEWS_STORYLINE",LINK_CARD:"LINK_CARD",PRE_REGISTER:"PRE_REGISTER",SEE_MORE:"SEE_MORE",WATCH_APP_UPGRADE:"WATCH_APP_UPGRADE",LOYALTY_LEARN_MORE:"LOYALTY_LEARN_MORE",ACTIVATE_OFFER:"ACTIVATE_OFFER",BOOK_NOW:"BOOK_NOW",BOOK_TEST_DRIVE:"BOOK_TEST_DRIVE",CHECK_AVAILABILITY:"CHECK_AVAILABILITY",FIND_A_GROUP:"FIND_A_GROUP",FIND_YOUR_GROUPS:"FIND_YOUR_GROUPS",REMIND_ME:"REMIND_ME",PAY_TO_ACCESS:"PAY_TO_ACCESS",PURCHASE_GIFT_CARDS:"PURCHASE_GIFT_CARDS",FOLLOW_PAGE:"FOLLOW_PAGE",SEND_A_GIFT:"SEND_A_GIFT",JOBS_APPLY_NOW:"JOBS_APPLY_NOW",SWIPE_UP_SHOP:"SWIPE_UP_SHOP",SWIPE_UP_PRODUCT:"SWIPE_UP_PRODUCT"});e.exports=a}),null);
__d("ExpirationType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,DELETE:1,HIDE:2,ONLY_ME:3});e.exports=a}),null);
__d("VideoAssetMatureContentRating",[],(function(a,b,c,d,e,f){a=Object.freeze({UNSET:0,SUITABLE_FOR_ALL:1,FOURTEEN_PLUS:2,EIGHTEEN_PLUS:3});e.exports=a}),null);
__d("VideoCommentatingPermission",[],(function(a,b,c,d,e,f){a=Object.freeze({UNSET:"unset",ALLOW:"allow",DISALLOW:"disallow"});e.exports=a}),null);
__d("VideoFundedContentFlagProgram",[],(function(a,b,c,d,e,f){a=Object.freeze({UNSET:0,IS_FUNDED_CONTENT:1,NOT_FUNDED_CONTENT:2});e.exports=a}),null);
__d("VideoProjection",[],(function(a,b,c,d,e,f){a=Object.freeze({FLAT:"flat",EQUIRECTANGULAR:"equirectangular",CUBEMAP:"cubemap",UNPADDED_CUBESTRIP:"unpadded_cubestrip",OFFSET_CUBEMAP:"offset_cubemap",ROTATED_CUBEMAP:"rotated_cubemap",BARREL:"barrel",BARREL_SPLIT:"barrel_split",CDS_BARREL:"cds_barrel",HALF_EQUIRECTANGULAR:"half_equirectangular"});e.exports=a}),null);
__d("VideoStereoFormat",[],(function(a,b,c,d,e,f){a=Object.freeze({MONO:"mono",LEFT_RIGHT:"left-right",TOP_BOTTOM:"top-bottom"});e.exports=a}),null);
__d("GraphQLVideoPublisherVideoUploaderInputDataHandler",["BrandedContentSharedToSponsorStatus","BrandedContentSponsorRelationship","CallToActionTypes","ClientIDs","ExpirationType","GraphQLVideoPublisherInputDataHandlerBase","VideoAssetMatureContentRating","VideoCommentatingPermission","VideoFundedContentFlagProgram","VideoProjection","VideoStereoFormat","enumUtils"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.mapPostDataToGraphQLInputObject=function(){var a=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler1(),c=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler2(),d=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler3(),e=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler4(),f=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler5(),g=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler6(),h=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler7(),i=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler8(),j=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler9(),k=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler10(),l=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler11(),m=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler12(),n=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler13(),o=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler14(),p=this.$GraphQLVideoPublisherVideoUploaderInputDataHandler15();return{actor_id:this.extraData.target_id,basic_data:a,client_mutation_id:b("ClientIDs").getNewClientID(),thumbnail_data:c,ad_break_data:e,auto_reframe_data:j,post_status_data:d,main_composer_tab_data:f,distribution_data:g,stars_data:h,metadata_data:i,questions_data:k,polls_data:l,tracking_data:m,captions_data:n,spherical_data:o,live_premiere_data:p,video_editor_config_json:this.postData.video_editor_config_json}};d.uploadables=function(){return babelHelpers["extends"]({},this.$GraphQLVideoPublisherVideoUploaderInputDataHandler16(),this.$GraphQLVideoPublisherVideoUploaderInputDataHandler17(),this.$GraphQLVideoPublisherVideoUploaderInputDataHandler18())};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler1=function(){var a;return{source:this.extraData.source,target_id:this.extraData.target_id,video_id:this.extraData.video_id,video_title:this.postData.video_title,waterfall_id:this.extraData.waterfall_id,xhpc_message:this.postData.xhpc_message,creator_product:(a=this.extraData.creator_product)==null?void 0:a.toString(),composer_entry_point_ref:this.extraData.composer_entry_point_ref,composer_dialog_version:this.extraData.composer_dialog_version,has_file_been_replaced:this.extraData.has_file_been_replaced,supports_chunking:this.extraData.supports_chunking}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler2=function(){return{thumbnail_type:this.postData.thumbnail_type}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler17=function(){return this.postData.thumbnail_uploadable};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler18=function(){var a={},b=this.postData.schedule_custom_background_image,c=this.postData.schedule_custom_profile_image,d=this.postData.schedule_feed_background_image;b!=null&&(a.schedule_custom_background_image=b);c!=null&&(a.schedule_custom_profile_image=c);d!=null&&(a.schedule_feed_background_image=d);return a};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler4=function(){return{ad_breaks:this.postData.ad_breaks,ad_break_prereview:this.postData.ad_break_prereview,ad_breaks_experiment_revenue_loss_threshold:this.postData.ad_breaks_experiment_revenue_loss_threshold,enable_ad_breaks_experiment:this.postData.enable_ad_breaks_experiment,ad_breaks_block_lists:this.postData.ad_breaks_block_lists,has_ad_breaks_block_lists:this.postData.has_ad_breaks_block_lists,is_in_stream_enabled:this.postData.is_in_stream_enabled,self_cert_answers:this.postData.self_cert_answers,should_auto_adjust_manual_ad_breaks:this.postData.should_auto_adjust_manual_ad_breaks,should_auto_insert_ad_breaks:this.postData.should_auto_insert_ad_breaks,should_use_image_ads:this.postData.should_use_image_ads}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler3=function(){return{dogfooding:this.postData.dogfooding,draft:this.postData.draft,is_reviewable_branded_content:this.postData.is_reviewable_branded_content,scheduled:this.postData.scheduled,future_date:this.postData.future_date,future_time:this.postData.future_time,expiring:this.postData.expiring,expire_type:this.postData.expire_type!=null?b("enumUtils").enumValueToKeyEnforcing(this.postData.expire_type,b("ExpirationType")):null,expire_time:this.postData.expire_time,backdated_date:this.postData.backdated_date,hide_from_newsfeed:this.postData.hide_from_newsfeed}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler19=function(){var a=this.postData.branded_content_data;if(a==null)return null;var c=a.tagging_data;c!=null&&(c=babelHelpers["extends"]({},c,{shared_to_sponsor_status:c.shared_to_sponsor_status!=null?b("enumUtils").enumValueToKeyEnforcing(c.shared_to_sponsor_status,b("BrandedContentSharedToSponsorStatus")):null,sponsor_relationship:c.sponsor_relationship!=null?b("enumUtils").enumValueToKeyEnforcing(c.sponsor_relationship,b("BrandedContentSponsorRelationship")):null}));return babelHelpers["extends"]({},a,{tagging_data:c})};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler5=function(){return{action_type_id:this.postData.action_type_id,branded_content_data:this.$GraphQLVideoPublisherVideoUploaderInputDataHandler19(),composertags_place_name:this.postData.composertags_place_name,composertags_place:this.postData.composertags_place,composertags_product_items:this.postData.composertags_product_items,composertags_sponsor:this.postData.composertags_sponsor,composertags_with:this.postData.composertags_with,content_tags:this.postData.content_tags,cta_type:this.postData.cta_type!=null?b("enumUtils").enumValueToKeyEnforcing(this.postData.cta_type,b("CallToActionTypes")):null,deal_id:this.postData.deal_id,direct_share_status:this.postData.direct_share_status!=null?b("enumUtils").enumValueToKeyEnforcing(this.postData.direct_share_status,b("BrandedContentSharedToSponsorStatus")):null,episode_data_json:this.postData.episode_data_json,external_movie_data:this.postData.external_movie_data,feed_targeted_data:this.$GraphQLVideoPublisherVideoUploaderInputDataHandler20(),fan_funding_promotion_metadata:this.postData.fan_funding_promotion_metadata,free_form_tags:this.postData.free_form_tags,funded_content_program:this.postData.funded_content_program?b("enumUtils").enumValueToKeyEnforcing(this.postData.funded_content_program,b("VideoFundedContentFlagProgram")):null,fundraiser_for_story_charity_id:this.postData.fundraiser_for_story_charity_id,fundraiser_for_story_charity_type:this.postData.fundraiser_for_story_charity_type,game_id:this.postData.game_id,icon_id:this.postData.icon_id,is_explicitly_tagged_as_gaming_video:this.postData.is_explicitly_tagged_as_gaming_video,is_stars_enabled_for_post:this.postData.is_stars_enabled_for_post,multilingual_specified_lang:this.postData.multilingual_specified_lang,multilingual_status_langs:this.postData.multilingual_status_langs,multilingual_statuses:this.postData.multilingual_statuses,object_id:this.postData.object_id,object_str:this.postData.object_str,playlistIDs:this.postData.playlistIDs,share_to_parent_page_option_selected:this.postData.share_to_parent_page_option_selected,sponsor_relationship:this.postData.sponsor_relationship?b("enumUtils").enumValueToKeyEnforcing(this.postData.sponsor_relationship,b("BrandedContentSponsorRelationship")):null,targeted_privacy_data:JSON.stringify(this.postData.targeted_privacy_data)}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler20=function(){var a=babelHelpers["extends"]({},this.postData.feed_targeted_data);this.postData.relevant_until_date!=null&&(a["relevant-until-date"]=this.postData.relevant_until_date);this.postData.relevant_until_time!=null&&(a["relevant-until-time"]=this.postData.relevant_until_time);Object.keys(a).length===0&&(a=void 0);return JSON.stringify(a)};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler6=function(){return{commentating_permission:this.postData.commentating_permission!=null?b("enumUtils").enumValueToKeyEnforcing(this.postData.commentating_permission,b("VideoCommentatingPermission")):null,crossposting_config:this.postData.crossposting_config,disturbing:this.postData.disturbing,embeddable:this.postData.embeddable,enable_drm:this.postData.enable_drm,exclude_from_watch:this.postData.exclude_from_watch,mature_content_rating:this.postData.mature_content_rating!=null?b("enumUtils").enumValueToKeyEnforcing(this.postData.mature_content_rating,b("VideoAssetMatureContentRating")):null,no_story:this.postData.no_story,secret:this.postData.secret,shows_v2_episode_data:this.postData.shows_v2_episode_data,social_actions:this.postData.social_actions}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler7=function(){return{is_receiving_stars_enabled:this.postData.is_receiving_stars_enabled,stars_goal_id:this.postData.stars_goal_id,stars_cue_trigger_timestamp:this.postData.stars_cue_trigger_timestamp}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler12=function(){return{custom_labels:this.postData.custom_labels,external_video_id:this.postData.external_video_id}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler10=function(){return{questions:this.postData.questions}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler11=function(){return{polls:this.postData.polls}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler21=function(a){return a.getIsDefault()?"captions_default":"captions_file"};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler13=function(){var a,b=this;a=(a=this.postData.captions)==null?void 0:a.map(function(a,c){return b.$GraphQLVideoPublisherVideoUploaderInputDataHandler21(a)+c});return{autopublish_captions:this.postData.autopublish_captions,captions:a,should_review_all_captions:this.postData.should_review_all_captions,spoken_locale:this.postData.spoken_locale}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler16=function(){var a,b=this,c={};(a=this.postData.captions)==null?void 0:a.forEach(function(a,d){c[b.$GraphQLVideoPublisherVideoUploaderInputDataHandler21(a)+d]=a.getFile()});return c};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler8=function(){return{is_vu_experiment_eligible:this.postData.is_vu_experiment_eligible}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler9=function(){return{aspect_ratios:this.postData.aspect_ratios,auto_reframe_publish_mode:this.postData.auto_reframe_publish_mode}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler14=function(){return{initialHeading:this.postData.initialHeading,initialPitch:this.postData.initialPitch,fov:this.postData.fov,guide_enabled:this.postData.guide_enabled,guide_keyframes:this.postData.guide_keyframes,enable_omnistab:this.postData.enable_omnistab,spherical:this.postData.spherical,projection:this.postData.projection!=null?b("enumUtils").enumValueToKeyEnforcing(this.postData.projection,b("VideoProjection")):null,stereoMode:this.postData.stereoMode!=null?b("enumUtils").enumValueToKeyEnforcing(this.postData.stereoMode,b("VideoStereoFormat")):null}};d.$GraphQLVideoPublisherVideoUploaderInputDataHandler15=function(){return{premiere_time_ms:this.postData.premiere_time_ms,should_premiere:this.postData.should_premiere,premiere_in_living_room_video_ids:this.postData.premiere_in_living_room_video_ids,premiere_custom_profile_image_focus:this.postData.premiere_custom_profile_image_focus,feed_background_focus:this.postData.feed_background_focus,premiere_audience:this.postData.premiere_audience}};return c}(b("GraphQLVideoPublisherInputDataHandlerBase").GraphQLVideoPublisherInputDataHandlerBase);e.exports=a}),null);
__d("VideoComposerVideoPublishingMutation",["RelayAPIConfig","RelayModern","RelayRuntime","gkx","VideoComposerVideoPublishingMutation.graphql"],(function(a,b,c,d,e,f){"use strict";f.commit=a;var g,h=b("RelayRuntime").commitMutation,i=1e3*60,j=g!==void 0?g:g=b("VideoComposerVideoPublishingMutation.graphql");function a(a,c,d,e,f){if(b("gkx")("1841018")){var g=b("RelayAPIConfig").fetchTimeout;b("RelayAPIConfig").fetchTimeout=i;return h(c,{uploadables:d,mutation:j,variables:{input:a},onCompleted:function(a){b("RelayAPIConfig").fetchTimeout=g,e(a)},onError:function(a){b("RelayAPIConfig").fetchTimeout=g,f(a)}})}return h(c,{uploadables:d,mutation:j,variables:{input:a},onCompleted:e,onError:f})}}),null);
__d("VideoComposerVideoPublisher",["RelayFBEnvironmentFactory","VideoComposerVideoPublishingMutation","err"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a.mapPostDataToGraphQLInputObject(),this.$3=a.hasAPISupport(),this.$2=a.uploadables()}var c=a.prototype;c.publish=function(a,c){if(!this.$3)throw b("err")("This api does not support your publishing use case");b("VideoComposerVideoPublishingMutation").commit(this.$1,b("RelayFBEnvironmentFactory").getForActorID(this.$1.basic_data.target_id),this.$2,a,c)};return a}();e.exports=a}),null);
__d("VideoUploadGraphQLPostRequestManager",["FBLogger","GraphQLVideoPublisherInputDataHandlerBase","GraphQLVideoPublisherVideoUploaderInputDataHandler","VideoComposerVideoPublisher","clearTimeout","err","gkx","mixin","requireCond","setTimeout","cr:909282"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c,d,e){var f;f=a.call(this)||this;f.$VideoUploadGraphQLPostRequestManager1=0;f.$VideoUploadGraphQLPostRequestManager2=0;f.$VideoUploadGraphQLPostRequestManager3=0;f.$VideoUploadGraphQLPostRequestManager4=0;f.$VideoUploadGraphQLPostRequestManager5=0;f.$VideoUploadGraphQLPostRequestManager6=0;f.$VideoUploadGraphQLPostRequestManager7=null;f.$VideoUploadGraphQLPostRequestManager8=null;f.$VideoUploadGraphQLPostRequestManager9=!1;f.$VideoUploadGraphQLPostRequestManager1=b;f.$VideoUploadGraphQLPostRequestManager2=c;f.$VideoUploadGraphQLPostRequestManager3=0;f.$VideoUploadGraphQLPostRequestManager4=d;f.$VideoUploadGraphQLPostRequestManager5=e;f.$VideoUploadGraphQLPostRequestManager6=0;return f}var d=c.prototype;d.sendRequest=function(a){this.$VideoUploadGraphQLPostRequestManager8=a;if(this.$VideoUploadGraphQLPostRequestManager9){b("gkx")("1838765")&&b("FBLogger")("video_publish_graphql").info("Sending publishing request again while processing another request");return}this.$VideoUploadGraphQLPostRequestManager10();this.inform("request-started")};d.clearRequest=function(){this.$VideoUploadGraphQLPostRequestManager9=!1,this.$VideoUploadGraphQLPostRequestManager6=0,this.$VideoUploadGraphQLPostRequestManager3=0};d.$VideoUploadGraphQLPostRequestManager10=function(){var a=this.$VideoUploadGraphQLPostRequestManager8;if(a==null)return;b("clearTimeout")(this.$VideoUploadGraphQLPostRequestManager7);this.$VideoUploadGraphQLPostRequestManager7=null;var c=a.getMetadata();a=this.__createRequestData(a);c=new(b("GraphQLVideoPublisherVideoUploaderInputDataHandler"))(c,a);this.$VideoUploadGraphQLPostRequestManager9=!0;a=new(b("VideoComposerVideoPublisher"))(c);a.publish(this.$VideoUploadGraphQLPostRequestManager11.bind(this),this.$VideoUploadGraphQLPostRequestManager12.bind(this))};d.__createRequestData=function(a){var c=a.getVideoID(),d=a.getTargetID();if(c==null)throw b("err")("Video id cannot be null");if(d==null)throw b("err")("Target id cannot be null");return{video_id:c,target_id:d,source:"COMPOSER",waterfall_id:a.getWaterfallID()||"",creator_product:a.getCreatorProduct(),composer_entry_point_ref:a.getComposerEntryPointRef&&a.getComposerEntryPointRef(),composer_dialog_version:a.getComposerDialogVersion(),has_file_been_replaced:a.getHasFileBeenReplaced(),supports_chunking:a.getSupportsChunking()}};d.$VideoUploadGraphQLPostRequestManager11=function(a){this.inform("request-finished",{video_asset_id:(a=a.video_publish)==null?void 0:a.video_asset_id});this.clearRequest()};d.$VideoUploadGraphQLPostRequestManager13=function(a){this.inform("request-failed",{error_code:a.number,error_description:a.message,error_summary:a.name,error_object:a}),this.clearRequest()};d.$VideoUploadGraphQLPostRequestManager12=function(a){var c=b("gkx")("1835901");c&&this.$VideoUploadGraphQLPostRequestManager14(a)&&this.$VideoUploadGraphQLPostRequestManager6<this.$VideoUploadGraphQLPostRequestManager4?(b("gkx")("1838765")&&b("FBLogger")("video_publish_graphql").info("retry publishing for error: %s",a.stack),this.$VideoUploadGraphQLPostRequestManager6++,this.$VideoUploadGraphQLPostRequestManager15(this.$VideoUploadGraphQLPostRequestManager16(this.$VideoUploadGraphQLPostRequestManager5,this.$VideoUploadGraphQLPostRequestManager6))):this.$VideoUploadGraphQLPostRequestManager13(a)};d.$VideoUploadGraphQLPostRequestManager16=function(a,b){return Math.pow(a,b)*1e3};d.$VideoUploadGraphQLPostRequestManager15=function(a){b("clearTimeout")(this.$VideoUploadGraphQLPostRequestManager7),this.$VideoUploadGraphQLPostRequestManager7=b("setTimeout")(this.$VideoUploadGraphQLPostRequestManager10.bind(this),a)};d.$VideoUploadGraphQLPostRequestManager14=function(a){a=a.toString();return a.includes("NetworkTransportError")||a.includes("NetworkTimeoutError")||a.includes("NetworkRequestError")?!0:!1};d.hasAPISupport=function(a){return b("GraphQLVideoPublisherInputDataHandlerBase").hasAPISupport(a)};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("ISOVideoBoxConstants",[],(function(a,b,c,d,e,f){"use strict";a=8;f.BOX_BASE_SIZE=a;b=[255,204,130,99,248,85,74,147,136,20,88,122,2,82,31,221];f.GSPHERICAL_UUID=b;c=[174,36,178,77,60,143,79,24,138,123,224,9,193,56,53,193];f.FBSPHERICAL_UUID=c}),null);
__d("FBSphericalMetadataTags",[],(function(a,b,c,d,e,f){a=Object.freeze({SPHERICAL:"FBSpherical:Spherical",INITIAL_VERTICAL_FOV_DEGREES:"FBSpherical:InitialVerticalFOVDegrees",GUIDE:"FBSpherical:Guide",HOTSPOT:"FBSpherical:HotspotMetadata",USED_360_DIRECTOR:"FBSpherical:Used360Director"});e.exports=a}),null);
__d("GSphericalMetadataTags",[],(function(a,b,c,d,e,f){a=Object.freeze({SPHERICAL:"GSpherical:Spherical",INITIAL_VIEW_HEADING_DEGREES:"GSpherical:InitialViewHeadingDegrees",INITIAL_VIEW_PITCH_DEGREES:"GSpherical:InitialViewPitchDegrees",PROJECTION_TYPE:"GSpherical:ProjectionType",STEREO_MODE:"GSpherical:StereoMode",STITCHED:"GSpherical:Stitched",STITCHING_SOFTWARE:"GSpherical:StitchingSoftware",CROPPED_AREA_IMAGE_WIDTH_PIXELS:"GSphercal:CroppedAreaImageWidthPixels",CROPPED_AREA_IMAGE_HEIGHT_PIXELS:"GSphercal:CroppedAreaImageHeightPixels",CROPPED_AREA_LEFT_PIXELS:"GSphercal:CroppedAreaLeftPixels",CROPPED_AREA_TOP_PIXELS:"GSphercal:CroppedAreaTopPixels",FULL_PANO_WIDTH_PIXELS:"GSphercal:FullPanoWidthPixels",FULL_PANO_HEIGHT_PIXELS:"GSphercal:FullPanoHeightPixels"});e.exports=a}),null);
__d("SphericalVideoMetadataTags",["FBSphericalMetadataTags","GSphericalMetadataTags"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({GSPHERICAL:b("GSphericalMetadataTags"),FBSPHERICAL:b("FBSphericalMetadataTags")});e.exports=a}),null);
__d("VideoSphericalMetadataUtil",["SphericalVideoMetadataTags","VideoProjection","VideoStereoFormat"],(function(a,b,c,d,e,f){"use strict";f.parseXMLToDocument=a;f.stringToProjectionType=c;f.stringToStereoMode=d;f.getUnsupportedGSphericalTagsXML=e;f.isGoogleVR180=g;f.arrayBufferToFile=h;f.stringToArrayBuffer=i;f.bufferToFile=j;f.uuidArrayEquals=k;function a(a){if(!a)return null;a=a.replace(/\0/g,"");if(window.DOMParser){var b=new DOMParser();b=b.parseFromString(a,"text/xml")}else b=new window.ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a);return b}function c(a){if(Object.values(b("VideoProjection")).includes(a))return a;else return null}function d(a){if(Object.values(b("VideoStereoFormat")).includes(a))return a;else return null}function e(a){a=a.getElementsByTagNameNS("*","*");var c=null;for(var d=0;d<a.length;d++){var e=a[d],f=e.nodeName,g=e.parentElement;if(f!=="parsererror"&&g&&g.nodeName!=="parsererror"&&Object.values(b("SphericalVideoMetadataTags").GSPHERICAL).indexOf(f)<0&&Object.values(b("SphericalVideoMetadataTags").GSPHERICAL).indexOf(g.nodeName)<0){c||(c="");g=e.outerHTML;c+="<"+f+g.slice(f.length+1,-(f.length+1))+f+">"}}return c}function g(a,b,c,d,e){if(null!==b&&null!==c&&null!==d&&null!==e&&a.projectionType==="equirectangular"&&(a.stereoMode==="left-right"||a.stereoMode==="top-bottom")){a=parseInt(b,10);b=parseInt(c,10);c=parseInt(d,10);d=parseInt(e,10);if(Math.abs(a-c/2)<=1&&Math.abs(b-d)<=1)return!0}return!1}function h(a,b,c){return new File([a],b,{type:c})}function i(a){var b=new ArrayBuffer(a.length),c=new DataView(b);for(var d=0;d<a.length;d++)c.setUint8(d,a.charCodeAt(d));return b}function j(a,b,c){a=a.buffer;return this.arrayBufferToFile(a,b,c)}function k(a,b){if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}}),null);
__d("VideoUploadMetadataParserErrorCode",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["FILE_READING_NOT_SUPPORTED","UNKNOWN_FILE_EXTENSION","INTERNAL_FAILURE"]);c=a;e.exports=c}),null);
__d("VideoUploadSphericalLogger",["Banzai"],(function(a,b,c,d,e,f){var g=3e3;a=function(){function a(){this.$1={},this.$2=!1,this.$3=0}var c=a.prototype;c.log=function(){this.$2?this.$4():this.$5()};c.$5=function(){b("Banzai").post("spherical_video_composer_upload",babelHelpers["extends"]({},this.$1))};c.$4=function(){var a=Date.now();a-this.$3>g&&(this.$3=a,this.$5())};c.setDirectorsCutEnabled=function(a){this.$1.directors_cut_enabled=a;return this};c.setFieldOfView=function(a){this.$1.field_of_view=a;return this};c.setFileExtension=function(a){this.$1.file_extension=a;return this};c.setHasSphericalMetadata=function(a){this.$1.has_spherical_metadata=a;return this};c.setPitchDegrees=function(a){this.$1.pitch_degrees=a;return this};c.setTargetID=function(a){this.$1.target_id=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setUserAction=function(a){this.$1.user_action=a;a==="drag_video_preview"||a==="scroll_video_preview"?this.$2=!0:this.$2=!1;return this};c.setVideoPreviewPosition=function(a){this.$1.video_preview_position=a;return this};c.setYawDegrees=function(a){this.$1.yaw_degrees=a;return this};c.setIsRedesign=function(a){this.$1.is_redesign=a;return this};c.setFinalGuideEnabled=function(a){this.$1.final_guide_enabled=a;return this};c.setFinalNumGuidePoints=function(a){this.$1.final_num_guide_points=a;return this};c.setIsNuxTest=function(a){this.$1.is_nux_test=a;return this};return a}();c=new a();e.exports=c}),null);
__d("checkForSphericalTag",["VideoSphericalMetadataUtil"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){a=b("VideoSphericalMetadataUtil").parseXMLToDocument(a);if(!a)return!1;a=a.getElementsByTagNameNS("*","Spherical");if(a.length===0)return!1;a=a[0];a=a.childNodes[0].nodeValue;return a.toLowerCase()==="true"}}),null);
__d("getVideo64BitAtomLength",["Int64"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d,e){var f=a.getUint32(c+e+d);a=a.getUint32(c+d+e+e);return new(b("Int64"))(a,f).toNumber()}}),null);
__d("VideoUploadMetadataParser",["regeneratorRuntime","Promise","Bootloader","ErrorNormalizeUtils","ISOVideoBoxConstants","VideoSphericalMetadataUtil","VideoUploadFeatureDetector","VideoUploadMetadataParserErrorCode","VideoUploadSphericalLogger","checkForSphericalTag","fileSlice","getErrorSafe","getVideo64BitAtomLength","gkx","nullthrows","promiseDone"],(function(a,b,c,d,e,f){var g=4,h=4,i=5242880,j=24,k=88,l=20,m=16,n=4,o=84,p=20,q=62,r=4,s=12,t=12,u=16,v=16,w={0:36,1:52,2:72},x=1,y=1,z=4,A=1,B=1,C=4,D=4,E=1e3,F=16,G=32,H=34;c=function(){function c(a,b,c,d){this.$1=a,this.$2=b==null?function(){}:b,this.$4=c,this.$5=!0,this.$3=d}var d=c.prototype;d.getHandler=function(){return this.$2};d.$6=function(a){this.$2(a),this.$3!=null&&this.$3({success:!0,metadata:a})};d.$7=function(a,c){this.$2(null);if(this.$3!=null){c=c==null?void 0:b("ErrorNormalizeUtils").normalizeError(b("getErrorSafe")(c));this.$3({success:!1,errorCode:a,errorObject:c})}};d.parse=function(){if(!b("VideoUploadFeatureDetector").supportsFileReading()){this.$7(b("VideoUploadMetadataParserErrorCode").FILE_READING_NOT_SUPPORTED);return null}switch(this.$1.getExtension()){case"mp4":case"mov":case"m4v":case"3gp":case"3g2":b("VideoUploadSphericalLogger").setFileExtension(this.$1.getExtension());break;case"mkv":if(b("gkx")("816873")){b("VideoUploadSphericalLogger").setFileExtension(this.$1.getExtension());break}default:this.$7(b("VideoUploadMetadataParserErrorCode").UNKNOWN_FILE_EXTENSION);return null}return this.$8()};d.$8=function(){var a=this,c,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:c=this.$9();d=this.$10();return e.abrupt("return",new(b("Promise"))(function(e,f){try{b("promiseDone")(b("Promise").all([c,d]).then(function(b){var c=b[0];if(c.completed){b=b[1];c.videoPlayerData=b;a.$6(c)}e(c)},function(c){a.$7(b("VideoUploadMetadataParserErrorCode").INTERNAL_FAILURE,c),f(c)}))}catch(c){a.$7(b("VideoUploadMetadataParserErrorCode").INTERNAL_FAILURE,c),f(c)}}));case 3:case"end":return e.stop()}},null,this)};d.$9=function(){var a=this,c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.t0=this.$1.getExtension();d.next=d.t0==="mp4"?3:d.t0==="mov"?3:d.t0==="m4v"?3:d.t0==="3gp"?3:d.t0==="3g2"?3:d.t0==="mkv"?5:8;break;case 3:c=this.$11(0,Math.min(i,this.$1.getSize()||0),null);return d.abrupt("break",9);case 5:d.next=7;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(d,e){b("Bootloader").loadModules(["VideoUploadMetadataMKVParser"],function(a){a=new a(this.$1);c=a.parse();d()}.bind(a),"VideoUploadMetadataParser")}));case 7:return d.abrupt("break",9);case 8:throw new Error("Unrecognized file extension in _parseImpl");case 9:return d.abrupt("return",b("nullthrows")(c));case 10:case"end":return d.stop()}},null,this)};d.$11=function(a,c,d){var e=this,f=new FileReader(),g=new(b("Promise"))(function(g,h){f.onload=function(j){var k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:m.prev=0;if(f.result instanceof ArrayBuffer){m.next=3;break}throw new Error("reader.result is something other than ArrayBuffer");case 3:k=e.$12(new DataView(f.result),0,c-a,a,d);if(!k.completed){m.next=10;break}j=e.$13(k);j.completed=!0;g(j);m.next=14;break;case 10:m.next=12;return b("regeneratorRuntime").awrap(e.$11(a+k.nextOffset,Math.min(e.$1.getSize()||0,a+k.nextOffset+i),k));case 12:l=m.sent,g(l);case 14:m.next=19;break;case 16:m.prev=16,m.t0=m["catch"](0),h(m.t0);case 19:case"end":return m.stop()}},null,this,[[0,16]])};var j=e.$1.getFile();f.readAsArrayBuffer(b("fileSlice").call(j,a,c))});return g};d.$10=function(){if(!this.$4||!a.URL||!a.URL.createObjectURL)return null;var c=this.$1.getFile(),d=document.createElement("video"),e=new(b("Promise"))(function(a,b){var c=window.setTimeout(function(){window.clearTimeout(c),b("Video onloadedmetadata timed out")},E)}),f=new(b("Promise"))(function(b,e){d.onloadedmetadata=function(){try{var a={width:d.videoWidth,height:d.videoHeight};b(a)}catch(a){e(a)}};try{d.src=a.URL.createObjectURL(c)}catch(a){e(a)}});return b("Promise").race([f,e])};d.$14=function(a,b,c){var d=[];for(var e=0;e<c;e++)d.push(String.fromCharCode(a.getUint8(b+e)));return d.join("")};d.$15=function(a,b,c){var d={version:null,ambisonic_type:null,ambisonic_order:null,ambisonic_channel_ordering:null,ambisonic_normalization:null,num_channels:null,channel_map:[]},e=0;d.version=a.getUint8(b+e);e=x;d.ambisonic_type=a.getUint8(b+e);e+=y;d.ambisonic_order=a.getUint32(b+e);e+=z;d.ambisonic_channel_ordering=a.getUint8(b+e);e+=A;d.ambisonic_normalization=a.getUint8(b+e);e+=B;d.num_channels=a.getUint32(b+e);e+=C;for(var f=0;f<d.num_channels;f++){d.channel_map.push(a.getUint32(b+e));e+=D;if(e>c)return null}return JSON.stringify(d)};d.$16=function(a,c,d,e){try{var f=h+g,i=b("ISOVideoBoxConstants").GSPHERICAL_UUID.length;if(f+i<d){var j=[];for(var k=0;k<i;k++)j.push(a.getUint8(c+f+k));k=b("VideoSphericalMetadataUtil").uuidArrayEquals(j,b("ISOVideoBoxConstants").GSPHERICAL_UUID);j=b("VideoSphericalMetadataUtil").uuidArrayEquals(j,b("ISOVideoBoxConstants").FBSPHERICAL_UUID);f+=i;if(k||j){i=this.$14(a,c+f,d-f);b("checkForSphericalTag")(i)&&(e.sphericalMetadata.spherical=!0,j?e.sphericalMetadata.FBSphericalMetadataXML=i:e.sphericalMetadata.sphericalMetadataXml=i)}}}catch(a){}};d.$12=function(a,c,d,e,f){f=f||{widths:[],heights:[],streamTypes:[],streamDurations:[],spherical:!1,sphericalMetadata:{sphericalMetadataXml:null,FBSphericalMetadataXML:null,fbSpatialAudioMetadataXml:null,ytSa3dMetadataJson:null},isParsingInMediaInformationAtom:!1,endOfMediaInformationAtomOffset:null,streamSampleCounts:[],samples:[]};var i=null;while(c<d){var x=a.getUint32(c),y=this.$14(a,c+g,h);x===1&&(x=b("getVideo64BitAtomLength")(a,c,h,g));if(c+x>d){f.completed=!1;f.nextOffset=c;x>d&&(f.nextOffset+=x);return f}f.isParsingInMediaInformationAtom&&c>=Number(f.endOfMediaInformationAtomOffset)&&(f.isParsingInMediaInformationAtom=!1,f.endOfMediaInformationAtomOffset=null);if(c+e===0&&y!=="ftyp")throw new Error("No ftyp atom");if(x===0)throw new Error("len is 0");var z=function(){var b=a.getUint32(c+l),d=a.getUint32(c+j);return d/b};switch(y){case"moov":case"trak":case"mdia":case"stbl":c+=g+h;break;case"mvhd":f.duration=z();c+=x;break;case"tkhd":y=a.getUint16(c+o);var A=a.getUint16(c+k);f.widths.push(y);f.heights.push(A);f.samples.push({descriptions:[]});i=a.getUint32(c+p);c+=x;break;case"hdlr":if(!f.isParsingInMediaInformationAtom){y=this.$14(a,c+m,n);switch(y){case"vide":y="video";break;case"soun":y="audio";break;case"subt":y="subtitle";break;default:y="data"}f.streamTypes.push(y)}c+=x;break;case"mdhd":f.streamDurations.push(z());c+=x;break;case"uuid":this.$16(a,c,x,f);c+=x;break;case"meta":A=t+s+r;y=this.$14(a,c+A,4);if(y!=="face"){c+=x;break}z=g+h+q;A=this.$14(a,c+z,x-z);A!==null&&((f.sphericalMetadata.fbSpatialAudioMetadataXml===null||f.sphericalMetadata.fbSpatialAudioMetadataXml===void 0)&&(f.sphericalMetadata.fbSpatialAudioMetadataXml="<fb360_spatial_audio>"),i?f.sphericalMetadata.fbSpatialAudioMetadataXml+='\n                <track id="'+i.toString()+'">\n                  '+A+"\n                </track>\n              ":f.sphericalMetadata.fbSpatialAudioMetadataXml+="\n                <spatial_audio_formatting>\n                  "+A+"\n                </spatial_audio_formatting>\n              ");c+=x;break;case"minf":y=this.$14(a,c+2*g+h,h);y==="smhd"||y==="vmhd"?(c+=g+h,f.isParsingInMediaInformationAtom=!0,f.endOfMediaInformationAtomOffset=c+x):(f.streamSampleCounts.push(null),c+=x);break;case"stsd":c+=u;break;case"avc1":if(this.$5&&f.samples.length>0){z=f.samples[f.samples.length-1];z.descriptions.push({width:a.getUint16(c+G),height:a.getUint16(c+H)})}c+=x;break;case"mp4a":case"sowt":case"raw ":case"twos":case"fl32":case"fl64":case"in24":case"in32":case"ulaw":case"alaw":case"lpcm":case"Opus":A=a.getUint16(c+v).toString();Object.prototype.hasOwnProperty.call(w,A)?c+=w[A]:c+=x;break;case"SA3D":y=this.$15(a,c+g+h,x);y!==null&&(f.sphericalMetadata.ytSa3dMetadataJson===null&&(f.sphericalMetadata.ytSa3dMetadataJson=y));c+=x;break;case"stsz":case"stz2":f.streamSampleCounts.push(a.getUint32(c+F));c+=x;break;default:c+=x}}f.completed=!0;f.sphericalMetadata.fbSpatialAudioMetadataXml&&(f.sphericalMetadata.fbSpatialAudioMetadataXml+="</fb360_spatial_audio>");return f};d.$13=function(a){var c={streams:{numAudioTracks:0},format:{},metadata:{}},d=a.widths.length,e=a.heights.length,f=a.streamTypes.length,g=a.streamDurations.length,h=a.streamSampleCounts.length,i=a.samples.length;if(d!==e||d!==f||d!==g||d!==h||d!==i)throw new Error("Number of parsed widths, heights, durations or sample counts for video file are mismatched.");for(var e=0;e<d;e++){var j={width:a.widths[e],height:a.heights[e],duration:a.streamDurations[e],type:a.streamTypes[e],sampleCount:a.streamSampleCounts[e]};if(j.type==="video"){this.$5&&a.samples[e].descriptions.forEach(function(a){a.width>j.width&&a.height>j.height&&(j.width=a.width,j.height=a.height)});f=j.width*j.height;g=c.streams.primaryVideo;(!g||g.width*g.height>f)&&(c.streams.primaryVideo=j)}else if(j.type==="audio"){h=c.streams.primaryAudio;(!h||h.duration<j.duration)&&(c.streams.primaryAudio=j);c.streams.numAudioTracks++}}c.format.duration=a.duration;c.format.isSpherical=a.sphericalMetadata.spherical;a.sphericalMetadata.spherical&&(c.metadata.sphericalMetadataXml=a.sphericalMetadata.sphericalMetadataXml,c.metadata.FBSphericalMetadataXML=a.sphericalMetadata.FBSphericalMetadataXML,c.metadata.fbSpatialAudioMetadataXml=a.sphericalMetadata.fbSpatialAudioMetadataXml,c.metadata.ytSa3dMetadataJson=a.sphericalMetadata.ytSa3dMetadataJson);b("VideoUploadSphericalLogger").setHasSphericalMetadata(a.sphericalMetadata.spherical);return c};return c}();e.exports=c}),null);
__d("submitForm",["DOM"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=a.querySelector('input[type="submit"]');c!=null?c.click():(c=b("DOM").create("input",{type:"submit",className:"hidden_elem"}),b("DOM").appendContent(a,c),c.click(),b("DOM").remove(c))}}),null);
__d("VideoUploadRequest",["AsyncRequest","DOM","DTSG","FileForm","Form","VideoUploadFeatureDetector","emptyFunction","flattenPHPQueryData","submitForm"],(function(a,b,c,d,e,f){var g="video";a=function(){"use strict";function a(a){this.$1=a;this.$2=null;this.$3=!1;this.$4=null;this.$5=null;this.$6=null;this.$7=null;this.$8=a=b("emptyFunction");this.$9=a;this.$10=a;this.$11=a;this.$12=null}var c=a.prototype;c.setAllowCrossOrigin=function(a){this.$3=a;return this};c.setData=function(a){this.$4=a;return this};c.setWaterfallID=function(a){this.$6=a;return this};c.setSuccessHandler=function(a){this.$8=a;return this};c.setErrorHandler=function(a){this.$9=a;return this};c.setTransportErrorHandler=function(a){this.$10=a;return this};c.setUploadProgressHandler=function(a){this.$11=a;return this};c.setTimeoutHandler=function(a,b){this.$7=a;this.$12=b;return this};c.setThumbnail=function(a){this.$13=a;return this};c.setCustomProfileImage=function(a){this.$14=a;return this};c.setCustomBackgroundImage=function(a){this.$15=a;return this};c.setFeedBackgroundImage=function(a){this.$16=a;return this};c.setHandle=function(a){this.$5=a;return this};c.setCaptions=function(a){this.$17=a;return this};c.setPollOptionImages=function(a){this.$18=a;return this};c.send=function(){if(this.$2)throw new Error("An upload request is already in progress.");if(b("VideoUploadFeatureDetector").supportsXHR()){this.$2=this.$19();if(this.$13||this.$17||this.$14||this.$15||this.$16||this.$18){var a=new FormData();this.$13&&a.append("thumb",this.$13);this.$14&&a.append("schedule_custom_profile_image",this.$14);this.$15&&a.append("schedule_custom_background_image",this.$15);this.$16&&a.append("schedule_feed_background_image",this.$16);this.$17&&this.$17.forEach(function(b,c){c=b.getIsDefault()?"captions_default":"captions_file"+c;a.append(c,b.getFile())});if(this.$18){var c=this.$18;Object.keys(c).forEach(function(b){a.append(b,c[b])})}if(this.$4){var d=b("flattenPHPQueryData")(this.$4);Object.keys(d).forEach(function(b){a.append(b,d[b])})}this.$2.setRawData(a)}this.$2.send()}else this.$2=this.$20(),this.$21(this.$2)};c.sendChunk=function(a){if(this.$2)throw new Error("An upload request is already in progress.");var b=new FormData();this.$5?b.append("fbuploader_video_file_chunk",this.$5):b.append("video_file_chunk",a);this.$2=this.$19();this.$2.setRawData(b);this.$2.send()};c.sendFile=function(a){if(this.$2)throw new Error("An upload request is already in progress.");this.$2=this.$20();var c=a.cloneNode(!1);a.name=g;b("DOM").replace(a,c);b("DOM").appendContent(this.$2.getRoot(),a);this.$21(this.$2);a.name=c.name;b("DOM").replace(c,a)};c.abort=function(){if(!this.$2)return;this.$2.abort();this.$2=null};c.$19=function(){var a=this.__getAsyncRequest().setAllowCrossOrigin(this.$3).setURI(this.$1).setData(this.$4).setRequestHeader("X_FB_VIDEO_WATERFALL_ID",this.$6).setHandler(this.$8).setErrorHandler(this.$9).setTransportErrorHandler(this.$10).setUploadProgressHandler(this.$11);this.$12&&a.setTimeoutHandler(this.$7,this.$12);return a};c.__getAsyncRequest=function(){return new(b("AsyncRequest"))()};c.$20=function(){var a=b("DOM").create("form",{action:this.$1,method:"POST"});b("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:b("DTSG").getToken()},this.$4),a);a=new(b("FileForm"))(a,null,{allowCrossOrigin:this.$3});a.subscribe("success",this.$22.bind(this));a.subscribe("failure",this.$23.bind(this));a.subscribe("progress",this.$24.bind(this));return a};c.$21=function(a){b("DOM").appendContent(document.body,a.getRoot()),b("submitForm")(a.getRoot())};c.$22=function(a,b){this.$8(b.response)};c.$23=function(a,b){this.$9(b.response)};c.$24=function(a,b){this.$11(b.event)};return a}();e.exports=a}),null);
__d("VideoUploadPostRequestManager",["VideoUploadLogger","VideoUploadRequest","clearTimeout","mixin","requireCond","setTimeout","cr:909282"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f){var g;g=a.call(this)||this;g.$VideoUploadPostRequestManager2=b;g.$VideoUploadPostRequestManager3=c;g.$VideoUploadPostRequestManager4=d;g.$VideoUploadPostRequestManager5=0;g.$VideoUploadPostRequestManager6=e;g.$VideoUploadPostRequestManager7=f;g.$VideoUploadPostRequestManager8=0;return g}var d=c.prototype;d.$VideoUploadPostRequestManager9=function(){return this.$VideoUploadPostRequestManager1?new(b("VideoUploadLogger"))({source:this.$VideoUploadPostRequestManager1.getSource(),waterfall_id:this.$VideoUploadPostRequestManager1.getWaterfallID(),target_id:this.$VideoUploadPostRequestManager1.getTargetID(),composer_entry_point_ref:this.$VideoUploadPostRequestManager1.getComposerEntryPointRef&&this.$VideoUploadPostRequestManager1.getComposerEntryPointRef()}):null};d.getRequest=function(){return this.$VideoUploadPostRequestManager10};d.sendRequest=function(a){this.$VideoUploadPostRequestManager1=a;if(this.$VideoUploadPostRequestManager10){var c=this.$VideoUploadPostRequestManager9();c&&c.logEvent(b("VideoUploadLogger").EVENT_DUPLICATE_POST_REQUEST);return}this.$VideoUploadPostRequestManager11=babelHelpers["extends"]({},a.getMetadata(),this.__createRequestData(a));this.$VideoUploadPostRequestManager12=this.$VideoUploadPostRequestManager11.thumb;this.$VideoUploadPostRequestManager13=this.$VideoUploadPostRequestManager11.schedule_custom_profile_image;this.$VideoUploadPostRequestManager14=this.$VideoUploadPostRequestManager11.schedule_custom_background_image;this.$VideoUploadPostRequestManager15=this.$VideoUploadPostRequestManager11.schedule_feed_background_image;delete this.$VideoUploadPostRequestManager11.thumb;this.$VideoUploadPostRequestManager16=this.$VideoUploadPostRequestManager11.captions;delete this.$VideoUploadPostRequestManager11.captions;this.$VideoUploadPostRequestManager17=a.getWaterfallID();this.$VideoUploadPostRequestManager18=this.$VideoUploadPostRequestManager11.pollImages;this.$VideoUploadPostRequestManager19();this.inform("request-started")};d.$VideoUploadPostRequestManager19=function(){b("clearTimeout")(this.$VideoUploadPostRequestManager20),this.$VideoUploadPostRequestManager20=null,this.$VideoUploadPostRequestManager10=this.__getVideoUploadRequest(this.$VideoUploadPostRequestManager2).setAllowCrossOrigin(!0).setData(this.$VideoUploadPostRequestManager11).setThumbnail(this.$VideoUploadPostRequestManager12).setCustomProfileImage(this.$VideoUploadPostRequestManager13).setCustomBackgroundImage(this.$VideoUploadPostRequestManager14).setFeedBackgroundImage(this.$VideoUploadPostRequestManager15).setCaptions(this.$VideoUploadPostRequestManager16).setWaterfallID(this.$VideoUploadPostRequestManager17).setPollOptionImages(this.$VideoUploadPostRequestManager18).setSuccessHandler(this.$VideoUploadPostRequestManager21.bind(this)).setErrorHandler(this.$VideoUploadPostRequestManager22.bind(this)).setTransportErrorHandler(this.$VideoUploadPostRequestManager23.bind(this)),this.$VideoUploadPostRequestManager10.send()};d.__createRequestData=function(a){return{video_id:a.getVideoID(),target_id:a.getTargetID(),source:a.getSource(),waterfall_id:a.getWaterfallID(),creator_product:a.getCreatorProduct(),composer_entry_point_ref:a.getComposerEntryPointRef&&a.getComposerEntryPointRef(),composer_dialog_version:a.getComposerDialogVersion(),has_file_been_replaced:a.getHasFileBeenReplaced(),supports_chunking:a.getSupportsChunking()}};d.__getVideoUploadRequest=function(a){return new(b("VideoUploadRequest"))(a)};d.clearRequest=function(){this.$VideoUploadPostRequestManager10=null,this.$VideoUploadPostRequestManager8=0,this.$VideoUploadPostRequestManager5=0};d.isInProgress=function(){return!!this.$VideoUploadPostRequestManager10};d.$VideoUploadPostRequestManager24=function(a){b("clearTimeout")(this.$VideoUploadPostRequestManager20),this.$VideoUploadPostRequestManager20=b("setTimeout")(this.$VideoUploadPostRequestManager19.bind(this),a)};d.$VideoUploadPostRequestManager25=function(a,b){return Math.pow(a,b)*1e3};d.$VideoUploadPostRequestManager21=function(a){a=a.getPayload();this.inform("request-finished",{video_id:a.video_id,video_asset_id:a.video_asset_id,container_type:a.container_type,transport_retries:this.$VideoUploadPostRequestManager5,server_retries:this.$VideoUploadPostRequestManager8,premiere_destination_video_id:a.premiere_destination_video_id});this.clearRequest()};d.$VideoUploadPostRequestManager26=function(a){this.inform("request-failed",{error_code:a.getError(),error_description:a.getErrorDescription(),error_summary:a.getErrorSummary(),transport_retries:this.$VideoUploadPostRequestManager5,server_retries:this.$VideoUploadPostRequestManager8,error_is_silent:a.isSilent(),error_is_transient:a.isTransient(),www_request_id:(a=a.getPayload())==null?void 0:a.__www_request_id__});this.clearRequest()};d.$VideoUploadPostRequestManager22=function(a){this.$VideoUploadPostRequestManager10=null;this.$VideoUploadPostRequestManager5=0;var c=this.$VideoUploadPostRequestManager9();if(c){var d={server_retries:this.$VideoUploadPostRequestManager8,extra_data:{failure_is_transient:a.isTransient()}};c.logEvent(b("VideoUploadLogger").EVENT_HANDLING_SERVER_FAILURE_RESPONSE,d)}a.isTransient()&&this.$VideoUploadPostRequestManager8<this.$VideoUploadPostRequestManager6?(this.$VideoUploadPostRequestManager8++,this.$VideoUploadPostRequestManager24(this.$VideoUploadPostRequestManager25(this.$VideoUploadPostRequestManager7,this.$VideoUploadPostRequestManager8))):this.$VideoUploadPostRequestManager26(a)};d.$VideoUploadPostRequestManager23=function(a){var c=this.$VideoUploadPostRequestManager9();if(c){var d={extra_data:{transport_retries:this.$VideoUploadPostRequestManager5}};c.logEvent(b("VideoUploadLogger").EVENT_HANDLING_TRANSPORT_FAILURE_RESPONSE,d)}this.$VideoUploadPostRequestManager3===0||this.$VideoUploadPostRequestManager5>=this.$VideoUploadPostRequestManager3?this.$VideoUploadPostRequestManager26(a):(this.$VideoUploadPostRequestManager5++,this.$VideoUploadPostRequestManager10=null,this.$VideoUploadPostRequestManager24(this.$VideoUploadPostRequestManager25(this.$VideoUploadPostRequestManager4,this.$VideoUploadPostRequestManager5)))};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("ResumableUploadServiceState.enum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CANCEL:"upload-cancel",FAIL:"upload-fail",FILE_TOO_LARGE:"upload-too-large",NOT_STARTED:"upload-not-started",PROGRESS:"upload-progress",START:"upload-start",SUCCESS:"upload-success",TRANSPORT_FAILURE:"upload-transport-fail"});e.exports=a}),null);
__d("ResumableUploadAsyncService",["regeneratorRuntime","Promise","AsyncRequest","EventEmitter","ResumableUploadServiceState.enum","URI","gkx","uuid"],(function(a,b,c,d,e,f){"use strict";var g,h="rupload",i="facebook.com";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,j,k,l,m,n){var o;o=a.call(this)||this;o.consumer=c;o.accessToken=d;o.sessionKey=e||b("uuid")();o.contentKey=f||"";o.contentValue=g||"";o.serviceName=j&&j!=""?j:h;o.serviceDomain=k&&k!=""?k:i;o.receiveParameters=l;o.flowCaptureHeaderValue=m;o.tracingHeaderValue=n;return o}c.create=function(a){return new c(a.consumer,a.accessToken,a.sessionKey||"",a.contentKey,a.contentValue,a.serviceName,a.serviceDomain,a.receiveParameters,a.flowCaptureHeaderValue,a.tracingHeaderValue)};var d=c.prototype;d.$ResumableUploadService1=function(a){if(b("gkx")("1765373")){var c;if(((c=this.receiveParameters)==null?void 0:c.target_id)!=null){a.setRequestHeader("target_id",String((c=this.receiveParameters)==null?void 0:c.target_id))}if(((c=this.receiveParameters)==null?void 0:c.video_waterfall_id)!=null){a.setRequestHeader("x_fb_video_waterfall_id",String((c=this.receiveParameters)==null?void 0:c.video_waterfall_id))}}};d.resume=function(a){var c,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0;e.next=3;return b("regeneratorRuntime").awrap(this.sendOffsetRequest());case 3:c=e.sent;this.emit(b("ResumableUploadServiceState.enum").START,{offset:c.offset});e.next=7;return b("regeneratorRuntime").awrap(this.sendUploadRequest(a,c));case 7:d=e.sent;this.emit(b("ResumableUploadServiceState.enum").SUCCESS,d.h);e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),this.emit(b("ResumableUploadServiceState.enum").FAIL,e.t0);case 14:this.abortUpload=void 0;case 15:case"end":return e.stop()}},null,this,[[0,11]])};d.cancel=function(){this.abortUpload&&this.abortUpload(),this.emit(b("ResumableUploadServiceState.enum").CANCEL)};d.decorateRequestFlowCaptureHeader=function(a){this.flowCaptureHeaderValue&&a.setRequestHeader("X-Fb-Flow-Capture",String(this.flowCaptureHeaderValue))};d.sendOffsetRequest=function(){var a=this;return new(b("Promise"))(function(c,d){var e=new(b("AsyncRequest"))().setAllowCrossOrigin(!0).setAllowCredentials(!0).setMethod("GET").setURI(a.getUploadUri()).setReadOnly(!0).setRequestHeader("Authorization","OAuth "+a.accessToken).setHandler(function(a){return c(JSON.parse(a.payload.response))}).setErrorHandler(d).setOption("suppressEvaluation",!0).setTransportErrorHandler(function(c){a.emit(b("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,c)});a.$ResumableUploadService1(e);a.decorateRequestFlowCaptureHeader(e);a.abortUpload=function(){return e.abort()};e.send()})};d.sendUploadRequest=function(a,c){var d=this;c=c||{};var e=c.offset;c=c.duplicate;var f=c?"":a.slice(e);return new(b("Promise"))(function(c,g){var h=new(b("AsyncRequest"))().setAllowCrossOrigin(!0).setAllowCredentials(!0).setURI(d.getUploadUri()).setRawData(f).setHandler(function(a){return c(JSON.parse(a.payload.response))}).setErrorHandler(g).setRequestHeader("Authorization","OAuth "+d.accessToken).setRequestHeader("X-Entity-Name",encodeURIComponent(a.name)).setRequestHeader("X-Entity-Type",a.type).setRequestHeader("X-Entity-Length",String(a.size)).setRequestHeader("Offset",String(e)).setOption("suppressEvaluation",!0).setUploadProgressHandler(function(c){c=new ProgressEvent("upload-service",{total:a.size,loaded:c.loaded+Number(e)});d.emit(b("ResumableUploadServiceState.enum").PROGRESS,c)}).setTransportErrorHandler(function(a){d.emit(b("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,a)});d.$ResumableUploadService1(h);d.decorateRequestFlowCaptureHeader(h);d.abortUpload=function(){return h.abort()};g=d.receiveParameters;g&&(h.setRequestHeader("start_offset",String(g.start_offset)).setRequestHeader("end_offset",String(g.end_offset)).setRequestHeader("composer_session_id",String(g.composer_session_id)).setRequestHeader("id",String(g.upload_session_id)),g.fb_region&&h.setRequestHeader("X-FB-Region",String(g.fb_region)));d.tracingHeaderValue&&h.setRequestHeader("x-fb-product-log",d.tracingHeaderValue);h.send()})};d.getUploadUri=function(){var a=this.getServiceName();a=new(g||(g=b("URI")))("https://"+a+"/"+this.consumer+"/"+this.sessionKey);this.contentKey&&this.contentValue&&(a=a.addQueryData(this.contentKey,this.contentValue));return a};d.getServiceName=function(){return this.serviceName+"."+this.serviceDomain};return c}(b("EventEmitter"));e.exports=a}),null);
__d("ResumableUploadService",["Promise","AsyncRequest","EventEmitter","ResumableUploadServiceState.enum","URI","gkx","immutable","uuid"],(function(a,b,c,d,e,f){"use strict";var g,h="rupload",i="facebook.com";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,j,k,l,m,n,o,p){var q;q=a.call(this)||this;q.consumer=c;q.accessToken=d;q.sessionKey=e||b("uuid")();q.contentKey=f||"";q.contentValue=g||"";q.serviceName=j&&j!=""?j:h;q.serviceDomain=k&&k!=""?k:i;q.receiveParameters=l;q.flowCaptureHeaderValue=m;q.skipOffsetFetching=n;q.additionalHeaders=(c=o)!=null?c:b("immutable").Map();q.tracingHeaderValue=p;return q}c.create=function(a){return new c(a.consumer,a.accessToken,a.sessionKey||"",a.contentKey,a.contentValue,a.serviceName,a.serviceDomain,a.receiveParameters,a.flowCaptureHeaderValue,a.skipOffsetFetching,a.additionalHeaders,a.tracingHeaderValue)};var d=c.prototype;d.$ResumableUploadService1=function(a){if(b("gkx")("1765373")){var c;if(((c=this.receiveParameters)==null?void 0:c.target_id)!=null){a.setRequestHeader("target_id",String((c=this.receiveParameters)==null?void 0:c.target_id))}if(((c=this.receiveParameters)==null?void 0:c.video_waterfall_id)!=null){a.setRequestHeader("x_fb_video_waterfall_id",String((c=this.receiveParameters)==null?void 0:c.video_waterfall_id))}}};d.resume=function(a){var c=this,d=this.getServiceName(),e=new(g||(g=b("URI")))("https://"+d+"/"+this.consumer+"/"+this.sessionKey);this.contentKey&&this.contentValue&&(e=e.addQueryData(this.contentKey,this.contentValue));d=function(){return new(b("Promise"))(function(a,d){a=new(b("AsyncRequest"))().setAllowCrossOrigin(!0).setAllowCredentials(!0).setMethod("GET").setURI(e).setReadOnly(!0).setHandler(a).setErrorHandler(d).setOption("suppressEvaluation",!0).setTransportErrorHandler(function(a){c.emit(b("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,a,{method:"GET"})});c.$ResumableUploadService1(a);c.decorateRequestFlowCaptureHeader(a);a.send()})};var f=function(d){return new(b("Promise"))(function(f,g){var h=0;if(d!==void 0){var i=JSON.parse(d.payload.response);h=i.offset}c.emit(b("ResumableUploadServiceState.enum").START,{offset:h});c.uploadAsyncRequest=new(b("AsyncRequest"))().setAllowCrossOrigin(!0).setAllowCredentials(!0).setURI(e).setRawData(a.slice(h)).setHandler(f).setErrorHandler(g).setRequestHeader("X-Entity-Name",encodeURIComponent(a.name)).setRequestHeader("X-Entity-Type",a.type).setRequestHeader("X-Entity-Length",String(a.size)).setRequestHeader("Offset",String(h)).setOption("suppressEvaluation",!0).setUploadProgressHandler(function(d){d=new ProgressEvent("upload-service",{total:a.size,loaded:d.loaded+Number(h)});c.emit(b("ResumableUploadServiceState.enum").PROGRESS,d)}).setTransportErrorHandler(function(a){c.emit(b("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,a,{method:"POST",offset:h})});c.$ResumableUploadService1(c.uploadAsyncRequest);c.decorateRequestFlowCaptureHeader(c.uploadAsyncRequest);if(c.receiveParameters){i=c.receiveParameters;c.uploadAsyncRequest.setRequestHeader("start_offset",String(i.start_offset));c.uploadAsyncRequest.setRequestHeader("end_offset",String(i.end_offset));c.uploadAsyncRequest.setRequestHeader("composer_session_id",String(i.composer_session_id));c.uploadAsyncRequest.setRequestHeader("id",String(i.upload_session_id));c.uploadAsyncRequest.setRequestHeader("product_media_id",String(i.product_media_id));i.xpv_asset_id&&c.uploadAsyncRequest.setRequestHeader("xpv_asset_id",String(i.xpv_asset_id));i.fb_region&&c.uploadAsyncRequest.setRequestHeader("X-FB-Region",String(i.fb_region));i.total_file_size&&c.uploadAsyncRequest.setRequestHeader("X-Total-Asset-Size",String(i.total_file_size))}c.additionalHeaders.size>0&&c.uploadAsyncRequest.setRequestHeader("X-Thrift-Params",JSON.stringify(c.additionalHeaders));c.tracingHeaderValue&&c.uploadAsyncRequest.setRequestHeader("x-fb-product-log",c.tracingHeaderValue);c.uploadAsyncRequest.send()})},h=function(a){if(a!=null){a=JSON.parse(a.payload.response);a.h!=null?c.emit(b("ResumableUploadServiceState.enum").SUCCESS,a.h):c.emit(b("ResumableUploadServiceState.enum").SUCCESS,a)}else c.emit(b("ResumableUploadServiceState.enum").FAIL,"uploading failed")},i=function(a){return c.emit(b("ResumableUploadServiceState.enum").FAIL,a)};d=this.skipOffsetFetching?b("Promise").resolve():d();return d.then(f,i).then(h,i)};d.getServiceName=function(){return this.serviceName+"."+this.serviceDomain};d.cancel=function(){this.uploadAsyncRequest&&this.uploadAsyncRequest.abort(),this.emit(b("ResumableUploadServiceState.enum").CANCEL)};d.decorateRequestFlowCaptureHeader=function(a){this.flowCaptureHeaderValue&&a.setRequestHeader("X-Fb-Flow-Capture",String(this.flowCaptureHeaderValue))};return c}(b("EventEmitter"));e.exports=a}),null);
__d("Network",["mixInEventEmitter","$InternalEnum"],(function(a,b,c,d,e,f){var g=!0,h=a.navigator.connection,i={0:"unknown",1:"ethernet",2:"wifi",3:"2g",4:"3g"},j=b("$InternalEnum")({Bluetooth:"bluetooth",Cellular:"cellular",Ethernet:"ethernet",None:"none",Wifi:"wifi",Wimax:"wimax",Other:"other",Unavailable:"unavailable",Unknown:"unknown"}),k=b("$InternalEnum")({Type_Slow2g:"slow-2g",Type_2g:"2g",Type_3g:"3g",Type_4g:"4g",Unavailable:"unavailable"});function l(){return g}function c(a){if(a==g)return;g=a;o.emit(a?"online":"offline")}function d(){if(!l())return 0;var a=h==null?void 0:h.downlinkMax;if(typeof a==="number"&&Number.isFinite(a))return a;a=h==null?void 0:h.downlink;return typeof a==="number"&&Number.isFinite(a)?a:null}function f(){var a=h?String(h.type):"0";return i[a]||a}function m(){var a=h==null?void 0:h.type;return(a=typeof a==="string"?j.cast(a):null)!=null?a:j.Unavailable}function n(){var a=h==null?void 0:h.effectiveType;return(a=typeof a==="string"?k.cast(a):null)!=null?a:k.Unavailable}var o={NetworkConnectivityType:j,NetworkConnectivityEffectiveType:k,getBandwidth:d,getEffectiveType:n,getType:m,getType_DEPRECATED_DO_NOT_USE:f,isOnline:l,setOnline:c};b("mixInEventEmitter")(o,{online:!0,offline:!0});a.addEventListener?(a.addEventListener("online",c.bind(null,!0)),a.addEventListener("offline",c.bind(null,!1))):a.attachEvent&&(a.attachEvent("online",c.bind(null,!0)),a.attachEvent("offline",c.bind(null,!1)));d=o;e.exports=d}),null);
__d("VideoUploadConnectionMonitor",["requireCond","cr:909282","Network","VideoUploadFeatureDetector","debounce","mixin","setTimeout"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$VideoUploadConnectionMonitor1=!1;c.$VideoUploadConnectionMonitor2=[];c.$VideoUploadConnectionMonitor3=!1;c.$VideoUploadConnectionMonitor4=!0;c.$VideoUploadConnectionMonitor5=b("debounce")(function(){this.$VideoUploadConnectionMonitor6(!1)}.bind(babelHelpers.assertThisInitialized(c)),2e3);return c}var d=c.prototype;d.notifyStart=function(){if(this.$VideoUploadConnectionMonitor3)return;this.$VideoUploadConnectionMonitor2.length===0&&(this.$VideoUploadConnectionMonitor2.push(b("Network").addListener("online",function(){this.$VideoUploadConnectionMonitor6(!0)}.bind(this))),this.$VideoUploadConnectionMonitor2.push(b("Network").addListener("offline",function(){this.$VideoUploadConnectionMonitor1?this.$VideoUploadConnectionMonitor5():(this.$VideoUploadConnectionMonitor5.reset(),b("setTimeout")(this.$VideoUploadConnectionMonitor5,2e3))}.bind(this))));this.$VideoUploadConnectionMonitor3=!0};d.notifyProgress=function(a){if(!this.$VideoUploadConnectionMonitor3)return;if(!a)return;b("VideoUploadFeatureDetector").supportsFullProgress()&&(this.$VideoUploadConnectionMonitor1=!0,a.total&&a.loaded===a.total?this.$VideoUploadConnectionMonitor5.reset():this.$VideoUploadConnectionMonitor5())};d.notifySuccess=function(){if(!this.$VideoUploadConnectionMonitor3)return;this.reset();this.$VideoUploadConnectionMonitor6(!0)};d.notifyTransportError=function(){if(!this.$VideoUploadConnectionMonitor3)return;this.$VideoUploadConnectionMonitor3=!1;this.$VideoUploadConnectionMonitor6(!1)};d.notifyError=function(){if(!this.$VideoUploadConnectionMonitor3)return;this.reset();this.$VideoUploadConnectionMonitor6(!0)};d.isOnline=function(){return this.$VideoUploadConnectionMonitor4};d.reset=function(){while(this.$VideoUploadConnectionMonitor2.length)this.$VideoUploadConnectionMonitor2.pop().remove();this.$VideoUploadConnectionMonitor5.reset();this.$VideoUploadConnectionMonitor3=!1};d.$VideoUploadConnectionMonitor6=function(a){this.$VideoUploadConnectionMonitor5.reset(),this.$VideoUploadConnectionMonitor4!==a&&(this.$VideoUploadConnectionMonitor4=a,this.$VideoUploadConnectionMonitor4?this.inform("online"):this.inform("offline"))};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("VideoUploadReceiveRequestManager",["fbt","ODS","ResumableUploadAsyncService","ResumableUploadService","ResumableUploadServiceState.enum","VideoUploadConnectionMonitor","VideoUploadRequest","clearTimeout","gkx","md5","mixin","requireCond","setTimeout","uuid","cr:909282"],(function(a,b,c,d,e,f,g){var h=1363037,i={INITIAL:"initial",NEXT_CHUNK:"next chunk",INVALID_OFFSET_RETRY:"invalid offset retry",SERVER_FAILURE_RETRY:"server failure retry",TRANSPORT_FAILURE_RETRY:"transport failure retry",TIMEOUT_RETRY:"timeout retry",BACK_ONLINE:"back online"};a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){var A;m===void 0&&(m="");n===void 0&&(n=!1);o===void 0&&(o=!1);p===void 0&&(p=null);q===void 0&&(q=null);r===void 0&&(r=null);s===void 0&&(s=0);t===void 0&&(t=!1);u===void 0&&(u=!1);v===void 0&&(v=!1);w===void 0&&(w=!1);x===void 0&&(x=!1);y===void 0&&(y=!1);z===void 0&&(z=0);A=a.call(this)||this;A.$VideoUploadReceiveRequestManager1=c;A.$VideoUploadReceiveRequestManager2=d;A.$VideoUploadReceiveRequestManager3=e!=null?e:0;A.$VideoUploadReceiveRequestManager4=f;A.$VideoUploadReceiveRequestManager5=g;A.$VideoUploadReceiveRequestManager6=h;A.$VideoUploadReceiveRequestManager7=i;A.$VideoUploadReceiveRequestManager8=j;A.$VideoUploadReceiveRequestManager9=k;A.$VideoUploadReceiveRequestManager10=l;A.$VideoUploadReceiveRequestManager11=0;A.$VideoUploadReceiveRequestManager14=0;A.$VideoUploadReceiveRequestManager15=0;A.$VideoUploadReceiveRequestManager16=null;A.$VideoUploadReceiveRequestManager17=null;A.$VideoUploadReceiveRequestManager18=0;A.$VideoUploadReceiveRequestManager19="constructed";A.$VideoUploadReceiveRequestManager13=null;A.$VideoUploadReceiveRequestManager20=null;A.$VideoUploadReceiveRequestManager21=null;A.$VideoUploadReceiveRequestManager22=m;A.$VideoUploadReceiveRequestManager24=o;A.$VideoUploadReceiveRequestManager23=n;A.$VideoUploadReceiveRequestManager25=p;A.$VideoUploadReceiveRequestManager26=!1;A.$VideoUploadReceiveRequestManager27=q;A.$VideoUploadReceiveRequestManager30=t;A.$VideoUploadReceiveRequestManager31=u;A.$VideoUploadReceiveRequestManager32=v;A.$VideoUploadReceiveRequestManager29=s;A.$VideoUploadReceiveRequestManager33=w;A.$VideoUploadReceiveRequestManager28=r;A.$VideoUploadReceiveRequestManager34=x;A.$VideoUploadReceiveRequestManager12=b("uuid")();A.$VideoUploadReceiveRequestManager35=y;A.$VideoUploadReceiveRequestManager36=z;A.$VideoUploadReceiveRequestManager41=null;A.$VideoUploadReceiveRequestManager42=null;A.$VideoUploadReceiveRequestManager40=!1;A.$VideoUploadReceiveRequestManager39=null;A.$VideoUploadReceiveRequestManager37=new(b("VideoUploadConnectionMonitor"))();A.$VideoUploadReceiveRequestManager37.subscribe("online",A.$VideoUploadReceiveRequestManager50.bind(babelHelpers.assertThisInitialized(A)));A.$VideoUploadReceiveRequestManager37.subscribe("offline",A.$VideoUploadReceiveRequestManager51.bind(babelHelpers.assertThisInitialized(A)));return A}var d=c.prototype;d.updateVideoID=function(a){if(this.$VideoUploadReceiveRequestManager38.getVideoID())return;this.$VideoUploadReceiveRequestManager38.setVideoID(a);this.$VideoUploadReceiveRequestManager45&&this.$VideoUploadReceiveRequestManager45.setData(this.__createRequestData(this.$VideoUploadReceiveRequestManager38));this.$VideoUploadReceiveRequestManager52()};d.isResumabilityEnabled=function(){return this.$VideoUploadReceiveRequestManager23};d.isResumableServiceProxyReceiveEnabled=function(){return this.$VideoUploadReceiveRequestManager30};d.sendRequest=function(a){this.$VideoUploadReceiveRequestManager19="sending request";if(this.$VideoUploadReceiveRequestManager45){this.$VideoUploadReceiveRequestManager19="request already in progress";return}this.$VideoUploadReceiveRequestManager18=a.getEndOffset()-a.getStartOffset();this.$VideoUploadReceiveRequestManager38=a;this.$VideoUploadReceiveRequestManager53(i.INITIAL)};d.cancelRequest=function(){if(!this.$VideoUploadReceiveRequestManager45)return;this.$VideoUploadReceiveRequestManager45.abort();this.$VideoUploadReceiveRequestManager21!==void 0&&this.$VideoUploadReceiveRequestManager21!==null&&this.$VideoUploadReceiveRequestManager21.cancel();this.$VideoUploadReceiveRequestManager54();this.inform("request-canceled")};d.appendStateLogData=function(a,b){a[b+"request_manager_state"]=this.$VideoUploadReceiveRequestManager19,a[b+"upload_speed"]=this.$VideoUploadReceiveRequestManager17,a[b+"transport_retries"]=this.$VideoUploadReceiveRequestManager11,a[b+"server_retries"]=this.$VideoUploadReceiveRequestManager14,a[b+"timeout_retries"]=this.$VideoUploadReceiveRequestManager15,a[b+"last_timeout_value"]=this.$VideoUploadReceiveRequestManager43,a[b+"last_request_start_time"]=this.$VideoUploadReceiveRequestManager16,a[b+"pending_request"]=this.$VideoUploadReceiveRequestManager45!=null,a[b+"pending_timer"]=this.$VideoUploadReceiveRequestManager46!=null,a[b+"cached_chunk"]=this.$VideoUploadReceiveRequestManager44!=null,a[b+"early_receive_start"]=this.$VideoUploadReceiveRequestManager40,this.$VideoUploadReceiveRequestManager38!=null&&(a[b+"start_offset"]=this.$VideoUploadReceiveRequestManager38.getStartOffset(),a[b+"end_offset"]=this.$VideoUploadReceiveRequestManager38.getEndOffset(),a[b+"partition_start_offset"]=this.$VideoUploadReceiveRequestManager38.getPartitionStartOffset(),a[b+"partition_end_offset"]=this.$VideoUploadReceiveRequestManager38.getPartitionEndOffset()),this.$VideoUploadReceiveRequestManager37!=null&&(a[b+"connection_monitor_online"]=this.$VideoUploadReceiveRequestManager37.isOnline())};d.getHostName=function(a){try{return new URL(a).hostname}catch(a){return null}};d.$VideoUploadReceiveRequestManager54=function(){this.$VideoUploadReceiveRequestManager45=null,this.$VideoUploadReceiveRequestManager44=null,this.$VideoUploadReceiveRequestManager11=0,this.$VideoUploadReceiveRequestManager14=0,this.$VideoUploadReceiveRequestManager12=b("uuid")(),this.$VideoUploadReceiveRequestManager15=0,this.$VideoUploadReceiveRequestManager16=null,this.$VideoUploadReceiveRequestManager17=null,this.$VideoUploadReceiveRequestManager18=0,this.$VideoUploadReceiveRequestManager41=null,this.$VideoUploadReceiveRequestManager42=null,this.$VideoUploadReceiveRequestManager40=!1,this.$VideoUploadReceiveRequestManager26=!1,this.$VideoUploadReceiveRequestManager39=null,this.$VideoUploadReceiveRequestManager38.reset(),this.$VideoUploadReceiveRequestManager37.reset(),b("clearTimeout")(this.$VideoUploadReceiveRequestManager46),this.$VideoUploadReceiveRequestManager46=null};d.$VideoUploadReceiveRequestManager53=function(a,c){b("clearTimeout")(this.$VideoUploadReceiveRequestManager46);this.$VideoUploadReceiveRequestManager46=null;this.$VideoUploadReceiveRequestManager20=a;this.$VideoUploadReceiveRequestManager13=b("uuid")();if(this.$VideoUploadReceiveRequestManager38.getSupportsChunking()&&this.$VideoUploadReceiveRequestManager38.getStartOffset()>=this.$VideoUploadReceiveRequestManager38.getPartitionEndOffset()){!c?(this.inform("request-finished",{start_offset:this.$VideoUploadReceiveRequestManager38.getEndOffset()-1,end_offset:this.$VideoUploadReceiveRequestManager38.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager14,upload_speed:this.$VideoUploadReceiveRequestManager17,request_manager_state:this.$VideoUploadReceiveRequestManager19,upload_domain:this.$VideoUploadReceiveRequestManager39,debug:{request_reason:this.$VideoUploadReceiveRequestManager20,single_request_id:this.$VideoUploadReceiveRequestManager13}}),this.$VideoUploadReceiveRequestManager19="request finished - notified"):this.$VideoUploadReceiveRequestManager19="request finished - not notified";return}this.$VideoUploadReceiveRequestManager45=this.__getVideoUploadRequest(this.$VideoUploadReceiveRequestManager1).setAllowCrossOrigin(!0).setData(this.__createRequestData(this.$VideoUploadReceiveRequestManager38)).setWaterfallID(this.$VideoUploadReceiveRequestManager38.getWaterfallID()).setSuccessHandler(this.__handleSuccessResponse.bind(this)).setErrorHandler(this.__handleServerFailureResponse.bind(this)).setTransportErrorHandler(this.$VideoUploadReceiveRequestManager55.bind(this));this.$VideoUploadReceiveRequestManager23||this.$VideoUploadReceiveRequestManager45.setUploadProgressHandler(this.$VideoUploadReceiveRequestManager56.bind(this));this.$VideoUploadReceiveRequestManager16=Date.now();this.$VideoUploadReceiveRequestManager39=this.getHostName(this.$VideoUploadReceiveRequestManager1);a=!1;if(this.$VideoUploadReceiveRequestManager38.getSupportsChunking()){if(this.$VideoUploadReceiveRequestManager5){c=this.$VideoUploadReceiveRequestManager57(this.$VideoUploadReceiveRequestManager38.getEndOffset()-this.$VideoUploadReceiveRequestManager38.getStartOffset(),this.$VideoUploadReceiveRequestManager17);this.$VideoUploadReceiveRequestManager45.setTimeoutHandler(c,this.__handleResponseTimeout.bind(this));this.$VideoUploadReceiveRequestManager19="sending chunk with timeout = "+c;this.$VideoUploadReceiveRequestManager43=c}else this.$VideoUploadReceiveRequestManager19="sending chunk without timeout";c=this.$VideoUploadReceiveRequestManager58();if(c===null||c===void 0){this.$VideoUploadReceiveRequestManager59({error_description:"Provided chunk is null.",error_is_transient:!1});return}else this.$VideoUploadReceiveRequestManager23&&this.$VideoUploadReceiveRequestManager29<this.$VideoUploadReceiveRequestManager38.getFile().getSize()?(a=!0,this.$VideoUploadReceiveRequestManager60(c)):this.$VideoUploadReceiveRequestManager45.sendChunk(c)}else this.$VideoUploadReceiveRequestManager19="sending file",this.$VideoUploadReceiveRequestManager45.sendFile(this.$VideoUploadReceiveRequestManager38.getFile().getFileInput());this.$VideoUploadReceiveRequestManager61(a);this.$VideoUploadReceiveRequestManager37.notifyStart();this.inform("request-started",{start_offset:this.$VideoUploadReceiveRequestManager38.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManager38.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager14,upload_speed:this.$VideoUploadReceiveRequestManager17,request_manager_state:this.$VideoUploadReceiveRequestManager19,upload_domain:this.$VideoUploadReceiveRequestManager39,debug:{request_reason:this.$VideoUploadReceiveRequestManager20,single_request_id:this.$VideoUploadReceiveRequestManager13}})};d.$VideoUploadReceiveRequestManager61=function(a){(this.$VideoUploadReceiveRequestManager38.getSource()==="create_flow"||this.$VideoUploadReceiveRequestManager38.getSource()==="ads_interfaces")&&b("ODS").bumpEntityKey(2966,"video_ads_upload",a?"upload_service":"graph_api")};d.$VideoUploadReceiveRequestManager62=function(a,b,c){!this.$VideoUploadReceiveRequestManager38.getVideoID()?(this.$VideoUploadReceiveRequestManager41=a,this.$VideoUploadReceiveRequestManager42=b):a(b,c)};d.$VideoUploadReceiveRequestManager52=function(){this.$VideoUploadReceiveRequestManager41&&(this.$VideoUploadReceiveRequestManager41(this.$VideoUploadReceiveRequestManager42),this.$VideoUploadReceiveRequestManager41=null,this.$VideoUploadReceiveRequestManager42=null)};d.$VideoUploadReceiveRequestManager60=function(a){var c,d=this.$VideoUploadReceiveRequestManager38.getFile(),e=d.getFile().lastModified+d.getFile().name+d.getFile().type+this.$VideoUploadReceiveRequestManager63();e=String(b("md5")(e))+"-"+this.$VideoUploadReceiveRequestManager38.getStartOffset()+"-"+this.$VideoUploadReceiveRequestManager38.getEndOffset();c=((c=this.$VideoUploadReceiveRequestManager38)==null?void 0:c.getRetryState())==null?this.$VideoUploadReceiveRequestManager14+this.$VideoUploadReceiveRequestManager11+this.$VideoUploadReceiveRequestManager15:this.$VideoUploadReceiveRequestManager38.getRetryState().getTotalRetryCount();d=this.$VideoUploadReceiveRequestManager35&&this.$VideoUploadReceiveRequestManager36<d.getSize()?["video_upload_www",[this.$VideoUploadReceiveRequestManager12,String(c)].join("_"),[String(this.$VideoUploadReceiveRequestManager38.getWaterfallID()),String(this.$VideoUploadReceiveRequestManager38.getVideoID())].join("_")].join(":"):null;this.isResumabilityEnabled()&&this.$VideoUploadReceiveRequestManager25&&this.$VideoUploadReceiveRequestManager11>this.$VideoUploadReceiveRequestManager2/3&&(this.$VideoUploadReceiveRequestManager26=!0);c="fb_video";this.$VideoUploadReceiveRequestManager30&&(c="fb_video2");var f=null;if(this.$VideoUploadReceiveRequestManager30||this.$VideoUploadReceiveRequestManager31){var g={};g.start_offset=this.$VideoUploadReceiveRequestManager38.getStartOffset();g.end_offset=this.$VideoUploadReceiveRequestManager38.getEndOffset();g.composer_session_id=this.$VideoUploadReceiveRequestManager38.getWaterfallID();g.upload_session_id=this.$VideoUploadReceiveRequestManager38.getUploadSessionID();g.product_media_id=this.$VideoUploadReceiveRequestManager38.getVideoID();g.xpv_asset_id=this.$VideoUploadReceiveRequestManager38.getXPVAssetID();g.fb_region=this.$VideoUploadReceiveRequestManager38.getFbRegion();this.$VideoUploadReceiveRequestManager32&&(g.total_file_size=this.$VideoUploadReceiveRequestManager38.getFile().getSize());b("gkx")("1765373")&&(g.video_waterfall_id=this.$VideoUploadReceiveRequestManager38.getWaterfallID(),g.target_id=this.$VideoUploadReceiveRequestManager38.getTargetID());f=g}g={};g.consumer=c;g.accessToken=this.$VideoUploadReceiveRequestManager22;g.sessionKey=e;g.serviceName=this.$VideoUploadReceiveRequestManager26?null:this.$VideoUploadReceiveRequestManager25;g.serviceDomain=this.$VideoUploadReceiveRequestManager27;g.receiveParameters=f;g.flowCaptureHeaderValue=this.$VideoUploadReceiveRequestManager34?this.$VideoUploadReceiveRequestManager38.getWaterfallID():null;g.tracingHeaderValue=d;this.$VideoUploadReceiveRequestManager24?c=b("ResumableUploadAsyncService").create(g):c=b("ResumableUploadService").create(g);this.$VideoUploadReceiveRequestManager21=c;this.$VideoUploadReceiveRequestManager39=c.getServiceName();this.$VideoUploadReceiveRequestManager64();c.resume(a);this.inform("resumable-called",{debug:{single_request_id:this.$VideoUploadReceiveRequestManager13,authority:this.$VideoUploadReceiveRequestManager39}})};d.$VideoUploadReceiveRequestManager64=function(){var a=this;this.$VideoUploadReceiveRequestManager38.getVideoID()||(this.$VideoUploadReceiveRequestManager40=!0);var c=this.$VideoUploadReceiveRequestManager21;if(c===null||c===void 0)return;c.addListener(b("ResumableUploadServiceState.enum").START,function(b){a.inform("resumable-started",{resume_from_offset:b.offset,debug:{single_request_id:a.$VideoUploadReceiveRequestManager13,partition:a.$VideoUploadReceiveRequestManager38.getPartitionNo(),authority:a.$VideoUploadReceiveRequestManager39}})});this.$VideoUploadReceiveRequestManager47=function(b){a.inform("resumable-failed",{error_code:b.getError(),error_description:b.getErrorDescription(),error_summary:b.getErrorSummary(),error_is_transient:b.isTransient(),debug:{error_source:"service",single_request_id:a.$VideoUploadReceiveRequestManager13,partition:a.$VideoUploadReceiveRequestManager38.getPartitionNo(),authority:a.$VideoUploadReceiveRequestManager39}}),a.__handleServerFailureResponse(b)};c.addListener(b("ResumableUploadServiceState.enum").FAIL,function(b){a.$VideoUploadReceiveRequestManager62(a.$VideoUploadReceiveRequestManager47,b)});this.$VideoUploadReceiveRequestManager48=function(b){!a.$VideoUploadReceiveRequestManager30?(a.$VideoUploadReceiveRequestManager45.setHandle(b),a.$VideoUploadReceiveRequestManager45.sendChunk(null)):a.__handleSuccessResponsePayload({start_offset:a.$VideoUploadReceiveRequestManager38.getEndOffset(),end_offset:a.$VideoUploadReceiveRequestManager38.getPartitionEndOffset()}),a.inform("resumable-success",{everstore_handle:b,debug:{single_request_id:a.$VideoUploadReceiveRequestManager13,partition:a.$VideoUploadReceiveRequestManager38.getPartitionNo(),authority:a.$VideoUploadReceiveRequestManager39}})};c.addListener(b("ResumableUploadServiceState.enum").SUCCESS,function(b){a.$VideoUploadReceiveRequestManager62(a.$VideoUploadReceiveRequestManager48,b)});this.$VideoUploadReceiveRequestManager49=function(b,c){a.inform("resumable-failed",{error_code:b.getError(),error_description:b.getErrorDescription(),error_summary:b.getErrorSummary(),error_is_transient:b.isTransient(),resume_from_offset:c.offset,debug:{error_source:"transport",single_request_id:a.$VideoUploadReceiveRequestManager13,partition:a.$VideoUploadReceiveRequestManager38.getPartitionNo(),method:c.method,authority:a.$VideoUploadReceiveRequestManager39}}),a.$VideoUploadReceiveRequestManager55(b)};c.addListener(b("ResumableUploadServiceState.enum").TRANSPORT_FAILURE,function(b,c){a.$VideoUploadReceiveRequestManager62(a.$VideoUploadReceiveRequestManager49,b,c)});c.addListener(b("ResumableUploadServiceState.enum").PROGRESS,function(b){a.$VideoUploadReceiveRequestManager33&&(a.$VideoUploadReceiveRequestManager11=0),a.$VideoUploadReceiveRequestManager56(b)})};d.__getVideoUploadRequest=function(a){return new(b("VideoUploadRequest"))(a)};d.$VideoUploadReceiveRequestManager65=function(a,c){this.$VideoUploadReceiveRequestManager19="setting request to send after"+c,b("clearTimeout")(this.$VideoUploadReceiveRequestManager46),this.$VideoUploadReceiveRequestManager46=b("setTimeout")(this.$VideoUploadReceiveRequestManager53.bind(this,a),c)};d.$VideoUploadReceiveRequestManager58=function(){if(this.$VideoUploadReceiveRequestManager44)return this.$VideoUploadReceiveRequestManager44;var a=this.$VideoUploadReceiveRequestManager38.getFile();if(this.$VideoUploadReceiveRequestManager23){var b=a.getFile();this.$VideoUploadReceiveRequestManager44=b?b.slice(this.$VideoUploadReceiveRequestManager38.getStartOffset(),this.$VideoUploadReceiveRequestManager38.getEndOffset(),"application/octet-stream"):null}else this.$VideoUploadReceiveRequestManager44=a.getChunk(this.$VideoUploadReceiveRequestManager38.getStartOffset(),this.$VideoUploadReceiveRequestManager38.getEndOffset());return this.$VideoUploadReceiveRequestManager44};d.__createRequestData=function(a){return{composer_session_id:a.getComposerSessionID(),video_id:a.getVideoID(),start_offset:a.getStartOffset(),end_offset:a.getEndOffset(),source:a.getSource(),target_id:a.getTargetID(),waterfall_id:a.getWaterfallID(),composer_entry_point_ref:a.getComposerEntryPointRef&&a.getComposerEntryPointRef(),composer_work_shared_draft_mode:a.getComposerWorkSharedDraftMode(),composer_dialog_version:a.getComposerDialogVersion(),has_file_been_replaced:a.getHasFileBeenReplaced(),supports_chunking:a.getSupportsChunking(),upload_speed:this.$VideoUploadReceiveRequestManager17,partition_start_offset:a.getPartitionStartOffset(),partition_end_offset:a.getPartitionEndOffset()}};d.__handleSuccessResponse=function(a){a=a.getPayload();this.__handleSuccessResponsePayload(a)};d.__handleSuccessResponsePayload=function(a){this.$VideoUploadReceiveRequestManager19="success response received";var c=Date.now()-(this.$VideoUploadReceiveRequestManager16||0);c=c===0?1:c;if(a.start_offset===this.$VideoUploadReceiveRequestManager38.getEndOffset()){var d=this.$VideoUploadReceiveRequestManager38.getEndOffset()-this.$VideoUploadReceiveRequestManager38.getStartOffset();this.$VideoUploadReceiveRequestManager17=Math.floor(d/c)}else this.$VideoUploadReceiveRequestManager17=null;this.$VideoUploadReceiveRequestManager37.notifySuccess();this.inform("request-finished",{start_offset:this.$VideoUploadReceiveRequestManager38.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManager38.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager14,upload_speed:this.$VideoUploadReceiveRequestManager17,request_manager_state:this.$VideoUploadReceiveRequestManager19,upload_domain:this.$VideoUploadReceiveRequestManager39,debug:{request_reason:this.$VideoUploadReceiveRequestManager20,single_request_id:this.$VideoUploadReceiveRequestManager13}});this.$VideoUploadReceiveRequestManager38.setStartOffset(a.start_offset);d=a.end_offset;this.$VideoUploadReceiveRequestManager38.getClientChunkSize()&&(d=a.start_offset+Math.min(this.$VideoUploadReceiveRequestManager38.getPartitionEndOffset()-a.start_offset,this.$VideoUploadReceiveRequestManager38.getClientChunkSize()));this.$VideoUploadReceiveRequestManager38.setEndOffset(d);this.$VideoUploadReceiveRequestManager38.setLastKnownUploadSpeed(this.$VideoUploadReceiveRequestManager17);this.$VideoUploadReceiveRequestManager45=null;this.$VideoUploadReceiveRequestManager44=null;this.$VideoUploadReceiveRequestManager11=0;this.$VideoUploadReceiveRequestManager14=0;this.$VideoUploadReceiveRequestManager12=b("uuid")();this.$VideoUploadReceiveRequestManager15=0;this.$VideoUploadReceiveRequestManager38.getSupportsChunking()&&this.$VideoUploadReceiveRequestManager53(i.NEXT_CHUNK,!0)};d.$VideoUploadReceiveRequestManager66=function(a){var b=this,c=a.getPayload();this.$VideoUploadReceiveRequestManager19="invalid offset response received start="+c.start_offset+" end="+c.end_offset;(this.$VideoUploadReceiveRequestManager38.getStartOffset()!=c.start_offset||this.$VideoUploadReceiveRequestManager38.getEndOffset()!=c.end_offset)&&(this.$VideoUploadReceiveRequestManager38.setStartOffset(c.start_offset),this.$VideoUploadReceiveRequestManager38.setEndOffset(c.end_offset),this.$VideoUploadReceiveRequestManager44=null);((c=this.$VideoUploadReceiveRequestManager38)==null?void 0:c.getRetryState())==null?(this.$VideoUploadReceiveRequestManager14++,this.$VideoUploadReceiveRequestManager53(i.INVALID_OFFSET_RETRY)):this.$VideoUploadReceiveRequestManager38.getRetryState().handleRetry({context:{location:"receive-invalid_offset"},retryHandler:function(a){return b.$VideoUploadReceiveRequestManager65(i.INVALID_OFFSET_RETRY,a)},failureHandler:function(){return b.$VideoUploadReceiveRequestManager67(a)}})};d.__handleServerFailureResponse=function(a){var b=this;this.$VideoUploadReceiveRequestManager19="failure response received";this.$VideoUploadReceiveRequestManager45=null;this.$VideoUploadReceiveRequestManager11=0;this.$VideoUploadReceiveRequestManager17=null;this.$VideoUploadReceiveRequestManager15=0;this.$VideoUploadReceiveRequestManager37.notifyError();if(this.__hasInvalidStartOffsetAndHasRetries(a.getError()))this.$VideoUploadReceiveRequestManager66(a);else{var c;((c=this.$VideoUploadReceiveRequestManager38)==null?void 0:c.getRetryState())==null?(a.isTransient()||this.$VideoUploadReceiveRequestManager10)&&this.$VideoUploadReceiveRequestManager14<this.$VideoUploadReceiveRequestManager4?(this.$VideoUploadReceiveRequestManager19="transient server error",this.$VideoUploadReceiveRequestManager14++,this.$VideoUploadReceiveRequestManager65(i.SERVER_FAILURE_RETRY,this.$VideoUploadReceiveRequestManager68(this.$VideoUploadReceiveRequestManager9,this.$VideoUploadReceiveRequestManager14,0))):this.$VideoUploadReceiveRequestManager67(a):this.$VideoUploadReceiveRequestManager38.getRetryState().handleRetry({context:{location:"receive-server_issue",error_code:a.getError()},predicate:function(){return a.isTransient()},retryHandler:function(a){b.$VideoUploadReceiveRequestManager19="transient server error",b.$VideoUploadReceiveRequestManager65(i.SERVER_FAILURE_RETRY,a)},failureHandler:function(){return b.$VideoUploadReceiveRequestManager67(a)}})}};d.__handleResponseTimeout=function(a){var b=this;this.inform("request-timeout",{start_offset:this.$VideoUploadReceiveRequestManager38.getStartOffset(),end_offset:this.$VideoUploadReceiveRequestManager38.getEndOffset(),transport_retries:this.$VideoUploadReceiveRequestManager11,server_retries:this.$VideoUploadReceiveRequestManager14,timeout_retries:this.$VideoUploadReceiveRequestManager15,upload_speed:this.$VideoUploadReceiveRequestManager17,request_manager_state:this.$VideoUploadReceiveRequestManager19,debug:{upload_domain:this.$VideoUploadReceiveRequestManager39,single_request_id:this.$VideoUploadReceiveRequestManager13}});this.$VideoUploadReceiveRequestManager45.abort();this.$VideoUploadReceiveRequestManager45=null;this.$VideoUploadReceiveRequestManager17=null;this.$VideoUploadReceiveRequestManager37.notifyTransportError();var c=function(){var a=b.$VideoUploadReceiveRequestManager38.getEndOffset()-b.$VideoUploadReceiveRequestManager38.getStartOffset();a=Math.floor(a/2);a=Math.max(a,b.$VideoUploadReceiveRequestManager18);var c=b.$VideoUploadReceiveRequestManager38.getEndOffset();c=Math.min(c,b.$VideoUploadReceiveRequestManager38.getStartOffset()+a);b.$VideoUploadReceiveRequestManager38.setEndOffset(c);b.$VideoUploadReceiveRequestManager44=null;b.$VideoUploadReceiveRequestManager19="resending after timeout with chunksize="+a;b.$VideoUploadReceiveRequestManager53(i.TIMEOUT_RETRY)},d=function(){b.$VideoUploadReceiveRequestManager59({error_code:1006,error_description:g._("Your browser appears to be offline. Please check your internet connection and try again."),error_summary:g._("No Network Connection"),error_is_transient:!0})};((a=this.$VideoUploadReceiveRequestManager38)==null?void 0:a.getRetryState())==null?++this.$VideoUploadReceiveRequestManager15<=this.$VideoUploadReceiveRequestManager6?c():d():this.$VideoUploadReceiveRequestManager38.getRetryState().handleRetry({context:{location:"receive-timeout",error_code:1006},retryHandler:function(a){return c()},failureHandler:function(){return d()}})};d.__hasInvalidStartOffsetAndHasRetries=function(a){return a===h&&this.$VideoUploadReceiveRequestManager14<this.$VideoUploadReceiveRequestManager4};d.$VideoUploadReceiveRequestManager55=function(a){var b,c=this;this.$VideoUploadReceiveRequestManager37.notifyTransportError();this.$VideoUploadReceiveRequestManager17=null;((b=this.$VideoUploadReceiveRequestManager38)==null?void 0:b.getRetryState())==null?(this.$VideoUploadReceiveRequestManager15=0,this.$VideoUploadReceiveRequestManager11<this.$VideoUploadReceiveRequestManager2?(this.$VideoUploadReceiveRequestManager19="resending after transport failure",this.$VideoUploadReceiveRequestManager11++,this.$VideoUploadReceiveRequestManager45=null,this.$VideoUploadReceiveRequestManager65(i.TRANSPORT_FAILURE_RETRY,this.$VideoUploadReceiveRequestManager68(this.$VideoUploadReceiveRequestManager8,this.$VideoUploadReceiveRequestManager11,this.$VideoUploadReceiveRequestManager3))):this.$VideoUploadReceiveRequestManager67(a)):this.$VideoUploadReceiveRequestManager38.getRetryState().handleRetry({context:{location:"receive-transport_issue",error_code:a.getError()},retryHandler:function(a){c.$VideoUploadReceiveRequestManager45=null,c.$VideoUploadReceiveRequestManager19="resending after transport failure",c.$VideoUploadReceiveRequestManager65(i.TRANSPORT_FAILURE_RETRY,a)},failureHandler:function(){return c.$VideoUploadReceiveRequestManager67(a)}})};d.$VideoUploadReceiveRequestManager67=function(a){this.$VideoUploadReceiveRequestManager59({error_code:a.getError(),error_description:a.getErrorDescription(),error_summary:a.getErrorSummary(),error_is_transient:a.isTransient(),upload_domain:this.uploadDomain,www_request_id:(a=a.getPayload())==null?void 0:a.__www_request_id__})};d.$VideoUploadReceiveRequestManager59=function(a){this.$VideoUploadReceiveRequestManager19="handling failure error",a.debug=babelHelpers["extends"]({},a.debug,{single_request_id:this.$VideoUploadReceiveRequestManager13}),this.inform("request-failed",a),this.$VideoUploadReceiveRequestManager54()};d.$VideoUploadReceiveRequestManager56=function(a){this.$VideoUploadReceiveRequestManager37.notifyProgress(a),this.$VideoUploadReceiveRequestManager38&&this.$VideoUploadReceiveRequestManager38.getFile()&&this.inform("request-progressed",{file_size:this.$VideoUploadReceiveRequestManager38.getFile().getSize(),start_offset:this.$VideoUploadReceiveRequestManager38.getStartOffset(),sent_bytes:a.loaded,transport_retries:this.$VideoUploadReceiveRequestManager11,upload_domain:this.$VideoUploadReceiveRequestManager39,debug:{single_request_id:this.$VideoUploadReceiveRequestManager13}})};d.$VideoUploadReceiveRequestManager50=function(){var a;this.inform("online");this.$VideoUploadReceiveRequestManager11=0;this.$VideoUploadReceiveRequestManager15=0;(a=this.$VideoUploadReceiveRequestManager38)==null?void 0:(a=a.getRetryState())==null?void 0:a.resetDelay();this.$VideoUploadReceiveRequestManager46&&this.$VideoUploadReceiveRequestManager53(i.BACK_ONLINE)};d.$VideoUploadReceiveRequestManager51=function(){this.inform("offline")};d.$VideoUploadReceiveRequestManager68=function(a,b,c){var d;this.$VideoUploadReceiveRequestManager23?d=Math.min(Math.pow(a,b),8)*1e3:d=Math.pow(a,b)*1e3;c>0&&(d=Math.min(d,c));return d};d.$VideoUploadReceiveRequestManager57=function(a,b){b!==void 0&&b!==null&&b>0?b=b:b=10;a=Math.floor(a/b*this.$VideoUploadReceiveRequestManager7/100);return Math.max(a,3e4)};d.$VideoUploadReceiveRequestManager63=function(){return this.$VideoUploadReceiveRequestManager28?this.$VideoUploadReceiveRequestManager28:this.$VideoUploadReceiveRequestManager38.getWaterfallID()};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("VideoUploadRequestContext",[],(function(a,b,c,d,e,f){a=function(){function a(){this.$14=!1,this.$21=0,this.$22=!1,this.$23=!1,this.$26=!1,this.reset()}var b=a.prototype;b.setFile=function(a){this.$1=a;return this};b.getFile=function(){return this.$1};b.setMetadata=function(a){this.$24=a;return this};b.getMetadata=function(){return this.$24};b.setVideoID=function(a){this.$2=a;return this};b.getVideoID=function(){return this.$2};b.setXPVAssetID=function(a){this.$29=a;return this};b.getXPVAssetID=function(){return this.$29};b.setUploadSessionID=function(a){this.$3=a;return this};b.getUploadSessionID=function(){return this.$3};b.setFbRegion=function(a){this.$4=a;return this};b.getFbRegion=function(){return this.$4};b.setStartOffset=function(a){this.$5=a;return this};b.getStartOffset=function(){return this.$5};b.setEndOffset=function(a){this.$6=a;return this};b.getEndOffset=function(){return this.$6};b.setPartitionStartOffset=function(a){this.$17=a;return this};b.getPartitionStartOffset=function(){return this.$17};b.setPartitionEndOffset=function(a){this.$18=a;return this};b.getPartitionEndOffset=function(){return this.$18};b.setPartitionNo=function(a){this.$19=a;return this};b.getPartitionNo=function(){return this.$19};b.setTargetID=function(a){this.$7=a;return this};b.getTargetID=function(){return this.$7};b.setSource=function(a){this.$8=a;return this};b.setComposerDialogVersion=function(a){this.$9=a;return this};b.getComposerDialogVersion=function(){return this.$9};b.getSource=function(){return this.$8};b.setWaterfallID=function(a){this.$10=a;return this};b.getWaterfallID=function(){return this.$10};b.setComposerEntryPointRef=function(a){this.$11=a;return this};b.getComposerEntryPointRef=function(){return this.$11};b.setComposerWorkSharedDraftMode=function(a){this.$12=a;return this};b.getComposerWorkSharedDraftMode=function(){return this.$12};b.setHasFileBeenReplaced=function(a){this.$14=a;return this};b.getHasFileBeenReplaced=function(){return this.$14};b.setSupportsChunking=function(a){this.$15=a;return this};b.getSupportsChunking=function(){return this.$15};b.setSupportsFileAPI=function(a){this.$16=a;return this};b.getSupportsFileAPI=function(){return this.$16};b.setCreatorProduct=function(a){this.$20=a;return this};b.getCreatorProduct=function(){return this.$20};b.setLastKnownUploadSpeed=function(a){this.$21=a;return this};b.getLastKnownUploadSpeed=function(){return this.$21||0};b.setUseParallelChunks=function(a){this.$22=a;return this};b.getUseParallelChunks=function(){return this.$22};b.setIsSphericalVideo=function(a){this.$23=a;return this};b.getIsSphericalVideo=function(){return this.$23};b.setSphericalMetadata=function(a){this.$25=a;return this};b.getSphericalMetadata=function(){return this.$25};b.setEnableOmnistab=function(a){this.$26=a;return this};b.getEnableOmnistab=function(){return this.$26};b.setClientChunkSize=function(a){this.$27=a;return this};b.getClientChunkSize=function(){return this.$27};b.setVideoPublisherActionSource=function(a){this.$28=a;return this};b.getVideoPublisherActionSource=function(){return this.$28};b.setComposerSessionID=function(a){this.$13=a;return this};b.getComposerSessionID=function(){return this.$13};b.setRetryState=function(a){this.$30=a;return this};b.getRetryState=function(){return this.$30};b.reset=function(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null,this.$12=null,this.$14=!1,this.$15=null,this.$16=null,this.$17=null,this.$18=null,this.$19=null,this.$20=null,this.$21=0,this.$22=!1,this.$23=!1,this.$24={},this.$25={},this.$26=!1,this.$27=null,this.$28={},this.$13=null,this.$30=null};return a}();e.exports=a}),null);
__d("FileHasher",["WebWorker","emptyFunction","fileSliceName","FileHashWorkerResource"],(function(a,b,c,d,e,f){a=function(){"use strict";a.isSupported=function(){return b("WebWorker").isSupported()};function a(){var a=this,c=b("FileHashWorkerResource");b("WebWorker").prepareResource(c);this.$1=new(b("WebWorker"))(c).setMessageHandler(function(b){a.$2(b)}).execute()}var c=a.prototype;c.hash=function(a,c){this.$2=c;this.$1.postMessage({file:a,fileSliceName:b("fileSliceName")});return this};c.destroy=function(){this.$2=b("emptyFunction"),this.$1.terminate()};return a}();e.exports=a}),null);
__d("VideoUploadStartRequestManager",["Assert","FileHasher","VideoUploadRequest","clearTimeout","mixin","performanceNow","requireCond","setTimeout","cr:909282"],(function(a,b,c,d,e,f){var g;a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c,d,e,f,g,h,i){var j;j=a.call(this)||this;j.$VideoUploadStartRequestManager1=b;j.$VideoUploadStartRequestManager2=c;j.$VideoUploadStartRequestManager3=d;j.$VideoUploadStartRequestManager4=e;j.$VideoUploadStartRequestManager5=0;j.$VideoUploadStartRequestManager6=f;j.$VideoUploadStartRequestManager7=g;j.$VideoUploadStartRequestManager8=h;j.$VideoUploadStartRequestManager9=i;j.$VideoUploadStartRequestManager10=0;return j}var d=c.prototype;d.getRequest=function(){return this.$VideoUploadStartRequestManager11};d.sendRequest=function(a){var c=this;if(this.$VideoUploadStartRequestManager12||this.$VideoUploadStartRequestManager11)return;this.$VideoUploadStartRequestManager13=a;this.$VideoUploadStartRequestManager6&&this.$VideoUploadStartRequestManager13.getFile().getFile()&&this.$VideoUploadStartRequestManager13.getFile().getFile().size<this.$VideoUploadStartRequestManager7&&b("FileHasher").isSupported()?(this.$VideoUploadStartRequestManager14=(g||(g=b("performanceNow")))(),this.$VideoUploadStartRequestManager12=new(b("FileHasher"))(),this.$VideoUploadStartRequestManager12.hash(this.$VideoUploadStartRequestManager13.getFile().getFile(),function(a){c.$VideoUploadStartRequestManager14=(g||(g=b("performanceNow")))()-c.$VideoUploadStartRequestManager14,c.$VideoUploadStartRequestManager15=a.hash,c.$VideoUploadStartRequestManager12.destroy(),c.$VideoUploadStartRequestManager12=null,a.hash||(c.$VideoUploadStartRequestManager16=a.exception),c.$VideoUploadStartRequestManager17()})):this.$VideoUploadStartRequestManager17()};d.$VideoUploadStartRequestManager17=function(){this.$VideoUploadStartRequestManager18(),this.inform("request-started",{hash_time:this.$VideoUploadStartRequestManager14,hash_exception:this.$VideoUploadStartRequestManager16})};d.$VideoUploadStartRequestManager18=function(){b("clearTimeout")(this.$VideoUploadStartRequestManager19),this.$VideoUploadStartRequestManager19=null,this.$VideoUploadStartRequestManager11=this.__getVideoUploadRequest(this.$VideoUploadStartRequestManager1).setAllowCrossOrigin(!0).setData(this.__getDataToSend(this.$VideoUploadStartRequestManager13,this.$VideoUploadStartRequestManager15)).setWaterfallID(this.$VideoUploadStartRequestManager13.getWaterfallID()).setSuccessHandler(this.$VideoUploadStartRequestManager20.bind(this)).setErrorHandler(this.$VideoUploadStartRequestManager21.bind(this)).setTransportErrorHandler(this.$VideoUploadStartRequestManager22.bind(this)),this.$VideoUploadStartRequestManager11.send()};d.__getVideoUploadRequest=function(a){return new(b("VideoUploadRequest"))(a)};d.__getDataToSend=function(a,b){return{file_size:a.getFile().getSize(),file_extension:a.getFile().getExtension(),target_id:a.getTargetID(),source:a.getSource(),composer_dialog_version:a.getComposerDialogVersion(),waterfall_id:a.getWaterfallID(),composer_session_id:a.getComposerSessionID(),composer_entry_point_ref:a.getComposerEntryPointRef&&a.getComposerEntryPointRef(),composer_work_shared_draft_mode:a.getComposerWorkSharedDraftMode(),has_file_been_replaced:a.getHasFileBeenReplaced(),supports_chunking:a.getSupportsChunking(),supports_file_api:a.getSupportsFileAPI(),partition_start_offset:a.getPartitionStartOffset(),partition_end_offset:a.getPartitionEndOffset(),creator_product:a.getCreatorProduct(),original_file_hash:b,spherical:a.getIsSphericalVideo(),spherical_metadata:a.getSphericalMetadata(),video_publisher_action_source:a.getVideoPublisherActionSource()}};d.cancelRequest=function(){this.$VideoUploadStartRequestManager23(),this.inform("request-canceled")};d.$VideoUploadStartRequestManager24=function(a){b("clearTimeout")(this.$VideoUploadStartRequestManager19),this.$VideoUploadStartRequestManager19=b("setTimeout")(this.$VideoUploadStartRequestManager18.bind(this),a)};d.$VideoUploadStartRequestManager23=function(){this.$VideoUploadStartRequestManager12&&(this.$VideoUploadStartRequestManager12.destroy(),this.$VideoUploadStartRequestManager12=null),this.$VideoUploadStartRequestManager11&&(this.$VideoUploadStartRequestManager11.abort(),this.$VideoUploadStartRequestManager11=null),this.$VideoUploadStartRequestManager10=0,this.$VideoUploadStartRequestManager5=0,this.$VideoUploadStartRequestManager13=null,b("clearTimeout")(this.$VideoUploadStartRequestManager19),this.$VideoUploadStartRequestManager19=null};d.$VideoUploadStartRequestManager25=function(a,b,c){a=Math.pow(a,b)*1e3;c>0&&(a=Math.min(a,c));return a};d.$VideoUploadStartRequestManager20=function(a){var c;(c=this.$VideoUploadStartRequestManager13)==null?void 0:(c=c.getRetryState())==null?void 0:c.resetDelay();c=a.getPayload();this.inform("request-finished",this.__getSuccessInformData(c));this.$VideoUploadStartRequestManager11=null;b("Assert").isTrue(this.$VideoUploadStartRequestManager12==null,"Unexpected: if file hasher is not null, clean up is required.")};d.__getSuccessInformData=function(a){return{video_id:a.video_id,xpv_asset_id:a.xpv_asset_id,upload_session_id:a.upload_session_id,fb_region:a.region_hint,start_offset:a.start_offset,end_offset:a.end_offset,transport_retries:this.$VideoUploadStartRequestManager5,server_retries:this.$VideoUploadStartRequestManager10,skip_upload:a.skip_upload,hash_time:this.$VideoUploadStartRequestManager14}};d.$VideoUploadStartRequestManager26=function(a){this.inform("request-failed",this.$VideoUploadStartRequestManager27(a)),this.$VideoUploadStartRequestManager11=null,b("Assert").isTrue(this.$VideoUploadStartRequestManager12==null,"Unexpected: if file hasher is not null, clean up is required.")};d.$VideoUploadStartRequestManager21=function(a){var b,c=this;this.$VideoUploadStartRequestManager11=null;var d=(b=this.$VideoUploadStartRequestManager13)==null?void 0:b.getRetryState();d==null?(this.$VideoUploadStartRequestManager5=0,a.isTransient()&&this.$VideoUploadStartRequestManager10<this.$VideoUploadStartRequestManager8?(this.$VideoUploadStartRequestManager10++,this.$VideoUploadStartRequestManager24(this.$VideoUploadStartRequestManager25(this.$VideoUploadStartRequestManager9,this.$VideoUploadStartRequestManager10))):this.$VideoUploadStartRequestManager26(a)):d.handleRetry({context:{location:"start-server_issue",error_code:a.getError()},predicate:function(){return a.isTransient()},retryHandler:function(a){c.$VideoUploadStartRequestManager10=d.getTotalRetryCount(),c.$VideoUploadStartRequestManager24(a)},failureHandler:function(){return c.$VideoUploadStartRequestManager26(a)}})};d.$VideoUploadStartRequestManager22=function(a){var b,c=this;((b=this.$VideoUploadStartRequestManager13)==null?void 0:b.getRetryState())==null?this.$VideoUploadStartRequestManager2===0||this.$VideoUploadStartRequestManager5>=this.$VideoUploadStartRequestManager2?this.$VideoUploadStartRequestManager26(a):(this.$VideoUploadStartRequestManager5++,this.$VideoUploadStartRequestManager11=null,this.$VideoUploadStartRequestManager24(this.$VideoUploadStartRequestManager25(this.$VideoUploadStartRequestManager3,this.$VideoUploadStartRequestManager5,this.$VideoUploadStartRequestManager4))):this.$VideoUploadStartRequestManager13.getRetryState().handleRetry({context:{location:"start-transport_issue",error_code:a.getError()},retryHandler:function(a){c.$VideoUploadStartRequestManager11=null,c.$VideoUploadStartRequestManager24(a)},failureHandler:function(){return c.$VideoUploadStartRequestManager26(a)}})};d.$VideoUploadStartRequestManager27=function(a){return{error_code:a.getError(),error_description:a.getErrorDescription(),error_summary:a.getErrorSummary(),transport_retries:this.$VideoUploadStartRequestManager5,server_retries:this.$VideoUploadStartRequestManager10,error_is_transient:a.isTransient(),www_request_id:(a=a.getPayload())==null?void 0:a.__www_request_id__}};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("mediaUploadLogStackTrace",["Banzai","ErrorNormalizeUtils","err","gkx"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){if(b("gkx")("1816889")){var c=b("ErrorNormalizeUtils").normalizeError(b("err")("no-op"));c=c.stack;a={event:"upload.client.media_debug_info",waterfall_id:a.waterfallID,source:a.sourceType,composer_entry_point_ref:a.composerEntryPointRef,error_trace:c};b("Banzai").post("video_waterfall",a,b("Banzai").VITAL)}}}),null);
__d("VideoUploadSession",["requireCond","cr:909282","AsyncRequest","GraphQLVideoPublishUtils","SubscriptionsHandler","VideoUploadCrashMonitor","VideoUploadFeatureDetector","VideoUploadFileValidator","VideoUploadGraphQLPostRequestManager","VideoUploadLogger","VideoUploadMetadataParser","VideoUploadPostRequestManager","VideoUploadReceiveRequestManager","VideoUploadRequestContext","cr:1661398","VideoUploadStartRequestManager","WaterfallIDGenerator","getByPath","gkx","mixin","mediaUploadLogStackTrace"],(function(a,b,c,d,e,f){var g={CANCELED:"canceled",ABANDONED:"abandoned",SHUTDOWN:"shutdown"};a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$VideoUploadSession1=c.source;d.$VideoUploadSession2=c.composer_dialog_version;d.$VideoUploadSession3=c.target_id;d.$VideoUploadSession4=c.logging_delay;d.$VideoUploadSession5=c.silent_file_validation;d.$VideoUploadSession6=c.background_upload;d.$VideoUploadSession7=c.actor_id;d.$VideoUploadSession8=c.composer_entry_point_ref;d.$VideoUploadSession9=c.composer_work_shared_draft_mode;d.$VideoUploadSession10=c.video_publisher_action_source;d.$VideoUploadSession11=c.monitor_crashes;d.$VideoUploadSession12=c.isMultiMediaPost;d.$VideoUploadSession13=c.container_type;d.$VideoUploadSession14=c.number_of_partitions;d.$VideoUploadSession15=c.multi_partitioning_enabled;d.$VideoUploadSession16=c.change_default_chunk_size;d.$VideoUploadSession17=c.has_file_been_replaced?c.has_file_been_replaced:!1;d.$VideoUploadSession16&&(d.$VideoUploadSession18=c.client_chunk_size);d.$VideoUploadSession19=c.early_receive;d.$VideoUploadSession20=!1;d.$VideoUploadSession21=c.accept_dimensions_from_player;d.$VideoUploadSession22=c.ad_account_id;d.$VideoUploadSession23=c.waterfall_id;d.$VideoUploadSession24=new(b("VideoUploadFileValidator"))({minSize:c.min_size,maxSize:c.max_size,minLength:c.min_length,maxLength:c.max_length,minWidth:c.min_width,minHeight:c.min_height,extensions:c.extensions,source:c.source,require16to9AspectRatio:c.require_16to9_aspect_ratio,minAspectRatio:c.min_aspect_ratio,maxAspectRatio:c.max_aspect_ratio,acceptDimensionsFromPlayer:c.accept_dimensions_from_player});d.$VideoUploadSession25=b("VideoUploadFeatureDetector").supportsChunking();d.$VideoUploadSession26=b("VideoUploadFeatureDetector").supportsFileAPI();d.$VideoUploadSession25?(d.$VideoUploadSession27=c.parallel_chunk_uploads,d.$VideoUploadSession27&&(d.$VideoUploadSession28=c.parallel_chunk_upload_filesize,d.$VideoUploadSession29=c.default_chunk_size)):d.$VideoUploadSession27=!1;d.$VideoUploadSession30=c.shutdown_logging_enabled;d.$VideoUploadSession31=d.$VideoUploadSession32(c);d.$VideoUploadSession33=d.$VideoUploadSession34(c);if(d.$VideoUploadSession27)if(d.$VideoUploadSession15){var e=0;d.$VideoUploadSession35=[];for(e=0;e<d.$VideoUploadSession14-1;e++)d.$VideoUploadSession35[e]=d.$VideoUploadSession34(c)}else d.$VideoUploadSession35=d.$VideoUploadSession34(c);d.$VideoUploadSession36=d.$VideoUploadSession37(c);d.$VideoUploadSession38=d.$VideoUploadSession39(c);d.$VideoUploadSession40=c.log_free_local_storage;d.$VideoUploadSession41=null;return d}var d=c.prototype;d.$VideoUploadSession42=function(){this.$VideoUploadSession43=[];this.$VideoUploadSession44=[];this.$VideoUploadSession45=[];this.$VideoUploadSession46=[];this.$VideoUploadSession47=[];var a=0;for(a=0;a<this.$VideoUploadSession48-1;a++)this.$VideoUploadSession43.push(!1)};d.$VideoUploadSession49=function(){var a;this.$VideoUploadSession23==null&&(this.$VideoUploadSession23=b("WaterfallIDGenerator").generate());this.$VideoUploadSession50=new(b("VideoUploadLogger"))({actor_id:this.$VideoUploadSession7,ad_account_id:this.$VideoUploadSession22,source:this.$VideoUploadSession1,composer_dialog_version:this.$VideoUploadSession2,waterfall_id:this.$VideoUploadSession23,target_id:this.$VideoUploadSession3,delay:this.$VideoUploadSession4,is_chunked_upload:this.$VideoUploadSession25,composer_entry_point_ref:this.$VideoUploadSession8,composer_work_shared_draft_mode:this.$VideoUploadSession9,container_type:this.$VideoUploadSession13,has_file_been_replaced:this.$VideoUploadSession17,composer_session_id:this.$VideoUploadSession51,asset_id:(a=this.$VideoUploadSession52)==null?void 0:a.getStableAssetID()});this.inform("set-waterfall-id",{waterfallID:this.$VideoUploadSession23})};d.createTestLogger=function(){this.$VideoUploadSession49()};d.$VideoUploadSession53=function(){this.$VideoUploadSession50||this.$VideoUploadSession49();return this.$VideoUploadSession50};d.getLogger=function(){return!this.$VideoUploadSession50?null:this.$VideoUploadSession50};d.$VideoUploadSession54=function(){var a,c=this;a=b("cr:1661398")==null?void 0:(a=b("cr:1661398").VideoUploadRetries)==null?void 0:a.createState();a!=null&&(a.addListener("retry-attempted",function(a){var d=a.delay_retry_count,e=a.total_retry_count,f=a.since_started_ms,g=a.retry_context;a=a.backoff_ms;c.__logEvent(b("VideoUploadLogger").EVENT_RETRY_ATTEMPT,{retries:e,elapsed_time:f,error_trace:g==null?void 0:g.location,error_code:g==null?void 0:g.error_code,debug:{delay_retry_count:d,backoff_ms:a}})}),a.addListener("retries-abandoned",function(a){var d=a.delay_retry_count,e=a.total_retry_count,f=a.since_started_ms,g=a.retry_context;a=a.abandon_reason;c.__logEvent(b("VideoUploadLogger").EVENT_RETRY_ATTEMPT,{retries:e,elapsed_time:f,error:a,error_trace:g==null?void 0:g.location,error_code:g==null?void 0:g.error_code,debug:{delay_retry_count:d}})}));return a};d.start=function(a){var c=this;this.$VideoUploadSession55=null;this.$VideoUploadSession56=null;this.$VideoUploadSession57=null;this.$VideoUploadSession58=!1;this.$VideoUploadSession59=!1;this.$VideoUploadSession60=null;this.$VideoUploadSession52=a;this.$VideoUploadSession61=0;this.$VideoUploadSession62=!1;this.$VideoUploadSession63={sphericalMetadataXml:null,fbSpatialAudioMetadataXml:null,ytSa3dMetadataJson:null};this.$VideoUploadSession64=!1;this.$VideoUploadSession41=this.$VideoUploadSession54();this.$VideoUploadSession49();b("mediaUploadLogStackTrace")({waterfallID:this.$VideoUploadSession23,sourceType:this.$VideoUploadSession1,composerEntryPointRef:this.$VideoUploadSession8});this.$VideoUploadSession15&&(this.$VideoUploadSession48=Math.min(this.$VideoUploadSession14,Math.ceil(this.$VideoUploadSession52.getSize()/this.$VideoUploadSession28)));this.__logEvent(b("VideoUploadLogger").EVENT_REQUESTED_UPLOADING);this.inform("upload-requested");a=new(b("VideoUploadMetadataParser"))(this.$VideoUploadSession52,this.$VideoUploadSession65.bind(this),this.$VideoUploadSession21);a.parse();this.$VideoUploadSession40&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota(function(a,d){c.__logEvent(b("VideoUploadLogger").EVENT_MEASURE_FREE_LOCAL_STORAGE,{free_space_in_device:d})})};d.setTargetID=function(a){this.$VideoUploadSession3=a};d.setComposerSessionID=function(a){this.$VideoUploadSession51=a};d.post=function(a){var c;this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_POST_REQUEST,this.$VideoUploadSession66);this.inform("post-started",a);var d=this.__createPostRequestContext(a);if(b("GraphQLVideoPublishUtils").isGraphQLPublish(this.$VideoUploadSession1,this.$VideoUploadSession8,(c=a==null?void 0:a.isProfilePlus)!=null?c:!1,(c=a==null?void 0:a.shouldPremiere)!=null?c:!1)&&this.$VideoUploadSession38.hasAPISupport(a)){this.$VideoUploadSession38.sendRequest(d);this.$VideoUploadSession67=a;return}this.$VideoUploadSession36.sendRequest(d);this.$VideoUploadSession67=a};d.__createPostRequestContext=function(a){var c=new(b("VideoUploadRequestContext"))();this.__setupPostRequestContext(c,a);return c};d.__setupPostRequestContext=function(a,b){a.setMetadata(b).setVideoID(this.$VideoUploadSession55).setTargetID(this.$VideoUploadSession3).setSource(this.$VideoUploadSession1).setComposerDialogVersion(this.$VideoUploadSession2).setComposerWorkSharedDraftMode(this.$VideoUploadSession9).setWaterfallID(this.$VideoUploadSession23).setComposerSessionID(this.$VideoUploadSession51).setSupportsChunking(this.$VideoUploadSession25).setCreatorProduct(this.$VideoUploadSession52.getCreatorProduct()).setFile(this.$VideoUploadSession52).setHasFileBeenReplaced(this.$VideoUploadSession17),b&&(b.spherical&&(this.$VideoUploadSession62=!0,a.setIsSphericalVideo(this.$VideoUploadSession62)),b.enable_omnistab&&(this.$VideoUploadSession64=!0,a.setEnableOmnistab(this.$VideoUploadSession64))),a.setComposerEntryPointRef&&a.setComposerEntryPointRef(this.$VideoUploadSession8)};d.$VideoUploadSession68=function(a,d){if(this.$VideoUploadSession58){var e={event_reason:d,debug:babelHelpers["extends"]({},this.__fetchReceiveRequestManagerStateLogData(),{is_background_upload:this.$VideoUploadSession6})};d=d===g.CANCELED?b("VideoUploadLogger").EVENT_CANCELED_UPLOADING:b("VideoUploadLogger").EVENT_ABANDONED_UPLOADING;this.$VideoUploadSession69();this.$VideoUploadSession6?(this.$VideoUploadSession59||this.__logEvent(d),this.$VideoUploadSession70&&(this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_FLOW,e),this.$VideoUploadSession70=!1)):(this.__logEvent(d),this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_FLOW,e));this.inform("upload-canceled")}else a&&this.$VideoUploadSession55&&c.deleteVideo(this.$VideoUploadSession55)};d.cancel=function(a){a===void 0&&(a=!1),this.$VideoUploadSession68(a,g.CANCELED)};d.abandon=function(a){a===void 0&&(a=!1),this.$VideoUploadSession68(a,g.ABANDONED)};d.isPostInProgress=function(){return this.$VideoUploadSession36.isInProgress()};d.isInProgress=function(){return this.$VideoUploadSession58};d.getHasUploadFinished=function(){return this.$VideoUploadSession59};d.getVideoID=function(){return this.$VideoUploadSession55};d.getUploadTime=function(){return this.$VideoUploadSession71};d.getExPartitionNumber=function(a){var b;for(b=0;b<this.$VideoUploadSession48-1;b++)if(a>=this.$VideoUploadSession44[b]&&a<this.$VideoUploadSession45[b])break;return b===this.$VideoUploadSession48?-1:b};d.getIsSphericalVideo=function(){return this.$VideoUploadSession62||!1};d.startFlow=function(){if(!this.$VideoUploadSession6||this.$VideoUploadSession70)return;this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_FLOW,{is_spherical:this.getIsSphericalVideo()?"true":null});this.$VideoUploadSession70=!0;this.$VideoUploadSession72&&this.$VideoUploadSession72.flowStarted()};d.__extractVideoMetadata=function(a){var c;a=(c=b("getByPath"))(a,["streams","primaryVideo"]);c={source_height:c(a,["height"]),source_width:c(a,["width"]),duration:c(a,["duration"])*1e3};c.original_video_duration=c.duration;return c};d.$VideoUploadSession65=function(a){var c;if(this.$VideoUploadSession5){var d=this.$VideoUploadSession24.getValidationErrorMessage(this.$VideoUploadSession52,a);d?(c={error_summary:d.summary,error_description:d.description},d=!1):d=!0}else d=this.$VideoUploadSession24.validate(this.$VideoUploadSession52,a);if(!d){this.__logEvent(b("VideoUploadLogger").EVENT_INVALIDATED_UPLOADING);this.inform("upload-failed",c);return}this.$VideoUploadSession66=this.__extractVideoMetadata(a);a&&a.format&&(this.$VideoUploadSession62=a.format.isSpherical,a.metadata&&(this.$VideoUploadSession63.sphericalMetadataXml=a.metadata.sphericalMetadataXml,this.$VideoUploadSession63.fbSpatialAudioMetadataXml=a.metadata.fbSpatialAudioMetadataXml,this.$VideoUploadSession63.ytSa3dMetadataJson=a.metadata.ytSa3dMetadataJson));this.$VideoUploadSession6||this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_FLOW,{is_spherical:this.getIsSphericalVideo()?"true":null});this.$VideoUploadSession73=this.$VideoUploadSession27&&this.$VideoUploadSession52.getSize()>=this.$VideoUploadSession28;this.$VideoUploadSession74=!1;this.$VideoUploadSession75=0;this.$VideoUploadSession76=this.$VideoUploadSession75;this.$VideoUploadSession77=0;this.$VideoUploadSession15?this.$VideoUploadSession42():this.$VideoUploadSession43=!1;if(this.$VideoUploadSession73)if(this.$VideoUploadSession15){d=0;this.$VideoUploadSession78=Math.ceil(this.$VideoUploadSession52.getSize()/this.$VideoUploadSession48);var e=this.$VideoUploadSession78,f=this.$VideoUploadSession78;for(d=0;d<this.$VideoUploadSession48-1;d++)this.$VideoUploadSession44[d]=e,e=Math.min(this.$VideoUploadSession44[d]+f,this.$VideoUploadSession52.getSize()),this.$VideoUploadSession45[d]=e,this.$VideoUploadSession46[d]=this.$VideoUploadSession44[d],this.$VideoUploadSession47[d]=0}else this.$VideoUploadSession78=Math.floor(this.$VideoUploadSession52.getSize()/2),this.$VideoUploadSession44=this.$VideoUploadSession78,this.$VideoUploadSession46=this.$VideoUploadSession44,this.$VideoUploadSession47=0,this.$VideoUploadSession45=this.$VideoUploadSession52.getSize();else this.$VideoUploadSession78=this.$VideoUploadSession52.getSize();d=new(b("VideoUploadRequestContext"))().setFile(this.$VideoUploadSession52).setTargetID(this.$VideoUploadSession3).setSource(this.$VideoUploadSession1).setComposerDialogVersion(this.$VideoUploadSession2).setComposerWorkSharedDraftMode(this.$VideoUploadSession9).setWaterfallID(this.$VideoUploadSession23).setComposerSessionID(this.$VideoUploadSession51).setHasFileBeenReplaced(this.$VideoUploadSession17).setSupportsChunking(this.$VideoUploadSession25).setSupportsFileAPI(this.$VideoUploadSession26).setCreatorProduct(this.$VideoUploadSession52.getCreatorProduct()).setPartitionStartOffset(this.$VideoUploadSession75).setPartitionEndOffset(this.$VideoUploadSession78).setRetryState(this.$VideoUploadSession41);this.$VideoUploadSession27&&d.setUseParallelChunks(this.$VideoUploadSession27);this.$VideoUploadSession62&&(d.setIsSphericalVideo(this.$VideoUploadSession62),d.setSphericalMetadata(this.$VideoUploadSession63));d.setComposerEntryPointRef&&d.setComposerEntryPointRef(this.$VideoUploadSession8);d.setVideoPublisherActionSource(this.$VideoUploadSession10);this.$VideoUploadSession79();this.$VideoUploadSession31.sendRequest(d);this.$VideoUploadSession19&&this.$VideoUploadSession16&&this.$VideoUploadSession33.isResumabilityEnabled()&&!this.$VideoUploadSession33.isResumableServiceProxyReceiveEnabled()&&this.$VideoUploadSession80();this.inform("metadata-parsed",a)};d.$VideoUploadSession32=function(a){var b=this.$VideoUploadSession25?a.chunk_start_uri:a.start_uri;b=this.__getVideoUploadStartRequestManager(b,a.start_max_transport_retries,a.start_transport_retry_interval_base,a.start_max_transport_retry_timeout,a.skip_upload_enabled,a.skip_upload_file_size_limit,a.start_max_server_retries,a.start_server_retry_interval_base);b.subscribe("request-started",this.$VideoUploadSession81.bind(this));b.subscribe("request-finished",this.$VideoUploadSession82.bind(this));b.subscribe("request-failed",this.$VideoUploadSession83.bind(this));b.subscribe("request-canceled",this.$VideoUploadSession84.bind(this));return b};d.$VideoUploadSession34=function(a){var b=this.$VideoUploadSession25?a.chunk_receive_uri:a.receive_uri;b=this.__getVideoUploadReceiveRequestManager(b,a);b.subscribe("request-started",this.$VideoUploadSession85.bind(this));b.subscribe("request-progressed",this.$VideoUploadSession86.bind(this));b.subscribe("request-finished",this.$VideoUploadSession87.bind(this));b.subscribe("request-failed",this.$VideoUploadSession88.bind(this));b.subscribe("request-canceled",this.$VideoUploadSession89.bind(this));b.subscribe("request-timeout",this.$VideoUploadSession90.bind(this));b.subscribe("online",this.$VideoUploadSession91.bind(this));b.subscribe("offline",this.$VideoUploadSession92.bind(this));b.subscribe("resumable-called",this.$VideoUploadSession93.bind(this));b.subscribe("resumable-started",this.$VideoUploadSession94.bind(this));b.subscribe("resumable-success",this.$VideoUploadSession95.bind(this));b.subscribe("resumable-failed",this.$VideoUploadSession96.bind(this));return b};d.$VideoUploadSession37=function(a){var b=this.$VideoUploadSession25?a.chunk_post_uri:a.post_uri;b=this.__getVideoUploadPostRequestManager(b,a);b.subscribe("request-finished",this.__handlePostRequestFinished.bind(this));b.subscribe("request-failed",this.$VideoUploadSession97.bind(this));return b};d.$VideoUploadSession39=function(a){a=new(b("VideoUploadGraphQLPostRequestManager"))(isNaN(a.post_max_transport_retries)?0:a.post_max_transport_retries,isNaN(a.post_transport_retry_interval_base)?0:a.post_transport_retry_interval_base,isNaN(a.post_max_server_retries)?0:a.post_max_server_retries,isNaN(a.post_server_retry_interval_base)?0:a.post_server_retry_interval_base);a.subscribe("request-finished",this.__handlePostRequestFinished.bind(this));a.subscribe("request-failed",this.$VideoUploadSession97.bind(this));return a};d.$VideoUploadSession81=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_UPLOADING,babelHelpers["extends"]({hash_time:c.hash_time,hash_exception:c.hash_exception},this.$VideoUploadSession66)),this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_START_REQUEST,this.$VideoUploadSession66),this.$VideoUploadSession98=Date.now(),this.inform("upload-started")};d.$VideoUploadSession80=function(a){if(!this.$VideoUploadSession20){this.$VideoUploadSession20=!0;a||(a={video_id:null});var b;b=this.__createReceiveRequestContext(a,!1);this.$VideoUploadSession33.sendRequest(b);if(this.$VideoUploadSession73)if(this.$VideoUploadSession15){var c=0;for(c=0;c<this.$VideoUploadSession48-1;c++)b=this.__createReceiveRequestContext(a,!0,c),this.$VideoUploadSession35[c].sendRequest(b)}else b=this.__createReceiveRequestContext(a,!0),this.$VideoUploadSession35.sendRequest(b)}else this.$VideoUploadSession99()};d.$VideoUploadSession99=function(){this.$VideoUploadSession33.updateVideoID(this.$VideoUploadSession55);if(this.$VideoUploadSession73)if(this.$VideoUploadSession15){var a=0;for(a=0;a<this.$VideoUploadSession48-1;a++)this.$VideoUploadSession35[a].updateVideoID(this.$VideoUploadSession55)}else this.$VideoUploadSession35.updateVideoID(this.$VideoUploadSession55)};d.$VideoUploadSession100=function(a){if(this.$VideoUploadSession41==null)return((a==null?void 0:a.transport_retries)||0)+((a==null?void 0:a.server_retries)||0)+((a==null?void 0:a.timeout_retries)||0);else return this.$VideoUploadSession41.getTotalRetryCount()};d.$VideoUploadSession82=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_PROGRESS_UPLOADING_START_REQUEST,{retries:this.$VideoUploadSession100(c),transport_retries:c.transport_retries,hash_time:c.hash_time,skip_upload:c.skip_upload?1:null}),this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_START_REQUEST,babelHelpers["extends"]({video_id:c.video_id},this.$VideoUploadSession66)),this.$VideoUploadSession55=c.video_id,this.$VideoUploadSession56=c.upload_session_id,this.$VideoUploadSession57=c.fb_region,this.$VideoUploadSession101=c.skip_upload,!c.skip_upload?this.$VideoUploadSession80(c):(this.$VideoUploadSession102(),this.inform("upload-progressed",{start_offset:0,end_offset:this.$VideoUploadSession52.getSize(),file_size:this.$VideoUploadSession52.getSize(),sent_bytes:this.$VideoUploadSession52.getSize(),video_id:c.video_id,skip_upload:c.skip_upload}),this.$VideoUploadSession6&&this.__logFinishedUploading(),this.inform("upload-finished",{start_offset:0,end_offset:this.$VideoUploadSession52.getSize(),video_id:c.video_id,is_spherical_video:this.$VideoUploadSession62}))};d.__fetchReceiveRequestManagerStateLogData=function(){var a={};this.$VideoUploadSession33!=null&&(this.$VideoUploadSession33.appendStateLogData(a,"requestManager_"),a.request_manager_state=a.requestManager_last_log_state);if(this.$VideoUploadSession15){var b=0;for(b=0;b<this.$VideoUploadSession48-1;b++)this.$VideoUploadSession35[b]!=null&&this.$VideoUploadSession35[b].appendStateLogData(a,"requestManagerEx_"+b.toString())}else this.$VideoUploadSession35!=null&&this.$VideoUploadSession35.appendStateLogData(a,"requestManagerEx_");return a};d.__createReceiveRequestContext=function(a,c,d){c||(c=!1);var e=new(b("VideoUploadRequestContext"))();this.$VideoUploadSession15?this.__setupReceiveRequestContext(e,a,c,d):this.__setupReceiveRequestContext(e,a,c);return e};d.__setupReceiveRequestContext=function(a,b,c,d){var e,f,g;!c?(c=this.$VideoUploadSession75,e=this.$VideoUploadSession78,this.$VideoUploadSession16?(f=this.$VideoUploadSession75,g=this.$VideoUploadSession18?Math.min(this.$VideoUploadSession18,this.$VideoUploadSession78):this.$VideoUploadSession78):(f=b.start_offset,g=b.end_offset)):this.$VideoUploadSession15?(this.$VideoUploadSession16&&(this.$VideoUploadSession29=this.$VideoUploadSession45[d]-this.$VideoUploadSession44[d],this.$VideoUploadSession29=this.$VideoUploadSession18?Math.min(this.$VideoUploadSession18,this.$VideoUploadSession29):this.$VideoUploadSession29),c=this.$VideoUploadSession44[d],e=this.$VideoUploadSession45[d],f=this.$VideoUploadSession44[d],g=this.$VideoUploadSession44[d]+this.$VideoUploadSession29>=this.$VideoUploadSession45[d]?this.$VideoUploadSession45[d]:this.$VideoUploadSession44[d]+this.$VideoUploadSession29):(this.$VideoUploadSession16&&(this.$VideoUploadSession29=this.$VideoUploadSession45-this.$VideoUploadSession44,this.$VideoUploadSession29=this.$VideoUploadSession18?Math.min(this.$VideoUploadSession18,this.$VideoUploadSession29):this.$VideoUploadSession29),c=this.$VideoUploadSession44,e=this.$VideoUploadSession45,f=this.$VideoUploadSession44,g=this.$VideoUploadSession44+this.$VideoUploadSession29>=this.$VideoUploadSession45?this.$VideoUploadSession45:this.$VideoUploadSession44+this.$VideoUploadSession29);a.setFile(this.$VideoUploadSession52).setVideoID(b.video_id).setXPVAssetID(b.xpv_asset_id).setUploadSessionID(b.upload_session_id).setFbRegion(b.fb_region).setStartOffset(f).setEndOffset(g).setPartitionStartOffset(c).setPartitionEndOffset(e).setPartitionNo(d).setTargetID(this.$VideoUploadSession3).setSource(this.$VideoUploadSession1).setComposerDialogVersion(this.$VideoUploadSession2).setComposerWorkSharedDraftMode(this.$VideoUploadSession9).setWaterfallID(this.$VideoUploadSession23).setComposerSessionID(this.$VideoUploadSession51).setSupportsChunking(this.$VideoUploadSession25).setHasFileBeenReplaced(this.$VideoUploadSession17).setRetryState(this.$VideoUploadSession41);this.$VideoUploadSession27&&a.setUseParallelChunks(this.$VideoUploadSession27);a.setComposerEntryPointRef&&a.setComposerEntryPointRef(this.$VideoUploadSession8);this.$VideoUploadSession18&&a.setClientChunkSize(this.$VideoUploadSession18)};d.$VideoUploadSession83=function(a,c){a=this.__getLogErrorData(c);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_START_REQUEST,a);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING,a);a=c.error_is_transient?b("VideoUploadLogger").EVENT_RESIGNED_FLOW:b("VideoUploadLogger").EVENT_FAILED_FLOW;this.$VideoUploadSession6?this.$VideoUploadSession70&&(this.__logEvent(a),this.$VideoUploadSession70=!1):this.__logEvent(a);this.$VideoUploadSession102();this.$VideoUploadSession103();this.inform("upload-failed",c)};d.$VideoUploadSession84=function(a){this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_START_REQUEST)};d.$VideoUploadSession85=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_RECEIVE_REQUEST,{debug:c.debug}),!c.start_offset&&!c.transport_retries&&!c.server_retries&&this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_SENDING_BYTES,{total_bytes:this.$VideoUploadSession52.getSize(),upload_domain:c.upload_domain,debug:c.debug}),this.$VideoUploadSession25&&this.__logEvent(b("VideoUploadLogger").EVENT_STARTED_SENDING_CHUNK_BYTES,{start_offset:c.start_offset,total_bytes:c.end_offset-c.start_offset,retries:this.$VideoUploadSession100(c),transport_retries:c.transport_retries,server_retries:c.server_retries,upload_speed:c.upload_speed,request_manager_state:c.request_manager_state,upload_domain:c.upload_domain,debug:c.debug})};d.$VideoUploadSession86=function(a,b){if(b.start_offset<this.$VideoUploadSession78)this.$VideoUploadSession76=b.start_offset,this.$VideoUploadSession77=b.sent_bytes;else if(this.$VideoUploadSession15){a=this.getExPartitionNumber(b.start_offset);a>-1&&(this.$VideoUploadSession46[a]=b.start_offset,this.$VideoUploadSession47[a]=b.sent_bytes)}else this.$VideoUploadSession46=b.start_offset,this.$VideoUploadSession47=b.sent_bytes;b.start_offset=this.$VideoUploadSession76;b.sent_bytes=this.$VideoUploadSession77;if(this.$VideoUploadSession73)if(this.$VideoUploadSession15)for(a=0;a<this.$VideoUploadSession48-1;a++)b.start_offset+=this.$VideoUploadSession46[a]-this.$VideoUploadSession44[a],b.sent_bytes+=this.$VideoUploadSession47[a];else b.start_offset+=this.$VideoUploadSession46-this.$VideoUploadSession44,b.sent_bytes+=this.$VideoUploadSession47;a=Math.min(b.start_offset+b.sent_bytes,b.file_size);a>this.$VideoUploadSession61&&(this.$VideoUploadSession61=a,this.inform("upload-progressed",b))};d.$VideoUploadSession87=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_RECEIVE_REQUEST,{debug:c.debug});this.$VideoUploadSession25&&this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_SENDING_CHUNK_BYTES,{start_offset:c.start_offset,sent_bytes:c.end_offset-c.start_offset,retries:this.$VideoUploadSession100(c),transport_retries:c.transport_retries,server_retries:c.server_retries,upload_speed:c.upload_speed,request_manager_state:c.request_manager_state,upload_domain:c.upload_domain,debug:c.debug});a=!1;if(c.start_offset<this.$VideoUploadSession78)this.$VideoUploadSession74=c.end_offset>=this.$VideoUploadSession78;else if(this.$VideoUploadSession15){var d;d=this.getExPartitionNumber(c.start_offset);if(d===-1){var e={error_summary:"Invalid offset",error_description:"Offset doesn't fall in any exPartition range."};this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING);this.inform("upload-failed",e);return}this.$VideoUploadSession43[d]=c.end_offset>=this.$VideoUploadSession45[d]}else this.$VideoUploadSession43=c.end_offset>=this.$VideoUploadSession45;if(this.$VideoUploadSession15)for(d=0;d<this.$VideoUploadSession48-1;d++)if(this.$VideoUploadSession43[d]===!1){a=!1;break}else a=!0;else a=this.$VideoUploadSession43;(!this.$VideoUploadSession26||this.$VideoUploadSession74&&(!this.$VideoUploadSession73||a))&&(this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_SENDING_BYTES,{sent_bytes:this.$VideoUploadSession52.getSize(),upload_domain:c.upload_domain,debug:c.debug}),this.$VideoUploadSession71=Date.now()-this.$VideoUploadSession98,this.$VideoUploadSession6&&this.__logFinishedUploading(),c.video_id=this.$VideoUploadSession55,c.is_spherical_video=this.$VideoUploadSession62,this.inform("upload-finished",c),this.$VideoUploadSession12&&(this.$VideoUploadSession6||this.__logFinishedUploading(),this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_FLOW,c),this.$VideoUploadSession70=!1,this.$VideoUploadSession103(),this.inform("multimedia-upload-finished",c)))};d.$VideoUploadSession88=function(a,c){a=this.__getLogErrorData(c);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_RECEIVE_REQUEST,a);this.$VideoUploadSession25&&this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_SENDING_CHUNK_BYTES,a);if(this.$VideoUploadSession58){this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_SENDING_BYTES,a);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING,a);var d=c.error_is_transient?b("VideoUploadLogger").EVENT_RESIGNED_FLOW:b("VideoUploadLogger").EVENT_FAILED_FLOW;this.$VideoUploadSession6?this.$VideoUploadSession70&&(this.__logEvent(d,a),this.$VideoUploadSession70=!1):this.__logEvent(d,a)}this.$VideoUploadSession103();this.inform("upload-failed",c)};d.$VideoUploadSession89=function(a){this.$VideoUploadSession25?this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_SENDING_CHUNK_BYTES):this.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_SENDING_BYTES)};d.$VideoUploadSession90=function(a,c){a={start_offset:c.start_offset,sent_bytes:c.end_offset-c.start_offset,retries:this.$VideoUploadSession100(c),transport_retries:c.transport_retries,server_retries:c.server_retries,timeout_retries:c.timeout_retries,upload_speed:c.upload_speed,request_manager_state:c.request_manager_state,debug:c.debug};this.__logEvent(b("VideoUploadLogger").EVENT_TIMEOUT_SENDING_CHUNK_BYTES,a)};d.$VideoUploadSession91=function(a,b){this.inform("online",b)};d.$VideoUploadSession92=function(a,b){this.inform("offline",b)};d.$VideoUploadSession93=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_RESUMABLE_CALLED,c)};d.$VideoUploadSession94=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_RESUMABLE_STARTED,c)};d.$VideoUploadSession95=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_RESUMABLE_SUCCESS,c)};d.$VideoUploadSession96=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_RESUMABLE_FAILED,c)};d.__handlePostRequestFinished=function(a,c){this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_POST_REQUEST,babelHelpers["extends"]({video_id:this.$VideoUploadSession55},this.$VideoUploadSession66));c.video_id||(c.video_id=this.$VideoUploadSession55);this.$VideoUploadSession6||this.__logFinishedUploading();this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_FLOW);this.$VideoUploadSession70=!1;this.$VideoUploadSession103();a=babelHelpers["extends"]({},c,this.$VideoUploadSession67);this.inform("post-finished",a)};d.__logFinishedUploading=function(){this.__logEvent(b("VideoUploadLogger").EVENT_FINISHED_UPLOADING,babelHelpers["extends"]({elapsed_time:this.$VideoUploadSession71,skip_upload:this.$VideoUploadSession101?1:null,video_id:this.$VideoUploadSession55},this.$VideoUploadSession66)),this.$VideoUploadSession59=!0};d.$VideoUploadSession97=function(a,c){a=this.__getLogErrorData(c);this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_POST_REQUEST,a);if(this.$VideoUploadSession58){this.__logEvent(b("VideoUploadLogger").EVENT_FAILED_UPLOADING,a);var d=c.error_is_transient?b("VideoUploadLogger").EVENT_RESIGNED_FLOW:b("VideoUploadLogger").EVENT_FAILED_FLOW;this.__logEvent(d,a)}this.$VideoUploadSession103();this.inform("post-failed",c)};d.$VideoUploadSession102=function(){this.$VideoUploadSession33.cancelRequest();if(this.$VideoUploadSession73)if(this.$VideoUploadSession15){var a=0;for(a=0;a<this.$VideoUploadSession48-1;a++)this.$VideoUploadSession35[a].cancelRequest()}else this.$VideoUploadSession35.cancelRequest();this.$VideoUploadSession20=!1};d.$VideoUploadSession69=function(){this.$VideoUploadSession31.cancelRequest(),this.$VideoUploadSession102(),this.$VideoUploadSession103(),this.$VideoUploadSession55&&(c.deleteVideo(this.$VideoUploadSession55),this.$VideoUploadSession55=null,this.$VideoUploadSession56=null,this.$VideoUploadSession57=null)};d.$VideoUploadSession79=function(){var a=this;this.$VideoUploadSession58=!0;this.$VideoUploadSession30&&(this.$VideoUploadSession60=new(b("SubscriptionsHandler"))(),this.$VideoUploadSession60.addSubscriptions(this.$VideoUploadSession53().postOnShutdown(function(){if(a.$VideoUploadSession58){var c={event_reason:g.SHUTDOWN,debug:babelHelpers["extends"]({},a.__fetchReceiveRequestManagerStateLogData(),{is_background_upload:a.$VideoUploadSession6})};a.$VideoUploadSession6?a.$VideoUploadSession70&&a.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_FLOW,c):a.__logEvent(b("VideoUploadLogger").EVENT_CANCELED_FLOW,c)}})));this.$VideoUploadSession11&&(this.$VideoUploadSession72=new(b("VideoUploadCrashMonitor"))(this.$VideoUploadSession23,this.$VideoUploadSession7,this.$VideoUploadSession1,this.$VideoUploadSession3,this.$VideoUploadSession4,this.$VideoUploadSession25,this.$VideoUploadSession8,!this.$VideoUploadSession6||this.$VideoUploadSession70),this.$VideoUploadSession72.startSession())};d.$VideoUploadSession103=function(){this.$VideoUploadSession58=!1,this.$VideoUploadSession60&&(this.$VideoUploadSession60.release(),this.$VideoUploadSession60=null),this.$VideoUploadSession72&&(this.$VideoUploadSession72.endSession(),this.$VideoUploadSession72=null)};d.__getLogErrorData=function(a){return{error:a.error_summary,error_code:a.error_code,error_description:a.error_description,retries:this.$VideoUploadSession100(a),transport_retries:a.transport_retries,server_retries:a.server_retries,request_manager_state:a.request_manager_state,debug:a.debug}};d.__logEvent=function(a,b){b=b||{},this.$VideoUploadSession52&&(b.file_size=this.$VideoUploadSession52.getSize(),b.file_extension=this.$VideoUploadSession52.getExtension(),b.sent_bytes=this.$VideoUploadSession61),this.$VideoUploadSession53().logEvent(a,b)};d.__getVideoUploadStartRequestManager=function(a,c,d,e,f,g,h,i){return new(b("VideoUploadStartRequestManager"))(a,c,d,e,f,g,h,i)};d.__getVideoUploadReceiveRequestManager=function(a,c){return new(b("VideoUploadReceiveRequestManager"))(a,c.max_transport_retries,c.max_transport_retry_timeout,c.max_server_retries,c.response_timeout_enabled,c.max_response_timeout_retries,c.response_timeout_speed_variation_factor_ppt,c.transport_retry_interval_base,c.server_retry_interval_base,c.receive_errors_force_retry,c.access_token,c.resumability_enabled,c.resumability_async_enabled,c.resumable_service_name,c.resumable_service_domain,c.datr,c.resumability_min_file_size,c.resumable_service_proxy_receive,c.resumable_service_send_media_info,c.resumable_service_send_file_size,c.resumable_reset_transport_retries_on_progress,c.add_flow_capture_header,c.traffic_tracing_enabled,c.traffic_tracing_min_file_size)};d.__getVideoUploadPostRequestManager=function(a,c){return new(b("VideoUploadPostRequestManager"))(a,c.post_max_transport_retries,c.post_transport_retry_interval_base,c.post_max_server_retries,c.post_server_retry_interval_base)};c.deleteVideo=function(a){a=new(b("AsyncRequest"))("/ajax/video/actions/delete").setData({fbid:a,redirect:!1});a.setErrorHandler(function(){});a.send()};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("VideoUploader",["VideoUploadCrashMonitor","VideoUploadSession","mixin","requireCond","cr:909282"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$VideoUploader1=c;d.$VideoUploader2=null;d.$VideoUploader3=null;d.$VideoUploader4=c.waterfall_id==null?null:c.waterfall_id;d.$VideoUploader5=d.$VideoUploader1.ad_account_id;c.monitor_crashes&&(d.$VideoUploader6=new(b("VideoUploadCrashMonitor"))(),d.$VideoUploader6.logKnownCrashes());return d}var d=c.prototype;d.setComposerSessionID=function(a){this.$VideoUploader7=a,this.$VideoUploader2&&this.$VideoUploader2.setComposerSessionID(a)};d.getLogger=function(){if(!this.$VideoUploader2)return;if(this.$VideoUploader2.getLogger)return this.$VideoUploader2.getLogger()};d.upload=function(a){var b=this;if(this.$VideoUploader2)return;var c=this.__getVideoUploadSession(this.$VideoUploader1);c.setComposerSessionID(this.$VideoUploader7);c.subscribe(this.__getEventsWhichShouldListenFromSession(),function(a,c){return b.$VideoUploader8(a,c)});this.$VideoUploader2=c;c.start(a)};d.__getVideoUploadSession=function(a){return new(b("VideoUploadSession"))(a)};d.__getEventsWhichShouldListenFromSession=function(){return["upload-requested","upload-started","upload-progressed","upload-finished","upload-failed","upload-canceled","post-started","post-finished","post-failed","online","offline","metadata-parsed","set-waterfall-id"]};d.postUserRequest=function(){if(!this.$VideoUploader2)return;this.$VideoUploader2.startFlow&&this.$VideoUploader2.startFlow()};d.setTargetID=function(a){if(this.$VideoUploader2==null)return;this.$VideoUploader2.setTargetID(a)};d.setHasFileBeenReplaced=function(a){this.$VideoUploader1.has_file_been_replaced=a};d.post=function(a){if(!this.$VideoUploader2)return;this.$VideoUploader2.post(a)};d.getVideoID=function(){this.$VideoUploader2&&(this.$VideoUploader3=this.$VideoUploader2.getVideoID());return this.$VideoUploader3};d.cancel=function(a){a===void 0&&(a=!1);var c=this.getVideoID();this.$VideoUploader2?this.$VideoUploader2.cancel(a):a&&c&&b("VideoUploadSession").deleteVideo(c);this.reset()};d.abandon=function(a){a===void 0&&(a=!1);var c=this.getVideoID();this.$VideoUploader2?this.$VideoUploader2.abandon(a):a&&c&&b("VideoUploadSession").deleteVideo(c);this.reset()};d.reset=function(){this.$VideoUploader2&&(this.$VideoUploader3=this.getVideoID()),this.$VideoUploader2=null};d.getUploadSession=function(){return this.$VideoUploader2};d.getLoggerData=function(){return{waterfall_id:this.$VideoUploader2?this.$VideoUploader2.$VideoUploader4:null,actor_id:this.$VideoUploader1.actor_id,target_id:this.$VideoUploader1.target_id,target_type:this.$VideoUploader1.target_type,composer_entry_point_ref:this.$VideoUploader1.composer_entry_point_ref}};d.isPostInProgress=function(){return!!this.$VideoUploader2&&this.$VideoUploader2.isPostInProgress()};d.isSessionInProgress=function(){return!!this.$VideoUploader2&&this.$VideoUploader2.isInProgress()};d.isSessionExist=function(){return!!this.$VideoUploader2};d.getUploadParameters=function(){return this.$VideoUploader1};d.__getSession=function(){return this.$VideoUploader2};d.__getEventsForWhichSessionShouldBeSetToNull=function(){return["upload-failed","post-finished","multimedia-upload-finished"]};d.$VideoUploader8=function(a,b){this.__getEventsForWhichSessionShouldBeSetToNull().includes(a)&&this.reset(),this.__delegateEvent(a,b)};d.__delegateEvent=function(a,b){this.inform(a,b)};return c}(b("mixin")(b("cr:909282")));e.exports=a}),null);
__d("ComposerMediaFileUploader",["fbt","ActorURI","ReactComposerMediaConfig","VideoUploader","VideoUploadFile","VideoUploadFlowNotifier","VideoUploadSurface","XComposerPhotoUploader","gkx","killswitch","requireCond","cr:1342782"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(){this.subscribers=[]}var b=a.prototype;b.subscribe=function(a){this.subscribers.push(a)};b.notify=function(a){this.subscribers.forEach(function(b){return b(a)})};b.unsubscribe=function(a){this.subscribers=this.subscribers.filter(function(b){return b!==a})};return a}();a=function(){a.createOrGetInstance=function(c,d,e,f){f===void 0&&(f=!1);f=(b("killswitch")("COMET_COMPOSER_MEDIA_UPLOADER_PER_ACTOR_SINGLETON")?a.$1:a.$2.get(c))||new a(c,d,e,f);if(f.creationSessionID!==e){var g;f.creationSessionID=(g=e)!=null?g:"";f.videoUploaderConfig=d;f.videoUploadFlowNotifier=b("VideoUploadFlowNotifier").createVideoUploadFlowNotifier({cancel_on_leave:!1,composer_entry_point_ref:(g=f.videoUploaderConfig.composer_entry_point_ref)!=null?g:"unknown",composer_session_id:(d=e)!=null?d:"",extended_flow_logging_enabled:!0,source:f.videoUploaderConfig.source});b("VideoUploadSurface").VideoUploadSurface.getOrCreate(b("VideoUploadSurface").VideoUploadSurfaceIDs.FEED).notifiers().register(f.videoUploadFlowNotifier,f.creationSessionID)}b("killswitch")("COMET_COMPOSER_MEDIA_UPLOADER_PER_ACTOR_SINGLETON")?a.$1=f:a.$2.set(c,f);return f};a.getInstance=function(c){return b("killswitch")("COMET_COMPOSER_MEDIA_UPLOADER_PER_ACTOR_SINGLETON")?a.$1:a.$2.get(c)};function a(a,c,d,e){this.startedObserver=new h();this.progressObserver=new h();this.successObserver=new h();this.errorObserver=new h();this.uploadStatuses=new Map();this.uploadStatusChangeObserver=new h();this.videoUploadsQueue=[];this.actorID=a;this.videoUploaderConfig=c;this.creationSessionID=(a=d)!=null?a:"";this.photoUploader=this.$3(this.actorID,e);this.videoUploader=this.$4(this.videoUploaderConfig,this.creationSessionID);this.videoUploadFlowNotifier=b("VideoUploadFlowNotifier").createVideoUploadFlowNotifier({cancel_on_leave:!1,composer_entry_point_ref:(c=this.videoUploaderConfig.composer_entry_point_ref)!=null?c:"unknown",composer_session_id:(d=this.creationSessionID)!=null?d:"",extended_flow_logging_enabled:!0,source:this.videoUploaderConfig.source});b("VideoUploadSurface").VideoUploadSurface.getOrCreate(b("VideoUploadSurface").VideoUploadSurfaceIDs.FEED).notifiers().register(this.videoUploadFlowNotifier,this.creationSessionID)}var c=a.prototype;c.$5=function(a,b){var c;c=(c=this.uploadStatuses.get(a))==null?void 0:c.bytesTotal;if(c==null)return;this.uploadStatuses.set(a,{bytesLoaded:(a=b)!=null?a:c,bytesTotal:c});this.uploadStatusChangeObserver.notify(this.uploadStatuses)};c.$3=function(a,c){var d=this;a=b("cr:1342782")!=null&&b("cr:1342782").isSupported()?b("cr:1342782").getSingleton():void 0;return new(b("XComposerPhotoUploader"))({concurrentLimit:b("ReactComposerMediaConfig").photo.concurrentLimit,onUploadFailure:function(a,b){var c;d.errorObserver.notify({entID:(c=b.response.payload)==null?void 0:c.photoID,error:b.response.getErrorSummary(),uploadID:a})},onUploadProgress:function(a,b){var c=Math.min(1,Math.max(0,b.event.loaded/b.event.total));d.progressObserver.notify({percentComplete:c,uploadID:a});d.$5(a,b.event.loaded)},onUploadStart:function(a,b){d.startedObserver.notify({uploadID:a})},onUploadSuccess:function(a,b){var c=b.response.payload;c==null?d.errorObserver.notify({entID:null,error:b.response.getErrorSummary(),uploadID:a}):(d.successObserver.notify({attachmentType:"PHOTO",entID:c.photoID,imageURL:c.imageSrc,uploadID:a}),d.$5(a))},resizer:a,retryLimit:b("ReactComposerMediaConfig").photo.retryLimit,uploadData:babelHelpers["extends"]({},b("ReactComposerMediaConfig").photo.uploadData,{source:8},c?{work_shared_draft_mode:"drafter_creating"}:{}),uploadEndpoint:b("ActorURI").create(b("ReactComposerMediaConfig").photo.uploadEndpoint,this.actorID)})};c.$4=function(a,c){a=babelHelpers["extends"]({},a,{isMultiMediaPost:!0,waterfall_id:c});return new(b("VideoUploader"))(a)};c.upload=function(a){var b=this;a.forEach(function(a){var c=a[0];a[1];a=c.uploadID;a!=null&&b.uploadStatuses.get(a)==null&&b.uploadStatuses.set(a,{bytesLoaded:0,bytesTotal:c.size})});this.uploadStatusChangeObserver.notify(this.uploadStatuses);this.$6(a.filter(function(a){a[0];a=a[1];return a==="PHOTO"}).map(function(a){var b=a[0];a[1];return b}));this.$7(a.filter(function(a){a[0];a=a[1];return a==="VIDEO"}).map(function(a){var b=a[0];a[1];return b}))};c.$6=function(a){a.length>0&&this.photoUploader.getAsyncUploadRequest(a).send()};c.$7=function(a){var c=this;a.length>0&&(this.videoUploadsQueue=this.videoUploadsQueue.concat(a));if(this.videoUploadsQueue.length>0&&!this.videoUploader.isSessionExist()){var d=this.videoUploadsQueue.shift();this.videoUploader=this.$4(this.videoUploaderConfig,this.creationSessionID);var e=this.videoUploader;e.subscribe("upload-started",function(a,b){a=d.uploadID;a!=null&&c.startedObserver.notify({uploadID:a})});e.subscribe("upload-progressed",function(a,b){a=Math.min(1,Math.max(0,(b.start_offset+b.sent_bytes)/b.file_size));var f=d.uploadID;f!=null&&(c.progressObserver.notify({entID:e.getVideoID(),percentComplete:a,uploadID:f}),c.$5(f,b.start_offset+b.sent_bytes))});e.subscribe("upload-finished",function(a,b){e.reset();a=d.uploadID;a!=null&&(c.successObserver.notify({attachmentType:"VIDEO",entID:b.video_id,uploadID:a}),c.$5(a));c.$7([])});e.subscribe("upload-failed",function(a,b){a=d.uploadID;if(a!=null){c.errorObserver.notify({entID:b.video_id,error:(b=b.error_summary)!=null?b:g._("Something went wrong and your video couldn't be uploaded. Please try again."),uploadID:a})}});b("gkx")("1454236")&&this.videoUploadFlowNotifier.registerVideoUpload(e,d.uploadID);e.upload(b("VideoUploadFile").fromFile(d))}};c.getCreationSessionID=function(){return this.creationSessionID};return a}();e.exports=a;a.$1=null;a.$2=new Map()}),null);
__d("CometFeedStoryOptimisticLoader.react",["fbt","BaseGlimmer.react","CometPlaceholder.react","React","TetraText.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(){return h.jsx("div",{className:"oqcyycmt h4z51re5 osnr6wyh rv4hoivh jktsbyx5",children:h.jsx(b("CometPlaceholder.react"),{fallback:h.jsx(b("BaseGlimmer.react"),{index:1}),children:h.jsx(b("TetraText.react"),{color:"secondary",type:"body2",children:g._("Posting...")})})})}}),null);
__d("CometFeedStoryOptimisticProgressBar.react",["fbt","Actor","ComposerMediaFileUploader","React","RunComet","cometComposerLogger","qex","stylex","useOnBeforeUnload"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i=b("qex")._("1221850")===!0,j=95;function a(){var a=h.useState(0),c=a[0],d=a[1];a=b("Actor").useActor();a=a[0];var e=b("ComposerMediaFileUploader").getInstance(a),f=h.useRef(!1),k=function(a){a=Array.from(a.values()).reduce(function(a,b){a.bytesLoaded+=b.bytesLoaded;a.bytesTotal+=b.bytesTotal;return a},{bytesLoaded:0,bytesTotal:0});a.bytesLoaded===a.bytesTotal&&(f.current=!0);var b=a.bytesTotal!==0?a.bytesLoaded/a.bytesTotal*j:0;d(function(a){return Math.max(b,a)})};b("useOnBeforeUnload")(function(){if(!f.current)return{warnMessage:g._("Your post is still uploading. Do you want to leave without finishing the upload?")}});h.useEffect(function(){i&&e&&e.uploadStatusChangeObserver.subscribe(k);var a=function(){if(!f.current){var a;b("cometComposerLogger")({fields:{terminalReason:"shutdown"},type:"COMPOSER_POST_TERMINAL"},(a=e==null?void 0:e.getCreationSessionID())!=null?a:"")}},c=b("RunComet").onUnload(a);return function(){i&&e&&e.uploadStatusChangeObserver.unsubscribe(k);return c.remove()}},[e]);return i?h.jsx("div",{className:"h4z51re5 osnr6wyh rv4hoivh jktsbyx5 kgtf8isp ed3p1gfi mwvzfrdb kxcb68kb kgjeooe1 dwerhba3 cwj9ozl2",children:h.jsx("div",{className:"stjgntxs ni8dbmo4 qhh1luux mwvzfrdb kxcb68kb kgjeooe1 dwerhba3",children:h.jsx("div",{className:"b7h9ocf4 flx89l3n tn0ko95a qhh1luux mwvzfrdb kxcb68kb kgjeooe1 dwerhba3 nfl8ryma",style:{transform:"translateX(calc(-100% + "+c+"%))"}})})}):h.jsx("div",{className:"h4z51re5 osnr6wyh rv4hoivh jktsbyx5 kgtf8isp ed3p1gfi mwvzfrdb kxcb68kb kgjeooe1 dwerhba3 cwj9ozl2",children:h.jsx("div",{className:"dd2scrzq qhh1luux mwvzfrdb kxcb68kb kgjeooe1 dwerhba3 nfl8ryma nn0ay230 h9pa7xm5 j1l0snac l10wm3d9"})})}}),null);
__d("CometFeedStoryOptimisticWithStory.react",["OptimisticLoadingTypeEnum","React","cometComposerLogger","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.creationSessionID,e=a.optimisticLoadingType;a=g.useRef(!1);var f=g.useRef(!1);a.current||d!=null&&(a.current=!0,b("cometComposerLogger")({fields:{publishFlowOptimisticStep:"INSERT_OPTIMISTIC_POST",typeOfOptimisticPost:"OPTIMISTIC_POST_WITH_STORY"},type:"COMPOSER_PUBLISH_FLOW_OPTIMISTIC_PROCESS"},d));g.useEffect(function(){d!=null&&!f.current&&e===b("OptimisticLoadingTypeEnum").SHOW_ANIMATION&&(f.current=!0,b("cometComposerLogger")({fields:{publishFlowOptimisticStep:"INSERT_REAL_POST"},type:"COMPOSER_PUBLISH_FLOW_OPTIMISTIC_PROCESS"},d))},[d,e]);a=e===b("OptimisticLoadingTypeEnum").SHOW_POST_PREVIEW?"FeedCometOptimisticPostPreview":null;return g.jsx("div",{className:(e===b("OptimisticLoadingTypeEnum").SHOW_ANIMATION?"kt14r9nc qhdpjftm":"")+(e===b("OptimisticLoadingTypeEnum").SHOW_POST_PREVIEW?" hoa2di3t kgtf8isp":""),"data-testid":void 0,children:c})}}),null);
__d("CometFeedStoryOptimisticWithoutStory.react",["CometFeedStoryOptimisticLoader.react","CometFeedStoryOptimisticProgressBar.react","CometPlaceholder.react","JSResourceForInteraction","OptimisticLoadingTypeEnum","React","cometComposerLogger","lazyLoadComponent"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=b("lazyLoadComponent")(b("JSResourceForInteraction")("CometFeedStoryProcessing.react").__setRef("CometFeedStoryOptimisticWithoutStory.react"));function a(a){var c=a.creationSessionID;a=a.optimisticLoadingType;var d=g.useRef(!1),e=function(){c!=null&&(d.current=!0,b("cometComposerLogger")({fields:{publishFlowOptimisticStep:"INSERT_OPTIMISTIC_POST",typeOfOptimisticPost:"OPTIMISTIC_POST_WITHOUT_STORY"},type:"COMPOSER_PUBLISH_FLOW_OPTIMISTIC_PROCESS"},c))};switch(a){case b("OptimisticLoadingTypeEnum").SHOW_LOADER:d.current||e();return g.jsx("div",{children:g.jsx(b("CometFeedStoryOptimisticLoader.react"),{})});case b("OptimisticLoadingTypeEnum").SHOW_PROGRESS_BAR:d.current||e();return g.jsx("div",{children:g.jsx(b("CometFeedStoryOptimisticProgressBar.react"),{})});case b("OptimisticLoadingTypeEnum").PENDING:return g.jsx(b("CometPlaceholder.react"),{fallback:null,children:g.jsx(h,{})})}return null}}),null);
__d("SpectrumWasm",["Promise","bx"],(function(a,b,c,d,e,f){var g=b("bx").getURL(b("bx")("1061903")),h=function(){var c=typeof document!=="undefined"&&document.currentScript?document.currentScript.src:void 0;return function(d){d=d||{};var f=typeof d!=="undefined"?d:{},i={},j;for(j in f)Object.prototype.hasOwnProperty.call(f,j)&&(i[j]=f[j]);f.arguments=[];f.thisProgram="./this.program";f.quit=function(a,b){throw b};f.preRun=[];f.postRun=[];var k=!0,l=!1,m="";(k||l)&&(l?m=self.location.href:document.currentScript&&(m=document.currentScript.src),c&&(m=c),m.indexOf("blob:")!==0?m=m.substr(0,m.lastIndexOf("/")+1):m="",f.read=function(a){var b=new XMLHttpRequest();b.open("GET",a,!1);b.send(null);return b.responseText},l&&(f.readBinary=function(a){var b=new XMLHttpRequest();b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)}),f.readAsync=function(a,b,c){var d=new XMLHttpRequest();d.open("GET",a,!0);d.responseType="arraybuffer";d.onload=function(){if(d.status==200||d.status==0&&d.response){b(d.response);return}c()};d.onerror=c;d.send(null)},f.setWindowTitle=function(a){document.title=a});var n=f.print||(typeof console!=="undefined"?emptyFunction.bind(console):typeof print!=="undefined"?print:null),o=f.printErr||(typeof printErr!=="undefined"?printErr:typeof console!=="undefined"&&emptyFunction.bind(console)||n);for(j in i)Object.prototype.hasOwnProperty.call(i,j)&&(f[j]=i[j]);i=void 0;function aa(a){var b=B[C>>2];a=b+a+15&-16;a>xb()&&$();B[C>>2]=a;return b}function p(a){switch(a){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if(a[a.length-1]==="*")return 4;else if(a[0]==="i"){var b=parseInt(a.substr(1));t(b%8===0,"getNativeTypeSize invalid bits "+b+", type "+a);return b/8}else return 0}}var ba={"f64-rem":function(a,b){return a%b},"debugger":function(){debugger}};new Array(0);var ca=0,q=function(a){ca=a};m=function(){return ca};typeof WebAssembly!=="object"&&o("no native wasm support detected");function p(a,b,c,d){c=c||"i8";c.charAt(c.length-1)==="*"&&(c="i32");switch(c){case"i1":z[a>>0]=b;break;case"i8":z[a>>0]=b;break;case"i16":ra[a>>1]=b;break;case"i32":B[a>>2]=b;break;case"i64":I=[b>>>0,(p=b,+Ia(p)>=1?p>0?(La(+Ka(p/4294967296),4294967295)|0)>>>0:~~+Ja((p-+(~~p>>>0))/4294967296)>>>0:0)],B[a>>2]=I[0],B[a+4>>2]=I[1];break;case"float":sa[a>>2]=b;break;case"double":ta[a>>3]=b;break;default:$("invalid type for setValue: "+c)}}var r,s=!1;function t(a,b){a||$("Assertion failed: "+b)}function da(a){var b=f["_"+a];t(b,"Cannot call unknown function "+a+", make sure it is exported");return b}function ea(a,b,c,d,e){var f={string:function(a){var b=0;if(a!==null&&a!==void 0&&a!==0){var c=(a.length<<2)+1;b=yc(c);ia(a,b,c)}return b},array:function(a){var b=yc(a.length);ka(a,b);return b}};function e(a){if(b==="string")return v(a);return b==="boolean"?Boolean(a):a}a=da(a);var g=[],h=0;if(d)for(var i=0;i<d.length;i++){var j=f[c[i]];j?(h===0&&(h=Z()),g[i]=j(d[i])):g[i]=d[i]}j=a.apply(null,g);j=e(j);h!==0&&Y(h);return j}function fa(a,b,c,d){c=c||[];var e=c.every(function(a){return a==="number"}),f=b!=="string";return f&&e&&!d?da(a):function(){return ea(a,b,c,arguments,d)}}j=3;function ga(a){return!Aa?aa(a):xc(a)}var ha=typeof TextDecoder!=="undefined"?new TextDecoder("utf8"):void 0;function u(a,b,c){c=b+c;var d=b;while(a[d]&&!(d>=c))++d;if(d-b>16&&a.subarray&&ha)return ha.decode(a.subarray(b,d));else{c="";while(b<d){var e=a[b++];if(!(e&128)){c+=String.fromCharCode(e);continue}var f=a[b++]&63;if((e&224)==192){c+=String.fromCharCode((e&31)<<6|f);continue}var g=a[b++]&63;(e&240)==224?e=(e&15)<<12|f<<6|g:e=(e&7)<<18|f<<12|g<<6|a[b++]&63;if(e<65536)c+=String.fromCharCode(e);else{f=e-65536;c+=String.fromCharCode(55296|f>>10,56320|f&1023)}}}return c}function v(a,b){return a?u(A,a,b):""}function w(a,b,c,d){if(!(d>0))return 0;var e=c;d=c+d-1;for(var f=0;f<a.length;++f){var g=a.charCodeAt(f);if(g>=55296&&g<=57343){var h=a.charCodeAt(++f);g=65536+((g&1023)<<10)|h&1023}if(g<=127){if(c>=d)break;b[c++]=g}else if(g<=2047){if(c+1>=d)break;b[c++]=192|g>>6;b[c++]=128|g&63}else if(g<=65535){if(c+2>=d)break;b[c++]=224|g>>12;b[c++]=128|g>>6&63;b[c++]=128|g&63}else{if(c+3>=d)break;b[c++]=240|g>>18;b[c++]=128|g>>12&63;b[c++]=128|g>>6&63;b[c++]=128|g&63}}b[c]=0;return c-e}function ia(a,b,c){return w(a,A,b,c)}function x(a){var b=0;for(var c=0;c<a.length;++c){var d=a.charCodeAt(c);d>=55296&&d<=57343&&(d=65536+((d&1023)<<10)|a.charCodeAt(++c)&1023);d<=127?++b:d<=2047?b+=2:d<=65535?b+=3:b+=4}return b}typeof TextDecoder!=="undefined"?new TextDecoder("utf-16le"):void 0;function ja(a){var b=x(a)+1,c=xc(b);c&&w(a,z,c,b);return c}function ka(b,a){z.set(b,a)}function la(b,a,c){for(var d=0;d<b.length;++d)z[a++>>0]=b.charCodeAt(d);c||(z[a>>0]=0)}function ma(a){return a}function na(a){var b=/__Z[\w\d_]+/g;return a.replace(b,function(a){var b=ma(a);return a===b?a:b+" ["+a+"]"})}function oa(){var a=new Error();if(!a.stack){try{throw new Error(0)}catch(b){a=b}if(!a.stack)return"(no stack trace available)"}return a.stack.toString()}function pa(){var a=oa();f.extraStackTrace&&(a+="\n"+f.extraStackTrace());return na(a)}i=65536;function qa(a,b){a%b>0&&(a+=b-a%b);return a}var y,z,A,ra,B,sa,ta;function ua(){f.HEAP8=z=new Int8Array(y),f.HEAP16=ra=new Int16Array(y),f.HEAP32=B=new Int32Array(y),f.HEAPU8=A=new Uint8Array(y),f.HEAPU16=new Uint16Array(y),f.HEAPU32=new Uint32Array(y),f.HEAPF32=sa=new Float32Array(y),f.HEAPF64=ta=new Float64Array(y)}j=5385296;var C=142384,D=5242880,E=f.TOTAL_MEMORY||16777216;E<D&&o("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+E+"! (TOTAL_STACK="+D+")");f.wasmMemory?r=f.wasmMemory:r=new WebAssembly.Memory({initial:E/i});r&&(y=r.buffer);E=y.byteLength;ua();B[C>>2]=j;function va(a){while(a.length>0){var b=a.shift();if(typeof b=="function"){b();continue}var c=b.func;typeof c==="number"?b.arg===void 0?f.dynCall_v(c):f.dynCall_vi(c,b.arg):c(b.arg===void 0?null:b.arg)}}var wa=[],xa=[],ya=[],za=[],Aa=!1;function Ba(){if(f.preRun){typeof f.preRun=="function"&&(f.preRun=[f.preRun]);while(f.preRun.length)Ga(f.preRun.shift())}va(wa)}function Ca(){Aa=!0,!f.noFSInit&&!T.init.initialized&&T.init(),P.init(),va(xa)}function Da(){T.ignorePermissions=!1,va(ya)}function Ea(){}function Fa(){if(f.postRun){typeof f.postRun=="function"&&(f.postRun=[f.postRun]);while(f.postRun.length)Ha(f.postRun.shift())}va(za)}function Ga(a){wa.unshift(a)}function Ha(a){za.unshift(a)}var Ia=Math.abs,Ja=Math.ceil,Ka=Math.floor,La=Math.min,F=0,Ma=null,G=null;function Na(a){return a}function Oa(a){F++,f.monitorRunDependencies&&f.monitorRunDependencies(F)}function Pa(a){F--;f.monitorRunDependencies&&f.monitorRunDependencies(F);if(F==0){Ma!==null&&(clearInterval(Ma),Ma=null);if(G){a=G;G=null;a()}}}f.preloadedImages={};f.preloadedAudios={};var Qa="data:application/octet-stream;base64,";function Ra(a){return String.prototype.startsWith?a.startsWith(Qa):a.indexOf(Qa)===0}var H=g;function Sa(){try{if(f.wasmBinary)return new Uint8Array(f.wasmBinary);if(f.readBinary)return f.readBinary(H);else throw"both async and sync fetching of the wasm failed"}catch(a){$(a)}}function Ta(){return!f.wasmBinary&&(k||l)&&typeof fetch==="function"?fetch(H,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+H+"'";return a.arrayBuffer()})["catch"](function(){return Sa()}):new(b("Promise"))(function(a,b){a(Sa())})}function Ua(a){var b={env:a,global:{NaN:NaN,Infinity:Infinity},"global.Math":Math,asm2wasm:ba};function c(b,a){a=b.exports;f.asm=a;Pa("wasm-instantiate")}Oa("wasm-instantiate");function d(a){c(a.instance)}function g(a){return Ta().then(function(a){return WebAssembly.instantiate(a,b)}).then(a,function(a){o("failed to asynchronously prepare wasm: "+a),$(a)})}function h(){if(!f.wasmBinary&&typeof WebAssembly.instantiateStreaming==="function"&&!Ra(H)&&typeof fetch==="function")fetch(H,{credentials:"same-origin"}).then(function(a){return WebAssembly.instantiateStreaming(a,b).then(d,function(a){o("wasm streaming compile failed: "+a),o("falling back to ArrayBuffer instantiation"),g(d)})});else return g(d)}if(f.instantiateWasm)try{a=f.instantiateWasm(b,c);return a}catch(a){o("Module.instantiateWasm callback failed with error: "+a);return!1}h();return{}}f.asm=function(b,c,d){c.memory=r;c.table=new WebAssembly.Table({initial:2194,maximum:2194,element:"anyfunc"});c.__memory_base=1024;c.__table_base=0;b=Ua(c);return b};var I;xa.push({func:function(){vc()}});var J={};function Va(b){var c=64,d=1024,e;!Va.called?(Va.called=!0,J.USER=J.LOGNAME="web_user",J.PATH="/",J.PWD="/",J.HOME="/home/web_user",J.LANG="C.UTF-8",J.LANG=(typeof navigator==="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",J._=f.thisProgram,e=ga(d),c=ga(c*4),B[c>>2]=e,B[b>>2]=c):(c=B[b>>2],e=B[c>>2]);b=[];var g=0;for(var a in J)if(typeof J[a]==="string"){var h=a+"="+J[a];b.push(h);g+=h.length}if(g>d)throw new Error("Environment size exceeded TOTAL_ENV_SIZE!");g=4;for(var d=0;d<b.length;d++){var h=b[d];la(h,e);B[c+d*g>>2]=e;e+=h.length+1}B[c+b.length*g>>2]=0}function Wa(a){return xc(a)}var K={},Xa=[];function Ya(a){if(!a)return;a=K[a];a.refcount++}function Za(b){if(!b||K[b])return b;for(var a in K){var c=+a,d=K[c].adjusted,e=d.length;for(var f=0;f<e;f++)if(d[f]===b)return c}return b}function $a(a){var b=K[a];b&&!b.caught&&(b.caught=!0,W.uncaught_exception--);b&&(b.rethrown=!1);Xa.push(a);Ya(Za(a));return a}var L=0;function ab(a){try{return wc(a)}catch(a){}}function bb(a){if(!a)return;var b=K[a];b.refcount--;b.refcount===0&&!b.rethrown&&(b.destructor&&f.dynCall_vi(b.destructor,a),delete K[a],ab(a))}function cb(){X(0);var a=Xa.pop();a&&(bb(Za(a)),L=0)}function db(a){L||(L=a);throw a}function eb(){var b=L;if(!b)return(q(0),0)|0;var c=K[b],d=c.type;if(!d)return(q(0),b)|0;var e=Array.prototype.slice.call(arguments);uc(d);var a=142368;B[a>>2]=b;b=a;for(var f=0;f<e.length;f++)if(e[f]&&tc(e[f],d,b)){b=B[b>>2];c.adjusted.push(b);return(q(e[f]),b)|0}b=B[b>>2];return(q(d),b)|0}f.___cxa_find_matching_catch=eb;function fb(a,b){return eb(a,b)}function gb(a,b,c){return eb(a,b,c)}function hb(){s=!0;throw"Pure virtual function called!"}function ib(){var a=Xa.pop();a=Za(a);K[a].rethrown||(Xa.push(a),K[a].rethrown=!0);L=a;throw a}function jb(a,b,c){K[a]={ptr:a,adjusted:[a],type:b,destructor:c,refcount:0,caught:!1,rethrown:!1};L=a;!("uncaught_exception"in W)?W.uncaught_exception=1:W.uncaught_exception++;throw a}function kb(){return!!W.uncaught_exception}function lb(){}function M(a){f.___errno_location&&(B[f.___errno_location()>>2]=a);return a}function mb(a,b){M(1);return-1}var N={splitPath:function(a){var b=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return b.exec(a).slice(1)},normalizeArray:function(a,b){var c=0;for(var d=a.length-1;d>=0;d--){var e=a[d];e==="."?a.splice(d,1):e===".."?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c;c--)a.unshift("..");return a},normalize:function(a){var b=a.charAt(0)==="/",c=a.substr(-1)==="/";a=N.normalizeArray(a.split("/").filter(function(a){return!!a}),!b).join("/");!a&&!b&&(a=".");a&&c&&(a+="/");return(b?"/":"")+a},dirname:function(a){a=N.splitPath(a);var b=a[0];a=a[1];if(!b&&!a)return".";a&&(a=a.substr(0,a.length-1));return b+a},basename:function(a){if(a==="/")return"/";var b=a.lastIndexOf("/");return b===-1?a:a.substr(b+1)},extname:function(a){return N.splitPath(a)[3]},join:function(){var a=Array.prototype.slice.call(arguments,0);return N.normalize(a.join("/"))},join2:function(a,b){return N.normalize(a+"/"+b)}},O={resolve:function(){var a="",b=!1;for(var c=arguments.length-1;c>=-1&&!b;c--){var d=c>=0?arguments[c]:T.cwd();if(typeof d!=="string")throw new TypeError("Arguments to path.resolve must be strings");else if(!d)return"";a=d+"/"+a;b=d.charAt(0)==="/"}a=N.normalizeArray(a.split("/").filter(function(a){return!!a}),!b).join("/");return(b?"/":"")+a||"."},relative:function(a,b){a=O.resolve(a).substr(1);b=O.resolve(b).substr(1);function c(a){var b=0;for(;b<a.length;b++)if(a[b]!=="")break;var c=a.length-1;for(;c>=0;c--)if(a[c]!=="")break;return b>c?[]:a.slice(b,c-b+1)}a=c(a.split("/"));c=c(b.split("/"));b=Math.min(a.length,c.length);var d=b;for(var e=0;e<b;e++)if(a[e]!==c[e]){d=e;break}b=[];for(var e=d;e<a.length;e++)b.push("..");b=b.concat(c.slice(d));return b.join("/")}},P={ttys:[],init:function(){},shutdown:function(){},register:function(a,b){P.ttys[a]={input:[],output:[],ops:b},T.registerDevice(a,P.stream_ops)},stream_ops:{open:function(a){var b=P.ttys[a.node.rdev];if(!b)throw new T.ErrnoError(19);a.tty=b;a.seekable=!1},close:function(a){a.tty.ops.flush(a.tty)},flush:function(a){a.tty.ops.flush(a.tty)},read:function(b,a,c,d,e){if(!b.tty||!b.tty.ops.get_char)throw new T.ErrnoError(6);e=0;for(var f=0;f<d;f++){var g;try{g=b.tty.ops.get_char(b.tty)}catch(a){throw new T.ErrnoError(5)}if(g===void 0&&e===0)throw new T.ErrnoError(11);if(g===null||g===void 0)break;e++;a[c+f]=g}e&&(b.node.timestamp=Date.now());return e},write:function(b,a,c,d,e){if(!b.tty||!b.tty.ops.put_char)throw new T.ErrnoError(6);try{for(var e=0;e<d;e++)b.tty.ops.put_char(b.tty,a[c+e])}catch(a){throw new T.ErrnoError(5)}d&&(b.node.timestamp=Date.now());return e}},default_tty_ops:{get_char:function(a){if(!a.input.length){var b=null;typeof window!="undefined"&&typeof window.prompt=="function"?(b=window.prompt("Input: "),b!==null&&(b+="\n")):typeof readline=="function"&&(b=readline(),b!==null&&(b+="\n"));if(!b)return null;a.input=Rb(b,!0)}return a.input.shift()},put_char:function(a,b){b===null||b===10?(n(u(a.output,0)),a.output=[]):b!=0&&a.output.push(b)},flush:function(a){a.output&&a.output.length>0&&(n(u(a.output,0)),a.output=[])}},default_tty1_ops:{put_char:function(a,b){b===null||b===10?(o(u(a.output,0)),a.output=[]):b!=0&&a.output.push(b)},flush:function(a){a.output&&a.output.length>0&&(o(u(a.output,0)),a.output=[])}}},Q={ops_table:null,mount:function(a){return Q.createNode(null,"/",16384|511,0)},createNode:function(a,b,c,d){if(T.isBlkdev(c)||T.isFIFO(c))throw new T.ErrnoError(1);Q.ops_table||(Q.ops_table={dir:{node:{getattr:Q.node_ops.getattr,setattr:Q.node_ops.setattr,lookup:Q.node_ops.lookup,mknod:Q.node_ops.mknod,rename:Q.node_ops.rename,unlink:Q.node_ops.unlink,rmdir:Q.node_ops.rmdir,readdir:Q.node_ops.readdir,symlink:Q.node_ops.symlink},stream:{llseek:Q.stream_ops.llseek}},file:{node:{getattr:Q.node_ops.getattr,setattr:Q.node_ops.setattr},stream:{llseek:Q.stream_ops.llseek,read:Q.stream_ops.read,write:Q.stream_ops.write,allocate:Q.stream_ops.allocate,mmap:Q.stream_ops.mmap,msync:Q.stream_ops.msync}},link:{node:{getattr:Q.node_ops.getattr,setattr:Q.node_ops.setattr,readlink:Q.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Q.node_ops.getattr,setattr:Q.node_ops.setattr},stream:T.chrdev_stream_ops}});c=T.createNode(a,b,c,d);T.isDir(c.mode)?(c.node_ops=Q.ops_table.dir.node,c.stream_ops=Q.ops_table.dir.stream,c.contents={}):T.isFile(c.mode)?(c.node_ops=Q.ops_table.file.node,c.stream_ops=Q.ops_table.file.stream,c.usedBytes=0,c.contents=null):T.isLink(c.mode)?(c.node_ops=Q.ops_table.link.node,c.stream_ops=Q.ops_table.link.stream):T.isChrdev(c.mode)&&(c.node_ops=Q.ops_table.chrdev.node,c.stream_ops=Q.ops_table.chrdev.stream);c.timestamp=Date.now();a&&(a.contents[b]=c);return c},getFileDataAsRegularArray:function(a){if(a.contents&&a.contents.subarray){var b=[];for(var c=0;c<a.usedBytes;++c)b.push(a.contents[c]);return b}return a.contents},getFileDataAsTypedArray:function(a){if(!a.contents)return new Uint8Array();return a.contents.subarray?a.contents.subarray(0,a.usedBytes):new Uint8Array(a.contents)},expandFileStorage:function(a,b){var c=a.contents?a.contents.length:0;if(c>=b)return;var d=1024*1024;b=Math.max(b,c*(c<d?2:1.125)|0);c!=0&&(b=Math.max(b,256));d=a.contents;a.contents=new Uint8Array(b);a.usedBytes>0&&a.contents.set(d.subarray(0,a.usedBytes),0);return},resizeFileStorage:function(a,b){if(a.usedBytes==b)return;if(b==0){a.contents=null;a.usedBytes=0;return}if(!a.contents||a.contents.subarray){var c=a.contents;a.contents=new Uint8Array(new ArrayBuffer(b));c&&a.contents.set(c.subarray(0,Math.min(b,a.usedBytes)));a.usedBytes=b;return}a.contents||(a.contents=[]);if(a.contents.length>b)a.contents.length=b;else while(a.contents.length<b)a.contents.push(0);a.usedBytes=b},node_ops:{getattr:function(a){var b={};b.dev=T.isChrdev(a.mode)?a.id:1;b.ino=a.id;b.mode=a.mode;b.nlink=1;b.uid=0;b.gid=0;b.rdev=a.rdev;T.isDir(a.mode)?b.size=4096:T.isFile(a.mode)?b.size=a.usedBytes:T.isLink(a.mode)?b.size=a.link.length:b.size=0;b.atime=new Date(a.timestamp);b.mtime=new Date(a.timestamp);b.ctime=new Date(a.timestamp);b.blksize=4096;b.blocks=Math.ceil(b.size/b.blksize);return b},setattr:function(a,b){b.mode!==void 0&&(a.mode=b.mode),b.timestamp!==void 0&&(a.timestamp=b.timestamp),b.size!==void 0&&Q.resizeFileStorage(a,b.size)},lookup:function(a,b){throw T.genericErrors[2]},mknod:function(a,b,c,d){return Q.createNode(a,b,c,d)},rename:function(a,b,c){if(T.isDir(a.mode)){var d;try{d=T.lookupNode(b,c)}catch(a){}if(d)for(var e in d.contents)throw new T.ErrnoError(39)}delete a.parent.contents[a.name];a.name=c;b.contents[c]=a;a.parent=b},unlink:function(a,b){delete a.contents[b]},rmdir:function(a,b){var c=T.lookupNode(a,b);for(var d in c.contents)throw new T.ErrnoError(39);delete a.contents[b]},readdir:function(b){var c=[".",".."];for(var a in b.contents){if(!Object.prototype.hasOwnProperty.call(b.contents,a))continue;c.push(a)}return c},symlink:function(a,b,c){a=Q.createNode(a,b,511|40960,0);a.link=c;return a},readlink:function(a){if(!T.isLink(a.mode))throw new T.ErrnoError(22);return a.link}},stream_ops:{read:function(b,a,c,d,e){var f=b.node.contents;if(e>=b.node.usedBytes)return 0;b=Math.min(b.node.usedBytes-e,d);if(b>8&&f.subarray)a.set(f.subarray(e,e+b),c);else for(var d=0;d<b;d++)a[c+d]=f[e+d];return b},write:function(b,a,c,d,e,f){f=!1;if(!d)return 0;b=b.node;b.timestamp=Date.now();if(a.subarray&&(!b.contents||b.contents.subarray))if(f){b.contents=a.subarray(c,c+d);b.usedBytes=d;return d}else if(b.usedBytes===0&&e===0){b.contents=new Uint8Array(a.subarray(c,c+d));b.usedBytes=d;return d}else if(e+d<=b.usedBytes){b.contents.set(a.subarray(c,c+d),e);return d}Q.expandFileStorage(b,e+d);if(b.contents.subarray&&a.subarray)b.contents.set(a.subarray(c,c+d),e);else for(var f=0;f<d;f++)b.contents[e+f]=a[c+f];b.usedBytes=Math.max(b.usedBytes,e+d);return d},llseek:function(a,b,c){b=b;c===1?b+=a.position:c===2&&(T.isFile(a.node.mode)&&(b+=a.node.usedBytes));if(b<0)throw new T.ErrnoError(22);return b},allocate:function(a,b,c){Q.expandFileStorage(a.node,b+c),a.node.usedBytes=Math.max(a.node.usedBytes,b+c)},mmap:function(b,a,c,d,e,f,g){if(!T.isFile(b.node.mode))throw new T.ErrnoError(19);c=b.node.contents;if(!(g&2)&&(c.buffer===a||c.buffer===a.buffer))f=!1,g=c.byteOffset;else{(e>0||e+d<b.node.usedBytes)&&(c.subarray?c=c.subarray(e,e+d):c=Array.prototype.slice.call(c,e,e+d));f=!0;g=xc(d);if(!g)throw new T.ErrnoError(12);a.set(c,g)}return{ptr:g,allocated:f}},msync:function(b,a,c,d,e){if(!T.isFile(b.node.mode))throw new T.ErrnoError(19);if(e&2)return 0;Q.stream_ops.write(b,a,0,d,c,!1);return 0}}},R={dbs:{},indexedDB:function(a){function b(){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(){if(typeof indexedDB!=="undefined")return indexedDB;var a=null;typeof window==="object"&&(a=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB);t(a,"IDBFS used, but indexedDB not supported");return a}),DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(a){return Q.mount.apply(null,arguments)},syncfs:function(a,b,c){R.getLocalSet(a,function(d,e){if(d)return c(d);R.getRemoteSet(a,function(a,d){if(a)return c(a);a=b?d:e;d=b?e:d;R.reconcile(a,d,c)})})},getDB:function(a,b){var c=R.dbs[a];if(c)return b(null,c);var d;try{d=R.indexedDB().open(a,R.DB_VERSION)}catch(a){return b(a)}if(!d)return b("Unable to connect to IndexedDB");d.onupgradeneeded=function(b){var a=b.target.result;b=b.target.transaction;a.objectStoreNames.contains(R.DB_STORE_NAME)?b=b.objectStore(R.DB_STORE_NAME):b=a.createObjectStore(R.DB_STORE_NAME);b.indexNames.contains("timestamp")||b.createIndex("timestamp","timestamp",{unique:!1})};d.onsuccess=function(){c=d.result,R.dbs[a]=c,b(null,c)};d.onerror=function(a){b(this.error),a.preventDefault()}},getLocalSet:function(a,b){var c={};function d(a){return a!=="."&&a!==".."}function e(a){return function(b){return N.join2(a,b)}}a=T.readdir(a.mountpoint).filter(d).map(e(a.mountpoint));while(a.length){var f=a.pop(),g;try{g=T.stat(f)}catch(a){return b(a)}T.isDir(g.mode)&&a.push.apply(a,T.readdir(f).filter(d).map(e(f)));c[f]={timestamp:g.mtime}}return b(null,{type:"local",entries:c})},getRemoteSet:function(a,b){var c={};R.getDB(a.mountpoint,function(a,d){if(a)return b(a);try{a=d.transaction([R.DB_STORE_NAME],"readonly");a.onerror=function(a){b(this.error),a.preventDefault()};a=a.objectStore(R.DB_STORE_NAME);a=a.index("timestamp");a.openKeyCursor().onsuccess=function(a){a=a.target.result;if(!a)return b(null,{type:"remote",db:d,entries:c});c[a.primaryKey]={timestamp:a.key};a["continue"]()}}catch(a){return b(a)}})},loadLocalEntry:function(a,b){try{var c=T.lookupPath(a);c=c.node;a=T.stat(a)}catch(a){return b(a)}if(T.isDir(a.mode))return b(null,{timestamp:a.mtime,mode:a.mode});else if(T.isFile(a.mode)){c.contents=Q.getFileDataAsTypedArray(c);return b(null,{timestamp:a.mtime,mode:a.mode,contents:c.contents})}else return b(new Error("node type not supported"))},storeLocalEntry:function(a,b,c){try{if(T.isDir(b.mode))T.mkdir(a,b.mode);else if(T.isFile(b.mode))T.writeFile(a,b.contents,{canOwn:!0});else return c(new Error("node type not supported"));T.chmod(a,b.mode);T.utime(a,b.timestamp,b.timestamp)}catch(a){return c(a)}c(null)},removeLocalEntry:function(a,b){try{T.lookupPath(a);var c=T.stat(a);T.isDir(c.mode)?T.rmdir(a):T.isFile(c.mode)&&T.unlink(a)}catch(a){return b(a)}b(null)},loadRemoteEntry:function(a,b,c){a=a.get(b);a.onsuccess=function(a){c(null,a.target.result)};a.onerror=function(a){c(this.error),a.preventDefault()}},storeRemoteEntry:function(a,b,c,d){a=a.put(c,b);a.onsuccess=function(){d(null)};a.onerror=function(a){d(this.error),a.preventDefault()}},removeRemoteEntry:function(a,b,c){a=a["delete"](b);a.onsuccess=function(){c(null)};a.onerror=function(a){c(this.error),a.preventDefault()}},reconcile:function(a,b,c){var d=0,e=[];Object.keys(a.entries).forEach(function(c){var f=a.entries[c],g=b.entries[c];(!g||f.timestamp>g.timestamp)&&(e.push(c),d++)});var f=[];Object.keys(b.entries).forEach(function(c){b.entries[c];var e=a.entries[c];e||(f.push(c),d++)});if(!d)return c(null);var g=!1,h=a.type==="remote"?a.db:b.db;h=h.transaction([R.DB_STORE_NAME],"readwrite");var i=h.objectStore(R.DB_STORE_NAME);function k(a){if(a&&!g){g=!0;return c(a)}}h.onerror=function(a){k(this.error),a.preventDefault()};h.oncomplete=function(a){g||c(null)};e.sort().forEach(function(a){b.type==="local"?R.loadRemoteEntry(i,a,function(b,c){if(b)return k(b);R.storeLocalEntry(a,c,k)}):R.loadLocalEntry(a,function(b,c){if(b)return k(b);R.storeRemoteEntry(i,a,c,k)})});f.sort().reverse().forEach(function(a){b.type==="local"?R.removeLocalEntry(a,k):R.removeRemoteEntry(i,a,k)})}},S={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(a){t(l);S.reader||(S.reader=new FileReaderSync());var b=S.createNode(null,"/",S.DIR_MODE,0),c={};function d(a){a=a.split("/");var d=b;for(var e=0;e<a.length-1;e++){var f=a.slice(0,e+1).join("/");c[f]||(c[f]=S.createNode(d,a[e],S.DIR_MODE,0));d=c[f]}return d}function e(a){a=a.split("/");return a[a.length-1]}Array.prototype.forEach.call(a.opts.files||[],function(a){S.createNode(d(a.name),e(a.name),S.FILE_MODE,0,a,a.lastModifiedDate)});(a.opts.blobs||[]).forEach(function(a){S.createNode(d(a.name),e(a.name),S.FILE_MODE,0,a.data)});(a.opts.packages||[]).forEach(function(a){a.metadata.files.forEach(function(b){var c=b.filename.substr(1);S.createNode(d(c),e(c),S.FILE_MODE,0,a.blob.slice(b.start,b.end))})});return b},createNode:function(a,b,c,d,e,f){d=T.createNode(a,b,c);d.mode=c;d.node_ops=S.node_ops;d.stream_ops=S.stream_ops;d.timestamp=(f||new Date()).getTime();t(S.FILE_MODE!==S.DIR_MODE);c===S.FILE_MODE?(d.size=e.size,d.contents=e):(d.size=4096,d.contents={});a&&(a.contents[b]=d);return d},node_ops:{getattr:function(a){return{dev:1,ino:void 0,mode:a.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:a.size,atime:new Date(a.timestamp),mtime:new Date(a.timestamp),ctime:new Date(a.timestamp),blksize:4096,blocks:Math.ceil(a.size/4096)}},setattr:function(a,b){b.mode!==void 0&&(a.mode=b.mode),b.timestamp!==void 0&&(a.timestamp=b.timestamp)},lookup:function(a,b){throw new T.ErrnoError(2)},mknod:function(a,b,c,d){throw new T.ErrnoError(1)},rename:function(a,b,c){throw new T.ErrnoError(1)},unlink:function(a,b){throw new T.ErrnoError(1)},rmdir:function(a,b){throw new T.ErrnoError(1)},readdir:function(b){var c=[".",".."];for(var a in b.contents){if(!Object.prototype.hasOwnProperty.call(b.contents,a))continue;c.push(a)}return c},symlink:function(a,b,c){throw new T.ErrnoError(1)},readlink:function(a){throw new T.ErrnoError(1)}},stream_ops:{read:function(b,a,c,d,e){if(e>=b.node.size)return 0;b=b.node.contents.slice(e,e+d);e=S.reader.readAsArrayBuffer(b);a.set(new Uint8Array(e),c);return b.size},write:function(b,a,c,d,e){throw new T.ErrnoError(5)},llseek:function(a,b,c){b=b;c===1?b+=a.position:c===2&&(T.isFile(a.node.mode)&&(b+=a.node.size));if(b<0)throw new T.ErrnoError(22);return b}}},T={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(a){if(!(a instanceof T.ErrnoError))throw a+" : "+pa();return M(a.errno)},lookupPath:function(b,c){b=O.resolve(T.cwd(),b);c=c||{};if(!b)return{path:"",node:null};var d={follow_mount:!0,recurse_count:0};for(var a in d)c[a]===void 0&&(c[a]=d[a]);if(c.recurse_count>8)throw new T.ErrnoError(40);d=N.normalizeArray(b.split("/").filter(function(a){return!!a}),!1);b=T.root;var e="/";for(var f=0;f<d.length;f++){var g=f===d.length-1;if(g&&c.parent)break;b=T.lookupNode(b,d[f]);e=N.join2(e,d[f]);T.isMountpoint(b)&&((!g||g&&c.follow_mount)&&(b=b.mounted.root));if(!g||c.follow){g=0;while(T.isLink(b.mode)){var h=T.readlink(e);e=O.resolve(N.dirname(e),h);h=T.lookupPath(e,{recurse_count:c.recurse_count});b=h.node;if(g++>40)throw new T.ErrnoError(40)}}}return{path:e,node:b}},getPath:function(a){var b;while(!0){if(T.isRoot(a)){var c=a.mount.mountpoint;return!b?c:c[c.length-1]!=="/"?c+"/"+b:c+b}b=b?a.name+"/"+b:a.name;a=a.parent}},hashName:function(a,b){var c=0;for(var d=0;d<b.length;d++)c=(c<<5)-c+b.charCodeAt(d)|0;return(a+c>>>0)%T.nameTable.length},hashAddNode:function(a){var b=T.hashName(a.parent.id,a.name);a.name_next=T.nameTable[b];T.nameTable[b]=a},hashRemoveNode:function(a){var b=T.hashName(a.parent.id,a.name);if(T.nameTable[b]===a)T.nameTable[b]=a.name_next;else{b=T.nameTable[b];while(b){if(b.name_next===a){b.name_next=a.name_next;break}b=b.name_next}}},lookupNode:function(b,c){var a=T.mayLookup(b);if(a)throw new T.ErrnoError(a,b);a=T.hashName(b.id,c);for(var a=T.nameTable[a];a;a=a.name_next){var d=a.name;if(a.parent.id===b.id&&d===c)return a}return T.lookup(b,c)},createNode:function(a,b,c,d){if(!T.FSNode){T.FSNode=function(a,b,c,d){a||(a=this),this.parent=a,this.mount=a.mount,this.mounted=null,this.id=T.nextInode++,this.name=b,this.mode=c,this.node_ops={},this.stream_ops={},this.rdev=d};T.FSNode.prototype={};var e=292|73,f=146;Object.defineProperties(T.FSNode.prototype,{read:{get:function(){return(this.mode&e)===e},set:function(a){a?this.mode|=e:this.mode&=~e}},write:{get:function(){return(this.mode&f)===f},set:function(a){a?this.mode|=f:this.mode&=~f}},isFolder:{get:function(){return T.isDir(this.mode)}},isDevice:{get:function(){return T.isChrdev(this.mode)}}})}a=new T.FSNode(a,b,c,d);T.hashAddNode(a);return a},destroyNode:function(a){T.hashRemoveNode(a)},isRoot:function(a){return a===a.parent},isMountpoint:function(a){return!!a.mounted},isFile:function(a){return(a&61440)===32768},isDir:function(a){return(a&61440)===16384},isLink:function(a){return(a&61440)===40960},isChrdev:function(a){return(a&61440)===8192},isBlkdev:function(a){return(a&61440)===24576},isFIFO:function(a){return(a&61440)===4096},isSocket:function(a){return(a&49152)===49152},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(a){var b=T.flagModes[a];if(typeof b==="undefined")throw new Error("Unknown file open mode: "+a);return b},flagsToPermissionString:function(a){var b=["r","w","rw"][a&3];a&512&&(b+="w");return b},nodePermissions:function(a,b){if(T.ignorePermissions)return 0;if(b.indexOf("r")!==-1&&!(a.mode&292))return 13;else if(b.indexOf("w")!==-1&&!(a.mode&146))return 13;else if(b.indexOf("x")!==-1&&!(a.mode&73))return 13;return 0},mayLookup:function(b){var a=T.nodePermissions(b,"x");if(a)return a;return!b.node_ops.lookup?13:0},mayCreate:function(a,b){try{T.lookupNode(a,b);return 17}catch(a){}return T.nodePermissions(a,"wx")},mayDelete:function(a,b,c){try{b=T.lookupNode(a,b)}catch(a){return a.errno}a=T.nodePermissions(a,"wx");if(a)return a;if(c){if(!T.isDir(b.mode))return 20;if(T.isRoot(b)||T.getPath(b)===T.cwd())return 16}else if(T.isDir(b.mode))return 21;return 0},mayOpen:function(a,b){if(!a)return 2;if(T.isLink(a.mode))return 40;else if(T.isDir(a.mode)&&(T.flagsToPermissionString(b)!=="r"||b&512))return 21;return T.nodePermissions(a,T.flagsToPermissionString(b))},MAX_OPEN_FDS:4096,nextfd:function(a,b){a=a||0;b=b||T.MAX_OPEN_FDS;for(var a=a;a<=b;a++)if(!T.streams[a])return a;throw new T.ErrnoError(24)},getStream:function(a){return T.streams[a]},createStream:function(a,b,c){T.FSStream||(T.FSStream=function(){},T.FSStream.prototype={},Object.defineProperties(T.FSStream.prototype,{object:{get:function(){return this.node},set:function(a){this.node=a}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}}}));var d=new T.FSStream();for(var e in a)d[e]=a[e];a=d;d=T.nextfd(b,c);a.fd=d;T.streams[d]=a;return a},closeStream:function(a){T.streams[a]=null},chrdev_stream_ops:{open:function(a){var b=T.getDevice(a.node.rdev);a.stream_ops=b.stream_ops;a.stream_ops.open&&a.stream_ops.open(a)},llseek:function(){throw new T.ErrnoError(29)}},major:function(a){return a>>8},minor:function(a){return a&255},makedev:function(a,b){return a<<8|b},registerDevice:function(a,b){T.devices[a]={stream_ops:b}},getDevice:function(a){return T.devices[a]},getMounts:function(a){var b=[];a=[a];while(a.length){var c=a.pop();b.push(c);a.push.apply(a,c.mounts)}return b},syncfs:function(a,b){typeof a==="function"&&(b=a,a=!1);T.syncFSRequests++;T.syncFSRequests>1;var c=T.getMounts(T.root.mount),d=0;function e(a){T.syncFSRequests--;return b(a)}function f(a){if(a){if(!f.errored){f.errored=!0;return e(a)}return}++d>=c.length&&e(null)}c.forEach(function(b){if(!b.type.syncfs)return f(null);b.type.syncfs(b,a,f)})},mount:function(a,b,c){var d=c==="/",e=!c,f;if(d&&T.root)throw new T.ErrnoError(16);else if(!d&&!e){e=T.lookupPath(c,{follow_mount:!1});c=e.path;f=e.node;if(T.isMountpoint(f))throw new T.ErrnoError(16);if(!T.isDir(f.mode))throw new T.ErrnoError(20)}e={type:a,opts:b,mountpoint:c,mounts:[]};b=a.mount(e);b.mount=e;e.root=b;d?T.root=b:f&&(f.mounted=e,f.mount&&f.mount.mounts.push(e));return b},unmount:function(a){a=T.lookupPath(a,{follow_mount:!1});if(!T.isMountpoint(a.node))throw new T.ErrnoError(22);a=a.node;var b=a.mounted,c=T.getMounts(b);Object.keys(T.nameTable).forEach(function(a){a=T.nameTable[a];while(a){var b=a.name_next;c.indexOf(a.mount)!==-1&&T.destroyNode(a);a=b}});a.mounted=null;b=a.mount.mounts.indexOf(b);a.mount.mounts.splice(b,1)},lookup:function(a,b){return a.node_ops.lookup(a,b)},mknod:function(b,c,d){var e=T.lookupPath(b,{parent:!0});e=e.node;b=N.basename(b);if(!b||b==="."||b==="..")throw new T.ErrnoError(22);var a=T.mayCreate(e,b);if(a)throw new T.ErrnoError(a);if(!e.node_ops.mknod)throw new T.ErrnoError(1);return e.node_ops.mknod(e,b,c,d)},create:function(a,b){b=b!==void 0?b:438;b&=4095;b|=32768;return T.mknod(a,b,0)},mkdir:function(a,b){b=b!==void 0?b:511;b&=511|512;b|=16384;return T.mknod(a,b,0)},mkdirTree:function(a,b){a=a.split("/");var c="";for(var d=0;d<a.length;++d){if(!a[d])continue;c+="/"+a[d];try{T.mkdir(c,b)}catch(a){if(a.errno!=17)throw a}}},mkdev:function(a,b,c){typeof c==="undefined"&&(c=b,b=438);b|=8192;return T.mknod(a,b,c)},symlink:function(b,c){if(!O.resolve(b))throw new T.ErrnoError(2);var d=T.lookupPath(c,{parent:!0});d=d.node;if(!d)throw new T.ErrnoError(2);c=N.basename(c);var a=T.mayCreate(d,c);if(a)throw new T.ErrnoError(a);if(!d.node_ops.symlink)throw new T.ErrnoError(1);return d.node_ops.symlink(d,c,b)},rename:function(a,b){var c=N.dirname(a),d=N.dirname(b),e=N.basename(a),f=N.basename(b),g,h;try{g=T.lookupPath(a,{parent:!0}),h=g.node,g=T.lookupPath(b,{parent:!0}),g=g.node}catch(a){throw new T.ErrnoError(16)}if(!h||!g)throw new T.ErrnoError(2);if(h.mount!==g.mount)throw new T.ErrnoError(18);var i=T.lookupNode(h,e);d=O.relative(a,d);if(d.charAt(0)!==".")throw new T.ErrnoError(22);d=O.relative(b,c);if(d.charAt(0)!==".")throw new T.ErrnoError(39);try{c=T.lookupNode(g,f)}catch(a){}if(i===c)return;d=T.isDir(i.mode);e=T.mayDelete(h,e,d);if(e)throw new T.ErrnoError(e);e=c?T.mayDelete(g,f,d):T.mayCreate(g,f);if(e)throw new T.ErrnoError(e);if(!h.node_ops.rename)throw new T.ErrnoError(1);if(T.isMountpoint(i)||c&&T.isMountpoint(c))throw new T.ErrnoError(16);if(g!==h){e=T.nodePermissions(h,"w");if(e)throw new T.ErrnoError(e)}try{T.trackingDelegate.willMovePath&&T.trackingDelegate.willMovePath(a,b)}catch(a){}T.hashRemoveNode(i);try{h.node_ops.rename(i,g,f)}catch(a){throw a}finally{T.hashAddNode(i)}try{T.trackingDelegate.onMovePath&&T.trackingDelegate.onMovePath(a,b)}catch(a){}},rmdir:function(b){var c=T.lookupPath(b,{parent:!0});c=c.node;var d=N.basename(b),e=T.lookupNode(c,d),a=T.mayDelete(c,d,!0);if(a)throw new T.ErrnoError(a);if(!c.node_ops.rmdir)throw new T.ErrnoError(1);if(T.isMountpoint(e))throw new T.ErrnoError(16);try{T.trackingDelegate.willDeletePath&&T.trackingDelegate.willDeletePath(b)}catch(a){}c.node_ops.rmdir(c,d);T.destroyNode(e);try{T.trackingDelegate.onDeletePath&&T.trackingDelegate.onDeletePath(b)}catch(a){}},readdir:function(a){a=T.lookupPath(a,{follow:!0});a=a.node;if(!a.node_ops.readdir)throw new T.ErrnoError(20);return a.node_ops.readdir(a)},unlink:function(b){var c=T.lookupPath(b,{parent:!0});c=c.node;var d=N.basename(b),e=T.lookupNode(c,d),a=T.mayDelete(c,d,!1);if(a)throw new T.ErrnoError(a);if(!c.node_ops.unlink)throw new T.ErrnoError(1);if(T.isMountpoint(e))throw new T.ErrnoError(16);try{T.trackingDelegate.willDeletePath&&T.trackingDelegate.willDeletePath(b)}catch(a){}c.node_ops.unlink(c,d);T.destroyNode(e);try{T.trackingDelegate.onDeletePath&&T.trackingDelegate.onDeletePath(b)}catch(a){}},readlink:function(a){a=T.lookupPath(a);a=a.node;if(!a)throw new T.ErrnoError(2);if(!a.node_ops.readlink)throw new T.ErrnoError(22);return O.resolve(T.getPath(a.parent),a.node_ops.readlink(a))},stat:function(a,b){a=T.lookupPath(a,{follow:!b});b=a.node;if(!b)throw new T.ErrnoError(2);if(!b.node_ops.getattr)throw new T.ErrnoError(1);return b.node_ops.getattr(b)},lstat:function(a){return T.stat(a,!0)},chmod:function(a,b,c){if(typeof a==="string"){c=T.lookupPath(a,{follow:!c});c=c.node}else c=a;if(!c.node_ops.setattr)throw new T.ErrnoError(1);c.node_ops.setattr(c,{mode:b&4095|c.mode&-4096,timestamp:Date.now()})},lchmod:function(a,b){T.chmod(a,b,!0)},fchmod:function(a,b){a=T.getStream(a);if(!a)throw new T.ErrnoError(9);T.chmod(a.node,b)},chown:function(a,b,c,d){if(typeof a==="string"){b=T.lookupPath(a,{follow:!d});c=b.node}else c=a;if(!c.node_ops.setattr)throw new T.ErrnoError(1);c.node_ops.setattr(c,{timestamp:Date.now()})},lchown:function(a,b,c){T.chown(a,b,c,!0)},fchown:function(a,b,c){a=T.getStream(a);if(!a)throw new T.ErrnoError(9);T.chown(a.node,b,c)},truncate:function(a,b){if(b<0)throw new T.ErrnoError(22);if(typeof a==="string"){var c=T.lookupPath(a,{follow:!0});c=c.node}else c=a;if(!c.node_ops.setattr)throw new T.ErrnoError(1);if(T.isDir(c.mode))throw new T.ErrnoError(21);if(!T.isFile(c.mode))throw new T.ErrnoError(22);a=T.nodePermissions(c,"w");if(a)throw new T.ErrnoError(a);c.node_ops.setattr(c,{size:b,timestamp:Date.now()})},ftruncate:function(a,b){a=T.getStream(a);if(!a)throw new T.ErrnoError(9);if((a.flags&2097155)===0)throw new T.ErrnoError(22);T.truncate(a.node,b)},utime:function(a,b,c){a=T.lookupPath(a,{follow:!0});a=a.node;a.node_ops.setattr(a,{timestamp:Math.max(b,c)})},open:function(a,b,c,d,e){if(a==="")throw new T.ErrnoError(2);b=typeof b==="string"?T.modeStringToFlags(b):b;c=typeof c==="undefined"?438:c;b&64?c=c&4095|32768:c=0;var g;if(typeof a==="object")g=a;else{a=N.normalize(a);try{var h=T.lookupPath(a,{follow:!(b&131072)});g=h.node}catch(a){}}h=!1;if(b&64)if(g){if(b&128)throw new T.ErrnoError(17)}else g=T.mknod(a,c,0),h=!0;if(!g)throw new T.ErrnoError(2);T.isChrdev(g.mode)&&(b&=-513);if(b&65536&&!T.isDir(g.mode))throw new T.ErrnoError(20);if(!h){c=T.mayOpen(g,b);if(c)throw new T.ErrnoError(c)}b&512&&T.truncate(g,0);b&=~(128|512);h=T.createStream({node:g,path:T.getPath(g),flags:b,seekable:!0,position:0,stream_ops:g.stream_ops,ungotten:[],error:!1},d,e);h.stream_ops.open&&h.stream_ops.open(h);f.logReadFiles&&!(b&1)&&(T.readFiles||(T.readFiles={}),a in T.readFiles||(T.readFiles[a]=1));try{if(T.trackingDelegate.onOpenFile){c=0;(b&2097155)!==1&&(c|=T.tracking.openFlags.READ);(b&2097155)!==0&&(c|=T.tracking.openFlags.WRITE);T.trackingDelegate.onOpenFile(a,c)}}catch(a){}return h},close:function(a){if(T.isClosed(a))throw new T.ErrnoError(9);a.getdents&&(a.getdents=null);try{a.stream_ops.close&&a.stream_ops.close(a)}catch(a){throw a}finally{T.closeStream(a.fd)}a.fd=null},isClosed:function(a){return a.fd===null},llseek:function(a,b,c){if(T.isClosed(a))throw new T.ErrnoError(9);if(!a.seekable||!a.stream_ops.llseek)throw new T.ErrnoError(29);if(c!=0&&c!=1&&c!=2)throw new T.ErrnoError(22);a.position=a.stream_ops.llseek(a,b,c);a.ungotten=[];return a.position},read:function(b,a,c,d,e){if(d<0||e<0)throw new T.ErrnoError(22);if(T.isClosed(b))throw new T.ErrnoError(9);if((b.flags&2097155)===1)throw new T.ErrnoError(9);if(T.isDir(b.node.mode))throw new T.ErrnoError(21);if(!b.stream_ops.read)throw new T.ErrnoError(22);var f=typeof e!=="undefined";if(!f)e=b.position;else if(!b.seekable)throw new T.ErrnoError(29);a=b.stream_ops.read(b,a,c,d,e);f||(b.position+=a);return a},write:function(b,a,c,d,e,f){if(d<0||e<0)throw new T.ErrnoError(22);if(T.isClosed(b))throw new T.ErrnoError(9);if((b.flags&2097155)===0)throw new T.ErrnoError(9);if(T.isDir(b.node.mode))throw new T.ErrnoError(21);if(!b.stream_ops.write)throw new T.ErrnoError(22);b.flags&1024&&T.llseek(b,0,2);var g=typeof e!=="undefined";if(!g)e=b.position;else if(!b.seekable)throw new T.ErrnoError(29);a=b.stream_ops.write(b,a,c,d,e,f);g||(b.position+=a);try{b.path&&T.trackingDelegate.onWriteToFile&&T.trackingDelegate.onWriteToFile(b.path)}catch(a){}return a},allocate:function(a,b,c){if(T.isClosed(a))throw new T.ErrnoError(9);if(b<0||c<=0)throw new T.ErrnoError(22);if((a.flags&2097155)===0)throw new T.ErrnoError(9);if(!T.isFile(a.node.mode)&&!T.isDir(a.node.mode))throw new T.ErrnoError(19);if(!a.stream_ops.allocate)throw new T.ErrnoError(95);a.stream_ops.allocate(a,b,c)},mmap:function(b,a,c,d,e,f,g){if((f&2)!==0&&(g&2)===0&&(b.flags&2097155)!==2)throw new T.ErrnoError(13);if((b.flags&2097155)===1)throw new T.ErrnoError(13);if(!b.stream_ops.mmap)throw new T.ErrnoError(19);return b.stream_ops.mmap(b,a,c,d,e,f,g)},msync:function(b,a,c,d,e){return!b||!b.stream_ops.msync?0:b.stream_ops.msync(b,a,c,d,e)},munmap:function(a){return 0},ioctl:function(a,b,c){if(!a.stream_ops.ioctl)throw new T.ErrnoError(25);return a.stream_ops.ioctl(a,b,c)},readFile:function(a,b){b=b||{};b.flags=b.flags||"r";b.encoding=b.encoding||"binary";if(b.encoding!=="utf8"&&b.encoding!=="binary")throw new Error('Invalid encoding type "'+b.encoding+'"');var c,d=T.open(a,b.flags);a=T.stat(a);a=a.size;var e=new Uint8Array(a);T.read(d,e,0,a,0);b.encoding==="utf8"?c=u(e,0):b.encoding==="binary"&&(c=e);T.close(d);return c},writeFile:function(a,b,c){c=c||{};c.flags=c.flags||"w";a=T.open(a,c.flags,c.mode);if(typeof b==="string"){var d=new Uint8Array(x(b)+1),e=w(b,d,0,d.length);T.write(a,d,0,e,void 0,c.canOwn)}else if(ArrayBuffer.isView(b))T.write(a,b,0,b.byteLength,void 0,c.canOwn);else throw new Error("Unsupported data type");T.close(a)},cwd:function(){return T.currentPath},chdir:function(b){b=T.lookupPath(b,{follow:!0});if(b.node===null)throw new T.ErrnoError(2);if(!T.isDir(b.node.mode))throw new T.ErrnoError(20);var a=T.nodePermissions(b.node,"x");if(a)throw new T.ErrnoError(a);T.currentPath=b.path},createDefaultDirectories:function(){T.mkdir("/tmp"),T.mkdir("/home"),T.mkdir("/home/web_user")},createDefaultDevices:function(){T.mkdir("/dev");T.registerDevice(T.makedev(1,3),{read:function(){return 0},write:function(b,a,c,d,e){return d}});T.mkdev("/dev/null",T.makedev(1,3));P.register(T.makedev(5,0),P.default_tty_ops);P.register(T.makedev(6,0),P.default_tty1_ops);T.mkdev("/dev/tty",T.makedev(5,0));T.mkdev("/dev/tty1",T.makedev(6,0));var a;if(typeof crypto==="object"&&typeof crypto.getRandomValues==="function"){var b=new Uint8Array(1);a=function(){crypto.getRandomValues(b);return b[0]}}a||(a=function(){$("random_device")});T.createDevice("/dev","random",a);T.createDevice("/dev","urandom",a);T.mkdir("/dev/shm");T.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){T.mkdir("/proc"),T.mkdir("/proc/self"),T.mkdir("/proc/self/fd"),T.mount({mount:function(){var a=T.createNode("/proc/self","fd",16384|511,73);a.node_ops={lookup:function(a,b){a=+b;var c=T.getStream(a);if(!c)throw new T.ErrnoError(9);b={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return c.path}}};b.parent=b;return b}};return a}},{},"/proc/self/fd")},createStandardStreams:function(){f.stdin?T.createDevice("/dev","stdin",f.stdin):T.symlink("/dev/tty","/dev/stdin"),f.stdout?T.createDevice("/dev","stdout",null,f.stdout):T.symlink("/dev/tty","/dev/stdout"),f.stderr?T.createDevice("/dev","stderr",null,f.stderr):T.symlink("/dev/tty1","/dev/stderr"),T.open("/dev/stdin","r"),T.open("/dev/stdout","w"),T.open("/dev/stderr","w")},ensureErrnoError:function(){if(T.ErrnoError)return;T.ErrnoError=function(a,b){this.node=b,this.setErrno=function(a){this.errno=a},this.setErrno(a),this.message="FS error",this.stack&&Object.defineProperty(this,"stack",{value:new Error().stack,writable:!0})};T.ErrnoError.prototype=new Error();T.ErrnoError.prototype.constructor=T.ErrnoError;[2].forEach(function(a){T.genericErrors[a]=new T.ErrnoError(a),T.genericErrors[a].stack="<generic error, no stack>"})},staticInit:function(){T.ensureErrnoError(),T.nameTable=new Array(4096),T.mount(Q,{},"/"),T.createDefaultDirectories(),T.createDefaultDevices(),T.createSpecialDirectories(),T.filesystems={MEMFS:Q,IDBFS:R,WORKERFS:S}},init:function(a,b,c){T.init.initialized=!0,T.ensureErrnoError(),f.stdin=a||f.stdin,f.stdout=b||f.stdout,f.stderr=c||f.stderr,T.createStandardStreams()},quit:function(){T.init.initialized=!1;var a=f._fflush;a&&a(0);for(var a=0;a<T.streams.length;a++){var b=T.streams[a];if(!b)continue;T.close(b)}},getMode:function(a,b){var c=0;a&&(c|=292|73);b&&(c|=146);return c},joinPath:function(a,b){a=N.join.apply(null,a);b&&a[0]=="/"&&(a=a.substr(1));return a},absolutePath:function(a,b){return O.resolve(b,a)},standardizePath:function(a){return N.normalize(a)},findObject:function(a,b){a=T.analyzePath(a,b);if(a.exists)return a.object;else{M(a.error);return null}},analyzePath:function(a,b){try{var c=T.lookupPath(a,{follow:!b});a=c.path}catch(a){}var d={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var c=T.lookupPath(a,{parent:!0});d.parentExists=!0;d.parentPath=c.path;d.parentObject=c.node;d.name=N.basename(a);c=T.lookupPath(a,{follow:!b});d.exists=!0;d.path=c.path;d.object=c.node;d.name=c.node.name;d.isRoot=c.path==="/"}catch(a){d.error=a.errno}return d},createFolder:function(a,b,c,d){a=N.join2(typeof a==="string"?a:T.getPath(a),b);b=T.getMode(c,d);return T.mkdir(a,b)},createPath:function(a,b,c,d){a=typeof a==="string"?a:T.getPath(a);c=b.split("/").reverse();while(c.length){d=c.pop();if(!d)continue;var e=N.join2(a,d);try{T.mkdir(e)}catch(a){}a=e}return e},createFile:function(a,b,c,d,e){c=N.join2(typeof a==="string"?a:T.getPath(a),b);a=T.getMode(d,e);return T.create(c,a)},createDataFile:function(a,b,c,d,e,f){b=b?N.join2(typeof a==="string"?a:T.getPath(a),b):a;a=T.getMode(d,e);d=T.create(b,a);if(c){if(typeof c==="string"){e=new Array(c.length);for(var b=0,g=c.length;b<g;++b)e[b]=c.charCodeAt(b);c=e}T.chmod(d,a|146);b=T.open(d,"w");T.write(b,c,0,c.length,0,f);T.close(b);T.chmod(d,a)}return d},createDevice:function(a,b,c,d){a=N.join2(typeof a==="string"?a:T.getPath(a),b);b=T.getMode(!!c,!!d);T.createDevice.major||(T.createDevice.major=64);var e=T.makedev(T.createDevice.major++,0);T.registerDevice(e,{open:function(a){a.seekable=!1},close:function(a){d&&d.buffer&&d.buffer.length&&d(10)},read:function(b,a,d,e,f){f=0;for(var g=0;g<e;g++){var h;try{h=c()}catch(a){throw new T.ErrnoError(5)}if(h===void 0&&f===0)throw new T.ErrnoError(11);if(h===null||h===void 0)break;f++;a[d+g]=h}f&&(b.node.timestamp=Date.now());return f},write:function(b,a,c,e,f){for(var f=0;f<e;f++)try{d(a[c+f])}catch(a){throw new T.ErrnoError(5)}e&&(b.node.timestamp=Date.now());return f}});return T.mkdev(a,b,e)},createLink:function(a,b,c,d,e){d=N.join2(typeof a==="string"?a:T.getPath(a),b);return T.symlink(c,d)},forceLoadFile:function(a){if(a.isDevice||a.isFolder||a.link||a.contents)return!0;var b=!0;if(typeof XMLHttpRequest!=="undefined")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");else if(f.read)try{a.contents=Rb(f.read(a.url),!0),a.usedBytes=a.contents.length}catch(a){b=!1}else throw new Error("Cannot load without read() or XMLHttpRequest.");b||M(5);return b},createLazyFile:function(a,b,c,d,e){function f(){this.lengthKnown=!1,this.chunks=[]}f.prototype.get=function(a){if(a>this.length-1||a<0)return void 0;var b=a%this.chunkSize;a=a/this.chunkSize|0;return this.getter(a)[b]};f.prototype.setDataGetter=function(a){this.getter=a};f.prototype.cacheLength=function(){var a=new XMLHttpRequest();a.open("HEAD",c,!1);a.send(null);if(!(a.status>=200&&a.status<300||a.status===304))throw new Error("Couldn't load "+c+". Status: "+a.status);var b=Number(a.getResponseHeader("Content-length")),d,e=(d=a.getResponseHeader("Accept-Ranges"))&&d==="bytes";a=(d=a.getResponseHeader("Content-Encoding"))&&d==="gzip";var f=1024*1024;e||(f=b);var g=function(d,e){if(d>e)throw new Error("invalid range ("+d+", "+e+") or no bytes requested!");if(e>b-1)throw new Error("only "+b+" bytes available! programmer error!");var a=new XMLHttpRequest();a.open("GET",c,!1);b!==f&&a.setRequestHeader("Range","bytes="+d+"-"+e);typeof Uint8Array!="undefined"&&(a.responseType="arraybuffer");a.overrideMimeType&&a.overrideMimeType("text/plain; charset=x-user-defined");a.send(null);if(!(a.status>=200&&a.status<300||a.status===304))throw new Error("Couldn't load "+c+". Status: "+a.status);if(a.response!==void 0)return new Uint8Array(a.response||[]);else return Rb(a.responseText||"",!0)},h=this;h.setDataGetter(function(a){var c=a*f,d=(a+1)*f-1;d=Math.min(d,b-1);typeof h.chunks[a]==="undefined"&&(h.chunks[a]=g(c,d));if(typeof h.chunks[a]==="undefined")throw new Error("doXHR failed!");return h.chunks[a]});(a||!b)&&(f=b=1,b=this.getter(0).length,f=b);this._length=b;this._chunkSize=f;this.lengthKnown=!0};if(typeof XMLHttpRequest!=="undefined"){if(!l)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";f=new f();Object.defineProperties(f,{length:{get:function(){this.lengthKnown||this.cacheLength();return this._length}},chunkSize:{get:function(){this.lengthKnown||this.cacheLength();return this._chunkSize}}});f={isDevice:!1,contents:f}}else var f={isDevice:!1,url:c};var g=T.createFile(a,b,f,d,e);f.contents?g.contents=f.contents:f.url&&(g.contents=null,g.url=f.url);Object.defineProperties(g,{usedBytes:{get:function(){return this.contents.length}}});var h={};a=Object.keys(g.stream_ops);a.forEach(function(a){var b=g.stream_ops[a];h[a]=function(){if(!T.forceLoadFile(g))throw new T.ErrnoError(5);return b.apply(null,arguments)}});h.read=function(b,a,c,d,e){if(!T.forceLoadFile(g))throw new T.ErrnoError(5);b=b.node.contents;if(e>=b.length)return 0;d=Math.min(b.length-e,d);if(b.slice)for(var f=0;f<d;f++)a[c+f]=b[e+f];else for(var f=0;f<d;f++)a[c+f]=b.get(e+f);return d};g.stream_ops=h;return g},createPreloadedFile:function(a,b,c,d,e,g,h,i,j,k){Browser.init();var l=b?O.resolve(N.join2(a,b)):a,m=Na("cp "+l);function n(c){function n(c){k&&k(),i||T.createDataFile(a,b,c,d,e,j),g&&g(),Pa(m)}var o=!1;f.preloadPlugins.forEach(function(a){if(o)return;a.canHandle(l)&&(a.handle(c,l,n,function(){h&&h(),Pa(m)}),o=!0)});o||n(c)}Oa(m);typeof c=="string"?Browser.asyncLoad(c,function(a){n(a)},h):n(c)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(a,b,c){b=b||function(){};c=c||function(){};var d=T.indexedDB();try{var e=d.open(T.DB_NAME(),T.DB_VERSION)}catch(a){return c(a)}e.onupgradeneeded=function(){var a=e.result;a.createObjectStore(T.DB_STORE_NAME)};e.onsuccess=function(){var d=e.result;d=d.transaction([T.DB_STORE_NAME],"readwrite");var f=d.objectStore(T.DB_STORE_NAME),g=0,h=0,i=a.length;function j(){h==0?b():c()}a.forEach(function(a){a=f.put(T.analyzePath(a).object.contents,a);a.onsuccess=function(){g++,g+h==i&&j()};a.onerror=function(){h++,g+h==i&&j()}});d.onerror=c};e.onerror=c},loadFilesFromDB:function(a,b,c){b=b||function(){};c=c||function(){};var d=T.indexedDB();try{var e=d.open(T.DB_NAME(),T.DB_VERSION)}catch(a){return c(a)}e.onupgradeneeded=c;e.onsuccess=function(){var d=e.result;try{d=d.transaction([T.DB_STORE_NAME],"readonly")}catch(a){c(a);return}var f=d.objectStore(T.DB_STORE_NAME),g=0,h=0,i=a.length;function j(){h==0?b():c()}a.forEach(function(a){var b=f.get(a);b.onsuccess=function(){T.analyzePath(a).exists&&T.unlink(a),T.createDataFile(N.dirname(a),N.basename(a),b.result,!0,!0,!0),g++,g+h==i&&j()};b.onerror=function(){h++,g+h==i&&j()}});d.onerror=c};e.onerror=c}},U={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(a,b){if(b[0]!=="/"){var c;if(a===-100)c=T.cwd();else{a=T.getStream(a);if(!a)throw new T.ErrnoError(9);c=a.path}b=N.join2(c,b)}return b},doStat:function(a,b,c){try{a=a(b)}catch(a){if(a&&a.node&&N.normalize(b)!==N.normalize(T.getPath(a.node)))return-20;throw a}B[c>>2]=a.dev;B[c+4>>2]=0;B[c+8>>2]=a.ino;B[c+12>>2]=a.mode;B[c+16>>2]=a.nlink;B[c+20>>2]=a.uid;B[c+24>>2]=a.gid;B[c+28>>2]=a.rdev;B[c+32>>2]=0;I=[a.size>>>0,(p=a.size,+Ia(p)>=1?p>0?(La(+Ka(p/4294967296),4294967295)|0)>>>0:~~+Ja((p-+(~~p>>>0))/4294967296)>>>0:0)],B[c+40>>2]=I[0],B[c+44>>2]=I[1];B[c+48>>2]=4096;B[c+52>>2]=a.blocks;B[c+56>>2]=a.atime.getTime()/1e3|0;B[c+60>>2]=0;B[c+64>>2]=a.mtime.getTime()/1e3|0;B[c+68>>2]=0;B[c+72>>2]=a.ctime.getTime()/1e3|0;B[c+76>>2]=0;I=[a.ino>>>0,(p=a.ino,+Ia(p)>=1?p>0?(La(+Ka(p/4294967296),4294967295)|0)>>>0:~~+Ja((p-+(~~p>>>0))/4294967296)>>>0:0)],B[c+80>>2]=I[0],B[c+84>>2]=I[1];return 0},doMsync:function(a,b,c,d){a=new Uint8Array(A.subarray(a,a+c));T.msync(b,a,0,c,d)},doMkdir:function(a,b){a=N.normalize(a);a[a.length-1]==="/"&&(a=a.substr(0,a.length-1));T.mkdir(a,b,0);return 0},doMknod:function(a,b,c){switch(b&61440){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-22}T.mknod(a,b,c);return 0},doReadlink:function(a,b,c){if(c<=0)return-22;a=T.readlink(a);var d=Math.min(c,x(a)),e=z[b+d];ia(a,b,c+1);z[b+d]=e;return d},doAccess:function(a,b){if(b&-8)return-22;a=T.lookupPath(a,{follow:!0});a=a.node;var c="";b&4&&(c+="r");b&2&&(c+="w");b&1&&(c+="x");return c&&T.nodePermissions(a,c)?-13:0},doDup:function(a,b,c){var d=T.getStream(c);d&&T.close(d);return T.open(a,b,0,c,c).fd},doReadv:function(a,b,c,d){var e=0;for(var f=0;f<c;f++){var g=B[b+f*8>>2],h=B[b+(f*8+4)>>2];g=T.read(a,z,g,h,d);if(g<0)return-1;e+=g;if(g<h)break}return e},doWritev:function(a,b,c,d){var e=0;for(var f=0;f<c;f++){var g=B[b+f*8>>2],h=B[b+(f*8+4)>>2];g=T.write(a,z,g,h,d);if(g<0)return-1;e+=g}return e},varargs:0,get:function(a){U.varargs+=4;a=B[U.varargs-4>>2];return a},getStr:function(){var a=v(U.get());return a},getStreamFromFD:function(){var a=T.getStream(U.get());if(!a)throw new T.ErrnoError(9);return a},get64:function(){var a=U.get();U.get();return a},getZero:function(){U.get()}};function nb(a,b){U.varargs=b;try{a=U.getStreamFromFD();b=U.get();var c=U.get(),d=U.get(),e=U.get(),f=4294967296;b=b*f+(c>>>0);f=9007199254740992;if(b<=-f||b>=f)return-75;T.llseek(a,b,e);I=[a.position>>>0,(p=a.position,+Ia(p)>=1?p>0?(La(+Ka(p/4294967296),4294967295)|0)>>>0:~~+Ja((p-+(~~p>>>0))/4294967296)>>>0:0)],B[d>>2]=I[0],B[d+4>>2]=I[1];a.getdents&&b===0&&e===0&&(a.getdents=null);return 0}catch(a){(typeof T==="undefined"||!(a instanceof T.ErrnoError))&&$(a);return-a.errno}}function ob(a,b){U.varargs=b;try{a=U.getStreamFromFD();b=U.get();var c=U.get();return U.doWritev(a,b,c)}catch(a){(typeof T==="undefined"||!(a instanceof T.ErrnoError))&&$(a);return-a.errno}}function pb(a,b){U.varargs=b;try{a=U.getStreamFromFD();T.close(a);return 0}catch(a){(typeof T==="undefined"||!(a instanceof T.ErrnoError))&&$(a);return-a.errno}}function qb(a,b){if(a==-1||b==0)return-22;var c=U.mappings[a];if(!c)return 0;if(b===c.len){var d=T.getStream(c.fd);U.doMsync(a,d,b,c.flags);T.munmap(d);U.mappings[a]=null;c.allocated&&wc(c.malloc)}return 0}function rb(a,b){U.varargs=b;try{a=U.get();b=U.get();return qb(a,b)}catch(a){(typeof T==="undefined"||!(a instanceof T.ErrnoError))&&$(a);return-a.errno}}function sb(){}function tb(){f.abort()}function ub(){$()}function vb(){return typeof performance==="object"&&performance&&typeof performance.now==="function"}function wb(a,b){var c;if(a===0)c=Date.now();else if(a===1&&vb())c=ub();else{M(22);return-1}B[b>>2]=c/1e3|0;B[b+4>>2]=c%1e3*1e3*1e3|0;return 0}function xb(){return z.length}function yb(a){cd(a)}function V(a){if(a===0)return 0;a=v(a);if(!Object.prototype.hasOwnProperty.call(J,a))return 0;V.ret&&wc(V.ret);V.ret=ja(J[a]);return V.ret}function zb(a){return a}function Ab(a){return Math.pow(2,a)}function Bb(a){return Ab(a)}function Cb(a){var b=Db,c=b.LLVM_SAVEDSTACKS[a];b.LLVM_SAVEDSTACKS.splice(a,1);Y(c)}function Db(){var a=Db;a.LLVM_SAVEDSTACKS||(a.LLVM_SAVEDSTACKS=[]);a.LLVM_SAVEDSTACKS.push(Z());return a.LLVM_SAVEDSTACKS.length-1}function Eb(){$("trap!")}function Fb(a,b,c){A.set(A.subarray(b,b+c),a)}function Gb(){return 0}function Hb(a){$("OOM")}function Ib(a){var b=65536;a=qa(a,b);b=y.byteLength;try{a=r.grow((a-b)/65536);if(a!==(-1|0)){y=r.buffer;return!0}else return!1}catch(a){return!1}}function Jb(a){var b=xb(),c=65536,d=2147483648-c;if(a>d)return!1;var e=16777216;b=Math.max(b,e);while(b<a)b<=536870912?b=qa(2*b,c):b=Math.min(qa((3*b+2147483648)/4,c),d);if(!Ib(b))return!1;ua();return!0}function Kb(a){return a%4===0&&(a%100!==0||a%400===0)}function Lb(a,b){var c=0;for(var d=0;d<=b;c+=a[d++]);return c}var Mb=[31,29,31,30,31,30,31,31,30,31,30,31],Nb=[31,28,31,30,31,30,31,31,30,31,30,31];function Ob(a,b){a=new Date(a.getTime());while(b>0){var c=Kb(a.getFullYear()),d=a.getMonth();c=(c?Mb:Nb)[d];if(b>c-a.getDate())b-=c-a.getDate()+1,a.setDate(1),d<11?a.setMonth(d+1):(a.setMonth(0),a.setFullYear(a.getFullYear()+1));else{a.setDate(a.getDate()+b);return a}}return a}function Pb(a,b,c,d){var e=B[d+40>>2];d={tm_sec:B[d>>2],tm_min:B[d+4>>2],tm_hour:B[d+8>>2],tm_mday:B[d+12>>2],tm_mon:B[d+16>>2],tm_year:B[d+20>>2],tm_wday:B[d+24>>2],tm_yday:B[d+28>>2],tm_isdst:B[d+32>>2],tm_gmtoff:B[d+36>>2],tm_zone:e?v(e):""};e=v(c);c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var f in c)e=e.replace(new RegExp(f,"g"),c[f]);var g=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["January","February","March","April","May","June","July","August","September","October","November","December"];function i(a,b,c){a=typeof a==="number"?a.toString():a||"";while(a.length<b)a=c[0]+a;return a}function j(a,b){return i(a,b,"0")}function k(a,b){function c(a){return a<0?-1:a>0?1:0}var d;(d=c(a.getFullYear()-b.getFullYear()))===0&&((d=c(a.getMonth()-b.getMonth()))===0&&(d=c(a.getDate()-b.getDate())));return d}function l(a){switch(a.getDay()){case 0:return new Date(a.getFullYear()-1,11,29);case 1:return a;case 2:return new Date(a.getFullYear(),0,3);case 3:return new Date(a.getFullYear(),0,2);case 4:return new Date(a.getFullYear(),0,1);case 5:return new Date(a.getFullYear()-1,11,31);case 6:return new Date(a.getFullYear()-1,11,30)}}function m(a){a=Ob(new Date(a.tm_year+1900,0,1),a.tm_yday);var b=new Date(a.getFullYear(),0,4),c=new Date(a.getFullYear()+1,0,4);b=l(b);c=l(c);if(k(b,a)<=0)if(k(c,a)<=0)return a.getFullYear()+1;else return a.getFullYear();else return a.getFullYear()-1}c={"%a":function(a){return g[a.tm_wday].substring(0,3)},"%A":function(a){return g[a.tm_wday]},"%b":function(a){return h[a.tm_mon].substring(0,3)},"%B":function(a){return h[a.tm_mon]},"%C":function(a){a=a.tm_year+1900;return j(a/100|0,2)},"%d":function(a){return j(a.tm_mday,2)},"%e":function(a){return i(a.tm_mday,2," ")},"%g":function(a){return m(a).toString().substring(2)},"%G":function(a){return m(a)},"%H":function(a){return j(a.tm_hour,2)},"%I":function(a){a=a.tm_hour;a==0?a=12:a>12&&(a-=12);return j(a,2)},"%j":function(a){return j(a.tm_mday+Lb(Kb(a.tm_year+1900)?Mb:Nb,a.tm_mon-1),3)},"%m":function(a){return j(a.tm_mon+1,2)},"%M":function(a){return j(a.tm_min,2)},"%n":function(){return"\n"},"%p":function(a){if(a.tm_hour>=0&&a.tm_hour<12)return"AM";else return"PM"},"%S":function(a){return j(a.tm_sec,2)},"%t":function(){return"\t"},"%u":function(a){return a.tm_wday||7},"%U":function(a){var b=new Date(a.tm_year+1900,0,1),c=b.getDay()===0?b:Ob(b,7-b.getDay());a=new Date(a.tm_year+1900,a.tm_mon,a.tm_mday);if(k(c,a)<0){var d=Lb(Kb(a.getFullYear())?Mb:Nb,a.getMonth()-1)-31,e=31-c.getDate();e=e+d+a.getDate();return j(Math.ceil(e/7),2)}return k(c,b)===0?"01":"00"},"%V":function(a){var b=new Date(a.tm_year+1900,0,4),c=new Date(a.tm_year+1901,0,4);b=l(b);c=l(c);var d=Ob(new Date(a.tm_year+1900,0,1),a.tm_yday);if(k(d,b)<0)return"53";if(k(c,d)<=0)return"01";b.getFullYear()<a.tm_year+1900?c=a.tm_yday+32-b.getDate():c=a.tm_yday+1-b.getDate();return j(Math.ceil(c/7),2)},"%w":function(a){return a.tm_wday},"%W":function(a){var b=new Date(a.tm_year,0,1),c=b.getDay()===1?b:Ob(b,b.getDay()===0?1:7-b.getDay()+1);a=new Date(a.tm_year+1900,a.tm_mon,a.tm_mday);if(k(c,a)<0){var d=Lb(Kb(a.getFullYear())?Mb:Nb,a.getMonth()-1)-31,e=31-c.getDate();e=e+d+a.getDate();return j(Math.ceil(e/7),2)}return k(c,b)===0?"01":"00"},"%y":function(a){return(a.tm_year+1900).toString().substring(2)},"%Y":function(a){return a.tm_year+1900},"%z":function(a){a=a.tm_gmtoff;var b=a>=0;a=Math.abs(a)/60;a=a/60*100+a%60;return(b?"+":"-")+String("0000"+a).slice(-4)},"%Z":function(a){return a.tm_zone},"%%":function(){return"%"}};for(var f in c)e.indexOf(f)>=0&&(e=e.replace(new RegExp(f,"g"),c[f](d)));c=Rb(e,!1);if(c.length>b)return 0;ka(c,a);return c.length-1}function Qb(a,b,c,d){return Pb(a,b,c,d)}T.staticInit();typeof dateNow!=="undefined"?ub=dateNow:typeof performance==="object"&&performance&&typeof performance.now==="function"?ub=function(){return performance.now()}:ub=Date.now;function Rb(a,b,c){c=c>0?c:x(a)+1;c=new Array(c);a=w(a,c,0,c.length);b&&(c.length=a);return c}function Sb(a,b,c,d){var e=Z();try{return zc(a,b,c,d)}catch(a){Y(e);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function Tb(a,b,c,d){var e=Z();try{return Ac(a,b,c,d)}catch(a){Y(e);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function Ub(a){var b=Z();try{return Bc(a)}catch(a){Y(b);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function Vb(a,b){var c=Z();try{return Cc(a,b)}catch(a){Y(c);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function Wb(a,b,c){var d=Z();try{return Dc(a,b,c)}catch(a){Y(d);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function Xb(a,b,c,d){var e=Z();try{return Ec(a,b,c,d)}catch(a){Y(e);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function Yb(a,b,c,d){var e=Z();try{return Fc(a,b,c,d)}catch(a){Y(e);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function Zb(a,b,c,d,e){var f=Z();try{return Gc(a,b,c,d,e)}catch(a){Y(f);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function $b(a,b,c,d,e,f){var g=Z();try{return Hc(a,b,c,d,e,f)}catch(a){Y(g);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function ac(a,b,c,d,e,f,g){var h=Z();try{return Ic(a,b,c,d,e,f,g)}catch(a){Y(h);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function bc(a,b,c,d,e,f,g,h){var i=Z();try{return Jc(a,b,c,d,e,f,g,h)}catch(a){Y(i);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function cc(a,b,c,d,e,f,g,h,i){var j=Z();try{return Kc(a,b,c,d,e,f,g,h,i)}catch(a){Y(j);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function dc(a,b,c,d,e,f,g,h,i,j,k){var l=Z();try{return Lc(a,b,c,d,e,f,g,h,i,j,k)}catch(a){Y(l);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function ec(a,b,c,d,e,f,g,h,i,j,k,l){var m=Z();try{return Mc(a,b,c,d,e,f,g,h,i,j,k,l)}catch(a){Y(m);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function fc(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=Z();try{return Nc(a,b,c,d,e,f,g,h,i,j,k,l,m)}catch(a){Y(n);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function gc(a,b,c,d,e){var f=Z();try{return Oc(a,b,c,d,e)}catch(a){Y(f);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function hc(a){var b=Z();try{Pc(a)}catch(a){Y(b);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function ic(a,b){var c=Z();try{Qc(a,b)}catch(a){Y(c);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function jc(a,b,c){var d=Z();try{Rc(a,b,c)}catch(a){Y(d);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function kc(a,b,c,d,e,f,g,h){var i=Z();try{Sc(a,b,c,d,e,f,g,h)}catch(a){Y(i);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function lc(a,b,c,d){var e=Z();try{Tc(a,b,c,d)}catch(a){Y(e);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function mc(a,b,c,d,e){var f=Z();try{Uc(a,b,c,d,e)}catch(a){Y(f);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function nc(a,b,c,d,e,f){var g=Z();try{Vc(a,b,c,d,e,f)}catch(a){Y(g);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function oc(a,b,c,d,e,f,g){var h=Z();try{Wc(a,b,c,d,e,f,g)}catch(a){Y(h);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function pc(a,b,c,d,e,f,g){var h=Z();try{Xc(a,b,c,d,e,f,g)}catch(a){Y(h);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function qc(a,b,c,d,e,f,g,h){var i=Z();try{Yc(a,b,c,d,e,f,g,h)}catch(a){Y(i);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function rc(a,b,c,d,e,f,g,h,i,j,k){var l=Z();try{Zc(a,b,c,d,e,f,g,h,i,j,k)}catch(a){Y(l);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}function sc(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,aa){var p=Z();try{$c(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,aa)}catch(a){Y(p);if(a!==a+0&&a!=="longjmp")throw a;X(1,0)}}D={};i={s:$,Y:q,b:m,L:Sb,T:Tb,t:Ub,f:Vb,i:Wb,G:Xb,r:Yb,q:Zb,N:$b,B:ac,W:bc,V:cc,w:dc,M:ec,F:fc,X:gc,l:hc,m:ic,e:jc,I:kc,g:lc,k:mc,j:nc,U:oc,K:pc,y:qc,E:rc,J:sc,ma:Va,n:Wa,u:$a,v:cb,c:fb,h:gb,p:ab,la:hb,S:ib,o:jb,ka:kb,ja:lb,ia:mb,d:db,R:M,ha:nb,Q:ob,ga:pb,fa:rb,P:sb,O:tb,ea:wb,da:xb,ca:Fb,ba:Jb,aa:yb,H:V,C:zb,D:Bb,A:Cb,z:Db,x:Eb,$:Gb,_:Qb,Z:Hb,a:C};E=f.asm(D,i,y);f.asm=E;var W=f.__ZSt18uncaught_exceptionv=function(){return f.asm.na.apply(null,arguments)},tc=f.___cxa_can_catch=function(){return f.asm.oa.apply(null,arguments)},uc=f.___cxa_is_pointer_type=function(){return f.asm.pa.apply(null,arguments)},vc=f.___emscripten_environ_constructor=function(){return f.asm.qa.apply(null,arguments)};f.___errno_location=function(){return f.asm.ra.apply(null,arguments)};var wc=f._free=function(){return f.asm.sa.apply(null,arguments)},xc=f._malloc=function(){return f.asm.ta.apply(null,arguments)};f._resizeJpeg=function(){return f.asm.ua.apply(null,arguments)};var X=f._setThrew=function(){return f.asm.va.apply(null,arguments)},yc=f.stackAlloc=function(){return f.asm.Ya.apply(null,arguments)},Y=f.stackRestore=function(){return f.asm.Za.apply(null,arguments)},Z=f.stackSave=function(){return f.asm._a.apply(null,arguments)},zc=f.dynCall_diii=function(){return f.asm.wa.apply(null,arguments)},Ac=f.dynCall_fiii=function(){return f.asm.xa.apply(null,arguments)},Bc=f.dynCall_i=function(){return f.asm.ya.apply(null,arguments)},Cc=f.dynCall_ii=function(){return f.asm.za.apply(null,arguments)},Dc=f.dynCall_iii=function(){return f.asm.Aa.apply(null,arguments)},Ec=f.dynCall_iiif=function(){return f.asm.Ba.apply(null,arguments)},Fc=f.dynCall_iiii=function(){return f.asm.Ca.apply(null,arguments)},Gc=f.dynCall_iiiii=function(){return f.asm.Da.apply(null,arguments)},Hc=f.dynCall_iiiiii=function(){return f.asm.Ea.apply(null,arguments)},Ic=f.dynCall_iiiiiii=function(){return f.asm.Fa.apply(null,arguments)},Jc=f.dynCall_iiiiiiii=function(){return f.asm.Ga.apply(null,arguments)},Kc=f.dynCall_iiiiiiiii=function(){return f.asm.Ha.apply(null,arguments)},Lc=f.dynCall_iiiiiiiiiii=function(){return f.asm.Ia.apply(null,arguments)},Mc=f.dynCall_iiiiiiiiiiii=function(){return f.asm.Ja.apply(null,arguments)},Nc=f.dynCall_iiiiiiiiiiiii=function(){return f.asm.Ka.apply(null,arguments)},Oc=f.dynCall_jiiii=function(){return f.asm.La.apply(null,arguments)},Pc=f.dynCall_v=function(){return f.asm.Ma.apply(null,arguments)},Qc=f.dynCall_vi=function(){return f.asm.Na.apply(null,arguments)},Rc=f.dynCall_vii=function(){return f.asm.Oa.apply(null,arguments)},Sc=f.dynCall_viifiiii=function(){return f.asm.Pa.apply(null,arguments)},Tc=f.dynCall_viii=function(){return f.asm.Qa.apply(null,arguments)},Uc=f.dynCall_viiii=function(){return f.asm.Ra.apply(null,arguments)},Vc=f.dynCall_viiiii=function(){return f.asm.Sa.apply(null,arguments)},Wc=f.dynCall_viiiiif=function(){return f.asm.Ta.apply(null,arguments)},Xc=f.dynCall_viiiiii=function(){return f.asm.Ua.apply(null,arguments)},Yc=f.dynCall_viiiiiii=function(){return f.asm.Va.apply(null,arguments)},Zc=f.dynCall_viiiiiiiiii=function(){return f.asm.Wa.apply(null,arguments)},$c=f.dynCall_viiiiiiiiiiiiiii=function(){return f.asm.Xa.apply(null,arguments)};f.asm=E;f.ccall=ea;f.cwrap=fa;f.getMemory=ga;f.then=function(a){if(f.calledRun)a(f);else{var b=f.onRuntimeInitialized;f.onRuntimeInitialized=function(){b&&b(),a(f)}}return f};function ad(a){this.name="ExitStatus",this.message="Program terminated with exit("+a+")",this.status=a}ad.prototype=new Error();ad.prototype.constructor=ad;G=function a(){f.calledRun||bd(),f.calledRun||(G=a)};function bd(a){a||f.arguments;if(F>0)return;Ba();if(F>0)return;if(f.calledRun)return;function b(){if(f.calledRun)return;f.calledRun=!0;if(s)return;Ca();Da();f.onRuntimeInitialized&&f.onRuntimeInitialized();Fa()}f.setStatus?(f.setStatus("Running..."),setTimeout(function(){setTimeout(function(){f.setStatus("")},1),b()},1)):b()}f.run=bd;function cd(a,b){if(b&&f.noExitRuntime&&a===0)return;f.noExitRuntime||(s=!0,a,Ea(),f.onExit&&f.onExit(a));f.quit(a,new ad(a))}function $(a){f.onAbort&&f.onAbort(a);a!==void 0?(n(a),o(a),a='"'+a+'"'):a="";s=!0;throw"abort("+a+"). Build with -s ASSERTIONS=1 for more info."}f.abort=$;if(f.preInit){typeof f.preInit=="function"&&(f.preInit=[f.preInit]);while(f.preInit.length>0)f.preInit.pop()()}f.noExitRuntime=!0;bd();return d}}();typeof f==="object"&&typeof e==="object"?e.exports=h:typeof define==="function"&&define.amd?define([],function(){return h}):typeof f==="object"&&(f.SpectrumWasm=h)}),null);
__d("SpectrumImageResizer",["invariant","Promise","BlobFactory","FBLogger","SpectrumWasm","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=2048,i=2048,j=85,k=null,l=null;a=function(){a.isSupported=function(){try{if(typeof WebAssembly==="object"&&typeof WebAssembly.instantiate==="function"){var a=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(a instanceof WebAssembly.Module)return new WebAssembly.Instance(a)instanceof WebAssembly.Instance}}catch(a){b("FBLogger")("spectrum").catching(a).mustfix("Instantiating empty WebAssembly module threw an error")}return!1};a.getSingleton=function(){k||(k=new a());return k};function a(){this.$1=h,this.$2=i,this.$3=j,l=b("SpectrumWasm")()}var c=a.prototype;c.setEncodeQuality=function(a){this.$3=a;return this};c.setMaxWidth=function(a){this.$2=a;return this};c.setMaxHeight=function(a){this.$1=a;return this};c.resizeBlob=function(a,b){return this.$4(a,this.$2,this.$1,this.$3,b)};c.resize360Blob=function(a,b,c){var d,e;c===void 0||c===null?(d=this.$2*4,e=this.$1*4):(d=c,e=c);return this.$4(a,d,e,this.$3,b)};c.$4=function(a,c,d,e,f){var h=new FileReader();h.onload=function(h){var i=new Uint8Array(this.result);i.length>0||g(0,18539);function j(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onload=function(){URL.revokeObjectURL(d.src),b({width:d.width,height:d.height})};d.onerror=function(a){URL.revokeObjectURL(d.src),c(a)};d.src=URL.createObjectURL(a)})}return j(a).then(function(a){l!=null||g(0,18573);return l.then(function(g){var h=g.cwrap("resizeJpeg","number",["number","number","number","number","number","number"]);function k(a){var b=g.getMemory(a.length);g.HEAP8.set(a,b);return b}var l=0,m=0;try{var n=function(a,b){var c=new Int8Array(b);c.set(g.HEAP8.subarray(a,a+b));return c};l=g.getMemory(i.length);m=k(i);k=h(m,i.length,l,c,d,e);h=n(l,k);var o=b("BlobFactory").getBlob([h],{type:"image/jpeg",done:!0});b("promiseDone")(j(o).then(function(b){f(null,o,!1,a.width,a.height,b.width,b.height)}))}finally{m!==0&&g._free(m),l!==0&&g._free(l)}})})["catch"](function(a){f(a,null,!0,null,null,null,null)})};h.readAsArrayBuffer(a);return this};return a}();e.exports=a}),null);
__d("VideoUploadCallbacksMixin",[],(function(a,b,c,d,e,f){"use strict";function g(a){return Array.isArray(a)?a:[a]}a={inform:function(a,b){var c=this.__callbacksByType;if(c==null)return;a=g(a);a.forEach(function(a){var d=c[a];if(d==null)return;d.forEach(function(c){try{c(a,b)}catch(a){}})})},subscribe:function(a,b){var c,d=this.__callbacksByType=(c=this.__callbacksByType)!=null?c:{},e=g(a);e.forEach(function(a){a=d[a]=(a=d[a])!=null?a:[];a.push(b)});var f=!1;return{remove:function(){if(f===!0)return;f=!0;e.forEach(function(a){var c=d[a];if(c==null)return;var e=c.indexOf(b);e!==-1&&c.splice(e,1);c.length===0&&delete d[a]})}}}};e.exports=a}),null);
__d("XVideoUnifiedCVCControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f){a=b("jsRouteBuilder")("/video/unified_cvc/",Object.freeze({}),void 0);c=a;e.exports=c}),null);
__d("usePremiumMusicVideoInterruptionSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"PremiumMusicVideoInterruptionSubscribeResponsePayload",kind:"LinkedField",name:"premium_music_video_interruption_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"disable_autoplay",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePremiumMusicVideoInterruptionSubscription",selections:b,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePremiumMusicVideoInterruptionSubscription",selections:b},params:{id:"3656947831001794",metadata:{subscriptionName:"premium_music_video_interruption_subscribe"},name:"usePremiumMusicVideoInterruptionSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("VideoPlayerRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},{defaultValue:null,kind:"LocalArgument",name:"playerSuborigin"},{defaultValue:"DEFAULT",kind:"LocalArgument",name:"videoPlayerContext"}],kind:"Fragment",metadata:null,name:"VideoPlayerRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcaster_origin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_trace_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_looping",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_video_broadcast",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"loop_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical_enabled",storageKey:null},{alias:null,args:null,concreteType:"MusicVideoMetadata",kind:"LinkedField",name:"pmv_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permalink_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{alias:null,args:[{kind:"Variable",name:"player_origin",variableName:"playerOrigin"},{kind:"Variable",name:"player_suborigin",variableName:"playerSuborigin"}],kind:"ScalarField",name:"dash_prefetch_experimental",storageKey:null},{alias:null,args:null,concreteType:"VideoCaptionLocale",kind:"LinkedField",name:"video_available_captions_locales",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"localized_creation_method",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SphericalVideoRenderer",kind:"LinkedField",name:"spherical_video_renderer",plural:!1,selections:[{documentName:"VideoPlayerRelay_video_spherical_video_renderer",fragmentName:"VideoPlayerSphericalRelay_sphericalVideoRenderer",fragmentPropName:"sphericalVideoRenderer",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"InstreamVideoAdBreaks",kind:"LinkedField",name:"instream_video_ad_breaks_comet",plural:!1,selections:[{documentName:"VideoPlayerRelay_video_instream_video_ad_breaks_comet",fragmentName:"InstreamVideoAdBreaksPlayer_adBreaks",fragmentPropName:"adBreaks",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_premium_music_video",storageKey:null},{args:[{kind:"Variable",name:"playerOrigin",variableName:"playerOrigin"},{kind:"Variable",name:"playerSuborigin",variableName:"playerSuborigin"}],kind:"FragmentSpread",name:"useOzQuickStarterData_video"},{args:[{kind:"Variable",name:"videoPlayerContext",variableName:"videoPlayerContext"}],kind:"FragmentSpread",name:"useRelay3DVideoImplementations_video"},{args:null,kind:"FragmentSpread",name:"useVideoImplementations_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerShakaConfig_video"},{args:null,kind:"FragmentSpread",name:"useResolvedVideoPlayerConfigs_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerShakaPerformanceLoggerRelay_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoAutoplayGatingResult_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoDRMInfo_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoP2PSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAudioSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerCaptionsSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerLiveLatencyKnobSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAudioAvailabilityInfoRelay_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerAudioSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerAudioSettings_video",selections:[{alias:null,args:null,concreteType:"AudioSettings",kind:"LinkedField",name:"audio_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"video_volume_setting",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerAudioAvailabilityInfoRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerAudioAvailabilityInfoRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_availability",storageKey:null},{alias:null,args:null,concreteType:"VideoMutedSegment",kind:"LinkedField",name:"muted_segments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"mute_start_time_in_sec",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mute_end_time_in_sec",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useGraphQLVideoAutoplayGatingResult_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoAutoplayGatingResult_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"autoplay_gating_result",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_autoplay_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_autoplay",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerDefaultControls_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControls_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplLive_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplNotLive_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useGraphQLVideoDRMInfo_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoDRMInfo_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"drm_info",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useOzQuickStarterData_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"representation_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mime_codec",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"segment_type",storageKey:null}];return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},{defaultValue:null,kind:"LocalArgument",name:"playerSuborigin"}],kind:"Fragment",metadata:null,name:"useOzQuickStarterData_video",selections:[{alias:null,args:[{kind:"Variable",name:"player_origin",variableName:"playerOrigin"},{kind:"Variable",name:"player_suborigin",variableName:"playerSuborigin"}],concreteType:"VideoPrefetchResources",kind:"LinkedField",name:"dash_prefetch_resources",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoPrefetchResource",kind:"LinkedField",name:"audio",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"VideoPrefetchResource",kind:"LinkedField",name:"video",plural:!0,selections:a,storageKey:null}],storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a}),null);
__d("useGraphQLVideoP2PSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoP2PSettings_video",selections:[{alias:null,args:null,concreteType:"VideoP2PSettings",kind:"LinkedField",name:"p2p_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ticket",storageKey:null},{alias:null,args:null,concreteType:"VideoP2PSettingsConfig",kind:"LinkedField",name:"config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"delay_p2p_until_play",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"disable_hivejava_for_livevc",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoHiveInitializationOptions",kind:"LinkedField",name:"hive_initialization_options",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoHiveInitializationOptionHiveJava",kind:"LinkedField",name:"hive_java",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"min_version",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hive_tech_order",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug_level",storageKey:null}],storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerCaptionsSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerCaptionsSettings_video",selections:[{alias:null,args:null,concreteType:"CaptionsSettings",kind:"LinkedField",name:"captions_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"always_show_captions",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerLiveLatencyKnobSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerLiveLatencyKnobSettings_video",selections:[{alias:null,args:null,concreteType:"VideoBroadcastLowLatencyConfig",kind:"LinkedField",name:"broadcast_low_latency_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ll_desired_latency_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ll_latency_tolerance_ms",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useRouteProductAttribution",["CometRouterRouteInfoContext","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=g.useContext(b("CometRouterRouteInfoContext"));return a==null?void 0:a.productAttribution}}),null);
__d("usePremiumMusicVideoInterruptionSubscription",["CometRelay","React","RelayRTIGraphQLSubscriptionTopicProvider","usePremiumMusicVideoInterruptionSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=g!==void 0?g:g=b("usePremiumMusicVideoInterruptionSubscription.graphql");b("RelayRTIGraphQLSubscriptionTopicProvider").registerProviderForQuery(i,function(a){a=a.input;return"gqls/premium_music_video_interruption_subscribe/user_id_"+a.user_id});function a(a){var c=b("CometRelay").useRelayEnvironment();h.useEffect(function(){if(a==null)return;var d=b("CometRelay").requestSubscription(c,{subscription:i,variables:{input:{user_id:a}}});return function(){d.dispose()}},[a,c])}}),null);
__d("useEventCallbackOn",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a,b,c){g.useEffect(function(){a.addEventListener(b,c);return function(){a.removeEventListener(b,c)}},[a,b,c])}}),null);
__d("VideoPlayerContextSensitiveConfigUtils",[],(function(a,b,c,d,e,f){"use strict";var g=function(a,b){return b.every(function(b){return a[b.name]===b.value})};a=function(a,b){return b.find(function(b){return g(a,b.contexts)})};f.getFirstMatchingValueAndContextTargets=a}),null);
__d("VideoPlayerContextSensitiveConfigResolver",["requireCond","VideoPlayerContextSensitiveConfigUtils","VideoPlayerContextSensitiveConfigPayload","cr:1724253"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1={},this.$2={},a==null?(this.$3=b("VideoPlayerContextSensitiveConfigPayload").static_values,this.$4=b("VideoPlayerContextSensitiveConfigPayload").context_sensitive_values):(this.$3=a.staticValues,this.$4=a.contextSensitiveValues)}var c=a.prototype;c.setContexts=function(a){this.$1=a,this.$2=this.$5(a)};c.getValue=function(a){if(this.$2[a]!=null)return this.$2[a];return this.$3[a]!=null?this.$3[a]:null};c.$5=function(a){var c=this;return Object.keys(this.$4).reduce(function(d,e){var f=c.$4[e];if(f!=null){f=b("VideoPlayerContextSensitiveConfigUtils").getFirstMatchingValueAndContextTargets(a,f);f!=null&&(d[e]=f.value)}return d},{})};a.getPayload=function(){return b("VideoPlayerContextSensitiveConfigPayload")};a.getSources=function(){return b("cr:1724253")};return a}();e.exports=a}),null);
__d("VideoPlayerShakaGlobalConfig",["VideoPlayerContextSensitiveConfigResolver"],(function(a,b,c,d,e,f){var g=new(b("VideoPlayerContextSensitiveConfigResolver"))(),h={};a=function(a){h=a};f.setGlobalOverrideConfig=a;c=function(a,b){if(!!h&&typeof h[a]==="boolean")return h[a];a=g.getValue(a);return a!=null&&typeof a==="boolean"?a:b};f.getBool=c;d=function(a,b){if(!!h&&typeof h[a]==="number")return h[a];a=g.getValue(a);return a!=null&&typeof a==="number"?a:b};f.getNumber=d;e=function(a,b){if(!!h&&typeof h[a]==="string")return h[a];a=g.getValue(a);return a!=null&&typeof a==="string"?a:b};f.getString=e}),null);
__d("useIsBackgrounded",["React","VideoPlayerShakaGlobalConfig","useEventCallbackOn"],(function(a,b,c,d,e,f){"use strict";e.exports=d;var g=b("React");function c(){var b=a.document;if(typeof b.hidden!=="undefined")return"visibilitychange";else if(typeof b.mozHidden!=="undefined")return"mozvisibilitychange";else if(typeof b.msHidden!=="undefined")return"msvisibilitychange";else if(typeof b.webkitHidden!=="undefined")return"webkitvisibilitychange";return"visibilitychange"}function h(){var b=a.document;if(typeof b.hidden!=="undefined")return b.hidden;else if(typeof b.mozHidden!=="undefined")return b.mozHidden;else if(typeof b.msHidden!=="undefined")return b.msHidden;else if(typeof b.webkitHidden!=="undefined")return b.webkitHidden;return!1}var i=c();function j(){var c=a.document.hasFocus?a.document.hasFocus():!0,d=h(),e=b("VideoPlayerShakaGlobalConfig").getBool("comet_www_no_pause_on_blur_or_focus_events",!1);return d||(e?!1:!c)}function d(c){var d=g.useState(function(){return j()}),e=d[0],f=d[1],h=!!c&&c.scrollTerminatesBackgrounded===!0;d=g.useCallback(function(){f(j())},[f,j]);c=d;var k=g.useCallback(function(){var a=j();a&&h&&e&&f(!1)},[e,h,f]);b("VideoPlayerShakaGlobalConfig").getBool("comet_www_no_pause_on_blur_or_focus_events",!1)&&(c=function(){});b("useEventCallbackOn")(a.window,"blur",c);b("useEventCallbackOn")(a.window,"focus",c);b("useEventCallbackOn")(a.document,i,d);b("useEventCallbackOn")(a.window,"scroll",k);return e}}),null);
__d("VideoPlayerViewabilityProvider.react",["React","VideoPlayerViewabilityContexts"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.isFullscreen;a=a.videoPlayerPassiveViewabilityInfo;return g.jsx(b("VideoPlayerViewabilityContexts").VideoPlayerPassiveViewabilityInfoContext.Provider,{value:a,children:g.jsx(b("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext.Provider,{value:d,children:c})})}}),null);
__d("wrapWithContextProviders",["React"],(function(a,b,c,d,e,f){"use strict";f.wrapWithContextProviders=a;f.makeRenderProviderFn=c;var g=b("React");function a(a,b){return b.reduceRight(function(a,b){return b(a)},a)}function c(a,b){return function(c){return g.jsx(a.Provider,{value:b,children:c})}}}),null);
__d("VideoPlayerComponentContainer.react",["CometVisualCompletionAttributes","React","VideoPlayerContexts","VideoPlayerHooks","VideoPlayerViewabilityProvider.react","clearTimeout","requireCond","setTimeout","stylex","wrapWithContextProviders","cr:1269159"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){var c=g.useRef(a);g.useEffect(function(){c.current=a},[a]);var d=g.useState(!1),e=d[0],f=d[1];d=g.useState(function(){var a=null;return{cleanup:function(){a&&a()},pingNotIdle:function(){a&&a();f(!1);var d=b("setTimeout")(function(){f(!0)},c.current);a=function(){b("clearTimeout")(d),a=null}}}});d=d[0];var h=d.cleanup;d=d.pingNotIdle;g.useEffect(function(){return h},[h]);return{isIdle:e,pingNotIdle:d}}function i(){var a=g.useState(!1),b=a[0],c=a[1];a=3e3;a=h(a);var d=a.isIdle,e=a.pingNotIdle;a=g.useCallback(function(){c(!0),e()},[e]);var f=g.useCallback(function(){c(!1),e()},[e]),i=g.useCallback(function(){c(!0),e()},[e]),j=g.useCallback(function(){e()},[e]),k=g.useCallback(function(){e()},[e]);return{isHovering:b,isIdle:d,onMouseDown:j,onMouseEnter:a,onMouseLeave:f,onMouseMove:i,onMouseUp:k}}function j(a){var c=i(),d=c.isHovering,e=c.isIdle,f=c.onMouseDown,h=c.onMouseEnter,j=c.onMouseLeave,k=c.onMouseMove;c=c.onMouseUp;var l=b("VideoPlayerHooks").useIsFullscreen();return g.jsx("div",babelHelpers["extends"]({className:"k4urcfbm kr520xx4 pmk7jnqg datstx6m"+(l&&e?" sorcqhzv":"")},b("CometVisualCompletionAttributes").IGNORE,{onMouseDown:f,onMouseEnter:h,onMouseLeave:j,onMouseMove:k,onMouseUp:c,children:g.jsx(b("VideoPlayerContexts").VideoPlayerMouseHoverContext.Provider,{value:d,children:g.jsx(b("VideoPlayerContexts").VideoPlayerMouseIdleContext.Provider,{value:e,children:a.children})})}))}function a(a){var c=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);var d=a.adClientToken,e=a.audioAvailabilityInfo,f=a.autoplayGatingResult,h=a.broadcastStatus,i=a.canAutoplay,k=a.controller,l=a.dimensions,m=a.initialTracePolicy,n=a.instanceKey,o=a.isFullscreen,p=a.isPremiumMusicVideo,q=a.lastMuteReason,r=a.lastPauseReason,s=a.lastPlayReason,t=a.originalHeight,u=a.originalWidth,v=a.videoFBID,w=a.videoPlayerPassiveViewabilityInfo,x=a.videoState,y=a.volumeSetting,z=x.activeCaptions,A=x.availableVideoQualities,B=x.bufferEnd,C=x.captionsLoaded,D=x.captionsVisible,E=x.currentVideoQuality,F=x.duration,G=x.ended,H=x.error,I=x.inbandCaptionsAutogenerated,J=x.inPlayStalling,K=x.isAbrEnabled,L=x.isLiveRewindActive,M=x.lastPlayedTimeMs,N=x.loopCount,O=x.loopCurrent,P=x.muted,Q=x.paused,R=x.playerImplementationName,S=x.playing,T=x.seekableRanges,U=x.seeking,V=x.selectedVideoQuality,W=x.stalling,X=x.streamInterrupted,Y=x.targetAudioQuality,Z=x.targetPlaybackRate,$=x.targetVideoQuality,aa=x.volume;x=x.watchTimeMs;c=g.jsx(j,{children:c});b("cr:1269159")(n,{controller:k,coreVideoStates:a,videoPlayerPassiveViewabilityInfo:w});v=(a=b("wrapWithContextProviders")).wrapWithContextProviders(c,[a.makeRenderProviderFn((c=b("VideoPlayerContexts")).VideoFBIDContext,v),a.makeRenderProviderFn(c.StallingContext,W),a.makeRenderProviderFn(c.PlayingContext,S),a.makeRenderProviderFn(c.InPlayStallingContext,J),a.makeRenderProviderFn(c.BufferEndContext,B),a.makeRenderProviderFn(c.LastMuteReasonContext,q),a.makeRenderProviderFn(c.LastPlayReasonContext,s),a.makeRenderProviderFn(c.LastPauseReasonContext,r),a.makeRenderProviderFn(c.PausedContext,Q),a.makeRenderProviderFn(c.CurrentVideoQualityContext,E),a.makeRenderProviderFn(c.MutedContext,P),a.makeRenderProviderFn(c.VolumeContext,aa),a.makeRenderProviderFn(c.SelectedVideoQualityContext,V),a.makeRenderProviderFn(c.SeekingContext,U),a.makeRenderProviderFn(c.DurationContext,F),a.makeRenderProviderFn(c.EndedContext,G),a.makeRenderProviderFn(c.ErrorContext,H),a.makeRenderProviderFn(c.DimensionsContext,l||null),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").InstanceKeyContext,n),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").ControllerContext,k),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").AvailableVideoQualitiesContext,A),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").PlayerImplementationNameContext,R),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").IsAbrEnabledContext,K),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").TargetAudioQualityContext,Y),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").TargetVideoQualityContext,$),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").PlaybackRateContext,Z),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").CanAutoplayContext,i),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").VolumeSettingContext,y),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").AutoplayGatingResultContext,f),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").BroadcastStatusContext,h),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").LoopCountContext,N),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").LoopCurrentContext,O),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").AdClientTokenContext,d),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").ActiveCaptionsContext,z),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").CaptionsVisibleContext,D),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").CaptionsLoadedContext,C),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").InbandCaptionsAutogeneratedContext,I),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").StreamInterruptedContext,X),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").WatchTimeContext,x),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").LastPlayedTimeContext,M),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").SeekableRangesContext,T),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").IsLiveRewindActiveContext,L),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").AudioAvailabilityInfoContext,e),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").IsPremiumMusicVideoContext,p),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").InitialTracePolicyContext,m),function(a){return g.jsx(b("VideoPlayerContexts").VideoOriginalDimensionsContextMemoProvider,{originalHeight:t,originalWidth:u,children:a})},function(a){return g.jsx(b("VideoPlayerViewabilityProvider.react"),{isFullscreen:o,videoPlayerPassiveViewabilityInfo:w,children:a})}]);return g.jsx("div",{"data-instancekey":n,"data-testid":void 0,children:v})}c=g.memo(a);e.exports=c}),null);
__d("GlobalVideoPortsID",["cometUniqueID","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.makeVideoID=a;f.ensureVideoID=c;f.makePlaceID=d;function a(){return"id-pv-"+b("cometUniqueID")()}function c(a){if(typeof a==="string"){var c="id-pv-";if(a.indexOf(c)===0&&a.length>c.length)return a;else throw b("unrecoverableViolation")('Expected a GlobalVideoPortsVideoID, got a string that does not look like it: "'+a+'"',"comet_video_player")}else return null}function d(){return"id-pp-"+b("cometUniqueID")()}}),null);
__d("VideoPlayerFullscreenController",["CometFullScreen","removeFromArray","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.createFullscreenController=a;function g(a){return a.current!=null&&b("CometFullScreen").getFullScreenElement()===a.current}function a(a){var c=[];function d(){c.forEach(function(a){a()})}var e=null;return{getIsFullscreen:function(){return g(a)},requestSetIsFullscreen:function(c){var d=a.current;if(d==null)throw b("unrecoverableViolation")("Requested full screen while the element is not present","comet_video_player");c!==g(a)&&(c===!0?b("CometFullScreen").requestFullScreen(d):c===!1&&b("CometFullScreen").exitFullScreen())},subscribe:function(a){c.length===0&&e==null&&(e=b("CometFullScreen").subscribeToFullScreenChangeEvent(d));c.push(a);return{remove:function(){b("removeFromArray")(c,a),c.length===0&&e!=null&&(e(),e=null)}}}}}}),null);
__d("VideoPlayerPortalingPlaceState",["GlobalVideoPortsContexts","GlobalVideoPortsID","React","gkx","usePrevious"],(function(a,b,c,d,e,f){"use strict";f.useVideoPlayerPortalingPlaceState=a;var g=b("React");c=function(a,c){var d=b("usePrevious")(a);g.useEffect(function(){a!==d&&(d!==null&&d&&!a&&c(b("GlobalVideoPortsID").makeVideoID()))},[a,d,c])};d=function(a,c){var d=g.useState(null),e=d[0];d=d[1];a!==e&&(e!==null&&e&&!a&&c(b("GlobalVideoPortsID").makeVideoID()),d(a))};var h=b("gkx")("1375802")?d:c;f.useRegenerateUniqueVideoID_exportedForTest=h;function a(a){var c=a.portalingEnabled;a=a.portalingFromVideoID;var d=b("GlobalVideoPortsContexts").useGlobalVideoPortsLoader(),e=b("GlobalVideoPortsContexts").useGlobalVideoPortsManager(),f=b("GlobalVideoPortsContexts").useGlobalVideoPortsState(),i=e!=null&&f!=null,j=(i||d!=null)&&(c||a!=null),k=g.useState(function(){return b("GlobalVideoPortsID").makePlaceID()});k=k[0];var l=g.useState(function(){return b("GlobalVideoPortsID").makeVideoID()}),m=l[0];l=l[1];c=j&&c&&a!=null;a=c&&a!=null?a:m;h(c,l);g.useEffect(function(){j&&!i&&d&&d()},[i,j,d]);return{canBecomePortableLater:j,currentVideoID:a,globalVideoPortsManager:e,globalVideoPortsState:f,thisPlaceID:k}}}),null);
__d("VideoPlayerPortalingPlaceWithPortaling.react",["CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsRenderers.react","React","getOwnObjectValues","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.coreVideoPlayerMetaData,d=a.currentVideoID,e=a.fullscreenController,f=a.globalVideoPortsManager,h=a.globalVideoPortsState,i=a.implementations,j=a.isFullscreen,k=a.portablePlaceMetaData,l=a.renderComponents,m=a.renderPlaceholder,n=a.thisPlaceID,o=a.trackingDataEncrypted,p=a.trackingNodes,q=a.viewportMarginsForViewability;a=g.useState(function(){return b("CoreVideoPlayerFitParentContainer.react").createFitParentContainerDiv({debugRole:null})});var r=a[0],s=g.useRef(null);b("useLayoutEffect_SAFE_FOR_SSR")(function(){f.addOrUpdatePlace({coreVideoPlayerMetaData:c,fullscreenController:e,implementations:i,injectCoreVideoStatesRef:s,isFullscreen:j,portablePlaceContainer:r,portablePlaceID:n,portablePlaceMetaData:k,portableVideoID:d,renderComponents:l,renderPlaceholder:m,trackingDataEncrypted:o,trackingNodes:p,viewportMarginsForViewability:q})},[].concat(b("getOwnObjectValues")(c),[d,e,j,f,r],b("getOwnObjectValues")(k||{}),[l,m,n,o,p,q]));b("useLayoutEffect_SAFE_FOR_SSR")(function(){return function(){f.removePlace({portablePlaceID:n})}},[f,n]);a=f.getPortableVideoState(h,d);return g.jsxs(g.Fragment,{children:[g.jsx(b("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentDOMContainer,{debugRole:null,domElement:r},n),g.jsx(b("GlobalVideoPortsRenderers.react").GlobalVideoPortsVideoComponentsRenderer,{currentPlaceID:(h=(h=f.getCurrentPlaceStateForVideo(h,d))==null?void 0:h.portablePlaceID)!=null?h:null,currentVideoID:d,injectCoreVideoStatesRef:s,previousPlaceMetaData:(h=a==null?void 0:a.previousPlaceMetaData)!=null?h:null,renderComponents:l,thisPlaceID:n})]})}}),null);
__d("VideoPlayerPortalingPlace.react",["CometTrackingCodeContext","CometTrackingNodesContext","CometViewportMarginsContext","CoreVideoPlayer.react","CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsID","GlobalVideoPortsRenderers.react","React","VideoPlayerFullscreenController","VideoPlayerPortalingPlaceInfoProvider.react","VideoPlayerPortalingPlaceState","VideoPlayerPortalingPlaceWithPortaling.react","recoverableViolation","useStable"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h={bottom:0,left:0,right:0,top:0},i=g.forwardRef(function(a,c){var d=a.children;a=a.debugRole;return g.jsx(b("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentContainer,{debugRole:a,ref:c,children:d})});function a(a){var c=a.implementations,d=a.portalingEnabled,e=a.portalingFromVideoID,f=a.portalingPlaceMetaData,j=a.renderComponents,k=a.renderPlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","renderComponents","renderPlaceholder"]);g.useEffect(function(){return function(){}},[]);var l=e!=null?b("GlobalVideoPortsID").ensureVideoID(e):null;e!=null&&l==null&&b("recoverableViolation")("The provided portalingFromVideoID ("+String(e)+") does not look like such an ID. The video player will not use portaling until a valid ID is provided","comet_video_player");e=b("VideoPlayerPortalingPlaceState").useVideoPlayerPortalingPlaceState({portalingEnabled:d,portalingFromVideoID:l});d=e.canBecomePortableLater;l=e.currentVideoID;var m=e.globalVideoPortsManager,n=e.globalVideoPortsState;e=e.thisPlaceID;var o=g.useContext(b("CometViewportMarginsContext")),p=g.useRef(null),q=b("useStable")(function(){return b("VideoPlayerFullscreenController").createFullscreenController(p)}),r=g.useState(q.getIsFullscreen()),s=r[0],t=r[1];g.useEffect(function(){var a=q.subscribe(function(){var a=q.getIsFullscreen();t(a)});t(q.getIsFullscreen());return function(){a.remove()}},[q,t]);r=g.useContext(b("CometTrackingNodesContext"));r=r.join("");var u=g.useContext(b("CometTrackingCodeContext"));u=(u=u.encrypted_tracking[0])!=null?u:"";o=s?h:o;if(!d)return g.jsx(i,{debugRole:null,ref:p,children:g.jsx(b("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:e,currentVideoID:l,portalingEnabled:!1,previousPlaceMetaData:null,thisPlaceID:e,children:g.jsx(b("CoreVideoPlayer.react"),babelHelpers["extends"]({},a,{fullscreenController:q,implementations:c,isFullscreen:s,renderWithCoreVideoStates:j,trackingDataEncrypted:u,trackingNodes:r,viewportMarginsForViewability:o}))})});if(m&&n)return g.jsx(i,{debugRole:null,ref:p,children:g.jsx(b("VideoPlayerPortalingPlaceWithPortaling.react"),{coreVideoPlayerMetaData:a,currentVideoID:l,fullscreenController:q,globalVideoPortsManager:m,globalVideoPortsState:n,implementations:c,isFullscreen:s,portablePlaceMetaData:f,renderComponents:j,renderPlaceholder:k,thisPlaceID:e,trackingDataEncrypted:u,trackingNodes:r,viewportMarginsForViewability:o})});else return g.jsx(i,{debugRole:null,ref:p,children:g.jsx(b("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlaceholderRenderer,{currentPlaceID:null,currentVideoID:l,originalHeight:a.originalHeight,originalWidth:a.originalWidth,previousPlaceMetaData:null,renderPlaceholder:k,thisPlaceID:e})})}}),null);
__d("VideoPlayerTracePolicyProvider.react",["React","VideoPlayerTracePolicyContext"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.initialTracePolicy,e=a.routeTracePolicy;a=g.useState(d);var f=a[0],h=a[1];a=g.useState(e);var i=a[0],j=a[1];g.useEffect(function(){f!==d&&h(d),i!==e&&j(e)},[d,e,f,i]);return g.jsx(b("VideoPlayerTracePolicyContext").VideoPlayerTracePolicyContext.Provider,{value:{initialTracePolicy:f,routeTracePolicy:i},children:c})}}),null);
__d("CoreVideoPlayerWithComponents.react",["React","VideoPlayerComponentContainer.react","VideoPlayerPortalingPlace.react","VideoPlayerTracePolicyProvider.react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.implementations,e=a.portalingEnabled,f=a.portalingFromVideoID,h=a.portalingPlaceMetaData,i=a.portalingRenderPlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder"]);var j=g.useCallback(function(a){return g.jsx(b("VideoPlayerComponentContainer.react"),babelHelpers["extends"]({},a,{children:c}))},[c]);return g.jsx(b("VideoPlayerTracePolicyProvider.react"),{initialTracePolicy:a.initialTracePolicy,routeTracePolicy:a.routeTracePolicy,children:g.jsx(b("VideoPlayerPortalingPlace.react"),babelHelpers["extends"]({},a,{implementations:d,portalingEnabled:e,portalingFromVideoID:f,portalingPlaceMetaData:h,renderComponents:j,renderPlaceholder:i}))})}}),null);
__d("VideoPlayerErrorBoundary.react",["FBLogger","React","getErrorSafe"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={error:null},c.suppressReactDefaultErrorLogging=!0,b)||babelHelpers.assertThisInitialized(c)}c.getDerivedStateFromError=function(a){return{error:b("getErrorSafe")(a)}};var d=c.prototype;d.componentDidCatch=function(a,c){c=c.componentStack;a=b("getErrorSafe")(a);a.componentStack=c;c=this.props;var d=c.description,e=c.onError;c=c.project;var f="ErrorBoundary caught an Error";d!=null&&(f=f+" ("+d+")");d=["OZ_NETWORK","BUFFERING_TIMEOUT","MEDIA_ERR_DECODE"];var g=!0;for(var h=0;h<d.length;h++)a.message.includes(d[h])&&(g=!1);d=b("FBLogger")(c==null?"comet_video_player":c).catching(a);g?d.fatal(f):d.warn(f);e!=null&&e(a)};d.render=function(){var a=this.props,b=a.children;a=a.fallback;var c=this.state.error;return c?typeof a==="function"?a(c):a:b};return c}(a.PureComponent);e.exports=c}),null);
__d("VideoPlayerRetryableErrorBoundary.react",["React","VideoPlayerErrorBoundary.react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.description,e=a.fallback;a=g.useState(0);var f=a[0],h=a[1],i=g.useCallback(function(){h(function(a){return a+1})},[]);a=g.useCallback(function(a){return f>=3?e({error:a,retry:null}):e({error:a,retry:i})},[e,i,f]);return g.jsx(b("VideoPlayerErrorBoundary.react"),{description:d,fallback:a,project:"comet_video_player",children:c},f)}}),null);
__d("VideoPlayerAutoplayHooks",["React","VideoPlayerAutoplayContexts","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.useAutoplayApi=a;f.useVideoAutoplayLocalScope=c;var g=b("React");function a(){var a=g.useContext(b("VideoPlayerAutoplayContexts").AutoplayApiContext);if(a==null)throw b("unrecoverableViolation")("Empty AutoplayApiContext. Are you rendering useAutoplayApi outside of VideoAutoplayManagerX?","comet_video_player");return a}function c(){return g.useContext(b("VideoPlayerAutoplayContexts").VideoAutoplayLocalScopeContext)}}),null);
__d("VideoPlayerDebugAutoplayAPI",["emptyFunction","requireCond","cr:1453865"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1453865"))!=null?a:{useVideoPlayerDebugAPI:b("emptyFunction").thatReturns(null),useVideoPlayerDebugAPIDefinition:b("emptyFunction"),useVideoPlayerDebugInfo:b("emptyFunction").thatReturns(null)};e.exports=c}),null);
__d("evaluateVideoAutoplayDefaultAllowRule",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){return"ALLOW"}a.displayName="evaluateVideoAutoplayDefaultRule"}),null);
__d("evaluateVideoAutoplayDefaultIgnoreRule",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){return"IGNORE"}a.displayName="evaluateVideoAutoplayDefaultIgnoreRule"}),null);
__d("makeSelectedAutoplayVideoSymbol",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){b=b+"::"+a;return b}}),null);
__d("AutoplayRulesEngine",[],(function(a,b,c,d,e,f){"use strict";var g=-2,h=-1;a=function(){function a(a){this.$1=g,this.$2=a}var b=a.prototype;b.evaluateAutoplay=function(a,b){b=b();var c=h;if(a)for(var d=0;d<this.$2.length;d++){var e=this.$2[d](a);if(e!=="SKIP"){b=e;c=d;break}}this.$1=c;return b};b.getIndexOfLastWinningRule=function(){return this.$1};b.getRules=function(){return this.$2};return a}();e.exports=a}),null);
__d("useAutoplayRulesEngine",["AutoplayRulesEngine","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=g.useRef(a),d=g.useState(function(){return new(b("AutoplayRulesEngine"))(a)}),e=d[0],f=d[1];g.useEffect(function(){c.current!==a&&f(function(){return new(b("AutoplayRulesEngine"))(a)})},[a]);g.useEffect(function(){c.current=e.getRules()},[e]);return e}}),null);
__d("useConcurrentAutoplayManagementAPI",["React","removeFromArray","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";f.useAutoplayControlID=a;f.createConcurrentAutoplayManagementAPI=h;f.useConcurrentAutoplayManagementAPI=c;var g=b("React");function a(){var a=b("useCometUniqueID")();return a}function h(){var a=[];return{isControllingComponent:function(b){var c=a.length;return a[c-1]===b},registerControllingComponent:function(c){b("removeFromArray")(a,c),a.push(c)},unregisterControllingComponent:function(c){var d=a.length;d>1&&b("removeFromArray")(a,c);return d>1}}}function c(){var a=g.useState(function(){return h()});a=a[0];return a}}),null);
__d("VideoPlayerOzWWWGlobalConfig",["VideoPlayerShakaGlobalConfig"],(function(a,b,c,d,e,f){"use strict";f.getBool=a;f.getNumber=c;f.getString=d;var g="oz_www_";function a(a,c){return b("VideoPlayerShakaGlobalConfig").getBool(g+a,c)}function c(a,c){return b("VideoPlayerShakaGlobalConfig").getNumber(g+a,c)}function d(a,c){return b("VideoPlayerShakaGlobalConfig").getString(g+a,c)}}),null);
__d("oz-player/configs/OzGlobalConfig",[],(function(a,b,c,d,e,f){"use strict";var g=null;a=function(a,b){return g?g.getBool(a,b):b};f.getBool=a;b=function(a,b){return g?g.getNumber(a,b):b};f.getNumber=b;c=function(a,b){return g?g.getString(a,b):b};f.getString=c;d=function(a){g=a};f.setGlobalConfig=d}),null);
__d("oz-player/shims/www/OzCacheStorageWWW",["CacheStorage","gkx"],(function(a,b,c,d,e,f){a="localstorage";c=b("gkx")("1621546")?"_oz_":"_video_";var g=new(b("CacheStorage"))(a,c);d={get:function(a){return g.get(a)},set:function(a,b){g.set(a,b)}};f=d;e.exports=f}),null);
__d("oz-player/shims/OzCacheStorage",["oz-player/shims/www/OzCacheStorageWWW"],(function(a,b,c,d,e,f){a=b("oz-player/shims/www/OzCacheStorageWWW");e.exports=a}),null);
__d("oz-player/shims/www/OzWindowEventsWWW",["Run"],(function(a,b,c,d,e,f){"use strict";a={onUnload:function(a){b("Run").onUnload(a)}};c=a;e.exports=c}),null);
__d("oz-player/shims/OzWindowEvents",["oz-player/shims/www/OzWindowEventsWWW"],(function(a,b,c,d,e,f){"use strict";a=b("oz-player/shims/www/OzWindowEventsWWW");e.exports=a}),null);
__d("oz-player/networks/OzBandwidthCache",["oz-player/shims/OzCacheStorage","oz-player/shims/OzWindowEvents"],(function(a,b,c,d,e,f){a=function(){function a(a,c){var d=this;this.$1=a;this.$2=c;b("oz-player/shims/OzWindowEvents").onUnload(function(){d.updateCachedBandwidth()})}var c=a.prototype;c.getCachedBandwidth=function(){var a=b("oz-player/shims/OzCacheStorage").get(this.$1);if(a==null)return null;a=Number(a);return isNaN(a)?null:a};c.updateCachedBandwidth=function(){b("oz-player/shims/OzCacheStorage").set(this.$1,String(this.$2()))};return a}();e.exports=a}),null);
__d("oz-player/networks/OzBandwidthUtils",[],(function(a,b,c,d,e,f){"use strict";f.getMeanBandwidth=g;f.getStandardDeviationOfBandwidth=h;f.getExponentiallyWeightedMovingAverage=i;f.getExponentiallyWeightedMovingAverageOfBandwidth=j;f.getBandwidthSamplesWithinRangeOfMean=k;f.getBandwidthEstimate=a;function g(a){var b=0;for(var c=0;c<a.length;c++)b+=a[c].bytes*8e3/a[c].timeInMs;return b/a.length}function h(a){var b=g(a),c=0;for(var d=0;d<a.length;d++)c+=Math.pow(a[d].bytes*8e3/a[d].timeInMs-b,2);return Math.round(Math.sqrt(c/a.length))}function i(a,b){b=Math.exp(Math.log(.5)/b);var c=0,d=0;for(var e=0;e<a.length;e++){var f=Math.pow(b,a[e].weight);c=a[e].value*(1-f)+c*f;d+=a[e].weight}return Math.round(c/(1-Math.pow(b,d)))}function j(a,b){return i(a.map(function(a){return{value:a.bytes*8e3/a.timeInMs,weight:a.timeInMs/1e3}}),b)}function k(a,b){var c=g(a),d=[];for(var e=0;e<a.length;e++)Math.abs(c-a[e].bytes*8e3/a[e].timeInMs)<b&&d.push(a[e]);return d}function a(a,b,c,d){var e=h(a);a=k(a,e*c);c=j(a,b);return c-e*d}}),null);
__d("oz-player/shims/OzEventEmitter",["requireCond","cr:1615798"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new(b("cr:1615798"))()}var c=a.prototype;c.addListener=function(a,b){return this.$1.addListener(a,b)};c.emit=function(a){var b;for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];(b=this.$1).emit.apply(b,[a].concat(d))};c.removeAllListeners=function(a){this.$1.removeAllListeners(a)};return a}();e.exports=a}),null);
__d("oz-player/shims/OzReadableStream",["requireCond","cr:1621176"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1621176");e.exports=a}),null);
__d("oz-player/shims/OzWritableStream",["requireCond","cr:1621177"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1621177");e.exports=a}),null);
__d("oz-player/utils/OzError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b.description)||this;c.$OzError1=b;c.name=b.type;return c}var c=b.prototype;c.getExtra=function(){return this.$OzError1.extra||{}};c.getType=function(){return this.$OzError1.type};c.getDescription=function(){return this.$OzError1.description};return b}(babelHelpers.wrapNativeSuper(Error));e.exports=a}),null);
__d("oz-player/networks/OzTransformStream",["oz-player/shims/OzEventEmitter","oz-player/shims/OzReadableStream","oz-player/shims/OzWritableStream","oz-player/utils/OzError"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$OzTransformStream3=function(a){return a};c=c||{};c=c.errorTransform;(c===void 0||c===null)&&(c=d.$OzTransformStream3);var e=c||d.$OzTransformStream3;d.writable=new(b("oz-player/shims/OzWritableStream"))({start:function(a){d.$OzTransformStream2=a},write:function(a){d.emit("writableWrite",a);try{d.onDataWritten(a)}catch(a){d.$OzTransformStream1.error(new(b("oz-player/utils/OzError"))({type:"OZ_STREAM",description:"Error from write handler: "+d.constructor.name,extra:{code:"OZ_S-0",originalError:a}}))}d.$OzTransformStream1.enqueue(a)},close:function(){d.emit("writableClose");try{d.onClose()}catch(a){d.$OzTransformStream1.error(new(b("oz-player/utils/OzError"))({type:"OZ_STREAM",description:"Error from close handler: "+d.constructor.name,extra:{code:"OZ_S-1",originalError:a}}))}d.$OzTransformStream1.close()},abort:function(a){a=e(a);d.$OzTransformStream1.error(a)}});d.readable=new(b("oz-player/shims/OzReadableStream"))({start:function(a){d.$OzTransformStream1=a},cancel:function(a){d.emit("readableCancel",a),d.$OzTransformStream2.error(a)}});return d}var d=c.prototype;d.onDataWritten=function(a){};d.onClose=function(){};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/shims/OzNetworkDiagnostics",["requireCond","cr:1615799"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1615799");e.exports=a}),null);
__d("oz-player/utils/OzResourceTimingUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a){if(!performance.getEntriesByName)return null;a=performance.getEntriesByName(a,"resource");return a.reduce(function(a,b){if(a==null)return b;return typeof b.responseEnd==="number"&&typeof b.responseStart==="number"&&typeof b.startTime==="number"&&typeof a.responseEnd==="number"&&typeof a.responseStart==="number"&&typeof a.requestStart==="number"&&typeof a.startTime==="number"?b.responseEnd<a.responseEnd?a:b:null},null)};f.getLatestResourceTimingEntry=a}),null);
__d("oz-player/networks/OzNetworkRequestStreamBandwidthReporter",["oz-player/shims/OzNetworkDiagnostics","oz-player/utils/OzResourceTimingUtils","oz-player/networks/OzTransformStream"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/shims/OzNetworkDiagnostics").getResponseTimeMs;a=function(){function a(a){this.$10=Date.now();this.$11=0;this.$12=0;this.$13=function(){};this.$14=function(){};this.$15=new(b("oz-player/networks/OzTransformStream"))();var c=a.stream,d=a.loggerProvider,e=a.byteCountPerSample,f=a.minimumBytesToSampleOnClose,g=a.minimumSampleDuration,h=a.maximumSampleBandwidth,i=a.usePerformanceEntryOnClose,j=a.useResponseTimeMs,k=a.responseTimeHandicapMs,l=a.ignoreTimeToResponseStart;a=a.ignoreOnStreamWriteSamples;this.$1=c;this.$16=d;this.$2=e;this.$3=f;this.$4=g;this.$5=h;this.$6=i;this.$7=j;this.$8=k;this.$9=l;this.$17=a;this.$15.addListener("writableWrite",this.$18.bind(this));this.$15.addListener("writableClose",this.$19.bind(this))}var c=a.prototype;c.getTransformStream=function(){return this.$15};c.onBandwidthSample=function(a){this.$13=a};c.onTimeToFirstByteMsSample=function(a){this.$14=a};c.$20=function(a,b,c){b=b-c;if(this.$16){c=Date.now();this.$16&&this.$16.getOperationLogger("bandwidth_sampled").setLength(a).setClientTimeEnd(c).setClientTimeBegin(c-b).log()}this.$13(a,b)};c.$18=function(a){a.length!=void 0&&(this.$12+=a.length);if(this.$17)return;this.$21()};c.$19=function(){var a=Date.now()-this.$10,c=this.$1.getLastRequestUrl();c=c!=null?b("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(c):null;c&&this.$14(c.responseStart-c.requestStart);if(this.$3>0&&a>0&&this.$11===0&&this.$12>=this.$3){if(this.$6&&c&&c.responseEnd&&c.startTime){c=this.$9?c.responseEnd-c.responseStart:c.responseEnd-c.startTime;a=c>0?c:a}c=this.$1.getLastResponse();c=this.$7?g(c==null?void 0:c.headers)||0:0;this.$22(a,c)||this.$20(this.$12,a,Math.max(c-this.$8,0))}};c.$22=function(a,b){if(a-b<=0)return!0;b=this.$12*8/(a/1e3);return a<this.$4&&b>this.$5};c.$21=function(){var a=Date.now(),b=a-this.$10;this.$2>0&&this.$12>=this.$11+this.$2&&!this.$22(b,0)&&(this.$20(this.$12-this.$11,b,0),this.$10=a,this.$11=this.$12)};return a}();e.exports=a}),null);
__d("oz-player/shims/www/OzDeferredWWW",["Deferred"],(function(a,b,c,d,e,f){"use strict";a=b("Deferred");e.exports=a}),null);
__d("oz-player/shims/OzDeferred",["oz-player/shims/www/OzDeferredWWW"],(function(a,b,c,d,e,f){"use strict";a=b("oz-player/shims/www/OzDeferredWWW");e.exports=a}),null);
__d("oz-player/shims/www/OzMaybeNativePromiseWWW",["MaybeNativePromise"],(function(a,b,c,d,e,f){"use strict";a=b("MaybeNativePromise");e.exports=a}),null);
__d("oz-player/shims/OzMaybeNativePromise",["oz-player/shims/www/OzMaybeNativePromiseWWW"],(function(a,b,c,d,e,f){"use strict";a=b("oz-player/shims/www/OzMaybeNativePromiseWWW");e.exports=a}),null);
__d("oz-player/scheduling/OzRoundRobinPriorityTaskQueue",["oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){b===void 0&&(b=-1),this.$3=function(){},this.$4=[],this.$5=new Map(),this.$6=new Map(),this.$1=a,this.$2=b}var c=a.prototype;c.getHighestPriority=function(){return Math.max.apply(Math,this.$4.map(function(a){return a.queue.length?a.priority:-Infinity}))};c.enqueue=function(a,b){b=this.$7(b);var c=this.$5.get(a),d=this.$8(a);if(c===b)return d;this.$5.has(a)&&this.remove(a);c=this.$9(b);var e=this.$4[c];e&&e.priority===b||(e={priority:b,queue:[]},this.$4.splice(c,0,e));this.$5.set(a,b);e.queue.push(a);this.$3(a,b>=this.$1?"immediate":"normal");return d};c.updatePriority=function(a,b){if(!this.$5.has(a))return;this.enqueue(a,b)};c.dequeue=function(){for(var a=0;a<this.$4.length;a++){var b=this.$4[a];if(b.queue.length){b=b.queue.shift();this.$6["delete"](b);this.$5["delete"](b);return b}}return null};c.remove=function(a){this.$6["delete"](a);var b=this.$5.get(a);if(b!==void 0){b=this.$9(b);b=this.$4[b];if(b&&b.queue){var c=b.queue.findIndex(function(b){return b===a});c>-1&&b.queue.splice(c,1)}this.$5["delete"](a)}};c.setOnTaskUpdated=function(a){this.$3=a};c.clearOnTaskUpdated=function(){this.setOnTaskUpdated(function(){})};c.getLength=function(){return this.$5.size};c.test_isEmpty=function(){return this.$5.size===0&&this.$6.size===0&&this.$4.every(function(a){return a.queue.length===0})};c.$8=function(a){var c=this,d=this.$6.get(a);if(!d){var e=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));d=e.getPromise();this.$6.set(a,d);var f=a.run;a.run=function(){return f.call(a).then(function(b){c.remove(a);e.resolve(b);return b})["catch"](function(b){c.remove(a);e.reject(b);throw b})}}return d};c.$9=function(a){a=this.$7(a);var b;for(b=0;b<this.$4.length;b++)if(a>=this.$4[b].priority)return b;return b};c.$7=function(a){this.$2>=0&&(a=Number.parseFloat(a.toFixed(this.$2)));return a};return a}();e.exports=a}),null);
__d("oz-player/shims/ozSetTimeoutAcrossTransitions",["requireCond","cr:1615804"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1615804");e.exports=a}),null);
__d("oz-player/scheduling/OzSequentialTaskScheduler",["oz-player/shims/OzMaybeNativePromise","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$3=0;this.$1=a;a=b||{};b=a.taskTimeout;this.$4=b||0}var c=a.prototype;c.start=function(){this.$1.setOnTaskUpdated(this.$5.bind(this));var a=this.$1.dequeue();a&&this.$6(a,"immediate")};c.destroy=function(){this.$2&&this.$2.cancel(),this.$1.clearOnTaskUpdated()};c.$5=function(a,b){b=this.$6(a,b);b&&this.$1.remove(a)};c.$6=function(a,c){var d=this;if(this.$2&&c!=="immediate")return!1;this.$2&&this.$2.cancel();c=a.run()["catch"](function(a){});this.$4>0&&(c=b("oz-player/shims/OzMaybeNativePromise").race([c,new(b("oz-player/shims/OzMaybeNativePromise"))(function(a,c){b("oz-player/shims/ozSetTimeoutAcrossTransitions")(a,d.$4)})]));this.$3++;this.$2=a;c=c.then(function(){d.$3--;d.$2===a&&(d.$2=null);if(d.$3===0){var b=d.$1.dequeue();b&&d.$6(b,"immediate")}});return!0};return a}();e.exports=a}),null);
__d("oz-player/networks/OzStreamingTaskQueueProvider",["oz-player/scheduling/OzRoundRobinPriorityTaskQueue","oz-player/scheduling/OzSequentialTaskScheduler"],(function(a,b,c,d,e,f){"use strict";f.getQueue=a;var g=new Map(),h=new Map(),i=2;f.OZ_QUEUE_MAX_PRIORITY=i;var j=2,k=6e4;function a(a){var c=g.get(a);if(!c){c=new(b("oz-player/scheduling/OzRoundRobinPriorityTaskQueue"))(i,j);var d=new(b("oz-player/scheduling/OzSequentialTaskScheduler"))(c,{taskTimeout:k});g.set(a,c);h.set(a,d);d.start()}return c}}),null);
__d("oz-player/networks/OzBandwidthEstimator",["oz-player/configs/OzGlobalConfig","oz-player/networks/OzStreamingTaskQueueProvider","oz-player/shims/OzEventEmitter","oz-player/networks/OzBandwidthCache","oz-player/networks/OzBandwidthUtils","oz-player/networks/OzNetworkRequestStreamBandwidthReporter"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("oz-player/networks/OzBandwidthUtils")).getBandwidthEstimate,h=a.getExponentiallyWeightedMovingAverage,i=a.getExponentiallyWeightedMovingAverageOfBandwidth,j=a.getStandardDeviationOfBandwidth,k=.9,l=5e5,m=2e4;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$OzBandwidthEstimator1=[];c.$OzBandwidthEstimator2=[];c.$OzBandwidthEstimator3=new(b("oz-player/networks/OzBandwidthCache"))(b("oz-player/configs/OzGlobalConfig").getString("bandwidth_cache_key","bandwidthEstimate"),function(){return c.getAdjustedBandwidth(b("oz-player/configs/OzGlobalConfig"))});return c}var d=c.prototype;d.getBandwidth=function(a){var b=g(this.$OzBandwidthEstimator1,a.getNumber("bandwidth_estimator_half_life",6),a.getNumber("bandwidth_estimator_outlier_exclusion_factor",2),a.getNumber("bandwidth_estimator_std_dev_penalty_factor",.1));return b>0?b:this.$OzBandwidthEstimator4(a)};d.getEstimatedTimeToFirstByteMs=function(a){return this.$OzBandwidthEstimator2.length>0?h(this.$OzBandwidthEstimator2.map(function(a){return{value:a,weight:1}}),a.getNumber("time_to_first_byte_estimate_half_life_ms",500)):null};d.$OzBandwidthEstimator4=function(a){var b=this.$OzBandwidthEstimator3.getCachedBandwidth();return typeof b==="number"&&b>0?b:a.getNumber("default_bandwidth_estimate",l)};d.getStandardDeviationOfBandwidth=function(){return j(this.$OzBandwidthEstimator1)};d.getSampleCount=function(){return this.$OzBandwidthEstimator1.length};d.getAdjustedBandwidth=function(a){if(this.$OzBandwidthEstimator1.length===0)return this.$OzBandwidthEstimator4(a);var b=a.getNumber("bandwidth_estimator_variance_penalty_half_life",0)>0?this.$OzBandwidthEstimator5(a):this.$OzBandwidthEstimator6(a);return this.$OzBandwidthEstimator7(a,b)};d.$OzBandwidthEstimator7=function(a,c){var d=Math.max(0,b("oz-player/networks/OzStreamingTaskQueueProvider").getQueue("video").getLength()-a.getNumber("bandwidth_penalty_additional_video_start",0));a=a.getNumber("bandwidth_penalty_per_additional_video",0);d=Math.min(k,d*a);return c*(1-d)};d.$OzBandwidthEstimator5=function(a){var b=i(this.$OzBandwidthEstimator1,a.getNumber("bandwidth_estimator_half_life",6)),c=i(this.$OzBandwidthEstimator1,a.getNumber("bandwidth_estimator_variance_penalty_half_life",0));a=c<b?a.getNumber("bandwidth_estimator_variance_penalty_down_factor",0):a.getNumber("bandwidth_estimator_variance_penalty_up_factor",0);c=Math.abs(b-c)*a;return b-c};d.$OzBandwidthEstimator6=function(a){return this.getBandwidth(a)};d.pipeThroughReporter=function(a,c,d){var e=this;return{startStream:function(f){var g=new(b("oz-player/networks/OzNetworkRequestStreamBandwidthReporter"))({stream:c,loggerProvider:d,byteCountPerSample:a.getNumber("byte_count_per_sample",m),minimumBytesToSampleOnClose:a.getNumber("minimum_bytes_to_sample_on_close",0),minimumSampleDuration:a.getNumber("minimum_bandwidth_sample_duration",0),maximumSampleBandwidth:a.getNumber("maximum_bandwidth_sample_bandwidth",999999999),usePerformanceEntryOnClose:a.getBool("use_performance_entry_on_stream_close",!1),useResponseTimeMs:a.getBool("bandwidth_use_response_time_adjustment",!1),responseTimeHandicapMs:a.getNumber("bandwidth_response_time_handicap",0),ignoreTimeToResponseStart:a.getBool("ignore_time_to_response_start",!1),ignoreOnStreamWriteSamples:a.getBool("bandwidth_ignore_on_stream_write_samples",!1)});g.onBandwidthSample(function(b,c){e.$OzBandwidthEstimator8(b,c),a.getBool("update_bandwidth_cache_on_sample",!1)&&e.$OzBandwidthEstimator3.updateCachedBandwidth()});g.onTimeToFirstByteMsSample(e.$OzBandwidthEstimator9.bind(e));return c.startStream(f).then(function(b){return c.retrievedFromCache()&&a.getBool("exclude_prefetch_bandwidth_samples",!1)?b:b.pipeThrough(g.getTransformStream())})}}};d.$OzBandwidthEstimator8=function(a,c){this.$OzBandwidthEstimator1.push({bytes:a,timeInMs:c}),this.$OzBandwidthEstimator1.length>b("oz-player/configs/OzGlobalConfig").getNumber("max_bandwidth_sample_count",15)&&this.$OzBandwidthEstimator1.shift(),this.emit("bandwidth_sampled")};d.$OzBandwidthEstimator9=function(a){this.$OzBandwidthEstimator2.push(a),this.$OzBandwidthEstimator2.length>b("oz-player/configs/OzGlobalConfig").getNumber("max_bandwidth_sample_count",15)&&this.$OzBandwidthEstimator2.splice(0,1)};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=new c()}),null);
__d("useVideoPlayerBandwidthEstimate",["React","VideoPlayerOzWWWGlobalConfig","oz-player/networks/OzBandwidthEstimator","useInterval"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=5e3;function a(){var a=function(){return b("oz-player/networks/OzBandwidthEstimator").getBandwidth(b("VideoPlayerOzWWWGlobalConfig"))},c=g.useState(a()),d=c[0],e=c[1];b("useInterval")(function(){return e(a())},h);return d}}),null);
__d("useVideoAutoplayState",["HiddenSubtreePassiveContext","React","VideoPlayerHooks","VideoPlayerViewabilityHooks","gkx","useIsBackgrounded","useVideoPlayerBandwidthEstimate"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=g.useTransition(),c=a[0],d=(a=b("VideoPlayerHooks")).useAdClientToken(),e=a.useAutoplayGatingResult(),f=a.useBroadcastStatus(),h=a.useEnded(),i=a.useIsFrozenPassive(),j=a.useLastPauseReason(),k=a.useLastPlayReason(),l=a.useMuted(),m=a.usePaused(),n=g.useContext(b("HiddenSubtreePassiveContext"));a=!d;var o=b("useIsBackgrounded")({scrollTerminatesBackgrounded:a}),p=b("useVideoPlayerBandwidthEstimate")(),q=b("VideoPlayerViewabilityHooks").useVideoPlayerPassiveViewabilityInfo(),r=b("VideoPlayerViewabilityHooks").useVideoPlayerExtendedPassiveViewabilityInfo();a=g.useState(n.getCurrentState().backgrounded);var s=a[0],t=a[1];a=g.useState(n.getCurrentState().hidden);var u=a[0],v=a[1];g.useEffect(function(){function a(a,b){v(a),t(b)}var d=n.subscribeToChanges(function(d){b("gkx")("1500552")?c(function(){var b=n.getCurrentState();a(b.hidden,b.backgrounded)}):a(d.hidden,d.backgrounded)}),e=n.getCurrentState().hidden,f=n.getCurrentState().backgrounded;b("gkx")("1500552")?c(function(){var b=n.getCurrentState();a(b.hidden,b.backgrounded)}):a(e,f);return function(){d.remove()}},[n,t,v]);a=g.useState(function(){return i.getCurrentState()});var w=a[0],x=a[1];g.useEffect(function(){var a=i.subscribeToChanges(function(a){x(a)}),b=i.getCurrentState();x(b);return function(){a.remove()}},[i,x]);var y=g.useMemo(function(){return{adClientToken:d,autoplayGatingResult:e,bandwidthEstimate:p,broadcastStatus:f,controllerIsFrozen:w,currentSubtreeIsBackgrounded:s,currentSubtreeIsHidden:u,ended:h,hiddenSubtreePassive:n,isBackgrounded:o,isFrozenPassive:i,lastPauseReason:j,lastPlayReason:k,muted:l,paused:m,videoPlayerExtendedPassiveViewabilityInfo:r,videoPlayerPassiveViewabilityInfo:q}},[d,e,p,f,w,s,u,h,n,o,i,j,k,l,m,r,q]);a=g.useState(y);var z=a[0],A=a[1],B=g.useRef(z);g.useEffect(function(){B.current=z},[z]);g.useEffect(function(){var a=!1;for(var b in y)if(Object.prototype.hasOwnProperty.call(y,b)&&y[b]!==B.current[b]){a=!0;break}a&&A(y)},[y,A]);return z}}),null);
__d("CoreVideoPlayerAutoplayClient.react",["CoreVideoPlayerAutoplayClientUtils","HiddenSubtreePassiveContext","React","VideoPlayerAutoplayHooks","VideoPlayerDebugAutoplayAPI","VideoPlayerHooks","VideoPlayerViewabilityConstants","WwwCometVideoAutoplayFalcoEvent","evaluateVideoAutoplayDefaultAllowRule","evaluateVideoAutoplayDefaultIgnoreRule","makeSelectedAutoplayVideoSymbol","qex","useAutoplayRulesEngine","useCometUniqueID","useConcurrentAutoplayManagementAPI","useVideoAutoplayState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a,c=b("useCometUniqueID")(),d=(a=b("VideoPlayerHooks")).useCanAutoplay(),e=a.useInstanceKey(),f=g.useMemo(function(){return b("makeSelectedAutoplayVideoSymbol")(c,e)},[c,e]),h=g.useRef(f);g.useEffect(function(){h.current=f},[f]);var i=g.useContext(b("HiddenSubtreePassiveContext")),j=a.useController(),k=g.useRef(!1),l=b("useConcurrentAutoplayManagementAPI").useAutoplayControlID();g.useEffect(function(){b("CoreVideoPlayerAutoplayClientUtils").log(h.current,"[ASSUME CONTROL] "+l),j.registerControllingComponent(l)},[j,l]);var m=a.useVideoPlayerPassiveViewabilityInfo();a=j.getCurrentState();a=a.paused;var n=g.useRef(a),o=b("VideoPlayerAutoplayHooks").useVideoAutoplayLocalScope(),p=g.useRef(o);g.useEffect(function(){p.current=o},[o]);var q=g.useCallback(function(){if(b("qex")._("1696068")){var a=j.getCurrentState(),c=a.lastPlayReason;a=a.paused;var d=n.current;n.current=a;var e=m==null?void 0:m.getCurrent();if(e){e=e.visiblePercentage;a=!a&&a!==d;d=e<b("VideoPlayerViewabilityConstants").DEFAULT_VIEWABILITY_PERCENTAGE_FOR_PAUSE&&e>0;p.current.disableScrollBeforePlayWhenOffscreen!==!0&&a&&c==="user_initiated"&&d&&(k.current=!0)}}},[j,m]),r=g.useRef(q);g.useEffect(function(){r.current=q},[q]);g.useEffect(function(){var a=j.subscribe(function(){q()});return function(){a.remove()}},[j,q]);var s=b("useVideoAutoplayState")(),t=b("useAutoplayRulesEngine")(o.autoplayLocalRules),u=d==="allow"?b("evaluateVideoAutoplayDefaultAllowRule"):b("evaluateVideoAutoplayDefaultIgnoreRule");a=g.useState(function(){return u});var v=a[0],w=a[1];a=g.useState(null);var x=a[0],y=a[1];a=g.useState(function(){return t.evaluateAutoplay(s,u)});var z=a[0],A=a[1];a=g.useState(null);var B=a[0],C=a[1],D=g.useRef(z),E=b("VideoPlayerAutoplayHooks").useAutoplayApi(),F=g.useRef(E);g.useEffect(function(){F.current=E},[E]);var G=d!=="dangerously_disable_autoplay_management";g.useEffect(function(){E.register(f,e,o,j,i,G);b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"register",autoplay_scope_id:p.current.autoplayScopeID,event_creation_time:Date.now(),initiator:h.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:E.getAutoplayManagerDebugInfo(p.current).selectedAutoplayVideoSymbol,target:h.current,target_current_autoplay_decision:D.current}});return function(){E.unregister(f),b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"unregister",autoplay_scope_id:p.current.autoplayScopeID,event_creation_time:Date.now(),initiator:h.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:E.getAutoplayManagerDebugInfo(p.current).selectedAutoplayVideoSymbol,target:h.current,target_current_autoplay_decision:D.current}})}},[E,o,j,i,e,G,f]);g.useEffect(function(){var a=function(){var c=t.evaluateAutoplay(s,u);D.current=c;var d=t.getRules(),e=t.getIndexOfLastWinningRule(),a=e>=0?d[e]:u;d=m&&m.getCurrent();e=j.getCurrentState();e=e.paused;(B===null||B!==c)&&(A(c),C(c));if(c==="PAUSE"&&!e&&j.isControllingComponent(l)){e=!0;r.current();if(k.current){k.current=!1;var g=d==null?void 0:d.positionToViewport;g&&j.scrollIntoView(g.top<0);e=!1}if(e){g="[PAUSE] via short-circuit on "+a.name+".";b("CoreVideoPlayerAutoplayClientUtils").log(h.current,g);j.pause("autoplay_initiated");b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:p.current.autoplayScopeID,event_creation_time:Date.now(),initiator:h.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:E.getAutoplayManagerDebugInfo(p.current).selectedAutoplayVideoSymbol,target:h.current,target_current_autoplay_decision:c}})}}(x===null||x!==a)&&(w(function(){return a}),y(function(){return a}),b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"rule_changed",autoplay_scope_id:p.current.autoplayScopeID,event_creation_time:Date.now(),initiator:h.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:E.getAutoplayManagerDebugInfo(p.current).selectedAutoplayVideoSymbol,target:h.current,target_current_autoplay_decision:c}}));b("CoreVideoPlayerAutoplayClientUtils").log(h.current,"[DECISION: "+c+"] from "+a.name);d&&E.update(f,c,d)},c=i.subscribeToChanges(function(a){i.getCurrentState().hidden||i.getCurrentState().backgrounded?j.isControllingComponent(l)||j.unregisterControllingComponent(l):j.registerControllingComponent(l)}),d=m?m.subscribe(function(){i.getCurrentState().hidden||i.getCurrentState().backgrounded?j.isControllingComponent(l)||j.unregisterControllingComponent(l):j.registerControllingComponent(l),a()}):null;a();return function(){c.remove(),d&&d.remove()}},[E,l,t,j,u,i,x,B,w,A,y,C,f,s,m]);g.useEffect(function(){var a=j.isControllingComponent(l),c=j.getCurrentState();c=c.paused;b("CoreVideoPlayerAutoplayClientUtils").componentShouldPause(z,D.current,c,a)&&(b("CoreVideoPlayerAutoplayClientUtils").log(h.current,"[PAUSE] the video for "+z),j.pause("autoplay_initiated"),b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:p.current.autoplayScopeID,event_creation_time:Date.now(),initiator:h.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:F.current.getAutoplayManagerDebugInfo(p.current).selectedAutoplayVideoSymbol,target:h.current,target_current_autoplay_decision:z}}))},[z,j,l]);g.useEffect(function(){return function(){b("CoreVideoPlayerAutoplayClientUtils").log(h.current,"[RELEASE CONTROL] "+l),j.unregisterControllingComponent(l)}},[j,l]);b("VideoPlayerDebugAutoplayAPI").useVideoPlayerDebugAPIDefinition({applicableRule:v,autoplayApiRef:F,autoplayDecision:z,autoplayLocalScope:o,symbol:f});return null}}),null);
__d("VideoPlayerCaptionsAreaDeferred.react",["React","deferredLoadComponent","requireDeferredForDisplay"],(function(a,b,c,d,e,f){"use strict";b("React");a=b("deferredLoadComponent")(b("requireDeferredForDisplay")("VideoPlayerCaptionsArea.react"));e.exports=a}),null);
__d("WebSessionExtensionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:WebSessionExtensionLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:WebSessionExtensionLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:WebSessionExtensionLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setClientTime=function(a){this.$1.client_time=a;return this};c.setReason=function(a){this.$1.reason=a;return this};c.setWebsessionID=function(a){this.$1.websession_id=a;return this};return a}();c={client_time:!0,reason:!0,websession_id:!0};e.exports=a}),null);
__d("WebSessionExtender",["WebSession","WebSessionExtensionTypedLogger","clearInterval","gkx","setInterval"],(function(a,b,c,d,e,f){"use strict";f.subscribe=a;f.unsubscribe=c;var g=2e4,h=new Set(),i=null;function a(a,c){c===void 0&&(c="extender");h.add(a);var d=b("gkx")("1252196");i==null&&(b("WebSession").extend(Date.now()+g+2e3),i=b("setInterval")(function(){b("WebSession").extend(Date.now()+g+2e3),d&&new(b("WebSessionExtensionTypedLogger"))().setClientTime(Date.now()).setWebsessionID(b("WebSession").getId()).setReason(c).log()},g))}function c(a){h["delete"](a);a=h.size;a===0&&i!=null&&(b("clearInterval")(i),i=null)}}),null);
__d("VideoPlayerWebSessionExtender.react",["React","VideoPlayerHooks","WebSessionExtender","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=b("VideoPlayerHooks").usePlaying(),c=b("useCometUniqueID")();g.useEffect(function(){if(a){b("WebSessionExtender").subscribe(c,"video");return function(){b("WebSessionExtender").unsubscribe(c)}}},[a,c]);return null}}),null);
__d("useVideoPlayerDefaultLoadingIndicatorsLogic",["VideoPlayerHooks"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){var a=b("VideoPlayerHooks").useStalling(),c=b("VideoPlayerHooks").useStreamInterrupted(),d=b("VideoPlayerHooks").useIsLiveRewindActive();c=c&&!d;d=a;a=c?"live_video_interrupted_overlay":d?"spinner":"none";return{liveVideoInterruptedOverlayVisible:c,loadingIndicatorType:a,spinnerVisible:d}}}),null);
__d("useVideoPlayerDefaultLoadingIndicators",["CometPlaceholder.react","React","deferredLoadComponent","requireDeferred","requireDeferredForDisplay","useVideoPlayerDefaultLoadingIndicatorsLogic"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=b("deferredLoadComponent")(b("requireDeferredForDisplay")("VideoPlayerSpinner.react")),i=b("deferredLoadComponent")(b("requireDeferred")("VideoPlayerWithLiveVideoInterruptedOverlay.react"));function a(){var a=b("useVideoPlayerDefaultLoadingIndicatorsLogic")(),c=a.loadingIndicatorType;a=a.spinnerVisible;var d=g.jsx(b("CometPlaceholder.react"),{fallback:null,children:g.jsx(i,{})});a=g.jsx(h,{isVisible:a});var e=null;switch(c){case"spinner":e=a;break;case"live_video_interrupted_overlay":e=d;break;case"none":default:e=a}return{loadingIndicatorElement:e,loadingIndicatorType:c}}}),null);
__d("CVCv3DisabledPlayerOrigins",[],(function(a,b,c,d,e,f){a=Object.freeze({BEEPER:"beeper",FB_STORIES:"fb_stories"});e.exports=a}),null);
__d("CVCv3DisabledPlayerSubOrigins",[],(function(a,b,c,d,e,f){a=Object.freeze({LIVE_BEEPER:"live_beeper"});e.exports=a}),null);
__d("CVCv3SubscriptionHelper",["DateConsts","guid"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d){this.$1=a;this.$2=b("guid")();this.$3=((a=c)!=null?a:"null")+"::"+((c=d)!=null?c:"null");this.$4=null;this.$5=null}var c=a.prototype;c.isValidSubscription=function(){return!!this.$1};c.makeCVCv3StateUpdate=function(a,c,d,e){var f=null;a!=null&&!Number.isNaN(a)&&c!=null&&!Number.isNaN(c)&&(f={m:e,pf:Math.floor((c-a)*b("DateConsts").MS_PER_SEC),s:d,sa:Math.floor(a*b("DateConsts").MS_PER_SEC)});e={pps:this.$4,ps:f,si:this.$2,so:this.$3,vi:this.$1};this.$4=f;return e};c.makeUnifiedVideoCVCUpdate=function(a,b,c,d,e){a=this.makeCVCv3StateUpdate(a,b,c,d);this.$5!=null&&(a.tk=this.$5);return Object.assign({},a,e)};c.processUnifiedResponse=function(a){a=a;this.$5=a.tk;return a};c.clearAnyPreviousContext=function(){this.$4=null};return a}();e.exports=a}),null);
__d("UnifiedVideoCVCSubscription",["CVCv3DisabledPlayerOrigins","CVCv3DisabledPlayerSubOrigins","CVCv3SubscriptionHelper","DateConsts","XVideoUnifiedCVCControllerRouteBuilder","clearTimeout","cometAsyncFetch","emptyFunction","gkx","promiseDone","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=Object.values(b("CVCv3DisabledPlayerOrigins")),h=Object.values(b("CVCv3DisabledPlayerSubOrigins")),i=10;a=function(){function a(a,c,d,e,f,i,j){var k=this;this.$17=function(){k.$10=null,k.$16(),k.$15(0)};this.$1=new(b("CVCv3SubscriptionHelper"))(a,c,d);this.$5=f;this.$6=null;this.$7=j;this.$10=null;this.$11=!this.$1.isValidSubscription();this.$3=null;this.$2=null;a=c!=null?g.includes(c):!1;f=d!=null?h.includes(d):!1;!a&&!f&&(this.$3=e,this.$12=i,this.$4=e.subscribe(function(){if(k.$3==null)return;var a=k.$3.getCurrentState();a.playing?k.$13(a):k.$14()}))}var c=a.prototype;c.$13=function(a){if(this.$3==null)return;var c=!1;this.$7!=null&&(c=b("gkx")("1113562"));c||(c=this.$5?!0:b("gkx")("1124976"));if(!c)return;if(a.playing){if(this.$2==null){c=this.$3.getPlayheadPosition();c>=0&&(this.$2=c)}}else this.$2=null;this.$15(0)};c.stopUnifiedCVC=function(){this.$14()};c.destroy=function(){this.$14(),this.$4!=null&&this.$4.remove(),this.$4=null,this.$3=null};c.$14=function(){b("clearTimeout")(this.$9),b("clearTimeout")(this.$8),this.$9=null,this.$8=null,this.$2=null,this.$1.clearAnyPreviousContext(),this.$10=null};c.$16=function(){b("clearTimeout")(this.$8),this.$8=null};c.$15=function(a){var c=this;if(this.$3==null||this.$9!=null||this.$10!=null||this.$11)return;this.$9=b("setTimeout")(function(){c.$9=null;var a=c.$18();if(a==null)return;c.$10=a;b("promiseDone")(a,function(b){if(a!==c.$10)return;c.$10=null;if(b!=null){b=c.$1.processUnifiedResponse(b);c.$19(b)}},b("emptyFunction"));c.$8=b("setTimeout")(c.$17,i*b("DateConsts").MS_PER_SEC)},a)};c.$19=function(a){this.$16();a.d!=null&&this.$12!=null&&this.$12(a.d);if(a.a!=null){var c=a.a.t;switch(c){case"p":c=a.a.pi;c==null&&(c=i);this.$15(c*b("DateConsts").MS_PER_SEC);break;case"s":this.$11=!0;break}}};c.$18=function(){var a=this.$20();if(a==null)return null;a={d:JSON.stringify(a)};return b("cometAsyncFetch")(b("XVideoUnifiedCVCControllerRouteBuilder").buildURL({}),{data:a,method:"POST"})};c.$20=function(){if(this.$3==null)return null;var a={};this.$7!=null&&(a.lr=this.$7);this.$6!=null&&(a.lc=this.$6);this.$5&&(a.ls=!0);var b=0,c=0;this.$2!=null&&(b=this.$2,c=this.$3.getPlayheadPosition());var d=this.$3.getCurrentState();b=this.$1.makeUnifiedVideoCVCUpdate(b,c,this.$21(d),d.muted,a);return b};c.$21=function(a){if(a.playing||a.seeking)return"playing";else if(a.ended)return"ended";else if(a.paused)return"paused";else return"unknown"};c.testing_setLastStartPosition=function(a){this.$2=a};c.testing_makeUnifiedStateUpdate=function(){return this.$20()};c.testing_handleUnifiedResponse=function(a){return this.$19(a)};return a}();e.exports=a}),null);
__d("getPlayerFormatForLogData",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){return a===!0?"full_screen":b!=null?b:"inline"}}),null);
__d("useVideoPlayerUnifiedCVCProvider",["UnifiedVideoCVCSubscription","VideoPlayerHooks","createVideoStateHook","getPlayerFormatForLogData","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";f.useVideoPlayerUnifiedCVCProvider=a;c=b("createVideoStateHook").createVideoStateHook(null);var g=c.setterHook;d=b("createVideoStateHook").createVideoStateHook(null);var h=d.setterHook;e=d.valueHook;function a(a){var c=a.livingRoomID,d=a.playerFormat,e=a.subOrigin,f=a.videoFBID,i=b("VideoPlayerHooks").useIsLive(),j=b("VideoPlayerHooks").useIsFullscreen(),k=b("VideoPlayerHooks").useController(),l=g(),m=h();b("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=new(b("UnifiedVideoCVCSubscription"))(f,b("getPlayerFormatForLogData")(j,d),e,k,i,function(a){m(a)},c);l(a);return function(){a.destroy()}},[c,j,i,d,m,l,e,k,f])}a=e;f.useVideoPlayerUnifiedCVCData=a}),null);
__d("VideoPlayerXImplSurface.react",["CoreVideoPlayerAutoplayClient.react","React","VideoPlayerCaptionsAreaDeferred.react","VideoPlayerInteractionOverlay.react","VideoPlayerWebSessionExtender.react","gkx","requireCond","useVideoPlayerDefaultLoadingIndicators","useVideoPlayerUnifiedCVCProvider","cr:1583596","cr:946298"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.disableLoadingIndicator;d=d===void 0?!1:d;var e=a.instreamVideoAdBreaksPlayer,f=a.livingRoomID,h=a.playerFormat,i=a.subOrigin,j=a.videoFBID;a=a.videoPlayerSpherical;b("useVideoPlayerUnifiedCVCProvider").useVideoPlayerUnifiedCVCProvider({livingRoomID:f,playerFormat:h,subOrigin:i,videoFBID:j});f=b("useVideoPlayerDefaultLoadingIndicators")();h=f.loadingIndicatorElement;return g.jsxs(g.Fragment,{children:[a,d?null:h,b("gkx")("1586633")?g.jsx(b("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{}):null,g.jsx(b("VideoPlayerCaptionsAreaDeferred.react"),{children:c}),g.jsx(b("CoreVideoPlayerAutoplayClient.react"),{}),b("cr:1583596")?g.jsx(b("cr:1583596"),{}):null,b("cr:946298")?g.jsx(b("cr:946298"),{subOrigin:i}):null,e,g.jsx(b("VideoPlayerWebSessionExtender.react"),{})]})}}),null);
__d("normalizeVideoPlayerLoopCount",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){c===void 0&&(c=null);d===void 0&&(d=null);if(a==null){d=((c=c)!=null?c:!1)?(c=d)!=null?c:0:0;d===-1?c=-1:d<0||!Number.isFinite(d)||Math.floor(d)!==d?c=0:c=d}else if(a===-1||a===Number.POSITIVE_INFINITY)c=-1;else if(a<0||!Number.isFinite(a)||Math.floor(a)!==a)throw b("unrecoverableViolation")("Invalid loopingCount: "+a,"comet_video_player");else c=a;return c}}),null);
__d("VideoPlayerXImpl.react",["CoreVideoPlayerWithComponents.react","React","VideoPlayerXImplSurface.react","gkx","normalizeVideoPlayerLoopCount","usePlayerOriginRouteTracePolicy","useRouteProductAttribution"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.disableLoadingIndicator,e=a.implementations,f=a.instreamVideoAdBreaksPlayer,h=a.portalingEnabled,i=a.portalingFromVideoID,j=a.portalingPlaceMetaData,k=a.portalingRenderPlaceholder,l=a.videoPlayerSpherical;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","disableLoadingIndicator","implementations","instreamVideoAdBreaksPlayer","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder","videoPlayerSpherical"]);var m=b("usePlayerOriginRouteTracePolicy")(),n=b("useRouteProductAttribution")(),o=a.loopCount,p=a.playerFormat,q=a.subOrigin,r=a.videoFBID;o=b("normalizeVideoPlayerLoopCount")(o);return g.jsx(b("CoreVideoPlayerWithComponents.react"),babelHelpers["extends"]({},a,{implementations:e,loopCount:o,portalingEnabled:h,portalingFromVideoID:i,portalingPlaceMetaData:j,portalingRenderPlaceholder:k,productAttribution:b("gkx")("1759997")?n:null,routeTracePolicy:m,children:g.jsx(b("VideoPlayerXImplSurface.react"),{children:c,disableLoadingIndicator:d,instreamVideoAdBreaksPlayer:f,livingRoomID:a.livingRoomID,playerFormat:p,subOrigin:q,videoFBID:r,videoPlayerSpherical:l})}))}}),null);
__d("VideoPlayerFallbackCover.react",["fbt","React","requireCond","cr:1405514"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c;c=(c=a.message)!=null?c:g._("Sorry, we're having trouble playing this video.");return h.jsx(b("cr:1405514"),{debugError:a.debugError,message:c,onRetry:a.onRetry})}}),null);
__d("defaultErrorBoundaryFallback",["fbt","React","VideoPlayerFallbackCover.react","gkx"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function i(a){return a&&b("gkx")("1792489")?a.message.toLowerCase().indexOf("audio_renderer_error")>=0:!1}function a(a){var c=a.error;a=a.retry;var d=i(c),e=null;a=a;d&&(e=g._("Audio renderer error: Please restart your computer."),a=null);return h.jsx(b("VideoPlayerFallbackCover.react"),{debugError:c,message:e,onRetry:a})}}),null);
__d("getVideoPlayerAutoplayProps",["gkx"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){c=c!=null?c:"respect_user_settings";var e=c==="dangerously_always_autoplay";d=d!=null?d:"unknown";var f=b("gkx")("1454109")?a.autoplaySetting||"default_autoplay":a.autoplaySetting,g=b("gkx")("1454109")?f==="off":!1;e=e||c==="respect_user_settings"&&!g&&a.canAutoplay;g=c==="do_not_autoplay"?d:a.autoplayGatingResult;d=e?"allow":c==="dangerously_disable_autoplay_management"?"dangerously_disable_autoplay_management":"deny";return{autoplayGatingResult:g,autoplaySetting:f,canAutoplay:d}}}),null);
__d("GraphQLVideoAutoplayGatingResult",[],(function(a,b,c,d,e,f){"use strict";f.makeGraphQLVideoAutoplayGatingResult=a;function a(a,b,c){a=a!=null?a:"unknown";b=b?b:null;a={autoplayGatingResult:a,autoplaySetting:b,canAutoplay:c!=null?c:!1};return a}}),null);
__d("useGraphQLVideoAutoplayGatingResult",["CometRelay","GraphQLVideoAutoplayGatingResult","useGraphQLVideoAutoplayGatingResult_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useGraphQLVideoAutoplayGatingResult_video.graphql"),a);return b("GraphQLVideoAutoplayGatingResult").makeGraphQLVideoAutoplayGatingResult(a.autoplay_gating_result,a.viewer_autoplay_setting,a.can_autoplay)}}),null);
__d("isEmptyObject",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){for(var b in a)return!1;return!0}}),null);
__d("GraphQLVideoDRMInfo",["isEmptyObject"],(function(a,b,c,d,e,f){"use strict";f.makeGraphQLVideoDRMInfo=a;function a(a){var c=a.fairplay_cert,d=a.graph_api_video_license_uri,e=a.video_license_uri_map;a=a.widevine_cert;d={fairplayCert:c,graphApiVideoLicenseUri:(c=d)!=null?c:null,videoLicenseUriMap:e,widevineCert:a};return d.graphApiVideoLicenseUri===null&&b("isEmptyObject")(d.videoLicenseUriMap)?null:d}}),null);
__d("useGraphQLVideoDRMInfo",["CometRelay","GraphQLVideoDRMInfo","React","gkx","useGraphQLVideoDRMInfo_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function i(a){if(a!=null){a=j(a);return b("GraphQLVideoDRMInfo").makeGraphQLVideoDRMInfo(a)}return null}function j(a){a=JSON.parse(a)||{};var b=a.fairplay_cert,c=a.graph_api_video_license_uri,d=a.video_license_uri_map;a=a.widevine_cert;return{fairplay_cert:b,graph_api_video_license_uri:c,video_license_uri_map:d,widevine_cert:a}}function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useGraphQLVideoDRMInfo_video.graphql"),a);var c=a.drm_info,d=h.useState(c),e=d[0],f=d[1];h.useEffect(function(){f(c)},[c]);d=h.useState(function(){return i(e)});var j=d[0],k=d[1];h.useEffect(function(){k(i(e))},[e]);d=h.useRef(null);var l=i(a.drm_info),m=h.useRef(null);d.current!==a.drm_info&&(d.current=a.drm_info,m.current=l);return b("gkx")("1718203")?m.current:j}}),null);
__d("GraphQLVideoP2PSettings",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";f.hiveTechOrderOrNull=a;var g=b("$InternalEnum").Mirrored(["HiveJava","HiveJS","StatsJS"]);f.HiveTechOrder=g;function a(a){return(a=g.cast(a))!=null?a:null}}),null);
__d("useGraphQLVideoP2PSettings",["CometRelay","GraphQLVideoP2PSettings","React","recoverableViolation","useGraphQLVideoP2PSettings_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function i(a){var c=null;if(a){var d,e,f,g,h;d={delay_p2p_until_play:(d=(d=a.config)==null?void 0:d.delay_p2p_until_play)!=null?d:!1,disable_hivejava_for_livevc:(d=(d=a.config)==null?void 0:d.disable_hivejava_for_livevc)!=null?d:!1};var i=a.ticket;e=(e=a.hive_initialization_options)==null?void 0:e.debug_level;f=(f=(f=a.hive_initialization_options)==null?void 0:f.hive_tech_order.map(function(a){var c=b("GraphQLVideoP2PSettings").hiveTechOrderOrNull(a);c==null&&a!=null&&b("recoverableViolation")("Invalid hive tech order: '"+a+"'","comet_video_player");return c}).filter(Boolean))!=null?f:[];g=(g=a.hive_initialization_options)==null?void 0:(g=g.hive_java)==null?void 0:g.min_version;h=((h=a.hive_initialization_options)==null?void 0:h.hive_java)?{minVersion:g}:null;g=a.hive_initialization_options?{HiveJava:h,debugLevel:e,hiveTechOrder:f}:null;c={config:d,hive_initialization_options:g,ticket:i}}return c}function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useGraphQLVideoP2PSettings_video.graphql"),a);var c=h.useRef(null),d=h.useRef(null);a=i((a=a.p2p_settings)!=null?a:null);var e=JSON.stringify(a);if(c.current!==e){c.current=(c=e)!=null?c:null;d.current=(e=a)!=null?e:null}return d.current}}),null);
__d("useOzQuickStarterData",["CometRelay","useOzQuickStarterData_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function h(a){return a.url!=null&&a.start!=null&&a.end!=null&&a.representation_id!=null&&a.mime_codec!=null&&a.segment_type!=null?{end:a.end,mimeCodec:a.mime_codec,representationID:a.representation_id,segmentType:a.segment_type,start:a.start,url:a.url}:null}function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useOzQuickStarterData_video.graphql"),a);a=a.dash_prefetch_resources;return a==null?null:{audio:a.audio.map(h).filter(Boolean),video:a.video.map(h).filter(Boolean)}}}),null);
__d("VideoPlayerAudioAvailabilityInfo",[],(function(a,b,c,d,e,f){"use strict";f.makeVideoPlayerAudioAvailabilityInfo=a;function a(a){var b=a.audioAvailability;a=a.mutedSegments;b={hasNoAudio:g(b),hasPartialNoAudio:h(b,a),mutedSegments:a};return b}function g(a){return a==="UNAVAILABLE"||a==="AVAILABLE_BUT_SILENT"}function h(a,b){return a==="AVAILABLE_BUT_MUTED"&&b.length>0}}),null);
__d("useVideoPlayerAudioAvailabilityInfoRelay",["CometRelay","VideoPlayerAudioAvailabilityInfo","useVideoPlayerAudioAvailabilityInfoRelay_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useVideoPlayerAudioAvailabilityInfoRelay_video.graphql"),a);return b("VideoPlayerAudioAvailabilityInfo").makeVideoPlayerAudioAvailabilityInfo({audioAvailability:a.audio_availability,mutedSegments:(a=(a=a.muted_segments)==null?void 0:a.map(function(a){return{muteEndTimeInSec:a.mute_end_time_in_sec,muteStartTimeInSec:a.mute_start_time_in_sec}}))!=null?a:[]})}}),null);
__d("AudioSettingsVolumeSetting",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:"default",QUIET:"quiet"});e.exports=a}),null);
__d("useVideoPlayerAudioSettings",["AudioSettingsVolumeSetting","CometRelay","React","useVideoPlayerAudioSettings_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=1;c=.5;var j=new Map([["default",i],["quiet",c]]);function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useVideoPlayerAudioSettings_video.graphql"),a);a=(a=a.audio_settings)==null?void 0:a.video_volume_setting;var c="DEFAULT";switch(a){case"DEFAULT":case"QUIET":c=a;break;default:break}a=b("AudioSettingsVolumeSetting")[c];var d=(c=j.get(a))!=null?c:i;a=h.useMemo(function(){return{preferredVolumeSetting:d}},[d]);return a}}),null);
__d("useVideoPlayerCaptionsSettings",["CometRelay","useVideoPlayerCaptionsSettings_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useVideoPlayerCaptionsSettings_video.graphql"),a);return{alwaysShowCaptions:(a=(a=a.captions_settings)==null?void 0:a.always_show_captions)!=null?a:!1}}}),null);
__d("useVideoPlayerLiveLatencyKnobSettings",["CometRelay","useVideoPlayerLiveLatencyKnobSettings_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function a(a){var c;a=b("CometRelay").useFragment(g!==void 0?g:g=b("useVideoPlayerLiveLatencyKnobSettings_video.graphql"),a);return{desiredLatencyMs:(c=(c=a.broadcast_low_latency_config)==null?void 0:c.ll_desired_latency_ms)!=null?c:0,latencyToleranceMs:(a=(c=a.broadcast_low_latency_config)==null?void 0:c.ll_latency_tolerance_ms)!=null?a:0}}}),null);
__d("VideoPlayerRelay.react",["CometPlaceholder.react","CometRelay","CometTrackingNodeProvider.react","CurrentUser","ErrorMetadata","React","VideoPlayerRetryableErrorBoundary.react","VideoPlayerXImpl.react","defaultErrorBoundaryFallback","deferredLoadComponent","err","getVideoPlayerAutoplayProps","gkx","normalizeVideoPlayerLoopCount","requireCond","requireDeferredForDisplay","unrecoverableViolation","useGraphQLVideoAutoplayGatingResult","useGraphQLVideoDRMInfo","useGraphQLVideoP2PSettings","useOzQuickStarterData","usePremiumMusicVideoInterruptionSubscription","useVideoPlayerAudioAvailabilityInfoRelay","useVideoPlayerAudioSettings","useVideoPlayerCaptionsSettings","useVideoPlayerLiveLatencyKnobSettings","cr:1701936","cr:1694452","cr:1694453","cr:1446473","VideoPlayerRelay_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=c;var g,h=b("React"),i=b("deferredLoadComponent")(b("requireDeferredForDisplay")("VideoPlayerSphericalFallbackCover.react")),j=(d=b("cr:1694452"))!=null?d:a,k=(f=b("cr:1694453"))!=null?f:a;function l(a){var c,d=a.accessToken,e=a.adClientToken,f=a.autoplayGatingResult,l=a.canAutoplay,m=a.children,n=a.disableLoadingIndicator;n=n===void 0?!1:n;var o=a.externalLogID,p=a.externalLogType,q=a.initialForceHD,r=q===void 0?!1:q;q=a.initialTracePolicy;var s=a.livingRoomID,t=a.loopCount,u=a.manifestURL_DO_NOT_USE,v=a.playerFormat;v=v===void 0?"inline":v;var w=a.playerOriginOverride,x=a.portalingEnabled,y=a.portalingFromVideoID,z=a.portalingPlaceMetaData,A=a.portalingRenderPlaceholder,B=a.source_VPL_LOGGING_HACK,C=a.startTimestamp,D=a.subOrigin;a=a.video;b("usePremiumMusicVideoInterruptionSubscription")(b("CurrentUser").getID());var E=b("CometRelay").useFragment(g!==void 0?g:g=b("VideoPlayerRelay_video.graphql"),a);a=E.dash_prefetch_experimental;c=((c=E.video_available_captions_locales)!=null?c:[]).find(function(a){a=a.localized_creation_method;return a!=null})!=null;var F=b("cr:1701936")(E,{adClientToken:e}),G=b("useGraphQLVideoP2PSettings")(E),H=b("useGraphQLVideoDRMInfo")(E),I=!!(H&&H.fairplayCert!==null),J=b("useOzQuickStarterData")(E),K=h.useMemo(function(){return{forceProgressiveImpl:I,initialForceHD:r,manifestURL_DO_NOT_USE:u,ozQuickStarterData:J,videoFBID:E.id,videoPlayerShakaConfig:F}},[I,r,u,J,E.id,F]),L=j(E,K);K=k(E,K);L=b("gkx")("1669200")?L:K;K=b("useVideoPlayerCaptionsSettings")(E);var M=b("useVideoPlayerAudioSettings")(E),N=b("useVideoPlayerLiveLatencyKnobSettings")(E),O=N.desiredLatencyMs;N=N.latencyToleranceMs;var P=b("useVideoPlayerAudioAvailabilityInfoRelay")(E),Q=b("useGraphQLVideoAutoplayGatingResult")(E);Q=b("getVideoPlayerAutoplayProps")(Q,l,f);l=b("cr:1446473")(E);f=E.instream_video_ad_breaks_comet;var R=E.is_premium_music_video;f=f?h.jsx(b("CometPlaceholder.react"),{fallback:null,children:h.jsx(b("CometRelay").MatchContainer,{match:f,props:{instreamVideoAdBreaksComet:f,isPmv:R,playerFormat:v,subOrigin:D,videoFBID:E.id}})}):null;R=E.id;if(R==null)throw b("unrecoverableViolation")("Cannot play video: Empty video ID","comet_video_player");if(!L.length){var S=b("err")("Cannot play video: No matching video player implementations");S.metadata=new(b("ErrorMetadata"))();S.metadata.addEntry("COMET_VIDEO","VIDEO_ID",R);throw b("unrecoverableViolation")("Cannot play video: No matching video player implementations","comet_video_player",{error:S})}S=E.permalink_url;var T=E.spherical_video_renderer;T=T?h.jsx(b("CometRelay").MatchContainer,{match:T,props:{playerFormat:v,sphericalVideoRenderer:T,subOrigin:D,videoTahoeUrl:S}}):null;S=E.is_spherical;var U=E.is_spherical_enabled,V=E.permalink_url;if(S===!0&&U!==!0){if(V==null||V==="")throw b("unrecoverableViolation")("Cannot play video: Empty permalink URL for a spherical video","comet_video_player");return h.jsx(i,{videoTahoeUrl:V})}S=b("gkx")("1477051")?!1:e!=null;U=b("normalizeVideoPlayerLoopCount")(t,E.is_looping,E.loop_count);return h.jsx(b("VideoPlayerXImpl.react"),{VideoPlayerShakaPerformanceLoggerClass:l,accessToken:d,adClientToken:e,alwaysShowCaptions:K.alwaysShowCaptions,areCaptionsAutogenerated:c,audioAvailabilityInfo:P,autoplayGatingResult:Q.autoplayGatingResult,autoplaySetting:Q.autoplaySetting,broadcastId:E.broadcast_id,broadcastStatus:E.broadcast_status,broadcasterOrigin:E.broadcaster_origin,canAutoplay:Q.canAutoplay,captionsUrl:E.captions_url,children:m,desiredLatencyMs:O,disableLoadingIndicator:n,externalLogID:o,externalLogType:p,graphQLVideoDRMInfo:H,graphQLVideoP2PSettings:G,implementations:L,initialRepresentationIds:a,initialTracePolicy:q,instreamVideoAdBreaksPlayer:f,isLiveStreaming:E.is_live_streaming,isLiveTraceEnabled:E.is_live_trace_enabled,isPremiumMusicVideo:E.pmv_metadata!=null,isVideoBroadcast:E.is_video_broadcast,latencyToleranceMs:N,livingRoomID:s,loopCount:U,originalHeight:E.original_height,originalWidth:E.original_width,playerFormat:v,playerOriginOverride:w,portalingEnabled:x&&!S,portalingFromVideoID:y,portalingPlaceMetaData:z,portalingRenderPlaceholder:A,source_VPL_LOGGING_HACK:B,startTimestamp:C,subOrigin:D,videoFBID:R,videoPlayerSpherical:T,volumeSetting:M.preferredVolumeSetting},R)}function a(a,b){return[]}function c(a){var c=a.doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn;c=c===void 0?!1:c;var d=a.errorBoundaryFallback;a=babelHelpers.objectWithoutPropertiesLoose(a,["doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn","errorBoundaryFallback"]);a=h.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:13,children:h.jsx(l,babelHelpers["extends"]({},a))});return c?a:h.jsx(b("VideoPlayerRetryableErrorBoundary.react"),{description:"VideoPlayerRelayBoundary",fallback:(c=d)!=null?c:b("defaultErrorBoundaryFallback"),children:a})}}),null);
__d("CometAudioManagerHooks",["CometAudioManagerContexts","React","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.useAudioApi=a;var g=b("React");function a(){var a=g.useContext(b("CometAudioManagerContexts").AudioApiContext);return a}}),null);
__d("makeAudioSymbol",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){b=b+"::"+a;return b}}),null);
__d("CoreVideoPlayerAudioClient.react",["CometAudioManagerContexts","CometAudioManagerHooks","CometThrottle","React","VideoPlayerHooks","VideoPlayerPortalingPlaceInfoProvider.react","makeAudioSymbol","useCometUniqueID","usePrevious"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a,c=b("useCometUniqueID")(),d=(a=b("VideoPlayerHooks")).useInstanceKey(),e=g.useMemo(function(){return b("makeAudioSymbol")(c,d)},[c,d]),f=b("CometAudioManagerHooks").useAudioApi(),h=g.useRef(f);g.useEffect(function(){h.current=f},[f]);var i=a.useController(),j=200,k=a.useLastPlayReason(),l=a.useLastMuteReason(),m=a.useMuted();j=b("CometThrottle")(a.useVolume,j,{trailing:!0});j=j();var n=b("usePrevious")(j),o=a.usePaused(),p=g.useContext(b("CometAudioManagerContexts").CometAudioLocalScopeContext),q=g.useContext(b("CometAudioManagerContexts").CometAudioGroupContext),r=b("VideoPlayerPortalingPlaceInfoProvider.react").useVideoPlayerPortalingPlaceInfo(),s=a.useVolumeSetting(),t=g.useMemo(function(){return(q==null?void 0:q.groupID)||b("CometAudioManagerContexts").makeAudioGroupID()},[q==null?void 0:q.groupID]);a=g.useState(!0);var u=a[0];a=a[1];var v={audioLocalScope:p,controller:i,groupID:t,instanceKey:d,lastMuteReason:l,lastPlayReason:k,muted:m,paused:o,previousVolume:n,symbol:e,videoPlayerPortalingPlaceInfo:r,volume:j};g.useEffect(function(){s!=null&&i.setVolume(s)},[i,s]);p=q||{allowSound:u,groupID:t,setAllowSound:a};var w=g.useRef(p);g.useEffect(function(){f&&f.register(v,w.current);return function(){f&&f.unregister(e,t)}},[f,v,t,e]);g.useEffect(function(){f&&f.update(v)},[f,v]);g.useEffect(function(){!u&&h.current&&i.setMuted(!0,"audio_manager_initiated")},[u,h,i]);return null}}),null);
__d("VideoPlayerCaptionsDisplay.react",["React","recoverableViolation","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={captionsCenterAlign:{justifyContent:"taijpn5t",textAlign:"oqcyycmt"},captionsContainer:{bottom:"lhzng9rx",boxSizing:"rq0escxv",display:"j83agx80",justifyContent:"taijpn5t",paddingLeft:"k2nzzd71",paddingRight:"cnyvn6ex",position:"pmk7jnqg",textAlign:"oqcyycmt",transitionDuration:"pc15xi3s",transitionProperty:"flx89l3n",transitionTimingFunction:"eloblzlw",width:"k4urcfbm"},captionsDefault:{backgroundColor:"d6rk862h",color:"ljqsnud1",fontSize:"a5q79mjw",fontWeight:"ekzkrbhg",lineHeight:"j8p27hm0",marginTop:"kvgmc6g5",marginEnd:"nw5zvenu",marginBottom:"oygrvhab",marginStart:"pbhxczp3",paddingTop:"debrwdc1",paddingEnd:"m4n6deaq",paddingBottom:"pwvavz3a",paddingStart:"n1w2zk5c"},captionsLeftAlign:{justifyContent:"jifvfom9",textAlign:"hzawbc8m"},captionsRightAlign:{justifyContent:"bkfpd7mw",textAlign:"ftzlm3b6"}};function j(a){switch(a){case"center":return i.captionsCenterAlign;case"left":return i.captionsLeftAlign;case"right":return i.captionsRightAlign;default:b("recoverableViolation")("Unsupported captions text alignment: "+a,"comet_video_player")}}function a(a){var c=a.activeCaptions;a=a.adjustments;var d=c==null?void 0:c.rows;if(d!=null&&d.length>0){d=d.map(function(a){return a.trim()}).filter(function(a){return!!a});return d.length>0?h.jsx("div",{className:(g||(g=b("stylex")))(i.captionsContainer,j((c=c==null?void 0:(c=c.styles)==null?void 0:c.textAlignment)!=null?c:"center")),style:{paddingLeft:a.left,paddingRight:a.right,transform:"translateY("+-a.bottom+"px)"},children:h.jsx("div",{className:(g||(g=b("stylex")))(i.captionsDefault),children:d.map(function(a,b){return h.jsxs("span",{children:[a,h.jsx("br",{})]},b)})})}):null}return null}c=h.memo(a);d=c;e.exports=d}),null);
__d("useVideoPlayerCaptionsDisplayAdjustments",["React","VideoPlayerHooks"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=b("VideoPlayerHooks").useVideoPlayerCaptionsReservations(),c=g.useMemo(function(){var b={bottom:0,left:0,right:0,top:0};a.length>0&&a.forEach(function(a){b[a.location]+=a.size});return b},[a]);return c}}),null);
__d("VideoPlayerCaptions.react",["React","VideoPlayerCaptionsDisplay.react","VideoPlayerHooks","useVideoPlayerCaptionsDisplayAdjustments"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=b("VideoPlayerHooks").useActiveCaptions(),c=b("useVideoPlayerCaptionsDisplayAdjustments")();return g.jsx(b("VideoPlayerCaptionsDisplay.react"),{activeCaptions:a,adjustments:c})}}),null);
__d("VideoPlayerCaptionsArea.react",["React","VideoPlayerCaptions.react","VideoPlayerContexts","VideoPlayerHooks"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function h(a,b){switch(b.type){case"reserve":return a.concat(b.reservation);case"release":return a.filter(function(a){return a!==b.reservation});default:return a}}function a(a){a=a.children;var c=g.useReducer(h,[]),d=c[0],e=c[1];c=g.useState({release:function(a){e({reservation:a,type:"release"})},reserve:function(a){e({reservation:a,type:"reserve"});return a}});c=c[0];var f=b("VideoPlayerHooks").useCaptionsVisible();return g.jsx(b("VideoPlayerContexts").VideoPlayerCaptionsReservationActionsContext.Provider,{value:c,children:g.jsxs(b("VideoPlayerContexts").VideoPlayerCaptionsReservationsContext.Provider,{value:d,children:[f?g.jsx(b("VideoPlayerCaptions.react"),{}):null,a]})})}}),null);
__d("VideoPlayerCaptionsController",["JSResource","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.createCaptionsController=a;var g=b("JSResource")("VideoPlayerHTML5ApiCea608State").__setRef("VideoPlayerCaptionsController"),h=b("JSResource")("VideoPlayerHTML5ApiWebVttState").__setRef("VideoPlayerCaptionsController");function a(a){var c=a.captionsUrl,d=a.inbandCaptionsExpected,e=a.onCaptionsLoaded,f=null,i=null,j=null,k=null;function l(a){var c=h.load().then(function(b){if(c!==j)return;f=new b({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(b){b.loadFromUrl(a)}})})["catch"](function(a){if(c!==j)return;b("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiWebVttState module: "+a.message,"comet_video_player")});return c}function m(){var a=g.load().then(function(b){if(a!==k)return;i=new b({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(a){a.processQueue()}})})["catch"](function(c){if(a!==k)return;b("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiCea608State module: "+c.message,"comet_video_player")});return a}c!=null?j=l(c):d===!0&&(k=m());return{destroy:function(){f&&(f.destroy(),f=null),i&&(i.destroy(),i=null),j&&(j=null),k&&(k=null)},handleCea608BytesReceived:function(a){i&&i.enqueueBytes(a)},handleTimeUpdate:function(a){if(f){f.source&&f.source.handleTimeUpdate(a);return f.getCurrentScreenRepresentation()}else if(i){i.source&&i.source.handleTimeUpdate(a);return i.getCurrentScreenRepresentation()}return null},updateCaptionsUrl:function(a){f&&(f.destroy(),f=null),a!=null&&(j=l(a))},updateInbandCaptionsExpected:function(a){i&&(i.destroy(),i=null),a&&(k=m())}}}}),null);
__d("VideoPlayerActionButton.react",["CometLink.react","React","TetraIcon.react","TetraText.react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){var c=a.icon,d=a.label,e=a.onPress,f=a.shouldJustifyContentCenter;f=f===void 0?!1:f;var i=a.testid;i=a.useVerticalLayout;a=i===void 0?!1:i;return h.jsxs("div",{className:(g||(g=b("stylex"))).dedupe(a?{}:{"align-items-1":"bp9cbjyn","display-1":"j83agx80","flex-direction-1":"btwxx1t3","padding-top-1":"discj3wi","padding-end-1":"hv4rvrfc","padding-bottom-1":"ihqw7lf3","padding-start-1":"dati1w0a"},f?{"justify-content-1":"taijpn5t"}:null,a?{"align-items-1":"bp9cbjyn","display-1":"j83agx80","flex-direction-1":"cbu4d94t","padding-top-1":"discj3wi","padding-end-1":"hv4rvrfc","padding-bottom-1":"ihqw7lf3","padding-start-1":"dati1w0a","text-align-1":"oqcyycmt","width-1":"p0n2ovh4"}:null),"data-testid":void 0,children:[h.jsx("div",{className:g.dedupe(a?{}:{"border-top-0.3":"gag4i7dh","border-end-0.3":"jsrkvy3z","border-bottom-0.3":"moy3fgm5","border-start-0.3":"kozd3uwk","border-top-start-radius-1":"s45kfl79","border-top-end-radius-1":"emlxlaya","border-bottom-end-radius-1":"bkmhp75w","border-bottom-start-radius-1":"spb7xbtv","margin-end-1":"tvfksri0","padding-top-1":"jktsbyx5","padding-end-1":"rv4hoivh","padding-bottom-1":"osnr6wyh","padding-start-1":"h4z51re5"},a?{"border-top-0.3":"gag4i7dh","border-end-0.3":"jsrkvy3z","border-bottom-0.3":"moy3fgm5","border-start-0.3":"kozd3uwk","border-top-start-radius-1":"s45kfl79","border-top-end-radius-1":"emlxlaya","border-bottom-end-radius-1":"bkmhp75w","border-bottom-start-radius-1":"spb7xbtv","margin-bottom-1":"n851cfcs","padding-top-1":"jktsbyx5","padding-end-1":"rv4hoivh","padding-bottom-1":"osnr6wyh","padding-start-1":"h4z51re5"}:null),children:h.jsx(b("TetraIcon.react"),{"aria-label":d,color:"white",hideHoverOverlay:!0,icon:c,onPress:e})}),h.jsx(b("TetraText.react"),{color:"white",type:"headlineEmphasized3",children:h.jsx(b("CometLink.react"),{onClick:e,children:d})})]})}}),null);
__d("VideoPlayerFallbackCoverImplWithoutRetry.react",["React","TetraText.react","requireCond","stylex","cr:1672302"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.debugError,d=a.message;a.onRetry;return g.jsxs("div",{className:"stjgntxs ni8dbmo4 taijpn5t j83agx80 ora8z2hr bp9cbjyn kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 rq0escxv i09qtzwb",children:[g.jsx("div",{className:"ij9ysmuz cbu4d94t j83agx80 bp9cbjyn",children:g.jsx(b("TetraText.react"),{align:"center",color:"white",type:"bodyLink3",children:d})}),b("cr:1672302")?g.jsx(b("cr:1672302"),{error:c}):null]})}}),null);
__d("useDebouncedValue",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a,b){var c=g.useState(a),d=c[0],e=c[1];g.useEffect(function(){var c=setTimeout(function(){return e(a)},b);return function(){return clearTimeout(c)}},[a,b]);return d}}),null);
__d("VideoPlayerSpinner.react",["CometLoadingAnimation.react","React","stylex","useDebouncedValue"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=36;function a(a){a=a.isVisible;var c=b("useDebouncedValue")(a,a?200:500);return h.jsx("div",{className:(g||(g=b("stylex"))).dedupe({"height-1":"tv7at329","opacity-1":"pedkr2u6","position-1":"pmk7jnqg","start-1":"kfkz5moi","top-1":"rk01pc8j","transform-0.1":"py2didcb","transition-delay-1":"chkx7lpg","transition-duration-1":"kmdw4o4n","transition-property-1":"art1omkt","transition-timing-function-1":"e4zzj2sf","width-1":"thwo4zme"},a?null:{"opacity-1":"b5wmifdl","transition-delay-1":"hwaazqwg","transition-duration-1":"kmdw4o4n","transition-property-1":"l23jz15m","transition-timing-function-1":"e4zzj2sf","visibility-1":"kr9hpln1"}),children:h.jsx(b("CometLoadingAnimation.react"),{animationPaused:!c,size:i})})}}),null);
__d("VideoPlayerSurface.react",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return this.props.children!=null?this.props.children:null};return b}(a.PureComponent);e.exports=c}),null);
__d("VideoPlayerDefaultControls.react",["CometPlaceholder.react","CometRelay","CometWarningScreenContext","React","VideoPlayerFullscreenControl.react","VideoPlayerHooks","deferredLoadComponent","requireDeferred","useVideoPlayerBigPlayButtonOverlay","useVideoPlayerDefaultControlsVisibility","VideoPlayerDefaultControls_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=b("deferredLoadComponent")(b("requireDeferred")("VideoPlayerDefaultControlsImplLive.react")),j=b("deferredLoadComponent")(b("requireDeferred")("VideoPlayerDefaultControlsImplNotLive.react"));function a(a){var c,d=a.forceVisible,e=a.forceVisibleOnMount,f=a.renderExpandControl,k=a.shouldRenderLivePauseControl,l=a.shouldRenderModeratorControl,m=a.shouldRenderQuietModeControl,n=a.shouldRenderWatchAndScrollControl,o=a.shouldUnmuteForBigPlayButton,p=a.subOrigin,q=a.video;a=a.videoTahoeUrl;q=b("CometRelay").useFragment(g!==void 0?g:g=b("VideoPlayerDefaultControls_video.graphql"),q);c=(c=b("CometWarningScreenContext").useIsContentVisible())!=null?c:!1;var r=b("VideoPlayerHooks").useMuted(),s=b("VideoPlayerHooks").useIsLive();e=b("useVideoPlayerDefaultControlsVisibility")({forceVisible:d,forceVisibleOnMount:e});var t=e.isControlsVisible;e=e.onUserInteraction;d=b("useVideoPlayerBigPlayButtonOverlay")({forceVisible:d===!1?!1:void 0,shouldUnmute:o});o=d.bigPlayButtonElement;d=d.bigPlayButtonIsVisible;t=t&&!d&&c;c=(r||t)&&!d;r=f!=null?f({onUserInteraction:e}):h.jsx(b("VideoPlayerFullscreenControl.react"),{onUserInteraction:e});d=s?h.jsx(i,{expandControl:r,isControlsVisible:t,isVolumeControlVisible:c,onUserInteraction:e,shouldRenderModeratorControl:l,shouldRenderPauseControl:k,shouldRenderQuietModeControl:m,shouldRenderWatchAndScrollControl:n,subOrigin:p,video:q,videoTahoeUrl:a}):h.jsx(j,{expandControl:r,isControlsVisible:t,isVolumeControlVisible:c,onUserInteraction:e,shouldRenderWatchAndScrollControl:n,subOrigin:p,video:q,videoTahoeUrl:a});return h.jsxs(h.Fragment,{children:[o,h.jsx(b("CometPlaceholder.react"),{fallback:null,children:d})]})}}),null);
__d("VideoPlayerBanzaiLogFlusher",["Banzai","BanzaiConsts","emptyFunction","gkx"],(function(a,b,c,d,e,f){"use strict";var g,h="video_player";a=b("emptyFunction");c=function(){function a(a){this.$1=a}var c=a.prototype;c.flushLogs=function(){var a=this.$1.consumeLoggerEvents();a.forEach(function(a){var c={event:a.eventType,logData:a.logData,routeTracePolicy:a.routeTracePolicy,source:a.source_VPL_LOGGING_HACK};if(a.source_VPL_LOGGING_HACK==="animated_image_share"&&b("gkx")("1710047"))return;a=(a=a.logData)==null?void 0:a.ad_client_token;var d=b("gkx")("1426867")?{batch:1500,delay:(g||(g=b("BanzaiConsts"))).VITAL_WAIT}:{delay:(g||(g=b("BanzaiConsts"))).VITAL_WAIT};b("gkx")("1107827")?b("Banzai").post(h,c,d):a!=null?b("Banzai").post(h,c,b("Banzai").VITAL):(d.delay=(g||(g=b("BanzaiConsts"))).BASIC_WAIT_COMET,b("Banzai").post(h,c,d))})};return a}();e.exports=c}),null);
__d("getErrorMessageFromMediaErrorCode",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){switch(a){case 1:return"The fetching process for the media resource was aborted by the user agent at the users request.";case 2:return"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.";case 3:return"An error of some description occurred while decoding the media resource, after the resource was established to be usable.";case 4:return"The media resource indicated by the src attribute was not suitable."}return null}}),null);
__d("getErrorNameFromMediaErrorCode",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){switch(a){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return"MEDIA_ERR_UNKNOWN_"+((a=a)!=null?a:"UNDEFINED")}}}),null);
__d("VideoPlayerImplementationErrors",["getErrorMessageFromMediaErrorCode","getErrorNameFromMediaErrorCode"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerErrorFromHTMLVideoElementError=a;f.createVideoPlayerErrorFromVideoElementPlayPromiseRejectionReason=c;f.createVideoPlayerErrorFromGenericError=d;function a(a){var c=a.errorLocation,d=a.hostCallError,e=a.videoElementError,f=a.videoElementNetworkState;a=a.videoElementReadyState;var g=e==null?void 0:e.code,h=d!=null&&typeof d.message==="string"?d.message:null;h==null&&(h=e==null?void 0:e.message);h==null&&g!=null&&(h=b("getErrorMessageFromMediaErrorCode")(g));e={createdTimestamp:Date.now(),errorDescription:((e=h)!=null?e:"Empty error")+("; code: "+((h=g)!=null?h:"undefined"))+("; readyState: "+a)+("; networkState: "+f),errorLocation:c,errorName:b("getErrorNameFromMediaErrorCode")(g),originalError:d};return e}function c(a,b){if(a==null){var c={createdTimestamp:Date.now(),errorDescription:"Empty rejection reason from video play()",errorLocation:b,errorName:"PlayRejectedError"};return c}c={createdTimestamp:Date.now(),errorCode:typeof a.code==="string"?a.code:typeof a.code==="number"?String(a.code):void 0,errorDescription:typeof a.message==="string"?a.message:String(a),errorLocation:b,errorName:typeof a.name==="string"?a.name:"PlayRejectedError"};return c}function d(a,b,c){var d;d={message:(d=b==null?void 0:b.message)!=null?d:"",name:(d=b==null?void 0:b.name)!=null?d:"UnknownError",stack:(b==null?void 0:b.stack)||new Error().stack};b={createdTimestamp:Date.now(),errorCode:null,errorDescription:d.name+" "+d.message,errorLocation:c,errorName:a,stack:d.stack,url:null};return b}}),null);
__d("VideoPlayerImplementationStateMachine",["VideoPlayerImplementationErrors","gkx","recoverableViolation","shallowEqual","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerImplementationStateMachine=m;f.createVideoPlayerImplementationStateMachineWithStateTransitionHandlers=a;f.createReactVideoElementCallbacksForStateMachine=c;function g(a){var b=a.bufferingDetected,c=a.seeking;a=a.waitingForDomPlaying;return!b&&!c&&!a}function h(a){var c=a.bufferingDetected,d=a.prevPlaybackState,e=a.seeking;a=a.waitingForDomPlaying;c=g({bufferingDetected:c,seeking:e,waitingForDomPlaying:a});e=d;switch(d){case"stalling":e=c?"playing":"stalling";break;case"ended":case"paused":case"playing":break;default:d;b("recoverableViolation")("unexpected playbackState: "+d,"comet_video_player");break}return e}function i(a,c,d){switch(d.type){case"host_call_pause":case"host_call_play":case"host_call_set_current_time":case"host_call_set_volume":case"host_call_set_muted":case"host_call_set_playback_rate":case"host_call_set_video_quality":return babelHelpers["extends"]({},a,{hostCallQueue:a.hostCallQueue.concat([d])});case"dom_event_ended":return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});case"dom_event_pause":if(a.playbackState==="ended")return a;if(c.videoElementEnded===!0)return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});return a.playbackState==="paused"?a:babelHelpers["extends"]({},a,{playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play":var e=a.playbackState,f=e;switch(e){case"playing":case"stalling":case"ended":case"paused":f="stalling";break;default:e;b("recoverableViolation")("unexpected playbackState: "+e,"comet_video_player");break}e=!0;return babelHelpers["extends"]({},a,{playbackState:f,waitingForDomPlaying:e});case"dom_event_playing":f=a.bufferingDetected;e=a.seeking;var g=!1,i=a.playbackState;return babelHelpers["extends"]({},a,{playbackState:h({bufferingDetected:f,prevPlaybackState:i,seeking:e,waitingForDomPlaying:g}),waitingForDomPlaying:g});case"dom_event_timeupdate":if(a.waitingForDomTimeUpdateAfterSeeked){f=a.bufferingDetected;i=a.seeking;e=!1;g=a.playbackState;return babelHelpers["extends"]({},a,{playbackState:h({bufferingDetected:f,prevPlaybackState:g,seeking:i,waitingForDomPlaying:e}),waitingForDomPlaying:e,waitingForDomTimeUpdateAfterSeeked:!1})}return a;case"dom_event_seeking":f=a.playbackState;g=f;switch(f){case"paused":case"ended":break;case"stalling":case"playing":g="stalling";break;default:f,b("recoverableViolation")("unexpected playbackState: "+f,"comet_video_player")}return babelHelpers["extends"]({},a,{playbackState:g,seeking:!0,waitingForDomPlaying:!0});case"dom_event_seeked":i=a.bufferingDetected;e=a.waitingForDomPlaying;f=!1;g=a.playbackState;return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:null,playbackState:h({bufferingDetected:i,prevPlaybackState:g,seeking:f,waitingForDomPlaying:e}),seeking:f,waitingForDomTimeUpdateAfterSeeked:!0});case"dom_event_error":i=b("VideoPlayerImplementationErrors").createVideoPlayerErrorFromHTMLVideoElementError({errorLocation:"dom_event_error",hostCallError:null,videoElementError:d.payload.videoElementError,videoElementNetworkState:d.payload.videoElementNetworkState,videoElementReadyState:d.payload.videoElementReadyState});return babelHelpers["extends"]({},a,{error:i,playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play_promise_created":return babelHelpers["extends"]({},a,{hostCallPlayIDLast:d.payload.hostCallPlayID});case"dom_event_play_promise_resolved":return a.hostCallPlayIDLast!==d.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null});case"dom_event_play_promise_rejected":return a.hostCallPlayIDLast!==d.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null,playbackState:a.playbackState==="stalling"?"paused":a.playbackState,waitingForDomPlaying:!1});case"implementation_host_call_queue_flushed":return babelHelpers["extends"]({},a,{hostCallQueue:[]});case"implementation_host_call_failed":g=b("VideoPlayerImplementationErrors").createVideoPlayerErrorFromHTMLVideoElementError({errorLocation:d.payload.errorLocation,hostCallError:d.payload.hostCallError,videoElementError:d.payload.videoElementError,videoElementNetworkState:d.payload.videoElementNetworkState,videoElementReadyState:d.payload.videoElementReadyState});return babelHelpers["extends"]({},a,{error:g,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_video_node_unmounted":return a;case"implementation_engine_initialized":return babelHelpers["extends"]({},a,{availableQualities:d.payload.availableQualities,selectedVideoQuality:d.payload.selectedVideoQuality,targetVideoQuality:d.payload.targetVideoQuality,videoProjection:d.payload.videoProjection});case"implementation_engine_destroyed":return a;case"implementation_fatal_error":return babelHelpers["extends"]({},a,{error:d.payload.fatalError,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_seek_requested":return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:d.payload.seekSourcePosition});case"representation_changed":return babelHelpers["extends"]({},a,{targetVideoQuality:d.payload.targetVideoQuality});case"controller_pause_requested":return a.playbackState==="ended"?a:babelHelpers["extends"]({},a,{lastPauseReason:d.payload.reason,lastPausedTimeMs:Date.now(),lastPlayedTimeMs:0,playbackState:"paused",waitingForDomPlaying:!1,watchTimeMs:a.lastPlayedTimeMs>0?a.watchTimeMs+(Date.now()-a.lastPlayedTimeMs):a.watchTimeMs});case"controller_play_requested":if(a.playbackState!=="paused"&&a.playbackState!=="ended")return a;e=a.loopCount>0&&a.loopCurrent<a.loopCount||a.loopCount===-1?d.payload.reason==="loop_initiated"?a.loopCurrent+1:a.loopCurrent:0;return babelHelpers["extends"]({},a,{lastPlayReason:d.payload.reason,lastPlayedTimeMs:a.lastPlayedTimeMs===0?Date.now():a.lastPlayedTimeMs,loopCurrent:e,playbackState:"stalling",waitingForDomPlaying:!0});case"controller_seek_requested":return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:(f=c.videoElementPlayheadPosition)!=null?f:a.implementationSeekSourcePosition,seekTargetPosition:d.payload.seekTargetPosition,seeking:!0});case"controller_quality_requested":return babelHelpers["extends"]({},a,{selectedVideoQuality:d.payload.selectedVideoQuality});case"controller_set_playback_rate":return babelHelpers["extends"]({},a,{targetPlaybackRate:d.payload.playbackRate});case"controller_muted_requested":return babelHelpers["extends"]({},a,{lastMuteReason:d.payload.reason,muted:d.payload.muted});case"controller_volume_requested":return babelHelpers["extends"]({},a,{volume:d.payload.volume});case"controller_scrub_begin_requested":return a.scrubbing?a:babelHelpers["extends"]({},a,{scrubbing:!0,seekTargetPosition:null});case"controller_scrub_end_requested":return!a.scrubbing?a:babelHelpers["extends"]({},a,{implementationSeekSourcePosition:(i=c.videoElementPlayheadPosition)!=null?i:a.implementationSeekSourcePosition,scrubbing:!1,seekTargetPosition:d.payload.seekTargetPosition,seeking:d.payload.seekTargetPosition!=null});case"buffering_begin_requested":g=a.playbackState;e=g;switch(g){case"paused":case"ended":break;case"playing":case"stalling":e="stalling";break;default:g;b("recoverableViolation")("unexpected playbackState: "+g,"comet_video_player");break}return babelHelpers["extends"]({},a,{bufferingDetected:!0,playbackState:e});case"buffering_end_requested":f=a.seeking;c=a.waitingForDomPlaying;i=!1;g=a.playbackState;return babelHelpers["extends"]({},a,{bufferingDetected:i,playbackState:h({bufferingDetected:i,prevPlaybackState:g,seeking:f,waitingForDomPlaying:c})});case"controller_set_captions_visible_requested":e=d.payload.captionsVisible;return a.captionsVisible===e?a:babelHelpers["extends"]({},a,{activeCaptions:e?a.activeCaptions:null,captionsVisible:e});case"controller_set_active_captions_requested":i=d.payload.activeCaptions;f=(g=i==null?void 0:i.rows)!=null?g:[];c=a.activeCaptions;var j=(e=c==null?void 0:c.rows)!=null?e:[];return j.length===f.length&&f.every(function(a,b){return j[b]===a})?a:babelHelpers["extends"]({},a,{activeCaptions:i});case"captions_loaded":return babelHelpers["extends"]({},a,{activeCaptions:a.activeCaptions,captionsLoaded:!0});case"captions_unloaded":return babelHelpers["extends"]({},a,{activeCaptions:null,captionsLoaded:!1});case"inband_captions_autogenerated_changed":g=d.payload.inbandCaptionsAutogenerated;return a.inbandCaptionsAutogenerated===g?a:babelHelpers["extends"]({},a,{inbandCaptionsAutogenerated:g});case"stream_ended":return babelHelpers["extends"]({},a,{streamEnded:!0});case"stream_interrupted":return babelHelpers["extends"]({},a,{streamInterrupted:!0});case"stream_resumed":return babelHelpers["extends"]({},a,{streamInterrupted:!1});case"seekable_ranges_changed":c=d.payload.seekableRanges;return babelHelpers["extends"]({},a,{seekableRanges:c});case"controller_set_is_live_rewind_active_requested":e=d.payload.isLiveRewindActive;return babelHelpers["extends"]({},a,{isLiveRewindActive:e});case"loop_count_change_requested":f=d.payload.loopCount;return f===a.loopCount?a:babelHelpers["extends"]({},a,{loopCount:f,loopCurrent:0});case"player_dimensions_changed":i=d.payload.dimensions;g=i.height;c=i.width;return c===a.dimensions.width&&g===a.dimensions.height?a:babelHelpers["extends"]({},a,{dimensions:{height:g,width:c}});default:return a}}function j(a,c,d){var e=c.type!=="dom_seeking";e=e?d:a.uncontrolledState;d=!b("shallowEqual")(e,a.uncontrolledState);c=i(a.controlledState,e,c);var f=!b("shallowEqual")(c,a.controlledState);return d||f?babelHelpers["extends"]({},a,{controlledState:f?c:a.controlledState,uncontrolledState:d?e:a.uncontrolledState}):a}var k,l;function m(a){var c=a.collectUncontrolledState,d=a.debugLogId;d=a.initialState;var e=a.onDispatched,f=a.onFatalError,g=d,h=g,i=0,k=!1,l=!1,m=!0,n=!0;return{dispatch:function(a){if(!n)return;var d=null,g=null;try{++i;if(i>=10)if(!k){k=!0;throw b("unrecoverableViolation")("Video player state machine loop detected","comet_video_player")}else return;var o=h.uncontrolledState;if(m)try{o=c()}catch(a){m=!1,g=a}var p=h;o=j(p,a,o);h=o;e(p,o,a)}catch(a){n=!1,d=a}finally{if(!l&&(d!=null||g!=null)){l=!0;try{f((p=d)!=null?p:g)}catch(a){}}--i}},getCurrentState:function(){return h},getInitialState:function(){return g}}}var n,o;function a(a){var b=a.collectUncontrolledState,c=a.debugLogId,d=a.initialState,e=a.onFatalError,f=a.stateTransitionHandlers;function g(a,b,c){try{var d=!0,e=0;while(d&&e<f.length){var g=f[e];d=g(a,b,c);++e}}finally{}}return m({collectUncontrolledState:b,debugLogId:c,initialState:d,onDispatched:g,onFatalError:e})}function c(a,b){function c(){}function d(a){return a}function e(c){return function(e){var f=d(e.currentTarget);b(f,["reactEvent("+e.type+")"]);a.dispatch(c)}}return{onAbort:c,onCanPlay:c,onCanPlayThrough:c,onDurationChange:e({type:"dom_event_durationchange"}),onEmptied:c,onEncrypted:c,onEnded:e({type:"dom_event_ended"}),onError:function(c){var e=d(c.currentTarget);b(e,["reactEvent("+c.type+")"]);a.dispatch({payload:{videoElementError:e.error,videoElementNetworkState:e.networkState,videoElementReadyState:e.readyState},type:"dom_event_error"})},onLoadStart:c,onLoadedData:c,onLoadedMetadata:c,onPause:e({type:"dom_event_pause"}),onPlay:e({type:"dom_event_play"}),onPlaying:e({type:"dom_event_playing"}),onProgress:e({type:"dom_event_progress"}),onRateChange:e({type:"dom_event_ratechange"}),onSeeked:e({type:"dom_event_seeked"}),onSeeking:e({type:"dom_event_seeking"}),onStalled:c,onSuspend:c,onTimeUpdate:e({type:"dom_event_timeupdate"}),onVolumeChange:e({type:"dom_event_volumechange"}),onWaiting:e({type:"dom_event_waiting"})}}}),null);
__d("VideoPlayerImplementationStateMachineHostCallQueue",["cometUniqueID","emptyFunction","gkx","promiseDone"],(function(a,b,c,d,e,f){"use strict";f.makeHostCallID=g;f.applyOrQueueHostCall=i;f.flushHostCallQueue=a;c=b("emptyFunction");function g(){return"id-vpdom-"+b("cometUniqueID")()}function h(a){var c=a.engineExtrasAPI,d=a.hostCall,e=a.machine;a=a.videoElementAPI;switch(d.type){case"host_call_play":var f=a.play();f&&(e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_created"}),b("promiseDone")(f.then(function(){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_resolved"})},function(a){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID,playPromiseRejectionReason:a},type:"dom_event_play_promise_rejected"})})));break;case"host_call_pause":a.pause();break;case"host_call_set_playback_rate":a.setPlaybackRate(d.payload.playbackRate);break;case"host_call_set_muted":a.setMuted(d.payload.muted);break;case"host_call_set_volume":a.setVolume(d.payload.volume);break;case"host_call_set_current_time":a.setPlayheadPosition(d.payload.currentTime);break;case"host_call_set_video_quality":c.setUserSelectedVideoQuality(d.payload.selectedVideoQuality);break;case"host_call_set_latency_level":c.setLatencyLevel(d.payload.latencyLevel);break;default:d.type;return!1}return!0}function i(a){var b=a.engineExtrasAPI,c=a.hostCall,d=a.machine;a=a.videoElementAPI;if(!a||!b)d.dispatch(c);else{var e=!1;try{e=h({engineExtrasAPI:b,hostCall:c,machine:d,videoElementAPI:a})}catch(b){d.dispatch({payload:{errorLocation:"apply_host_call_catch",hostCall:c,hostCallError:b,videoElementError:a.getError(),videoElementNetworkState:a.getNetworkState(),videoElementReadyState:a.getReadyState()},type:"implementation_host_call_failed"})}e&&d.dispatch({payload:{hostCall:c},type:"implementation_host_call_applied"})}}function j(a){var b=[];function c(){b=b.filter(function(a){return a.type!=="host_call_play"&&a.type!=="host_call_pause"})}function d(a){b=b.filter(function(b){return b.type!==a})}a.forEach(function(a){switch(a.type){case"host_call_play":c();break;case"host_call_pause":c();break;case"host_call_set_playback_rate":d(a.type);break;case"host_call_set_muted":d(a.type);break;case"host_call_set_volume":d(a.type);break;case"host_call_set_current_time":d(a.type);break;case"host_call_set_video_quality":d(a.type);break;case"host_call_set_latency_level":d(a.type);break;default:a.type}b=b.concat([a])});return b}function a(a){var b=a.engineExtrasAPI,c=a.machine,d=a.reason,e=a.state,f=a.videoElementAPI;a=[{payload:{hostCallID:g(),reason:d,volume:e.controlledState.volume},type:"host_call_set_volume"},{payload:{hostCallID:g(),muted:e.controlledState.muted,reason:d},type:"host_call_set_muted"},{payload:{hostCallID:g(),reason:d,selectedVideoQuality:e.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"}];d=j(e.controlledState.hostCallQueue.concat(a));d.forEach(function(a){i({engineExtrasAPI:b,hostCall:a,machine:c,videoElementAPI:f})});c.dispatch({payload:{hostCallsFlushed:d},type:"implementation_host_call_queue_flushed"})}}),null);
__d("VideoMimeTypes",[],(function(a,b,c,d,e,f){function a(a,b,c){return a+'; codecs="'+b+", "+c+'"'}f="mp4a.40.2";function b(a){return"avc1.42E0"+a.toString(16).toUpperCase()}function c(a){return"avc1.4D40"+a.toString(16).toUpperCase()}function d(a){return"avc1.6400"+a.toString(16).toUpperCase()}var g="video/mp4";b=a(g,b(30),f);var h=a(g,c(30),f);c=a(g,c(31),f);var i=a(g,d(50),f);a=a(g,d(51),f);g={h264baseline:b,h264main30avc:h,h264main31avc:c,h264high50avc:i,h264high51avc:a};e.exports=g}),null);
__d("VideoPlayerConnectionQuality",[],(function(a,b,c,d,e,f){"use strict";var g={POOR:"POOR",MODERATE:"MODERATE",GOOD:"GOOD",EXCELLENT:"EXCELLENT"},h=[{bandwidth:5e5,connectionQuality:g.POOR},{bandwidth:2e6,connectionQuality:g.MODERATE},{bandwidth:1e7,connectionQuality:g.GOOD}],i=100,j=null,k=null;a=function(a){if(j!==null&&k!==null&&j>=Date.now()-i)return k;a=a();var b=null;if(a!=null)for(var c=0;c<h.length;c++)if(a<h[c].bandwidth){b=h[c].connectionQuality;break}b===null&&(b=g.EXCELLENT);j=Date.now();k=b;return b};f.evaluate=a}),null);
__d("VideoPlayerLoggerPlayerStates",[],(function(a,b,c,d,e,f){a="started";b="unpaused";c={STARTED:a,UNPAUSED:b};e.exports=c}),null);
__d("VideoPlayerMutedStateChange",[],(function(a,b,c,d,e,f){"use strict";f.getVideoPlayerMutedStateChange=a;function a(a){var b=a.currMuted,c=a.currVolume,d=a.prevMuted;a=a.prevVolume;b=b||c===0;c=d||a===0;if(c===b)return null;return b?"muted":"unmuted"}}),null);
__d("getVideoBrowserTabId",["guid"],(function(a,b,c,d,e,f){e.exports=a;var g=b("guid")().slice(-8);function a(){return g}}),null);
__d("VideoPlayerImplementationStateMachineLogger",["PlaybackSpeedExperiments","SiteData","VideoMimeTypes","VideoPlayerConnectionQuality","VideoPlayerLoggerPlayerStates","VideoPlayerMutedStateChange","VideoPlayerStateBasedLoggingEvents","emptyFunction","getPlayerFormatForLogData","getVideoBrowserTabId","gkx","mapObject","recoverableViolation","removeFromArray"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerImplementationStateMachineLogger=a;var g,h=6e4;f.HEARTBEAT_INTERVAL=h;var i=.5,j=null,k=function(a){var b;j=(b=j)!=null?b:document.createElement("video");return!("canPlayType"in j)?"":j.canPlayType(a)};d=c=b("emptyFunction");e=c;a=c;f=c;var l=(d=b("PlaybackSpeedExperiments").enablePlaybackSpeedLogging())!=null?d:!1;function m(){return{canLogPausedOrFinishedPlaying:!1,canLogPlayingEvent:!0,debugSubscribers:[],dontLogPauseOnUnpausedSeeking:!1,hasLoggedStallData:!1,hasLoggedStartedPlaying:!1,hasPausedOnce:!1,hasPendingRequestedPlaying:!1,initialSuborigin:void 0,interruptCount:0,interruptDuration:0,interruptEndTimestamp:0,interruptStartTimestamp:0,isLoggingScrubbingSequence:!1,lastLoggedError:null,lastLoggedFullscreenState:!1,lastLoggedPlaybackSpeed:null,lastLoggedViewabilityPercentage:void 0,lastStartTimePosition:null,lastTrackedRepresentation:null,nextHeartbeatTime:null,nextPlayedThreeSecondsPlayheadPosition:null,sequenceNumber:0,shouldIgnoreDomPause:!1,shouldIgnoreDomPlay:!1,shouldLogRequestedPlayingForScrub:!1,stallCount:0,stallCount200ms:0,stallDuration:0,stallStartTimestamp:0,stallCountTotal:0,stallDurationTotal:0,startStallCountTotal:0,startStallDurationTotal:0,vplEventSequenceNumber:0}}function n(a,b){return b==="muted"||b==="unmuted"||b==="started_playing"||b==="caption_change"||b==="unpaused"?a.controlledState.captionsVisible?"on":"off":void 0}function a(a){var c=new Map(),d=a.initialLoggingMetaData,e=d,f=[],j=m(),o=new Set(b("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);function p(a){j.debugSubscribers.push(a);return function(){b("removeFromArray")(j.debugSubscribers,a)}}function q(a){j.debugSubscribers.forEach(function(b){return b(a)})}function r(a){var b=j.stallStartTimestamp;if(b>0){j.stallCount+=1;j.stallCountTotal+=1;j.hasPendingRequestedPlaying&&(j.startStallCountTotal+=1);a=a-b;j.stallDurationTotal+=a;j.stallDuration+=a;j.stallCount200ms+=a>200?1:0;j.hasPendingRequestedPlaying&&(j.startStallDurationTotal+=a)}}function s(a,b){a=a.uncontrolledState.videoElementPlayheadPosition==null?null:a.uncontrolledState.videoElementPlayheadPosition;var c=null;switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"heart_beat":case"playback_speed_changed":case"representation_ended":c=j.lastStartTimePosition;break;case"scrubbed":c=a;break;default:break}switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"scrubbed":j.lastStartTimePosition=null;break;case"started_playing":case"unpaused":case"heart_beat":case"playback_speed_changed":case"representation_ended":j.lastStartTimePosition=a;break;default:break}return{video_last_start_time_position:c}}function t(a,b){var c=b.uncontrolledState.clockTimestamp;a=a.controlledState.streamInterrupted;b=b.controlledState.streamInterrupted;!a&&b?j.interruptStartTimestamp=c:a&&!b&&j.interruptStartTimestamp>0&&(j.interruptEndTimestamp=c,j.interruptCount+=1,j.interruptDuration+=j.interruptEndTimestamp-j.interruptStartTimestamp)}function u(a,b){var c=b.uncontrolledState.clockTimestamp;a=a.controlledState.playbackState;var d=b.controlledState.playbackState;a!=="stalling"&&d==="stalling"&&(q("stall_start"),j.stallStartTimestamp=c);a==="stalling"&&d!=="stalling"&&(r(b.uncontrolledState.clockTimestamp),j.stallStartTimestamp=0,q("stall_end"))}function v(a,b,c){a=b.uncontrolledState;b=a.videoElementPlayheadPosition;switch(c){case"unpaused":case"started_playing":j.nextPlayedThreeSecondsPlayheadPosition=((a=b)!=null?a:0)+3;break;case"paused":case"finished_playing":j.nextPlayedThreeSecondsPlayheadPosition=null;break;default:break}}function w(a,b,c){if(j.interruptCount>0&&j.interruptDuration>0){a={interrupt_count:j.interruptCount,interrupt_time:j.interruptDuration};j.interruptCount=0;j.interruptDuration=0;j.interruptStartTimestamp=0;j.interruptEndTimestamp=0;return a}return{interrupt_count:null,interrupt_time:null}}function x(a,b,c){var d={stall_count:null,stall_count_200_ms:null,stall_time:null},e=b.uncontrolledState.clockTimestamp,f=function(){var a={stall_count:j.stallCount,stall_count_200_ms:j.stallCount200ms,stall_time:j.stallDuration};j.stallCount=0;j.stallCount200ms=0;j.stallDuration=0;j.stallStartTimestamp=0;return a};a=a.controlledState.playbackState;var g=b.controlledState.playbackState;a!=="stalling"&&g==="stalling"&&(j.stallStartTimestamp=e);switch(c){case"started_playing":case"unpaused":case"finished_playing":case"paused":case"cancelled_requested_playing":case"playback_speed_changed":case"representation_ended":r(b.uncontrolledState.clockTimestamp);d=f();break;case"heart_beat":b.controlledState.playbackState!=="stalling"&&(r(b.uncontrolledState.clockTimestamp),d=f());break;default:break}return d}function y(a,b){a=a?a.getAndFlushTracedFrames():null;switch(b){case"finished_playing":case"paused":case"heart_beat":return a!=null?JSON.stringify(a):null;default:return null}}function z(a){a=a.controlledState.playbackState;switch(a){case"playing":case"stalling":return"playing";case"paused":return"paused";case"ended":return"finished";default:a;return"unknown"}}function A(){return{state:j.hasLoggedStartedPlaying?b("VideoPlayerLoggerPlayerStates").UNPAUSED:b("VideoPlayerLoggerPlayerStates").STARTED}}function B(e){var g=e.eventType,h=e.logDataOverrides,i=e.prevState,k=e.state;e=s(k,g);e=e.video_last_start_time_position;var m=x(i,k,g),p=m.stall_count,q=m.stall_count_200_ms;m=m.stall_time;var r=w(i,k,g),t=r.interrupt_count;r=r.interrupt_time;var u=y(a.initialLoggingMetaData.videoLiveTrace,g),A=[],B=a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplayGatingResult;B&&A.push(B);B=g==="entered_fs"?!0:g==="exited_fs"?!1:j.lastLoggedFullscreenState;var C=b("getPlayerFormatForLogData")(B,d.coreVideoPlayerMetaData.playerFormat),D=k.uncontrolledState.viewabilityPercentage,E=Boolean(k.uncontrolledState.isFBIsLiveTemplated),F=Boolean(k.uncontrolledState.isFBWasLive),G=k.uncontrolledState.videoElementPlaybackRate;G=G==null||G===0?j.lastLoggedPlaybackSpeed:G;var H=a.initialLoggingMetaData.productAttribution;u={access_token:a.initialLoggingMetaData.accessToken,ad_client_token:d.coreVideoPlayerMetaData.adClientToken,attribution_id:H!=null?JSON.stringify(H):null,autoplay_eligible:a.initialLoggingMetaData.coreVideoPlayerMetaData.canAutoplay==="allow",autoplay_failure_reasons:JSON.stringify(A),autoplay_setting:a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplaySetting,broadcaster_origin:a.initialLoggingMetaData.coreVideoPlayerMetaData.broadcasterOrigin,browser_tab_id:b("getVideoBrowserTabId")(),caption_state:n(k,g),current_playback_speed:l?G:null,current_viewability_percentage:D,data_connection_quality:b("VideoPlayerConnectionQuality").evaluate(function(){return k.uncontrolledState.estimatedBandwidth}),dropped_frame_count:k.uncontrolledState.videoElementDroppedFrameCount,external_log_id:d.coreVideoPlayerMetaData.externalLogID,external_log_type:d.coreVideoPlayerMetaData.externalLogType,frame_events:u,interrupt_count:t,interrupt_time:r,is_abr_enabled:k.isAbrEnabled,is_fbms:k.uncontrolledState.isFBMS,is_predictive_playback:k.uncontrolledState.isPredictiveDash,is_sound_on:!k.controlledState.muted,is_live_video_rewound:k.controlledState.isLiveRewindActive,is_templated_manifest:E||F,last_viewability_percentage:j.lastLoggedViewabilityPercentage,living_room_session_id:a.initialLoggingMetaData.coreVideoPlayerMetaData.livingRoomID,playback_is_drm:Boolean(a.initialLoggingMetaData.coreVideoPlayerMetaData.graphQLVideoDRMInfo),playback_duration:k.uncontrolledState.videoElementDuration,playback_is_broadcast:a.initialLoggingMetaData.coreVideoPlayerMetaData.isVideoBroadcast,playback_is_live_streaming:a.initialLoggingMetaData.coreVideoPlayerMetaData.isLiveStreaming,player_format:C,player_instance_key:d.instanceKey,player_origin:d.coreVideoPlayerMetaData.playerOriginOverride,player_state:z(k),player_suborigin:d.coreVideoPlayerMetaData.subOrigin,player_version:k.playerVersion,representation_id:k.uncontrolledState.videoRepresentationID,source_VPL_LOGGING_HACK:d.coreVideoPlayerMetaData.source_VPL_LOGGING_HACK,stall_count:p,stall_count_200_ms:q,stall_time:m,streaming_format:k.streamingFormat,total_frame_count:k.uncontrolledState.videoElementTotalFrameCount,tracking_data_encrypted:a.initialLoggingMetaData.trackingDataEncrypted,tracking_nodes:a.initialLoggingMetaData.trackingNodes,v2_heart_beat:b("gkx")("1434599")&&g==="heart_beat"?!0:null,video_bandwidth:k.uncontrolledState.estimatedBandwidth,video_id:d.coreVideoPlayerMetaData.videoFBID,video_last_start_time_position:e,video_play_reason:k.controlledState.lastPlayReason,video_player_height:(H=d.dimensions)==null?void 0:H.height,video_player_width:(A=d.dimensions)==null?void 0:A.width,video_time_position:k.uncontrolledState.videoElementPlayheadPosition,web_client_revision:b("SiteData").client_revision};t={event_seq_num:++j.vplEventSequenceNumber,seq_num:o.has(g)?++j.sequenceNumber:null,time_ms:Date.now()};var I={};c.forEach(function(a,b){I[b]=a});r=babelHelpers["extends"]({},I,u,h,t);F=(E=j.initialSuborigin)!=null?E:d.coreVideoPlayerMetaData.subOrigin;p=(C=r.source_VPL_LOGGING_HACK)!=null?C:F;m=(q=d.coreVideoPlayerMetaData.initialTracePolicy)!=null?q:d.coreVideoPlayerMetaData.routeTracePolicy;e={eventType:g,logData:r,routeTracePolicy:m,source_VPL_LOGGING_HACK:p};f.push(e);v(i,k,g);j.initialSuborigin==null&&F!=null&&(j.initialSuborigin=F);j.lastLoggedFullscreenState=B;j.lastLoggedPlaybackSpeed=G;g==="viewability_changed"&&(j.lastLoggedViewabilityPercentage=D)}var C={};function D(a,b,c){B({eventType:"requested_playing",logDataOverrides:babelHelpers["extends"]({},c,A()),prevState:a,state:b});j.hasPendingRequestedPlaying=!0;j.canLogPausedOrFinishedPlaying=!0;return C}function E(a,b,c){if(!j.canLogPausedOrFinishedPlaying)return C;else if(j.hasPendingRequestedPlaying){F(a,b,c);j.canLogPausedOrFinishedPlaying=!1;j.hasPendingRequestedPlaying=!1;return C}else{B({eventType:"paused",logDataOverrides:c,prevState:a,state:b});j.canLogPausedOrFinishedPlaying=!1;j.hasPendingRequestedPlaying=!1;return C}}function F(a,b,c){B({eventType:"cancelled_requested_playing",logDataOverrides:babelHelpers["extends"]({},c,A()),prevState:a,state:b});return C}function G(a,b,c){if(c.type==="dom_event_play_promise_rejected"&&j.hasPendingRequestedPlaying){c=c.payload.playPromiseRejectionReason;if(c!=null&&c.name==="NotAllowedError"){F(a,b,{debug_reason:"not_allowed"});return C}else return C}else return C}function H(a,b,c){if((c.type==="controller_play_requested"||c.type==="dom_event_play"&&!j.shouldIgnoreDomPlay)&&a.controlledState.playbackState!==b.controlledState.playbackState){c=b.uncontrolledState.liveTraceContext;c=c?{live_trace_source_id:c.sourceId,live_trace_stream_id:c.streamId,live_trace_stream_type:c.streamType}:null;D(a,b,c);return C}else return C}function I(a,b,c){if(a.controlledState.playbackState==="stalling"&&b.controlledState.playbackState==="playing"&&j.canLogPlayingEvent){B({eventType:j.hasLoggedStartedPlaying?"unpaused":"started_playing",prevState:a,state:b});j.hasLoggedStartedPlaying=!0;j.canLogPlayingEvent=!1;j.hasPendingRequestedPlaying=!1;return C}else return C}function J(a,c,d){var e=c.controlledState.playbackState,f=a.controlledState.playbackState;if(d.type==="controller_scrub_begin_requested"&&!a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){E(a,c);j.isLoggingScrubbingSequence=!0;return C}else if(!a.controlledState.seeking&&c.controlledState.seeking&&!j.isLoggingScrubbingSequence&&e!=="paused"&&e!=="ended"&&!j.hasPendingRequestedPlaying){E(a,c);j.shouldLogRequestedPlayingForScrub=!0;return C}else if(d.type==="controller_scrub_end_requested"&&a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){D(a,c,{video_time_position:d.payload.seekTargetPosition});return C}else if(a.controlledState.seeking&&!c.controlledState.seeking){d=c.uncontrolledState.videoElementPlayheadPosition;var g=a.controlledState.implementationSeekSourcePosition;(!b("gkx")("1482680")||g!=null&&d!=null&&Math.abs(g-d)>i)&&(j.shouldLogRequestedPlayingForScrub&&e!=="paused"&&e!=="ended"&&D(a,c),B({eventType:"scrubbed",prevState:a,state:c}),j.isLoggingScrubbingSequence=!1,j.shouldLogRequestedPlayingForScrub=!1,f!=="paused"&&f!=="ended"&&(j.canLogPlayingEvent=!0));return C}else return C}function K(a,b,c){if(a.controlledState.playbackState!==b.controlledState.playbackState&&b.controlledState.playbackState==="ended"&&j.canLogPausedOrFinishedPlaying){B({eventType:"finished_playing",prevState:a,state:b});j.canLogPausedOrFinishedPlaying=!1;return C}else return C}function L(a,b,c){if((c.type==="controller_pause_requested"||c.type==="dom_event_pause"&&!j.shouldIgnoreDomPause)&&a.controlledState.playbackState!==b.controlledState.playbackState){E(a,b);return C}else return C}function M(a,c,d){var e=c.controlledState.playbackState;if(e!=="paused"&&e!=="ended"){b("gkx")("1469813")&&d.type==="implementation_video_node_unmounted"?E(a,a,{debug_reason:"unloaded"}):(d.type==="implementation_unmounted"||d.type==="implementation_engine_destroy_requested")&&E(a,c,{debug_reason:"unloaded"});return C}else return C}function N(a,c,d){d=c.controlledState.muted;var e=c.controlledState.volume,f=a.controlledState.muted,g=a.controlledState.volume;d=b("VideoPlayerMutedStateChange").getVideoPlayerMutedStateChange({currMuted:d,currVolume:e,prevMuted:f,prevVolume:g});f={current_volume:Math.round(e*100)};switch(d){case"muted":B({eventType:"muted",logDataOverrides:f,prevState:a,state:c});return C;case"unmuted":B({eventType:"unmuted",logDataOverrides:f,prevState:a,state:c});return C;case null:if(g<e){B({eventType:"volume_increase",logDataOverrides:f,prevState:a,state:c});return C}else if(g>e){B({eventType:"volume_decrease",logDataOverrides:f,prevState:a,state:c});return C}else return C;default:d;b("recoverableViolation")('Unexpected mutedStateChange "'+d+'"',"comet_video_player");return C}}function O(a,b,c){c=b.uncontrolledState.videoRepresentationID;var d=j.lastTrackedRepresentation,e=b.controlledState.playbackState,f=b.controlledState.seeking;if(!f&&e!=="paused"&&e!=="ended"&&d!=null&&d!==c){B({eventType:"representation_ended",logDataOverrides:{next_representation_id:c,representation_id:d},prevState:a,state:b});j.lastTrackedRepresentation=c;q("quality_change");return C}else if(d==null&&d!==c){j.lastTrackedRepresentation=c;return C}else return C}function P(a,c){var e=a.controlledState.error;return{currentVideo:{audioStreamId:a.uncontrolledState.audioRepresentationID,dashAudioFormat:void 0,hasHD:void 0,hasRateLimit:void 0,hasSubtitles:a.controlledState.captionsLoaded,isDrm:Boolean(d.coreVideoPlayerMetaData.graphQLVideoDRMInfo),isHD:void 0,isLiveStream:d.coreVideoPlayerMetaData.isLiveStreaming,isRateLimited:void 0,liveManifestUrl:void 0,projection:void 0,resourceUrl:void 0,streamId:a.uncontrolledState.videoRepresentationID,streamType:a.streamingFormat,tagHD:void 0,tagSD:void 0,videoID:d.coreVideoPlayerMetaData.videoFBID},player:{canPlayType:(g||(g=b("mapObject")))(b("VideoMimeTypes"),k),dimensions:d.dimensions?{height:d.dimensions.height,width:d.dimensions.width}:null,droppedFrames:a.uncontrolledState.videoElementDroppedFrameCount,inPlayStallCount:void 0,inPlayStallTime:void 0,initializationTime:void 0,initializationTimestamp:void 0,interruptCount:void 0,interruptTime:void 0,lastError:e,loggedError:j.lastLoggedError,stack:e==null?void 0:e.stack,stallCount:j.stallCount,stallTime:j.stallDuration,state:z(a),totalFrames:a.uncontrolledState.videoElementTotalFrameCount,version:a.playerVersion,videoSource:void 0,viewabilityPercentage:a.uncontrolledState.viewabilityPercentage},playerStateMachine:{action:c,state:a}}}function Q(a,c,d){var e=c.controlledState.error;if(e!=null&&e!==j.lastLoggedError&&e.errorCode!=="410"){var f=e.errorDescription,g=e.errorName,h=e.url,i=e.errorCode==null||e.errorCode===""?g:e.errorCode;d=P(c,d);B({eventType:"error",logDataOverrides:babelHelpers["extends"]({},b("gkx")("1565232")?A():null,{error:g,error_code:i,error_description:f,error_domain:g,error_user_info:JSON.stringify(d),resource_url:h}),prevState:a,state:c});j.lastLoggedError=e}return C}function R(a,b,c){if(!l)return C;var d=b.uncontrolledState.videoElementPlaybackRate;c.type==="dom_event_ratechange"&&j.lastLoggedPlaybackSpeed!=null&&d!==0&&d!==j.lastLoggedPlaybackSpeed&&B({eventType:"playback_speed_changed",prevState:a,state:b});return C}function S(a,b,c){c=b.controlledState.playbackState;c==="paused"||c==="ended"?j.nextHeartbeatTime=null:c!=="stalling"&&j.nextHeartbeatTime==null&&(j.nextHeartbeatTime=Date.now()+h);var d=j.nextHeartbeatTime;if(d!=null){var e=Date.now();e>=d&&(c!=="stalling"&&B({eventType:"heart_beat",prevState:a,state:b}),j.nextHeartbeatTime=e+h)}return C}function T(a,b,c){if(c.type==="implementation_mounted"){B({eventType:"player_loaded",prevState:a,state:b});return C}else return C}function U(a,b,c){B({eventType:c?"entered_fs":"exited_fs",prevState:a,state:b})}function V(a,b,c){c=d.coreVideoPlayerMetaData.playerFormat;e.coreVideoPlayerMetaData.playerFormat!==c&&B({eventType:"player_format_changed",prevState:a,state:b});return C}function W(a,b,c){if(c.type==="dom_event_timeupdate"){c=j.nextPlayedThreeSecondsPlayheadPosition;if(c!=null){var d=b.uncontrolledState;d=d.videoElementPlayheadPosition;d!=null&&c<=d&&(B({eventType:"played_for_three_seconds",prevState:a,state:b}),j.nextPlayedThreeSecondsPlayheadPosition=null)}}return C}function X(a,b,c){if(c.type!=="notify_fullscreen_changed")return C;c=j.lastLoggedFullscreenState;var d=b.uncontrolledState.isFullscreen;if(c!==!0&&d===!0){U(a,b,d);return C}else if(c===!0&&d===!1){U(a,b,d);return C}else return C}function Y(a,c,e){e=d.coreVideoPlayerMetaData.adClientToken;if((e==null||e==="")&&b("gkx")("1401747"))return C;e=c.controlledState.playbackState;var f=j.lastLoggedViewabilityPercentage,g=c.uncontrolledState.viewabilityPercentage;if(e!=="paused"&&e!=="ended"&&f!=null&&f!==g){B({eventType:"viewability_changed",prevState:a,state:c});return C}else return C}function Z(a,b,c){if(c.type==="controller_set_captions_visible_requested"){B({eventType:"caption_change",prevState:a,state:b});return C}else return C}function $(a){e=d;if(a.type==="notify_logging_metadata_change"){a=a.payload.loggingMetaData;d=a}}return{addDebugSubscriber:function(a){return p(a)},consumeLoggerEvents:function(){var a=f.splice(0);return a},getLoggerState:function(){return j},handleStateMachine:function(a,b,c){$(c);var d=b.controlledState.playbackState;u(a,b);t(a,b);var e=[V,X,Y,G,H,J,I,K,L,N,M,T,Z,O,Q,S,R,W];e.forEach(function(d){d(a,b,c)});(d==="paused"||d==="ended")&&(j.canLogPlayingEvent=!0);c.type==="controller_pause_requested"&&(j.hasPausedOnce=!0,j.shouldIgnoreDomPause=!0);c.type==="controller_play_requested"&&(j.hasPausedOnce=!0,j.shouldIgnoreDomPlay=!0);c.type==="dom_event_pause"&&(j.shouldIgnoreDomPause=!1);c.type==="dom_event_play"&&(j.shouldIgnoreDomPlay=!1,j.lastLoggedViewabilityPercentage=b.uncontrolledState.viewabilityPercentage)},logVPLEvent:function(a){var b=a.eventType,c=a.logDataOverrides;a=a.state;B({eventType:b,logDataOverrides:c,prevState:a,state:a})},setAdditionalLogData:function(a,b){c.set(a,b)}}}}),null);
__d("convertToViewabilityPercentage",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){if(a>=.99)return 100;else if(a>=.75)return 75;else if(a>=.5)return 50;else if(a>=.25)return 25;else if(a>=0)return 0;else return-2}}),null);
__d("VideoPlayerImplementationStateMachineStateUncontrolledState",["convertToViewabilityPercentage","gkx"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerImplementationStateMachineStateUncontrolledState=a;function a(a){var c=a.engineExtrasAPI,d=a.fullscreenControllerRef,e=a.videoElementAPI,f=a.videoLiveTraceRef;a=a.videoPlayerPassiveViewabilityInfoRef;f=f.current;if(e==null){var g={audioRepresentationID:void 0,clockTimestamp:Date.now(),currentPlayingVideoQuality:void 0,estimatedBandwidth:void 0,isFBIsLiveTemplated:void 0,isFBMS:void 0,isFBWasLive:void 0,isFullscreen:d.current?d.current.getIsFullscreen():void 0,isPredictiveDash:void 0,liveTraceContext:f?f.getLiveTraceContext():void 0,videoElementDebugCurrentSrc:void 0,videoElementDebugSrc:void 0,videoElementDroppedFrameCount:void 0,videoElementDuration:void 0,videoElementEnded:void 0,videoElementError:void 0,videoElementLastBufferEndPosition:void 0,videoElementMuted:void 0,videoElementNetworkState:void 0,videoElementPaused:void 0,videoElementPlaybackRate:void 0,videoElementPlayheadPosition:void 0,videoElementReadyState:void 0,videoElementTotalFrameCount:void 0,videoElementVolume:void 0,videoRepresentationID:void 0,viewabilityPercentage:void 0};return g}g=e.getPlayheadPosition();a=a&&a.current;a=a&&a.getCurrent();d={audioRepresentationID:c?c.getAudioRepresentationIDAtTime(g):void 0,clockTimestamp:Date.now(),currentPlayingVideoQuality:c?c.getCurrentPlayingVideoQuality():void 0,estimatedBandwidth:c?c.getEstimatedBandwidth():void 0,isFBIsLiveTemplated:c?c.isFBIsLiveTemplated():void 0,isFBMS:c?c.isFBMS():void 0,isFBWasLive:c?c.isFBWasLive():void 0,isFullscreen:d.current?d.current.getIsFullscreen():void 0,isPredictiveDash:c?c.isPredictiveDash():void 0,liveTraceContext:f?f.getLiveTraceContext():void 0,videoElementDebugCurrentSrc:b("gkx")("1526990")?(d=e.getUnderlyingVideoElement())==null?void 0:d.currentSrc:void 0,videoElementDebugSrc:b("gkx")("1526990")?(f=e.getUnderlyingVideoElement())==null?void 0:f.src:void 0,videoElementDroppedFrameCount:e.getDroppedFrameCount(),videoElementDuration:e.getDuration(),videoElementEnded:e.getEnded(),videoElementError:e.getError(),videoElementLastBufferEndPosition:e.getLastBufferEndPosition(),videoElementMuted:e.getMuted(),videoElementNetworkState:e.getNetworkState(),videoElementPaused:e.getPaused(),videoElementPlaybackRate:e.getPlaybackRate(),videoElementPlayheadPosition:g,videoElementReadyState:e.getReadyState(),videoElementTotalFrameCount:e.getTotalFrameCount(),videoElementVolume:e.getVolume(),videoRepresentationID:c?c.getVideoRepresentationIDAtTime(g):void 0,viewabilityPercentage:a?b("convertToViewabilityPercentage")(a.visiblePercentage):void 0};return d}}),null);
__d("VideoPlayerImplementationStateMachineState",["VideoPlayerImplementationStateMachineStateUncontrolledState"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerImplementationStateMachineInitialState=a;function a(a){var c=a.alwaysShowCaptions,d=a.areCaptionsAutogenerated,e=a.dimensions,f=a.isAbrEnabled,g=a.playerImplementationName,h=a.playerVersion;a=a.streamingFormat;var i=!0,j=1,k=b("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState({engineExtrasAPI:null,fullscreenControllerRef:{current:null},videoElementAPI:null,videoLiveTraceRef:{current:null},videoPlayerPassiveViewabilityInfoRef:{current:null}});return{controlledState:{activeCaptions:null,availableQualities:[],bufferingDetected:!1,captionsLoaded:!1,captionsVisible:c,dimensions:e,error:null,hostCallPlayIDLast:null,hostCallQueue:[],implementationSeekSourcePosition:null,inbandCaptionsAutogenerated:d,isLiveRewindActive:!1,lastMuteReason:null,lastPauseReason:null,lastPausedTimeMs:0,lastPlayReason:null,lastPlayedTimeMs:0,latencyLevel:"normal",loopCount:0,loopCurrent:0,muted:i,playbackState:"paused",scrubbing:!1,seekTargetPosition:null,seekableRanges:null,seeking:!1,selectedVideoQuality:"notselected",streamEnded:!1,streamInterrupted:!1,targetAudioQuality:"",targetPlaybackRate:1,targetVideoQuality:"",videoProjection:null,volume:j,waitingForDomPlaying:!1,waitingForDomTimeUpdateAfterSeeked:!1,watchTimeMs:0},isAbrEnabled:f,playerImplementationName:g,playerVersion:h,streamingFormat:a,uncontrolledState:k}}}),null);
__d("VideoPlayerODS",["ODS","Random"],(function(a,b,c,d,e,f){"use strict";a=function(a,c,d){b("Random").coinflip(d)&&b("ODS").bumpEntityKey(2079,a,c,d)};f.bumpEntityKey=a}),null);
__d("VideoPlayerImplementationEngineAPI",["Banzai","ErrorMetadata","FBLogger","PlaybackSpeedExperiments","React","RunComet","SubscriptionsHandler","VideoPlayerBanzaiLogFlusher","VideoPlayerCaptionsController","VideoPlayerImplementationErrors","VideoPlayerImplementationStateMachine","VideoPlayerImplementationStateMachineHostCallQueue","VideoPlayerImplementationStateMachineLogger","VideoPlayerImplementationStateMachineState","VideoPlayerImplementationStateMachineStateUncontrolledState","VideoPlayerODS","clearTimeout","deepEquals","err","gkx","killswitch","recoverableViolation","removeFromArray","requireCond","setTimeout","unrecoverableViolation","useConcurrentAutoplayManagementAPI","useStable","cr:683059"],(function(a,b,c,d,e,f){"use strict";f.internal_createVideoPlayerImplementationControllerImpl=j;f.internal_createVideoPlayerImplementationEngineStateMachineWithEffects=m;f.internal_createVideoPlayerImplementationExposedStateFromStateMachineState=q;f.createVideoPlayerImplementationEngine=a;f.useVideoPlayerImplementationEngine=c;var g=b("React"),h=6e4,i=function(){function a(a){var b=a.pauseRequestCallbacks,c=a.playRequestCallbacks,d=a.scrubBeginRequestCallbacks;a=a.scrubEndRequestCallbacks;this.$1=c;this.$2=b;this.$3=d;this.$4=a}var c=a.prototype;c.playRequest=function(a){var c=this;this.$1.push(a);return function(){b("removeFromArray")(c.$1,a)}};c.pauseRequest=function(a){var c=this;this.$2.push(a);return function(){b("removeFromArray")(c.$2,a)}};c.scrubBeginRequest=function(a){var c=this;this.$3.push(a);return function(){b("removeFromArray")(c.$3,a)}};c.scrubEndRequest=function(a){var c=this;this.$4.push(a);return function(){b("removeFromArray")(c.$4,a)}};return a}();function j(a){var c=a.concurrentAutoplayManagementAPI,d=a.debugAPI,e=a.fullscreenControllerRef,f=a.getCurrentExposedState,g=a.getCurrentIsFullscreen,h=a.getCurrentLiveRewindPlayheadPosition,j=a.getCurrentPlayheadPosition,k=a.loggerAPI,l=a.pauseImpl,m=a.playImpl,n=a.scrubBeginImpl,o=a.scrubEndImpl,p=a.seekImpl,q=a.selectVideoQualityImpl,r=a.setCaptionsVisibleImpl,s=a.setIsLiveRewindActiveImpl,t=a.setLatencyLevelImpl,u=a.setMutedImpl,v=a.setPlaybackRateImpl,w=a.setVolumeImpl,x=a.subscribers,y=a.videoElementAPIRef,z=new Set(),A=!1,B=null,C=[],D=[],E=[],F=[],G=new i({pauseRequestCallbacks:D,playRequestCallbacks:C,scrubBeginRequestCallbacks:E,scrubEndRequestCallbacks:F}),H={freeze:function(){if(!f().paused)throw b("unrecoverableViolation")("Video player must be paused before the controller freeze","comet_video_player");var a={};try{var c=!1;z.size===0&&(c=!0,B={exposedState:f(),isFullscreen:g(),liveRewindPlayheadPosition:h(),playheadPosition:j()});z.add(a);c&&(A=!0,x.forEach(function(a){a()}))}finally{A=!1}return a},isFrozen:function(){return B!=null},unfreeze:function(a){if(!z.has(a))throw b("unrecoverableViolation")("Video player controller unfreeze token not found","comet_video_player");z["delete"](a);z.size===0&&(B=null,x.forEach(function(a){a()}))}},I=babelHelpers["extends"]({},c,H,k,{debugAPI:d,getCurrentState:function(){return B!=null?B.exposedState:f()},getIsFullscreen:function(){return B!=null?B.isFullscreen:g()},getLiveRewindPlayheadPosition:function(){return B!=null?B.liveRewindPlayheadPosition:h()},getPlayheadPosition:function(){return B!=null?B.playheadPosition:j()},internal_getVideoElement:function(){var a=y.current;if(a!=null){a=a.getUnderlyingVideoElement();return a}return null},observeOn:function(){return G},pause:function(a){if(H.isFrozen())return;D.forEach(function(b){return b(a)});l(a)},play:function(a){if(H.isFrozen())return;C.forEach(function(b){return b(a)});m(a)},requestSetIsFullscreen:function(a){if(H.isFrozen())return;var b=e.current;b&&b.requestSetIsFullscreen(a)},scrollIntoView:function(a){var b=I.internal_getVideoElement();b&&b.scrollIntoView(a)},scrubBegin:function(){if(H.isFrozen())return;E.forEach(function(a){return a()});n()},scrubEnd:function(a){if(H.isFrozen())return;F.forEach(function(b){return b(a)});o(a)},seek:function(a){if(H.isFrozen())return;p(a)},selectVideoQuality:function(a){if(H.isFrozen())return;q(a)},setCaptionsVisible:function(a){if(H.isFrozen())return;r(a)},setIsLiveRewindActive:function(a){if(H.isFrozen())return;s(a)},setLatencyLevel:function(a){if(H.isFrozen())return;t(a)},setMuted:function(a,b){if(H.isFrozen())return;u(a,b)},setPlaybackRate:function(a){if(H.isFrozen())return;v(a)},setVolume:function(a){if(H.isFrozen())return;w(a)},subscribe:function(a){var c=function(){if(H.isFrozen()&&!A)return;a()},d=e.current,f=d?d.subscribe(c):null;x.push(c);return{remove:function(){f&&f.remove(),b("removeFromArray")(x,c)}}},videoElementAPIRef:y});return I}function k(a){var b=a.concurrentAutoplayManagementAPI,c=a.createExposedState,d=a.debugAPI,e=a.fullscreenControllerRef,f=a.logger,g=a.machine,h=a.subscribers;a=a.videoElementAPIRef;var i={setAdditionalLogData:function(a,b){f.setAdditionalLogData(a,b)}};return j({concurrentAutoplayManagementAPI:b,debugAPI:d,fullscreenControllerRef:e,getCurrentExposedState:function(){return c(g.getCurrentState())},getCurrentIsFullscreen:function(){var a=e.current;return a?a.getIsFullscreen():!1},getCurrentLiveRewindPlayheadPosition:function(){var a=g.getCurrentState();a=a.controlledState;var b=a.isLiveRewindActive,c=a.seekableRanges;a=a.seekTargetPosition;if(!b||a==null)return null;c=(b=c==null?void 0:c.end(0))!=null?b:0;return a-c},getCurrentPlayheadPosition:function(){var a,b=0;return(a=g.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?a:b},loggerAPI:i,pauseImpl:function(a){g.dispatch({payload:{reason:a},type:"controller_pause_requested"})},playImpl:function(a){g.dispatch({payload:{reason:a},type:"controller_play_requested"})},scrubBeginImpl:function(){g.dispatch({type:"controller_scrub_begin_requested"})},scrubEndImpl:function(a){g.dispatch({payload:{seekTargetPosition:a},type:"controller_scrub_end_requested"})},seekImpl:function(a){g.dispatch({payload:{seekTargetPosition:a},type:"controller_seek_requested"})},selectVideoQualityImpl:function(a){g.dispatch({payload:{selectedVideoQuality:a},type:"controller_quality_requested"})},setCaptionsVisibleImpl:function(a){g.dispatch({payload:{captionsVisible:a},type:"controller_set_captions_visible_requested"})},setIsLiveRewindActiveImpl:function(a){g.dispatch({payload:{isLiveRewindActive:a},type:"controller_set_is_live_rewind_active_requested"})},setLatencyLevelImpl:function(a){g.dispatch({payload:{latencyLevel:a},type:"controller_set_latency_level_requested"})},setMutedImpl:function(a,b){g.dispatch({payload:{muted:a,reason:b},type:"controller_muted_requested"})},setPlaybackRateImpl:function(a){g.dispatch({payload:{playbackRate:a},type:"controller_set_playback_rate"})},setVolumeImpl:function(a){g.dispatch({payload:{volume:a},type:"controller_volume_requested"})},subscribers:h,videoElementAPIRef:a})}function l(a){a=a.current;if(a==null)throw b("unrecoverableViolation")("Attempted to access VideoElementAPI while it is not available.","comet_video_player");return a}function m(a){var c=a.alwaysShowCaptions,d=a.areCaptionsAutogenerated,e=a.captionsControllerRef,f=a.debugLogId,g=a.dimensions,i=a.engineExtrasAPI,j=a.engineMetadata,k=a.fullscreenControllerRef,m=a.handleFatalError,o=a.handleStateMachine,p=a.videoElementAPIRef,q=a.videoLiveTraceRef,r=a.videoPlayerPassiveViewabilityInfoRef;function s(a){b("VideoPlayerImplementationStateMachineHostCallQueue").applyOrQueueHostCall({engineExtrasAPI:i,hostCall:a,machine:u,videoElementAPI:p.current})}var t=null;a=[function(a,c,d){b("cr:683059")&&d.type==="implementation_host_call_applied"&&d.payload.hostCall.type==="host_call_play"&&c.controlledState.lastPlayReason==="autoplay_initiated"?b("cr:683059").addFirstMarkerPoint("firstVideoAutoplayStalling"):b("cr:683059")&&c.controlledState.playbackState!==a.controlledState.playbackState&&c.controlledState.playbackState==="playing"&&c.controlledState.lastPlayReason==="autoplay_initiated"&&b("cr:683059").addFirstMarkerPoint("firstVideoAutoplayPlaying");return!0},function(a,b,c){o(a,b,c);return!0},function(a,c,d){if(b("gkx")("1633455")&&(a.controlledState.streamInterrupted===!1&&c.controlledState.streamInterrupted===!0||a.controlledState.streamInterrupted===!0&&c.controlledState.streamInterrupted===!1)){a=c.controlledState;c=a.bufferingDetected;var e=a.streamInterrupted;a=a.targetPlaybackRate;e?(c&&u.dispatch({type:"buffering_end_requested"}),s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:d.type},type:"host_call_set_playback_rate"})):(s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:d.type},type:"host_call_set_playback_rate"}),c&&u.dispatch({type:"buffering_begin_requested"}))}return!0},function(a,c,d){(a.controlledState.bufferingDetected===!1&&c.controlledState.bufferingDetected===!0||a.controlledState.bufferingDetected===!0&&c.controlledState.bufferingDetected===!1)&&(t!==null&&(b("clearTimeout")(t),t=null),c.controlledState.bufferingDetected&&(!b("gkx")("1633455")||!c.controlledState.streamInterrupted)&&(t=b("setTimeout")(function(){t=null;var a=b("VideoPlayerImplementationErrors").createVideoPlayerErrorFromGenericError("BUFFERING_TIMEOUT",b("err")("The video has been in a buffering state for over "+h+" ms."),"buffering_timeout");u.dispatch({payload:{fatalError:a},type:"implementation_fatal_error"})},h)));return!0},function(a,c,d){if(!(d.type==="implementation_engine_destroy_requested"))return!0;t!==null&&b("clearTimeout")(t);t=null;return!1},function(a,c,d){if(!(d.type==="implementation_engine_initialized"))return!0;a=l(p);d=d.type;b("VideoPlayerImplementationStateMachineHostCallQueue").flushHostCallQueue({engineExtrasAPI:i,machine:u,reason:d,state:c,videoElementAPI:a});return!1},function(a,b,c){if(!(c.type==="dom_event_ended"))return!0;a=b.controlledState;(a.loopCount>0&&a.loopCurrent<a.loopCount||a.loopCount===-1)&&u.dispatch({payload:{reason:"loop_initiated"},type:"controller_play_requested"});return!1},function(a,c,d){if(!(d.type==="controller_pause_requested"))return!0;a=c.controlledState.playbackState;if(!(a==="paused"))return!1;s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type},type:"host_call_pause"});return!1},function(a,c,d){if(!(d.type==="controller_play_requested"))return!0;a=c.controlledState.playbackState;if(!(a==="stalling"))return!1;s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type},type:"host_call_play"});return!1},function(a,c,d){if(!(d.type==="controller_seek_requested"))return!0;a=c.controlledState;c=a.seeking;a=a.seekTargetPosition;c&&a!=null&&s({payload:{currentTime:a,hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type},type:"host_call_set_current_time"});return!1},function(a,c,d){if(!(d.type==="controller_muted_requested"))return!0;a=c.controlledState.muted;if(!(a===d.payload.muted))return!1;s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),muted:a,reason:d.type},type:"host_call_set_muted"});return!1},function(a,c,d){if(!(d.type==="controller_scrub_begin_requested"))return!0;s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:d.type},type:"host_call_set_playback_rate"});return!1},function(a,c,d){if(!(d.type==="controller_scrub_end_requested"))return!0;a=c.controlledState;c=a.seeking;var e=a.seekTargetPosition;a=a.targetPlaybackRate;c&&e!=null?(s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:d.type+":seek"},type:"host_call_set_playback_rate"}),s({payload:{currentTime:e,hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type+":seek"},type:"host_call_set_current_time"})):s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:d.type+":cancel"},type:"host_call_set_playback_rate"});return!1},function(a,c,d){if(!(d.type==="buffering_begin_requested"))return!0;s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:d.type},type:"host_call_set_playback_rate"});return!1},function(a,c,d){if(!(d.type==="controller_set_playback_rate"))return!0;s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:d.payload.playbackRate,reason:d.type},type:"host_call_set_playback_rate"});return!1},function(a,c,d){if(!(d.type==="buffering_end_requested"))return!0;s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:c.controlledState.targetPlaybackRate,reason:d.type},type:"host_call_set_playback_rate"});return!1},function(a,c,d){if(!(d.type==="controller_volume_requested"))return!0;s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type,volume:c.controlledState.volume},type:"host_call_set_volume"});return!1},function(a,c,d){if(!(d.type==="controller_quality_requested"))return!0;s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type,selectedVideoQuality:c.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"});return!1},function(a,c,d){if(!(d.type==="controller_set_latency_level_requested"))return!0;s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),latencyLevel:d.payload.latencyLevel,reason:d.type},type:"host_call_set_latency_level"});return!1},function(a,c,d){if(!(d.type==="dom_event_timeupdate"||d.type==="captions_loaded"))return!0;d=e.current;var f=c.controlledState.captionsVisible,g=p.current;g=g?g.getPlayheadPosition():0;if(b("PlaybackSpeedExperiments").enableCometPlaybackSpeedControl()&&c.controlledState.isLiveRewindActive){var h=c.controlledState.seekableRanges;h=h!=null?(h=h.end(h.length()-1))!=null?h:0:0;g>=h&&u.dispatch({payload:{isLiveRewindActive:!1},type:"controller_set_is_live_rewind_active_requested"})}if(d&&f&&c.controlledState.captionsLoaded){h=d.handleTimeUpdate(g);f=a.controlledState.activeCaptions;n(f,h)&&u.dispatch({payload:{activeCaptions:h},type:"controller_set_active_captions_requested"})}c=q.current;c!=null&&c.onUpdateStatus({position:g});return!1},function(a,b,c){if(!(c.type==="cea608_bytes_received"))return!0;a=e.current;if(a){b=c.payload;c=b.timescale;b=b.videoBytes;a.handleCea608BytesReceived({timescale:c,videoBytes:b})}return!1},function(a,c,d){if(!(d.type==="controller_set_is_live_rewind_active_requested"))return!0;i.setEnableLiveheadCatchup(!d.payload.isLiveRewindActive);!!b("PlaybackSpeedExperiments").enableCometPlaybackSpeedControl()&&!d.payload.isLiveRewindActive&&u.dispatch({payload:{playbackRate:1},type:"controller_set_playback_rate"});return!1}];var u=b("VideoPlayerImplementationStateMachine").createVideoPlayerImplementationStateMachineWithStateTransitionHandlers({collectUncontrolledState:function(){var a=p.current;return b("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState({engineExtrasAPI:i,fullscreenControllerRef:k,videoElementAPI:a,videoLiveTraceRef:q,videoPlayerPassiveViewabilityInfoRef:r})},debugLogId:f,initialState:b("VideoPlayerImplementationStateMachineState").createVideoPlayerImplementationStateMachineInitialState({alwaysShowCaptions:c,areCaptionsAutogenerated:d,dimensions:g,isAbrEnabled:j.isAbrEnabled,playerImplementationName:j.playerImplementationName,playerVersion:j.playerVersion,streamingFormat:j.streamingFormat}),onFatalError:m,stateTransitionHandlers:a});return u}function n(a,b){if(a===null&&b===null)return!1;if(a===null||b===null)return!0;var c=(b=b.rows)!=null?b:[];a=(b=a.rows)!=null?b:[];return a.length!==c.length||a.some(function(a,b){return a!==c[b]})}function o(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_fullscreen_changed"})}))}function p(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_viewability_changed"})}))}function q(a){var b=a.engineMetadata;a=a.state;var c=a.controlledState,d=c.activeCaptions,e=c.availableQualities,f=c.captionsLoaded,g=c.captionsVisible,h=c.error,i=c.inbandCaptionsAutogenerated,j=c.isLiveRewindActive,k=c.lastMuteReason,l=c.lastPauseReason,m=c.lastPlayedTimeMs,n=c.lastPlayReason,o=c.latencyLevel,p=c.loopCount,q=c.loopCurrent,r=c.muted,s=c.playbackState,t=c.seekableRanges,u=c.seeking,v=c.seekTargetPosition,w=c.selectedVideoQuality,x=c.streamInterrupted,y=c.targetAudioQuality,z=c.targetPlaybackRate,A=c.targetVideoQuality,B=c.videoProjection,C=c.volume;c=c.watchTimeMs;var D=a.uncontrolledState,E=D.currentPlayingVideoQuality,F=D.videoElementDuration;D=D.videoElementLastBufferEndPosition;var G=s==="ended",H=s==="paused"||G,I=s==="playing",J=s==="inPlayStalling";s=s==="stalling"||J;d={activeCaptions:d,availableVideoQualities:e,bufferEnd:(d=D)!=null?d:0,captionsLoaded:f,captionsVisible:g,currentVideoQuality:(e=E)!=null?e:"",duration:(D=F)!=null?D:0,ended:G,error:h,inPlayStalling:J,inbandCaptionsAutogenerated:i,isAbrEnabled:b.isAbrEnabled,isLiveRewindActive:j,lastMuteReason:k,lastPauseReason:l,lastPlayReason:n,lastPlayedTimeMs:m,latencyLevel:o,loopCount:p,loopCurrent:q,muted:r,paused:H,playerImplementationName:a.playerImplementationName,playerVersion:a.playerVersion,playing:I,seekTargetPosition:v,seekableRanges:t,seeking:u,selectedVideoQuality:w,stalling:s,streamInterrupted:x,targetAudioQuality:y,targetPlaybackRate:z,targetVideoQuality:A,videoProjection:B,volume:C,watchTimeMs:c};return d}function a(a){var c,d=a.createDebugAPI,e=a.createVideoPlayerError,f=a.debugLog;f=a.debugLogId;var g=a.destroyEngineParts,h=a.engineExtrasAPI,i=a.engineMetadata,j=a.handleFatalError,l=a.handleVideoElementMounted,n=a.handleVideoElementUnmounted,r=a.handleVideoInfoChange,s=a.initialProps,t=a.setExposedStateInReact,u=b("VideoPlayerImplementationStateMachineLogger").createVideoPlayerImplementationStateMachineLogger({debugLogId:f,initialLoggingMetaData:s.loggingMetaData}),v=new(b("VideoPlayerBanzaiLogFlusher"))(u),w={current:(a=s.videoPlayerPassiveViewabilityInfo)!=null?a:null},x={current:(a=s.fullscreenController)!=null?a:null},y={current:null},z={current:(a=s.videoLiveTrace)!=null?a:null};a=b("useConcurrentAutoplayManagementAPI").createConcurrentAutoplayManagementAPI();var A=[],B=function(){A.forEach(function(a){a()}),v.flushLogs()},C={current:null},D={current:{inbandCaptionsAutogeneratedFromManifest:!1,inbandCaptionsExpectedFromManifest:!1,inbandCaptionsExpectedFromProps:s.inbandCaptionsExpected,sideLoadCaptionsExpectedFromProps:s.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(c=s.captionsUrl)!=null?c:null}},E={current:null},F={current:null},G=new(b("SubscriptionsHandler"))(),H="before_mounted";function I(){return H==="mounted"}var J={current:null},K=function(a){a=q({engineMetadata:i,state:a});return a},L={current:null},M={current:null},N=function(a){if(I()){if(a===L.current)return;var c=K(a);if(M.current!=null&&b("deepEquals")(M.current,c))return;L.current=a;M.current=c;t(c)}};c=function(a,b,c){u.handleStateMachine(a,b,c),N(b),B()};var O=function(a,b){},P=function(a){O(a,"state_machine_fatal_error")},Q=m({alwaysShowCaptions:Boolean(s.alwaysShowCaptions),areCaptionsAutogenerated:Boolean(s.areCaptionsAutogenerated),captionsControllerRef:y,debugLogId:f,dimensions:s.dimensions,engineExtrasAPI:h,engineMetadata:i,fullscreenControllerRef:x,handleFatalError:P,handleStateMachine:c,videoElementAPIRef:J,videoLiveTraceRef:z,videoPlayerPassiveViewabilityInfoRef:w}),R=!1,S=function(a){var c=C.current!=null,d=J.current!=null;G.release();Q.dispatch({payload:{reason:a,videoElementAPIExisted:d,videoElementExisted:c},type:"implementation_engine_destroy_requested"});try{b("gkx")("1494163")?g(["destroyEngine("+a+")"]):R||(R=!0,g(["destroyEngine("+a+")"]))}catch(e){if(b("gkx")("1494163"))try{b("FBLogger")("comet_video_player").catching(e).warn("Error thrown by destroyEngineParts: %s %s",e.message,JSON.stringify({playerImplementationName:i.playerImplementationName,reason:a,videoElementAPIExisted:d,videoElementExisted:c}))}catch(a){}}var e=y.current;e!=null&&(Q.getCurrentState().controlledState.captionsLoaded&&Q.dispatch({type:"captions_unloaded"}),y.current=null,e.destroy());e=z.current;e!=null&&(z.current=null);o(null,x,E,Q);p(null,w,F,Q);Q.dispatch({payload:{reason:a,videoElementAPIExisted:d,videoElementExisted:c},type:"implementation_engine_destroyed"})};O=function(a,b){a=e(a,b);Q.dispatch({payload:{fatalError:a},type:"implementation_fatal_error"});S("implementation_fatal_error");j(a)};function T(a){return a.sideLoadCaptionsExpectedFromProps&&a.sideLoadCaptionsUrlFromProps!==null}function U(a){return a.inbandCaptionsExpectedFromProps&&((a=a.inbandCaptionsExpectedFromManifest)!=null?a:!1)}function V(a){return(a=a.inbandCaptionsAutogeneratedFromManifest)!=null?a:!1}var W=function(a){var c=T(a),d=U(a),e=V(a),f=y.current;e!==V(D.current)&&Q.dispatch({payload:{inbandCaptionsAutogenerated:e},type:"inband_captions_autogenerated_changed"});f!=null?d!==U(D.current)&&(f.updateInbandCaptionsExpected(d),!d&&Q.getCurrentState().controlledState.captionsLoaded&&Q.dispatch({type:"captions_unloaded"})):(c||d)&&f==null&&(y.current=b("VideoPlayerCaptionsController").createCaptionsController({captionsUrl:c?a.sideLoadCaptionsUrlFromProps:null,inbandCaptionsExpected:d,onCaptionsLoaded:function(){Q.getCurrentState().controlledState.captionsLoaded||Q.dispatch({type:"captions_loaded"})}}));D.current=a},X=function(a){h!=null&&a&&a.width>0&&a.height>0&&(h.setDimensions(a),Q.dispatch({payload:{dimensions:{height:a.height,width:a.width}},type:"player_dimensions_changed"}))},Y=function(a){a!==Q.getCurrentState().controlledState.loopCount&&Q.dispatch({payload:{loopCount:a},type:"loop_count_change_requested"})},Z=function(a){"srcObject"in a&&(a.srcObject=null)},$=function(a,c){if(C.current===a)return;if(!I()&&b("gkx")("1405244"))return;if(!I()){var d=function(a){switch(a){case"unmounted":return"EngineAPI.handleVideoElement.unmounted";case"before_mounted":return"EngineAPI.handleVideoElement.before_mounted";case"mounted":return null;default:a;return null}}(H);d&&b("VideoPlayerODS").bumpEntityKey("comet_video_player",d,1)}a!=null&&C.current!=null&&C.current!==a&&b("recoverableViolation")("The video element was recreated","comet_video_player");d=C.current;d&&Z(d);C.current=a;b("gkx")("1494163")&&(a==null&&(J.current=null));C.current!=null?(Q.dispatch({type:"implementation_video_node_mounted"}),l([].concat(c,["handleVideoElement(non-null)"]))):(Q.dispatch({type:"implementation_video_node_unmounted"}),n([].concat(c,["handleVideoElement(null)"])))};f=s.loggingMetaData.instanceKey;P=function(a){var b;if(!I())return;o((b=a.fullscreenController)!=null?b:null,x,E,Q);p((b=a.videoPlayerPassiveViewabilityInfo)!=null?b:null,w,F,Q);if(!r(a)){b={inbandCaptionsAutogeneratedFromManifest:D.current.inbandCaptionsAutogeneratedFromManifest,inbandCaptionsExpectedFromManifest:D.current.inbandCaptionsExpectedFromManifest,inbandCaptionsExpectedFromProps:a.inbandCaptionsExpected,sideLoadCaptionsExpectedFromProps:a.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(b=a.captionsUrl)!=null?b:null};W(b);X(a.dimensions);Y((b=a.loopCount)!=null?b:0)}Q.dispatch({payload:{loggingMetaData:a.loggingMetaData},type:"notify_logging_metadata_change"})};c=function(){if(H!=="before_mounted"){var a=function(a){switch(a){case"before_mounted":return null;case"unmounted":return"EngineAPI.handleReactMount.unmounted";case"mounted":return"EngineAPI.handleReactMount.mounted";default:a;return null}}(H);a&&b("VideoPlayerODS").bumpEntityKey("comet_video_player",a,1)}I()||(H="mounted",G.addSubscriptions(b("RunComet").onUnload(function(){S("page_unload")})),G.addSubscriptions(b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){S("banzai_shutdown")})),Q.dispatch({type:"implementation_mounted"}),l(["handleReactMount"]))};s=function(){if(!I()){var a=function(a){switch(a){case"unmounted":return"EngineAPI.handleReactUnmount.unmounted";case"before_mounted":return"EngineAPI.handleReactUnmount.before_mounted";case"mounted":return null;default:a;return null}}(H);a&&b("VideoPlayerODS").bumpEntityKey("comet_video_player",a,1)}I()&&(H="unmounted",Q.dispatch({payload:{reason:"react_effect_cleanup"},type:"implementation_unmounted"}),S("implementation_unmounted:react_effect_cleanup"))};f=k({concurrentAutoplayManagementAPI:a,createExposedState:K,debugAPI:d({getVideoElementAPI:function(){return J.current},logger:u}),fullscreenControllerRef:x,logger:u,machine:Q,subscribers:A,videoElementAPIRef:J});a=b("VideoPlayerImplementationStateMachine").createReactVideoElementCallbacksForStateMachine(Q,$);d=K(Q.getInitialState());c={destroy:S,handleReactMount:c,handleReactPropsChanged:P,handleReactUnmount:s,implementationController:f,initialExposedState:d,logFlusher:v,machine:Q,notifySubscribers:B,videoElementCallbacks:a,videoElementRefCallback:function(a){$(a,["videoElementRefCallback"])}};return{engine:c,getCaptionsInfo:function(){return D.current},getVideoElement:function(){return C.current},getVideoLiveTrace:function(){return z.current},handleCaptionsInfoChange:W,handleFatalImplementationError:O,logger:u,machine:Q,videoElementAPIRef:J}}function r(a){var c,d=new Error(a.errorDescription);d.errorName=a.errorName;d.type="error";a.stack!=null&&a.stack!==""&&(d.stack=a.stack);var e=new(b("ErrorMetadata"))();e.addEntries(["COMET_VIDEO","ERROR_LOCATION",a.errorLocation],["COMET_VIDEO","ERROR_CODE",(c=a.errorCode)!=null?c:""],["COMET_VIDEO","ERROR_URL",(c=a.url)!=null?c:""]);c=a.originalError;c!=null&&(typeof c==="string"?e.addEntry("COMET_VIDEO","ORIGINAL_ERROR",c):c instanceof Error&&c.message!=null&&e.addEntry("COMET_VIDEO","ORIGINAL_ERROR",c.message));d.metadata=e;return d}function c(a,c){var d=g.useState(null),e=d[0],f=d[1],h=g.useRef(!1),i=g.useRef(null);d=g.useState(null);var j=d[0],k=d[1];g.useEffect(function(){j||(i.current=null)},[j]);var l=g.useRef(a),m=g.useRef(c),n=b("useStable")(function(){return m.current({debugLogId:String(l.current.loggingMetaData.instanceKey),handleFatalError:function(a){if(h.current&&b("gkx")("1722590"))return;b("gkx")("1444664")?i.current||(i.current=a,k(a)):k(a)},initialProps:l.current,setExposedStateInReact:f})});c=(d=e)!=null?d:n.initialExposedState;d=(e=c.error)!=null?e:j;if(d!=null){if(b("killswitch")("COMET_VIDEO_ERROR_DEAGGREGATION"))throw b("unrecoverableViolation")(d.errorName+": "+d.errorDescription,"comet_video_player",{error:d.originalError instanceof Error?d.originalError:void 0});throw r(d)}g.useEffect(function(){n.handleReactMount();return function(){h.current=!0,n.handleReactUnmount()}},[n]);var o=g.useRef(null);g.useEffect(function(){a!==o.current&&n.handleReactPropsChanged(a),o.current=a});return[c,n]}}),null);
__d("VideoPlaybackQuality",[],(function(a,b,c,d,e,f){f.getDroppedFrames=a;f.getTotalFrames=b;function a(a){if(typeof a.getVideoPlaybackQuality==="function")return a.getVideoPlaybackQuality().droppedVideoFrames;a=a.webkitDroppedFrameCount;return typeof a==="number"?a:0}function b(a){if(typeof a.getVideoPlaybackQuality==="function")return a.getVideoPlaybackQuality().totalVideoFrames;a=a.webkitDecodedFrameCount;return typeof a==="number"?a:0}}),null);
__d("VideoPlayerImplementationEngineVideoElementAPI",["Promise","VideoPlaybackQuality"],(function(a,b,c,d,e,f){"use strict";f.getDurationFromVideoElement=h;f.getLastBufferEndPositionFromVideoElement=i;f.getPlayheadPositionFromVideoElement=j;f.createVideoPlayerImplementationEngineVideoElementAPI=a;function g(a){return isNaN(a)?0:a}function h(a){return g(a.duration)}function i(a){a=a.buffered;return a.length>0?a.end(a.length-1):0}function j(a){return g(a.currentTime)}function a(a){return{getDroppedFrameCount:function(){return b("VideoPlaybackQuality").getDroppedFrames(a)},getDuration:function(){return h(a)},getEnded:function(){return a.ended},getError:function(){return a.error},getLastBufferEndPosition:function(){return i(a)},getMuted:function(){return a.muted},getNetworkState:function(){return a.networkState},getPaused:function(){return a.paused},getPlaybackRate:function(){return a.playbackRate},getPlayheadPosition:function(){return j(a)},getReadyState:function(){return a.readyState},getTotalFrameCount:function(){return b("VideoPlaybackQuality").getTotalFrames(a)},getUnderlyingVideoElement:function(){return a},getVolume:function(){return a.volume},pause:function(){a.pause()},play:function(){var c=a.play();c=c&&typeof c.then==="function"?b("Promise").resolve(c):null;return c},setDuration:function(b){a.duration=b},setMuted:function(b){a.muted=b},setPlaybackRate:function(b){a.playbackRate=b},setPlayheadPosition:function(b){a.currentTime=b},setSrc:function(b){b==null||b===""?a.removeAttribute("src"):a.setAttribute("src",b)},setVolume:function(b){a.volume=b}}}}),null);
__d("VideoPlayerImplementationReactVideoElement.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var b=a.implementationController,c=a.implementationExposedState,d=a.renderWithVideoImplementationStates,e=a.src,f=a.videoElementCallbacks;a=a.videoElementRefCallback;f=g.jsxs(g.Fragment,{children:[g.jsx("video",babelHelpers["extends"]({className:"k4urcfbm datstx6m a8c37x1j",controls:!1,muted:!0},f,{ref:a,src:e})),d({implementationController:b,videoState:c})]});return f}}),null);
__d("VideoPlayerProgressiveImplementationData",[],(function(a,b,c,d,e,f){"use strict";f.makeProgressiveImplementationData=a;function a(a){var b=a.hdSrc,c=a.hdSrcPreferred;a=a.sdSrc;return a==null?null:{hdSrc:b,hdSrcPreferred:c,sdSrc:a}}}),null);
__d("VideoPlayerProgressiveImplementationEngineExtrasAPI",[],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerProgressiveImplementationEngineExtrasAPI=a;function a(a){var b=a.getPlayingVideoInfo;a=a.setUserSelectedVideoQuality;a={getApproximateFBLSToPlayerDisplayLatency:function(){return null},getAudioRepresentationIDAtTime:function(a){return null},getAvailableVideoQualities:function(){var a;return(a=(a=b())==null?void 0:a.availableQualities)!=null?a:[]},getCurrentAudioRepresentation:function(){return null},getCurrentPlayingVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentTargetVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentVideoRepresentation:function(){return null},getEstimatedBandwidth:function(){return null},getInbandCaptionsAutogeneratedFromManifest:function(){return!1},getInbandCaptionsExpectedFromManifest:function(){return!1},getStreamType:function(){return"progressive"},getUserSelectedVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.selectedQuality)!=null?a:"notselected"},getVideoProjectionType:function(){return"cubemap"},getVideoRepresentationIDAtTime:function(a){return"oep_hd"},getVideoRepresentations:function(){return null},isDrm:function(){var a;return((a=b())==null?void 0:a.graphQLVideoDRMInfo)!=null},isFBIsLiveTemplated:function(){return!1},isFBMS:function(){return!1},isFBWasLive:function(){return!1},isPredictiveDash:function(){return!1},setDimensions:function(a){},setEnableLiveheadCatchup:function(){},setLatencyLevel:function(){},setUserSelectedVideoQuality:a};return a}}),null);
__d("VideoPlayerProgressiveImplementationEngineUtils",["gkx"],(function(a,b,c,d,e,f){"use strict";f.createResolvedVideoInfoProgressive=a;f.updatePlayingVideoInfoProgressiveWithUserSelectedQuality=c;f.updatePlayingVideoInfoProgressiveWithCurrentPlayingQuality=d;var g="hd",h="sd";function a(a){var c=[];a.sdSrc!=null&&c.push(h);a.hdSrc!=null&&c.push(g);var d=a.hdSrcPreferred&&a.hdSrc!=null&&b("gkx")("1483656")?g:h;return babelHelpers["extends"]({},a,{availableQualities:c,playingQuality:null,playingSrc:null,selectedQuality:d,targetQuality:d,targetSrc:null})}function c(a,b){var c=a.hdSrc,d=a.sdSrc,e,f;b==="notselected"||b==="auto"?(e=d!=null?h:c!=null?g:h,f=d!=null?d:c!=null?c:null):b===g&&c!=null?(e=g,f=c):b===h&&d!=null?(e=h,f=d):(e=h,f=null);f===""&&(f=null);return babelHelpers["extends"]({},a,{selectedQuality:b,targetQuality:e,targetSrc:f})}function d(a,b,c){return babelHelpers["extends"]({},a,{playingQuality:b,playingSrc:c})}}),null);
__d("VideoPlayerProgressiveImplementationEngine",["FBLogger","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerODS","VideoPlayerProgressiveImplementationEngineExtrasAPI","VideoPlayerProgressiveImplementationEngineUtils","emptyFunction","gkx","requireCond","unrecoverableViolation","cr:1680308","cr:1473550","cr:1512856"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerProgressiveImplementationEngine=a;var g=b("emptyFunction");function h(a,c){return b("VideoPlayerImplementationErrors").createVideoPlayerErrorFromGenericError("PROGRESSIVE_JAVASCRIPT_NATIVE",a,c)}function a(a){var c=a.debugLogId,d=a.handleFatalError,e=a.initialProps;a=a.setExposedStateInReact;var f={current:null},i={current:null},j={current:null},k={current:null},l=function(){var a=k.current;a!=null&&(k.current=null,a())},m=function(a){l();var c=u();if(c==null)throw b("unrecoverableViolation")("Need videoElement in startSwitchingSource","comet_video_player");if(b("cr:1512856")==null)throw b("unrecoverableViolation")("Need SourceSwitcher in startSwitchingSource","comet_video_player");k.current=b("cr:1512856").startSwitchingVideoElementSource({getShouldBePlaying:function(){return x.getCurrentState().controlledState.playbackState==="playing"||x.getCurrentState().controlledState.playbackState==="stalling"},onSourceSwitchCancelled:function(){x.dispatch({type:"buffering_end_requested"})},onSourceSwitchFailed:function(a){b("FBLogger")("comet_video_player").catching(a).warn("Progressive source switch failed: %s",String(a)),x.dispatch({type:"buffering_end_requested"})},onSourceSwitchStarted:function(){x.dispatch({type:"buffering_begin_requested"})},onSourceSwitchSucceeded:function(){var a=j.current;a!=null&&a.targetQuality!=null&&(j.current=b("VideoPlayerProgressiveImplementationEngineUtils").updatePlayingVideoInfoProgressiveWithCurrentPlayingQuality(a,a.targetQuality,a.targetSrc));x.dispatch({type:"buffering_end_requested"})},targetSrc:a,videoElement:c})},n={current:null},o=function(){var a=u(),c=i.current;if(a==null||c==null)return;try{var d,f=c.graphQLVideoDRMInfo,g=c.videoFBID;d=f?(d=f.fairplayCert)!=null?d:null:null;b("cr:1680308")&&(n.current=f&&d!=null&&g!=null?new(b("cr:1680308"))(d,a,g,f.videoLicenseUriMap):null);d=b("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(a);y.current=d;j.current=c;g=t();v({inbandCaptionsAutogeneratedFromManifest:r.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:r.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:g==null?void 0:g.inbandCaptionsExpectedFromProps,sideLoadCaptionsExpectedFromProps:g==null?void 0:g.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:g==null?void 0:g.sideLoadCaptionsUrlFromProps});x.dispatch({payload:{availableQualities:r.getAvailableVideoQualities(),selectedVideoQuality:r.getUserSelectedVideoQuality(),targetVideoQuality:r.getCurrentTargetVideoQuality(),videoProjection:r.getVideoProjectionType()},type:"implementation_engine_initialized"});d.setPlayheadPosition(e.startTimestamp)}catch(a){w(a,"progressive_player_create_exception")}},p=function(a,c){if(c==null)return!0;else if(a.videoFBID!==c.videoFBID){var d=14;b("VideoPlayerODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.video_fbid_changed",d);return!1}else if(a.hdSrc!==c.hdSrc||a.sdSrc!==c.sdSrc){d=14;b("VideoPlayerODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.src_changed",d);return!1}else return!1},q=function(a){var c;c={graphQLVideoDRMInfo:(c=a.graphQLVideoDRMInfo)!=null?c:null,hdSrc:a.hdSrc===""?null:(c=a.hdSrc)!=null?c:null,hdSrcPreferred:a.hdSrcPreferred,sdSrc:a.sdSrc===""?null:(c=a.sdSrc)!=null?c:null,videoFBID:a.videoFBID};if(!p(c,f.current))return!1;if(c.hdSrc==null&&c.sdSrc==null)throw b("unrecoverableViolation")("Empty hdSrc and sdSrc","comet_video_player");f.current=c;i.current=b("VideoPlayerProgressiveImplementationEngineUtils").createResolvedVideoInfoProgressive(c);o();return!0},r=b("VideoPlayerProgressiveImplementationEngineExtrasAPI").createVideoPlayerProgressiveImplementationEngineExtrasAPI({getPlayingVideoInfo:function(){return j.current},setUserSelectedVideoQuality:function(a){var c=j.current;if(!c)throw b("unrecoverableViolation")("Attempt to switch quality when playingVideoInfo does not exist","comet_video_player");var d=y.current;if(!d)throw b("unrecoverableViolation")("Attempt to switch quality when videoElementAPI does not exist","comet_video_player");var e=c.targetQuality,f=c.targetSrc;j.current=b("VideoPlayerProgressiveImplementationEngineUtils").updatePlayingVideoInfoProgressiveWithUserSelectedQuality(c,a);c=j.current;a=c.targetQuality;c=c.targetSrc;if(b("gkx")("1467411"))c!==f&&(c==null?(l(),d.setSrc(null)):m(c)),e!=null&&a!==e&&a!=null&&x.dispatch({payload:{targetVideoQuality:a},type:"representation_changed"});else{d.setSrc(c);if(c!=null){e=(f=x.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?f:0;e>0&&d.setPlayheadPosition(e);x.getCurrentState().controlledState.playbackState==="playing"&&d.play();x.dispatch({payload:{targetVideoQuality:r.getCurrentTargetVideoQuality()},type:"representation_changed"})}}}}),s=function(){n.current&&(n.current.destroy(),n.current=null)};c=b("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({createDebugAPI:function(a){var c=a.getVideoElementAPI;a=a.logger;return b("cr:1473550")?b("cr:1473550").createVideoPlayerImplementationDebugAPI({engineExtrasAPI:r,getVideoElementAPI:c,logger:a}):null},createVideoPlayerError:h,debugLog:g,debugLogId:c,destroyEngineParts:function(){if(b("gkx")("1467411")){l();var a=y.current;a&&a.setSrc(null);j.current=null}s()},engineExtrasAPI:r,engineMetadata:{isAbrEnabled:!1,playerImplementationName:"progressive_v2",playerVersion:"comet_progressive",streamingFormat:"progressive"},handleFatalError:d,handleVideoElementMounted:o,handleVideoElementUnmounted:function(){b("gkx")("1467411")&&l()},handleVideoInfoChange:q,initialProps:e,setExposedStateInReact:a});d=c.engine;var t=c.getCaptionsInfo,u=c.getVideoElement,v=c.handleCaptionsInfoChange,w=c.handleFatalImplementationError,x=c.machine,y=c.videoElementAPIRef;return d}}),null);
__d("VideoPlayerProgressiveImplementationV2.react",["React","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationReactVideoElement.react","VideoPlayerProgressiveImplementationEngine"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=b("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(a,b("VideoPlayerProgressiveImplementationEngine").createVideoPlayerProgressiveImplementationEngine),d=c[0];c=c[1];return g.jsx(b("VideoPlayerImplementationReactVideoElement.react"),{implementationController:c.implementationController,implementationExposedState:d,renderWithVideoImplementationStates:a.renderWithVideoImplementationStates,videoElementCallbacks:c.videoElementCallbacks,videoElementRefCallback:c.videoElementRefCallback})}}),null);
__d("oz-player/shims/www/OzEventEmitterWWW",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";a=b("EventEmitter");e.exports=a}),null);
__d("oz-player/shims/www/OzNetworkDiagnosticsWWW",[],(function(a,b,c,d,e,f){"use strict";a={getResponseTimeMs:function(a){return a?parseInt(a.get("x-fb-response-time-ms"),10):null}};b=a;e.exports=b}),null);
__d("oz-player/shims/www/OzReadableStreamWWW",["requireCond","cr:927622"],(function(a,b,c,d,e,f){"use strict";b("cr:927622")&&(b("cr:927622").ReadableStream.isPolyfilled=!0);a=b("cr:927622")?b("cr:927622").ReadableStream:window.ReadableStream;c=a;e.exports=c}),null);
__d("oz-player/shims/www/OzWritableStreamWWW",["requireCond","cr:927623"],(function(a,b,c,d,e,f){"use strict";b("cr:927623")&&(b("cr:927623").WritableStream.isPolyfilled=!0);a=b("cr:927623")?b("cr:927623").WritableStream:window.WritableStream;c=a;e.exports=c}),null);
__d("oz-player/shims/www/ozSetTimeoutAcrossTransitionsWWW",["setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";a=b("setTimeoutAcrossTransitions");e.exports=a}),null);
__d("useCometLoggedInAccountSwitcherRemoveAccount_account.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometLoggedInAccountSwitcherRemoveAccount_account",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nonce",storageKey:null}],type:"LoggedInAccountSwitcherAccount",abstractKey:null};e.exports=a}),null);
__d("useCometLoggedInAccountSwitcherSubmitForm_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometLoggedInAccountSwitcherSubmitForm_query",selections:[{alias:null,args:null,kind:"ScalarField",name:"logout_whitelist",storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("CometMessagingJewelDropdownQPBannerContainerQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:8439},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_OPEN"}],b=[{kind:"Literal",name:"supported",value:["CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy"]}],c={kind:"InlineFragment",selections:[{documentName:"CometMessagingJewelDropdownQPBannerContainerQuery",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessagingJewelDropdownQPBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[c],storageKey:'renderer_strategy(supported:["CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy"])'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8439,trigger:"MESSAGING_JEWEL_OPEN")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometMessagingJewelDropdownQPBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c],storageKey:'renderer_strategy(supported:["CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy"])'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8439,trigger:"MESSAGING_JEWEL_OPEN")'}],storageKey:null}]},params:{id:"3184047498370995",metadata:{},name:"CometMessagingJewelDropdownQPBannerContainerQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useProfileCometSwitcherCleanUpOnSwap_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useProfileCometSwitcherCleanUpOnSwap_query",selections:[{alias:null,args:null,kind:"ScalarField",name:"logout_whitelist",storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useCometLoggedInAccountSwitcherRemoveAccount",["fbt","CometRelay","React","promiseDone","recoverableViolation","requireDeferred","useCometConfirmationDialog","useCometLoggedInAccountSwitcherRemoveAccount_account.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j=b("requireDeferred")("CometLoggedInAccountSwitcherRemoveAccountMutation");function a(a){var c=b("CometRelay").useRelayEnvironment(),d=b("useCometConfirmationDialog")(),e=d[0];d=b("CometRelay").useFragment(h!==void 0?h:h=b("useCometLoggedInAccountSwitcherRemoveAccount_account.graphql"),a);var f=d.nonce,k=d.user;return i.useCallback(function(){var a=k==null?void 0:k.short_name;e({body:a!=null?g._("{name} will need to enter their email or phone number and password the next time they log in.",[g._param("name",a)]):g._("they will need to enter their email or phone number and password the next time they log in."),confirm:g._("Remove Account"),title:g._("Remove Account")},function(){var a=k==null?void 0:k.id;if(a==null){b("recoverableViolation")("Cannot remove user from logged in account switcher that has no id","comet_ui");return}b("promiseDone")(j.load().then(function(b){b=b.commit;b(c,{id:a,nonce:f})}))})},[c,f,e,k])}}),null);
__d("ServiceWorkerLoginAndLogout",["ClientServiceWorkerMessage"],(function(a,b,c,d,e,f){function g(a){new(b("ClientServiceWorkerMessage"))(a,null).sendViaController()}a={login:function(){g("login")},logout:function(){g("logout")}};c=a;e.exports=c}),null);
__d("useCometLoggedInAccountSwitcherSubmitForm",["Banzai","CometRelay","React","ServiceWorkerLoginAndLogout","WebStorageMonster","recoverableViolation","useCometLoggedInAccountSwitcherSubmitForm_query.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a,c){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useCometLoggedInAccountSwitcherSubmitForm_query.graphql"),a);var d=a.logout_whitelist;return h.useCallback(function(){var a=c.current;if(a==null){b("recoverableViolation")("Unable to get form ref to submit","comet_infra");return}b("WebStorageMonster").cleanOnLogout(d);b("ServiceWorkerLoginAndLogout").logout();b("Banzai").flush();a.submit()},[c,d])}}),null);
__d("MessengerDesktopUpsellLinks",["CurrentUser","MessengerDesktopAppLinks","UserAgent","qex"],(function(a,b,c,d,e,f){"use strict";f.getDesktopUpsellLinkForPlatform=g;f.getDesktopUpsellLinkIfEnabledForCalls=a;function g(){if(b("UserAgent").isPlatform("Mac OS X"))return b("MessengerDesktopAppLinks").macOSX;else if(b("UserAgent").isPlatform("Windows"))return b("MessengerDesktopAppLinks").windows;return null}function a(){var a=g(),c=a!=null&&!b("CurrentUser").isWorkUser()&&!!b("qex")._("1431495");return c?a:null}}),null);
__d("FundraiserGKUtils",["gkx","qex"],(function(a,b,c,d,e,f){"use strict";f.canCreateP4CFundraiser=g;f.canCreateP4PFundraiser=h;f.stripeKYCToCreateP4PFundraiser=a;f.canCreateFundraiser=c;f.canSeeCometCreationFlow=d;f.canSeeCometVoiceSwitcher=e;function g(){return b("gkx")("1122553")}function h(){return b("gkx")("781430")}function a(){return b("gkx")("1781446")}function c(){return g()||h()}function d(){var a;return b("gkx")("708253")&&((a=b("qex")._("1511536"))!=null?a:!1)}function e(){return b("gkx")("708253")&&b("gkx")("1578944")}}),null);
__d("XFundraiserCreateForPageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fund/{?page_token}/",{page_token:{type:"String"},source:{type:"Enum",enumType:1},source_data:{type:"StringToStringMap"}})}),null);
__d("XFundraiserDashboardController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fundraisers/",{default_beneficiary_id:{type:"FBID"},default_beneficiary_type:{type:"Enum",enumType:1},default_category:{type:"Enum",enumType:1},page_id:{type:"FBID"},parent_container_id:{type:"FBID"},post_id:{type:"FBID"},prefill_type:{type:"String"},prefill_query:{type:"String"},promotional_source:{type:"String"},source:{type:"Enum",enumType:1},source_data:{type:"StringToStringMap",defaultValue:{}},create:{type:"Exists",defaultValue:!1},sem_campaign_id:{type:"String"},sem_adgroupid:{type:"String"},sem_keyword:{type:"String"},sem_sitelink:{type:"String"}})}),null);
__d("XFundraiserWithPresenceCreateDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fundraiser/with_presence/create_dialog/",{default_beneficiary_id:{type:"FBID"},default_beneficiary_type:{type:"Enum",enumType:1},default_category:{type:"Enum",enumType:1},page_id:{type:"FBID"},parent_container_id:{type:"FBID"},post_id:{type:"FBID"},prefill_type:{type:"String"},prefill_query:{type:"String"},promotional_source:{type:"String"},source:{type:"Enum",enumType:1},source_data:{type:"StringToStringMap",defaultValue:{}},fundraiser_create_promo_id:{type:"FBID"},default_description:{type:"String"},default_end_time:{type:"Int"},default_goal_amount:{type:"Int"},default_title:{type:"String"},rejected_fundraiser_id:{type:"FBID"},social_upsell_reason:{type:"Enum",enumType:1}})}),null);
__d("FundraiserCreateUrlUtils",["FundraiserGKUtils","XFundraiserCreateForPageController","XFundraiserDashboardController","XFundraiserWithPresenceCreateDialogController"],(function(a,b,c,d,e,f){"use strict";f.getCreatePersonToCharityFundraiserUrl=g;f.getCreatePersonForPersonFundraiserUrl=h;f.getCreateFundraiserUrl=a;f.getPageCreationShortUrl=c;function g(a,c,d){if(!b("FundraiserGKUtils").canCreateP4CFundraiser())return null;a=i(a).setEnum("default_beneficiary_type","charity").setFBID("default_beneficiary_id",c);d!=null&&a.setFBID("page_id",d);return a.getURI().toString()}function h(a){return!b("FundraiserGKUtils").canCreateP4PFundraiser()?null:i(a).setEnum("default_beneficiary_type","person").getURI().toString()}function a(a,c,d,e){if(!b("FundraiserGKUtils").canCreateFundraiser())return null;switch(a){case 6:return g(c,d,e);case 9:return h(c);default:return i(c).getURI().toString()}}function i(a){return b("FundraiserGKUtils").canSeeCometCreationFlow()?b("XFundraiserWithPresenceCreateDialogController").getURIBuilder().setEnum("source",a):b("XFundraiserDashboardController").getURIBuilder().setExists("create",!0).setEnum("source",a)}function c(a){return b("XFundraiserCreateForPageController").getURIBuilder().setString("page_token",a).getURI().toString()}}),null);
__d("CometMessagingJewelDropdownQPBannerPlaceholder.react",["BaseGlimmer.react","CometRow.react","CometRowItem.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i={actionButtonGlimmer:{borderTopStartRadius:"beltcj47",borderTopEndRadius:"p86d2i9g",borderBottomEndRadius:"aot14ch1",borderBottomStartRadius:"kzx2olss",height:"tv7at329"},logoGlimmer:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",height:"m7zwrmfr",marginTop:"muag1w35",width:"tmrshh9y"},root:{alignItems:"gs1a9yip",borderStyle:"ow4ym5g4",borderWidth:"auili1gw",boxSizing:"rq0escxv",display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",flexShrink:"g5gj957u",justifyContent:"i1fnvgqd",minHeight:"tgvbjcpo",minWidth:"hpfvmrgz",position:"l9j0dhe7",zIndex:"du4w35lb",backgroundColor:"pykisdsp",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",height:"dk1262ng",marginTop:"n1l5q3vz",marginEnd:"tvfksri0",marginBottom:"n851cfcs",marginStart:"ozuftl9m",overflowX:"ni8dbmo4",overflowY:"stjgntxs",paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingStart:"b3onmgus",paddingBottom:"ihqw7lf3"},textGlimmer:{borderTopStartRadius:"beltcj47",borderTopEndRadius:"p86d2i9g",borderBottomEndRadius:"aot14ch1",borderBottomStartRadius:"kzx2olss",height:"jnigpg78",marginBottom:"qzhwtbm6",marginTop:"knvmm38d"},textGroup:{display:"j83agx80",flexDirection:"cbu4d94t",marginBottom:"ew0dbk1b",marginTop:"irj2b8pg"}};function a(){return h.jsxs("div",{className:(g||(g=b("stylex")))(i.root),children:[h.jsxs(b("CometRow.react"),{verticalAlign:"center",children:[h.jsx(b("CometRowItem.react"),{verticalAlign:"start",children:h.jsx(b("BaseGlimmer.react"),{className:g(i.logoGlimmer),index:0})}),h.jsx(b("CometRowItem.react"),{expanding:!0,children:h.jsxs("div",{className:g(i.textGroup),children:[h.jsx(b("BaseGlimmer.react"),{className:g(i.textGlimmer),index:0}),h.jsx(b("BaseGlimmer.react"),{className:g(i.textGlimmer),index:0})]})})]}),h.jsxs(b("CometRow.react"),{align:"justify",direction:"forward",spacing:8,wrap:"none",children:[h.jsx(b("CometRowItem.react"),{expanding:!0,children:h.jsx(b("BaseGlimmer.react"),{index:1,xstyle:i.actionButtonGlimmer})}),h.jsx(b("CometRowItem.react"),{expanding:!0,children:h.jsx(b("BaseGlimmer.react"),{index:1,xstyle:i.actionButtonGlimmer})})]})]})}}),null);
__d("CometMessagingJewelDropdownQPBannerContainer.react",["CometMessagingJewelDropdownQPBannerPlaceholder.react","CometPlaceholder.react","CometQuickPromotionLoggerContext.react","CometRelay","React","useQuickPromotionFalcoEvent","CometMessagingJewelDropdownQPBannerContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=g!==void 0?g:g=b("CometMessagingJewelDropdownQPBannerContainerQuery.graphql");function a(a){a=a.queryRef;a=b("CometRelay").usePreloadedQuery(i,a);var c=b("useQuickPromotionFalcoEvent")({context_surface_id:8439,context_trigger:"messaging_jewel_open"});a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.eligible_promotions)==null?void 0:(a=a.nodes[0])==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;return a==null?null:h.jsx(b("CometPlaceholder.react"),{fallback:h.jsx(b("CometMessagingJewelDropdownQPBannerPlaceholder.react"),{}),children:h.jsx(b("CometQuickPromotionLoggerContext.react").Provider,{value:c,children:h.jsx(b("CometRelay").MatchContainer,{match:a})})})}}),null);
__d("MWJewelDropdownHeaderSeeAllButton.react",["ix","fbt","CometTooltip.react","React","TetraCircleButton.react","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=h._("See All in Messenger");return i.jsx(b("CometTooltip.react"),{align:"end",tooltip:c,children:i.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(g("580260"),20),label:c,linkProps:{url:a.url},onPress:a.onClose,size:32,type:"deemphasized"})})}}),null);
__d("MWJewelDropdownHeader.react",["ix","fbt","CometEntryPointPopoverTrigger.react","CometHomeChatSettings.entrypoint","CometProgressRingIndeterminate.react","CometTooltip.react","CometTopNavListDropdown.react","MeetupExperiments","MWChatOpenNewTab.re","MWJewelDropdownHeaderSeeAllButton.react","React","TetraCircleButton.react","XCometMessengerControllerRouteBuilder","fbicon","stylex","useMWChatNewVideoChat","useMWChatTabContainerNewPreload","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function j(a){a=a.onOpenMessageRequests;var c=h._("Options");return i.jsx(b("CometEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:{},otherProps:{onOpenMessageRequests:(a=a)!=null?a:void 0},popoverEntryPoint:b("CometHomeChatSettings.entrypoint"),position:"below",preloadTrigger:"button",children:function(a,d,e,f,h,j){return i.jsx(b("CometTooltip.react"),{align:"end",tooltip:c,children:i.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(g("484387"),20),label:c,onHoverIn:f,onHoverOut:h,onPress:d,onPressIn:j,ref:a,size:32,type:"deemphasized"})})}})}function a(a){var c=b("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),d=b("MWChatOpenNewTab.re").useHook("jewel_new_message"),e=b("useMWChatNewVideoChat")(a.onClose),f=e[0];e=e[1];var k=b("XCometMessengerControllerRouteBuilder").buildURL({thread_key:"new"}),l=function(){c&&(d(),a.onClose())},m=b("useMWChatTabContainerNewPreload")(),n=m[0];m=m[1];var o=h._("New message"),p=h._("Create new room");return i.jsx(b("CometTopNavListDropdown.react").Title,{actions:[i.jsx(j,{onOpenMessageRequests:a.onOpenMessageRequests}),i.jsx(b("MWJewelDropdownHeaderSeeAllButton.react"),{onClose:a.onClose,url:a.inboxUrl}),b("MeetupExperiments").supportLinkCreation()?i.jsx(b("CometTooltip.react"),{align:"end",tooltip:p,children:e?i.jsx("div",{className:"k7cz35w2 j83agx80 bp9cbjyn",children:i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:20})}):i.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(g("1388374"),20),label:p,onPress:function(){return f("fb_messenger_jewel")},size:32,type:"deemphasized"})}):null,i.jsx(b("CometTooltip.react"),{align:"end",tooltip:o,children:i.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(g("507170"),16),label:o,linkProps:{preventLocalNavigation:c,url:k},onHoverIn:n,onHoverOut:m,onPress:l,size:32,type:"deemphasized"})})].filter(Boolean),onReturn:a.onReturn,title:a.title})}}),null);
__d("MWJewelMessageRequestsDropdownHeader.react",["CometTopNavListDropdown.react","MWJewelDropdownHeaderSeeAllButton.react","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){return g.jsx(b("CometTopNavListDropdown.react").Title,{actions:[g.jsx(b("MWJewelDropdownHeaderSeeAllButton.react"),{onClose:a.onClose,url:a.url})],onReturn:a.onReturn,title:a.title})}}),null);
__d("MWJewelMessengerLink.react",["fbt","CometLink.react","React","TetraText.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.onClick;a=a.url;return h.jsx("div",{className:"pzdrnzhu ihqw7lf3 jyxxhhb5",children:h.jsx(b("TetraText.react"),{align:"center",color:"blueLink",type:"bodyLink3",children:h.jsx(b("CometLink.react"),{href:a,onClick:c,children:g._("See All in Messenger")})})})}}),null);
__d("MWJewelMessageRequestsDropdown.react",["fbt","CometScrollView.react","CometTopNavListDropdown.react","MWJewelMessageRequestsDropdownHeader.react","MWJewelMessengerLink.react","React","TetraText.react","XCometMessengerControllerRouteBuilder","requireCond","stylex","cr:1525945"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.onClose,d=a.onOpenSpamMessages;a=a.onReturn;var e=b("XCometMessengerControllerRouteBuilder").buildExtraURL("/messages/requests/",{});return h.jsxs(b("CometTopNavListDropdown.react").Card,{useMaxHeight:!0,children:[h.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[h.jsx(b("MWJewelMessageRequestsDropdownHeader.react"),{onClose:c,onReturn:a,title:g._("Requests"),url:e}),h.jsx("div",{className:"lb8aey2d f10w8fjw oj5qckz4 pybr56ya hcukyx3x w0hvl6rk cxmmr5t8 qjjbsfad b3i9ofy5",children:h.jsx(b("TetraText.react"),{color:"secondary",type:"body4",children:g._("Open a request to get info about who's messaging you. They won't know you've seen it until you reply.")})}),h.jsx(b("cr:1525945"),{folder:"pending",onClose:c,onOpenSpamMessages:d})]}),h.jsx(b("MWJewelMessengerLink.react"),{onClick:c,url:e})]})}}),null);
__d("MWJewelSpamMessagesDropdown.react",["fbt","CometScrollView.react","CometTopNavListDropdown.react","MWJewelMessageRequestsDropdownHeader.react","MWJewelMessengerLink.react","React","TetraText.react","XCometMessengerControllerRouteBuilder","requireCond","stylex","cr:1525945"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.onClose;a=a.onReturn;var d=b("XCometMessengerControllerRouteBuilder").buildExtraURL("/messages/filtered/",{});return h.jsxs(b("CometTopNavListDropdown.react").Card,{useMaxHeight:!0,children:[h.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[h.jsx(b("MWJewelMessageRequestsDropdownHeader.react"),{onClose:c,onReturn:a,title:g._("Spam"),url:d}),h.jsx("div",{className:"lb8aey2d f10w8fjw oj5qckz4 pybr56ya hcukyx3x w0hvl6rk cxmmr5t8 qjjbsfad b3i9ofy5",children:h.jsx(b("TetraText.react"),{color:"secondary",type:"body4",children:g._("Open a request to get info about who's messaging you. They won't know you've seen it until you reply.")})}),h.jsx(b("cr:1525945"),{folder:"other",onClose:c})]}),h.jsx(b("MWJewelMessengerLink.react"),{onClick:c,url:d})]})}}),null);
__d("MWUIJewelPreloadThreadFolder.bs",["requireCond","cr:1516191"],(function(a,b,c,d,e,f){"use strict";function g(a){}function a(){if(b("cr:1516191")==null)return g;else return b("cr:1516191").useHook()}f.$null$OR$MWMSJewelPreloadThreadFolder$requireCond=b("cr:1516191");f.fn=g;f.useHook=a}),null);
__d("MWUIJewelPreloadThreadFolder.re",["MWUIJewelPreloadThreadFolder.bs"],(function(a,b,c,d,e,f){a=b("MWUIJewelPreloadThreadFolder.bs").useHook;f.useHook=a}),null);
__d("ReactMemoCond",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a,b,c){return a?g.memo(b,c):b}}),null);
__d("useCallbackCond",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a,b,c){return g.useCallback(b,a?c:void 0)}}),null);
__d("MWJewelSearchEmptyState.react",["fbt","React","TetraText.react","stylex","useCometSearchTypeaheadEmptyState"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=b("useCometSearchTypeaheadEmptyState")();return c?h.jsxs("div",{className:"tw6a2znq f10w8fjw d1544ag0 pybr56ya",children:[h.jsx(b("TetraText.react"),{align:"center",type:"body2",children:g._("Nothing Found")}),h.jsx("br",{}),h.jsx(b("TetraText.react"),{align:"center",color:"tertiary",type:"body3",children:g._("We couldn't find any matches for \"{query}.\" Try checking for typos or using complete words.",[g._param("query",a.queryString)])})]}):null}}),null);
__d("MWJewelSearchTypeaheadViewStrategy.react",["CometScrollView.react","MWJewelSearchEmptyState.react","MWJewelSearchTypeaheadViewItem.react","React","requireCond","cr:1691755"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.entries;a.extraViewProps;var d=a.highlightedEntry;a.onAbandonTypeahead_DO_NOT_USE;var e=babelHelpers.objectWithoutPropertiesLoose(a,["entries","extraViewProps","highlightedEntry","onAbandonTypeahead_DO_NOT_USE"]);return c.length===0?g.jsx(b("MWJewelSearchEmptyState.react"),{queryString:e.queryString}):g.jsx(b("cr:1691755"),{entries:c,highlightedEntry:d,children:function(a,c){return g.createElement(b("MWJewelSearchTypeaheadViewItem.react"),babelHelpers["extends"]({},e,{entry:a,isActive:c,key:a.getKey()}))}})}}),null);
__d("MWJewelSearchTypeahead.react",["fbt","BaseTypeahead.react","CometRelay","CometSearchTypeaheadBaseBackButton.react","CometSearchTypeaheadBaseLayoutContextualStrategy.react","CometTypeaheadInputRoundedStrategy.react","MWJewelSearchTypeaheadViewStrategy.react","React","requireCond","stylex","cr:1691754","cr:1708175","cr:1805311"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i={searchInput:{marginTop:"aov4n071",marginEnd:"cxmmr5t8",marginBottom:"bi6gxh9e",marginStart:"hcukyx3x",paddingTop:"jb3vyjys",paddingEnd:"hv4rvrfc",paddingBottom:"qt6c0cv9",paddingStart:"dati1w0a"},searchView:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxShadow:"mvk8q8v6",display:"j83agx80",minHeight:"mw5ich9q"}},j=[],k=b("cr:1805311")?b("cr:1805311"):function(){return j};function a(a){var c=a.onBlur,d=a.onChange,e=a.onFocus,f=a.onPressEntry;a=babelHelpers.objectWithoutPropertiesLoose(a,["onBlur","onChange","onFocus","onPressEntry"]);var j=h.useState(!1),l=j[0],m=j[1],n=b("CometRelay").useRelayEnvironment();j=h.useMemo(function(){return new(b("cr:1691754"))({lightspeedSupportedTypes:b("cr:1708175")==null?void 0:b("cr:1708175").allSupportedTypes,limit:20,relayEnvironment:n,source:b("cr:1708175")==null?void 0:b("cr:1708175").Surfaces.universal})},[n]);var o=h.useCallback(function(){m(!1),d("")},[d]),p=h.useCallback(function(){m(!0)},[]),q=k();return h.jsx(b("BaseTypeahead.react"),{dataSource:j,emptyEntries_DO_NOT_USE:q,inputExtraProps:{hideIconAnimation:!0,hideIconOnFocus:!0},inputStartContent:l?h.jsx(b("CometSearchTypeaheadBaseBackButton.react"),{testid:void 0}):null,inputStrategyRenderer:b("CometTypeaheadInputRoundedStrategy.react"),layoutStrategyRenderer:b("CometSearchTypeaheadBaseLayoutContextualStrategy.react"),onBlur:c,onChange:d,onClose:o,onFocus:e,onOpen:p,onPressEntry:f,placeholder:g._("Search Messenger"),queryString:a.queryString,viewStrategyRenderer:b("MWJewelSearchTypeaheadViewStrategy.react"),xstyles:{inputXStyle:i.searchInput,viewXStyle:i.searchView}})}}),null);
__d("useMWJewelThreadListSearchTypeahead.react",["MWJewelSearchTypeahead.react","React","requireCond","useMWChatOpenTabForGroup","useMWChatOpenTabForPage","useMWChatOpenTabForUser","cr:1824038"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=b("cr:1824038")?b("cr:1824038").useHook:function(){return function(){}};function a(a,c,d,e){var f=b("useMWChatOpenTabForGroup")("jewel_search"),i=f[0];f[1];var j=b("useMWChatOpenTabForPage")("jewel_search");f=b("useMWChatOpenTabForUser")("jewel_search");var k=f[0];f[1];var l=h(),m=g.useCallback(function(a){a=a.getRawData();var b=a.id;a=a.resultType;switch(a){case"group":i(b);break;case"user":k(b);break;case"page":j(b);break}e()},[e,i,j,k]);return g.useMemo(function(){return g.jsx(b("MWJewelSearchTypeahead.react"),{onBlur:function(){return a(!1)},onChange:c,onFocus:function(){a(!0),l()},onPressEntry:m,queryString:d})},[m,c,d,a,l])}}),null);
__d("CometMessagingJewelDropdown.react",["fbt","BaseMultiStepContainer.react","CometErrorBoundary.react","CometMessagingJewelDropdownQPBannerContainer.react","CometPlaceholder.react","CometScrollView.react","CometTopNavListDropdown.react","MWJewelDropdownHeader.react","MWJewelMessageRequestsDropdown.react","MWJewelMessengerLink.react","MWJewelSpamMessagesDropdown.react","MWUIJewelPreloadThreadFolder.re","React","ReactMemoCond","XCometMessengerControllerRouteBuilder","gkx","recoverableViolation","requireCond","stylex","useCallbackCond","useMWJewelThreadListSearchTypeahead.react","cr:1716992","cr:1525945"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j=b("cr:1716992")?b("cr:1716992").useHook:function(){return function(){}};function k(a){b("recoverableViolation")("CometMessagingJewelDropdownQPBannerContainer failed to render","messenger_web_product",{error:a})}var l=b("ReactMemoCond")(b("gkx")("1827034"),function(a){var c=a.onClose,d=a.pushPage;a=a.qpBannerContainerQueryRef;var e=j(),f=i.useCallback(function(){e(),c()},[c,e]);i.useEffect(function(){return e},[e]);var h=i.useState(!1),l=h[0];h=h[1];var m=i.useState(""),n=m[0];m=m[1];var o=b("XCometMessengerControllerRouteBuilder").buildURL({});h=b("useMWJewelThreadListSearchTypeahead.react")(h,m,n,f);var p=b("MWUIJewelPreloadThreadFolder.re").useHook(),q=b("useCallbackCond")(b("gkx")("1827034"),function(){return d(function(a){a=a.onReturn;return i.jsx(b("MWJewelSpamMessagesDropdown.react"),{onClose:f,onReturn:a})})},[f,d]);m=b("useCallbackCond")(b("gkx")("1827034"),function(){p("other"),d(function(a){a=a.onReturn;return i.jsx(b("MWJewelMessageRequestsDropdown.react"),{onClose:f,onOpenSpamMessages:q,onReturn:a})})},[f,q,p,d]);return i.jsxs(b("CometTopNavListDropdown.react").Card,{useMaxHeight:!0,children:[i.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!l&&n==="",children:[i.jsx(b("MWJewelDropdownHeader.react"),{inboxUrl:o,onClose:f,onOpenMessageRequests:m,title:g._("Messenger")}),i.jsx(b("CometErrorBoundary.react"),{onError:k,children:i.jsx(b("CometPlaceholder.react"),{fallback:null,children:i.jsx(b("CometMessagingJewelDropdownQPBannerContainer.react"),{queryRef:a})})}),i.jsx(b("cr:1525945"),{folder:"inbox",onClose:f,onOpenMessageRequests:m,searchTypeahead:h})]}),i.jsx(b("MWJewelMessengerLink.react"),{onClick:f,url:o})]})});function a(a){var c=a.props.onClose,d=a.queries.qpBannerContainerQueryRef;a=i.jsx("div",{className:(h||(h=b("stylex")))([b("CometTopNavListDropdown.react").styles.cardWidth]),children:i.jsx(b("BaseMultiStepContainer.react"),{fitContentWidth:!0,children:function(a){return i.jsx(l,{onClose:c,pushPage:a,qpBannerContainerQueryRef:d})}})});return i.jsx(b("CometTopNavListDropdown.react"),{label:g._("Messenger"),name:"MWJewelDropdown",children:a})}}),null);
__d("useProfileCometSwitcherCleanUpOnSwap",["Banzai","CometRelay","React","ServiceWorkerLoginAndLogout","WebStorageMonster","useProfileCometSwitcherCleanUpOnSwap_query.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useProfileCometSwitcherCleanUpOnSwap_query.graphql"),a);var c=a.logout_whitelist;return h.useCallback(function(){b("WebStorageMonster").cleanOnLogout(c),b("ServiceWorkerLoginAndLogout").logout(),b("Banzai").flush()},[c])}}),null);
__d("MWChatCloseTabs.bs",["React","MessengerWebEvent","MWChatMultitabContext.bs","MWChatMultitabDispatcher.bs","MessengerWebStgTypedLoggerLite.bs","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("useCometFeedNoRoutingNavigationEventLogger")(),d=g.useContext(b("MWChatMultitabContext.bs").context);return g.useCallback(function(a){c(Date.now(),"","messenger");b("MessengerWebStgTypedLoggerLite.bs").log({event_name:b("MessengerWebEvent").CLOSE_ALL_CHAT_TABS});if(d!==void 0)return b("MWChatMultitabDispatcher.bs").dispatch(void 0,d,1)},[d,c])}f.useHook=a}),null);
__d("MWChatCloseTabs.re",["MWChatCloseTabs.bs"],(function(a,b,c,d,e,f){a=b("MWChatCloseTabs.bs").useHook;f.useHook=a}),null);
__d("MWChatCollapseTabs.bs",["React","MessengerWebEvent","MWChatMultitabContext.bs","MWChatMultitabDispatcher.bs","MessengerWebStgTypedLoggerLite.bs","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("useCometFeedNoRoutingNavigationEventLogger")(),d=g.useContext(b("MWChatMultitabContext.bs").context);return g.useCallback(function(a){c(Date.now(),"","messenger");b("MessengerWebStgTypedLoggerLite.bs").log({event_name:b("MessengerWebEvent").MINIMIZE_ALL_CHAT_TABS});if(d!==void 0)return b("MWChatMultitabDispatcher.bs").dispatch(void 0,d,2)},[d,c])}f.useHook=a}),null);
__d("MWChatCollapseTabs.re",["MWChatCollapseTabs.bs"],(function(a,b,c,d,e,f){a=b("MWChatCollapseTabs.bs").useHook;f.useHook=a}),null);
__d("MWChatSettingsHeadPopover.react",["ix","fbt","CometMenu.react","CometMenuItem.react","MWChatCloseTabs.re","MWChatCollapseTabs.re","React","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=b("MWChatCloseTabs.re").useHook(),d=b("MWChatCollapseTabs.re").useHook();return i.jsxs(b("CometMenu.react"),{withArrow:!0,children:[i.jsx(b("CometMenuItem.react"),{icon:b("fbicon")._(g("491584"),20),onClick:function(a){return c()},primaryText:h._("Close all chats")}),i.jsx(b("CometMenuItem.react"),{icon:b("fbicon")._(g("518013"),20),onClick:function(a){return d()},primaryText:h._("Minimize open chats")})]})}}),null);
__d("MWJewelOpenTabForCurrentThread.bs",["bs_curry","React","MWThread_DEPRECATED.bs","MWChatOpenTabForPage.bs","MWChatOpenTabForUser.bs","MWChatOpenTabForGroup.bs","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c,d){var e=b("MWThread_DEPRECATED.bs").useIdExn(void 0),f=b("MWChatOpenTabForUser.bs").useHook(void 0,d),h=f[0],i=b("MWChatOpenTabForPage.bs").useHook(void 0,d);f=b("MWChatOpenTabForGroup.bs").useHook(void 0,d);var j=f[0];return g.useCallback(function(d){d=d.metaKey||d.ctrlKey||d.shiftKey;if(a&&!d){d=e.NAME;d==="Group"?b("bs_curry")._1(j,e.VAL):d==="Page"?b("bs_curry")._1(i,e.VAL):d==="User"?b("bs_curry")._1(h,e.VAL):b("unrecoverableViolation")("UserSecret Not supported","messenger_web_product")}return b("bs_curry")._1(c,void 0)},[h,j,i,c,a,e])}f.useHook=a}),null);
__d("MWJewelThreadSnippet.react",["CurrentEnvironment","React","TetraText.react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.isUnread;a=a.text;return c?b("CurrentEnvironment").facebookdotcom?g.jsx(b("TetraText.react"),{color:"highlight",numberOfLines:1,type:"bodyLink4",children:a}):g.jsx(b("TetraText.react"),{color:"primary",numberOfLines:1,type:"bodyLink4",children:a}):g.jsx(b("TetraText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:a})}}),null);
__d("MWJewelSpamMessagesThread.react",["ix","fbt","Locale","MWJewelThreadSnippet.react","React","TetraIcon.react","TetraListCell.react","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=a.spamMessagesCount,d=a.loadedAll;a=a.onOpenSpamMessages;var e=h._("See Spam");d=d?h._("{number} Requests",[h._param("number",c)]):h._("{number}+ Requests",[h._param("number",c)]);return i.jsx(b("TetraListCell.react"),{addOnPrimary:{icon:b("fbicon")._(g("542884"),24),size:56,type:"contained-icon"},addOnSecondary:{addOn:i.jsx(b("TetraIcon.react"),{color:"secondary",icon:b("Locale").isRTL()?b("fbicon")._(g("492485"),16):b("fbicon")._(g("492533"),16)}),type:"body"},body:i.jsx(b("MWJewelThreadSnippet.react"),{isUnread:!1,text:d}),headline:e,level:4,onPress:a})}}),null);
__d("MWJewelThreadAddOnSecondaryIcons",["requireCond","cr:1737009"],(function(a,b,c,d,e,f){"use strict";f.MWJewelThreadAddOnSecondaryIcons=b("cr:1737009")}),null);
__d("MWUIJewelMessageRequestsThread.bs",["requireCond","cr:1516272"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1516272").useHook;f.useHook=a}),null);
__d("MWUIJewelSpamMessagesThread.bs",["requireCond","cr:1531918"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1531918").useHook;f.useHook=a}),null);
__d("TetraMWJewelThreadAddOnSecondaryIcons",["ix","React","TetraIcon.react","fbicon"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");c=a.jsx(b("TetraIcon.react"),{color:"disabled",icon:b("fbicon")._(g("498145"),16)});f.checkmark=c;d=a.jsx(b("TetraIcon.react"),{color:"disabled",icon:b("fbicon")._(g("569284"),16)});f.bell=d}),null);
__d("MWJewelMessageRequestsThread.react",["ix","fbt","Locale","MWJewelThreadSnippet.react","React","TetraIcon.react","TetraListCell.react","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=a.onOpenMessageRequests,d=a.otherParticipantName;a=a.unreadRequestsCount;var e=h._({"*":"New Message Requests","_1":"New Message Request"},[h._plural(a)]),f=h._({"someone":"From someone you may know","people":"From people you may know"},[h._enum(a===1?"someone":"people",{someone:"someone",people:"people"})]);d!=null&&(a===1?f=h._("From {name}",[h._param("name",d)]):f=h._("From {name} and {count} more",[h._param("name",d),h._param("count",a-1)]));return i.jsx(b("TetraListCell.react"),{addOnPrimary:{icon:b("fbicon")._(g("542884"),24),size:56,type:"contained-icon"},addOnSecondary:{addOn:i.jsx(b("TetraIcon.react"),{color:"secondary",icon:b("Locale").isRTL()?b("fbicon")._(g("492485"),16):b("fbicon")._(g("492533"),16)}),type:"body"},body:i.jsx(b("MWJewelThreadSnippet.react"),{isUnread:!0,text:f}),headline:e,level:4,onPress:c})}}),null);
__d("MWUIMarkThreadAsRead.re",["MWUIMarkThreadAsRead.bs"],(function(a,b,c,d,e,f){a=b("MWUIMarkThreadAsRead.bs").useHook;f.useHook=a}),null);
__d("useMWJewelThreadAddOnSecondary",["fbt","CometBadge.react","CometPressable.react","MWJewelThreadAddOnSecondaryIcons","MWUIMarkThreadAsRead.re","React","TetraOverlappingFacepileUnstyled.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i=g._("Mark as Read");function a(a,c,d,e){var f=b("MWUIMarkThreadAsRead.re").useHook();if(a)return{addOn:h.jsx(b("CometPressable.react"),{"aria-label":i,expanding:!0,onPress:function(){return f()},children:h.jsx(b("CometBadge.react"),{color:"blue",isProfileBadge:!0,size:12})}),type:"body"};if(c)return{addOn:b("MWJewelThreadAddOnSecondaryIcons").MWJewelThreadAddOnSecondaryIcons.bell,type:"body"};if(d)if(e.length===0)return{addOn:b("MWJewelThreadAddOnSecondaryIcons").MWJewelThreadAddOnSecondaryIcons.checkmark,type:"body"};else return{addOn:h.jsx(b("TetraOverlappingFacepileUnstyled.react"),{count:e.length,isTextInline:!0,items:e.map(function(a){return{alt:a.alt,source:{uri:a.src}}}),size:16}),type:"body"};return{addOn:h.jsx("div",{className:"fwizqjfa cyypbtt7"}),type:"body"}}}),null);
__d("MWUIMarkThreadAsUnread.bs",["requireCond","cr:1613538"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1613538").useHook;f.useHook=a}),null);
__d("RTWebInboxJoinOngoingCallIcon.react",["ix","React","TetraIcon.react","fbicon","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i=function(a){switch(a){case"AUDIO_GROUP_CALL":return b("fbicon")._(g("558161"),20);case"VIDEO_GROUP_CALL":return b("fbicon")._(g("493174"),20);default:return null}};function a(a){var c=a.hidden;a=a.ongoingCallType;if(c)return null;c=i(a);return c===null?null:h.jsx("div",{className:"ke6wolob rk01pc8j pmk7jnqg mrt03zmi rm21btxo akv41dx8 spb7xbtv bkmhp75w emlxlaya s45kfl79",children:h.jsx("div",{className:"thwo4zme l9j0dhe7 a8nywdso qt6c0cv9 rz4wbd8a jb3vyjys taijpn5t tv7at329 j83agx80 rq0escxv sk4xxmp2 agehan2d n8ej3o3l rt8b4zig spb7xbtv bkmhp75w emlxlaya s45kfl79 h5vs1ck6 bp9cbjyn",children:h.jsx(b("TetraIcon.react"),{color:"white",icon:c,size:20})})})}}),null);
__d("RTWebJoinOngoingCallMenuItem.react",["ix","fbt","CometMenuItem.react","React","ZenonUserActionLogger","fbicon","useRTWebCometStartCallCallback"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=a.callData,d=a.fbid,e=b("useRTWebCometStartCallCallback")();a=(a=c==null?void 0:c.call_state)!=null?a:"NO_ONGOING_CALL";var f,j,k;switch(a){case"AUDIO_GROUP_CALL":f=b("fbicon")._(g("558161"),20);j=h._("Join Call");k="audio";break;case"VIDEO_GROUP_CALL":f=b("fbicon")._(g("493174"),20);j=h._("Join Video Chat");k="video";break;default:return null}return i.jsx(b("CometMenuItem.react"),{icon:f,onClick:function(){c!=null&&(b("ZenonUserActionLogger").logClick({component:"join_call_button",surface:"messages_jewel"}),e({existingCall:c,mediaType:k,thread:{id:d,type:2},trigger:"multiway_thread_list_join_call_button"}))},primaryText:j})}}),null);
__d("FBRTCConstants",["keyMirror"],(function(a,b,c,d,e,f){f.convertFromUploadLogLevel=a;f.convertToUploadLogLevel=c;f.uploadLogLevelString=d;f.endCallReasonFromString=e;f.callEndReasonString=i;f.fullCallEndReasonString=j;a=Object.freeze({OFFER:"offer",ANSWER:"answer",ICE_CANDIDATE:"ice_candidate",OK:"ok",PING:"ping",PING_ACK:"ping_ack",HANGUP:"hang_up",OTHER_DISMISS:"other_dismiss",MSG_ACK:"msg_ack",PRANSWER:"pranswer",ICERESTART_OFFER:"icerestart_offer",ICERESTART_ANSWER:"icerestart_answer",PCRESTART_OFFER:"pcrestart_offer",PCRESTART_ANSWER:"pcrestart_answer",SDP_UPDATE:"sdp_update",OFFER_ACK:"offer_ack",OFFER_NACK:"offer_nack",ANSWER_ACK:"answer_ack",SET_VIDEO:"set_video",VIDEO_REQUEST:"video_request",ACK:"ack",SWITCH_TO_MULTIWAY:"switch_to_multiway",CLIENT_REPORTED_EVENT:"client_reported_event"});f.PayloadType=a;c=Object.freeze({CHILD_WINDOW_READY:"rtc_child_window_ready",CHILD_WINDOW_START_CALL:"rtc_child_window_start_call",CHILD_WINDOW_MESSAGE:"rtc_child_window_message"});f.ChildWindowMessageType=c;d=Object.freeze({DIRECT_VIDEO:"direct_video",ESCALATED:"escalated",ESCALATION_DECLINED:"escalation_declined",VOIP:"voip"});f.CallType=d;e=b("keyMirror")({SCREEN:null,CAMERA:null});f.MediaContentTypes=e;var g=Object.freeze({LL_NIL:0,LL_BASIC:1,LL_DEBUG:2,LL_WARNING:3,LL_INFO:4,LL_VERBOSE:5});f.UploadLogLevel=g;i=Object.freeze({AUDIO_ONLY:"audio_only",AUDIO_VIDEO:"audio_video",SCREEN_CONTENT:"screen"});f.StreamType=i;j=Object.freeze({CUSTOM_VIDEO_STREAM_SIZE:"CUSTOM_VIDEO_STREAM_SIZE",CUSTOM_VIDEO:"CUSTOM_VIDEO",FHD_VIDEO:"FHD_VIDEO",HD_VIDEO:"HD_VIDEO",LQ_VIDEO:"LQ_VIDEO",SD_VIDEO:"SD_VIDEO",HD_IDEAL_LQ_REQUIRED_VIDEO:"HD_IDEAL_LQ_REQUIRED_VIDEO",FHD_IDEAL_LQ_REQUIRED_VIDEO:"FHD_IDEAL_LQ_REQUIRED_VIDEO"});f.VideoQuality=j;a=Object.freeze({FHD_HEIGHT:1080,HD_HEIGHT:720,LQ_HEIGHT:180,SD_HEIGHT:480,FHD_WIDTH:1920,HD_WIDTH:1280,LQ_WIDTH:320,SD_WIDTH:848,VLQ_FRAME_RATE:5,LQ_FRAME_RATE:15,FRAME_RATE:30});f.RTCConstraints=a;c=Object.freeze({UNKNOWN:-1,IGNORE_CALL:0,HANGUP_CALL:1,IN_ANOTHER_CALL:2,ACCEPT_AFTER_HANGUP:3,NO_ANSWER_TIMEOUT:4,INCOMING_TIMEOUT:5,OTHER_INSTANCE_HANDLED:6,SIGNALING_MESSAGE_FAILED:7,CONNECTION_DROPPED:8,CLIENT_INTERRUPTED:9,WEBRTC_ERROR:10,CLIENT_ERROR:11,NO_PERMISSION:12,OTHER_NOT_CAPABLE:13,NO_UI_ERROR:14,UNSUPPORTED_VERSION:15,CALLER_NOT_VISIBLE:16,CARRIER_BLOCKED:17,OTHER_CARRIER_BLOCKED:18,CLIENT_ENCRYPTION_ERROR:19,INACTIVE_TIMEOUT:20,KILLED:21,TX_ACK_TIMEOUT:22});f.CallEndReason=c;var h=["IgnoreCall","HangupCall","InAnotherCall","CallEndAcceptAfterHangUp","NoAnswerTimeout","IncomingTimeout","OtherInstanceHandled","SignalingMessageFailed","ConnectionDropped","ClientInterrupted","WebRTCError","ClientError","NoPermission","OtherNotCapable","NoUIShown","VersionUnsupported","CallerNotVisible","CarrierBlocked","OtherCarrierBlocked","ClientEncryptionError","InactiveTimeout","Killed","TxAckTimeout"];d=Object.freeze({CALL_INITIALIZATION_FAILED:"CollabCallInitializationFailed",CLOSED_AS_STALE:"CollabClosedAsStale",CLOSED_BY_MCU:"CollabClosedByMcu",INVALID_MEETING_ID:"CollabInvalidMeetingId",LOST_MCU_CONNECTION:"CollabLostMcuConnection",LOST_MCU_THRIFT_CONNECTION:"CollabLostMcuThriftConnection",LOST_SIP_ADAPTER_CONNECTION:"CollabLostSipAdapterConnection",MCU_INVALID_STREAM_CONFIGURATION:"CollabMcuInvalidStreamConfiguration",MCU_NO_AUDIO_STREAM:"CollabMcuNoAudioStream",REMOTE_PEER_HANGUP:"CollabRemotePeerHangup",REMOTE_PEER_REJECT:"CollabRemotePeerReject",SIP_CONNECTION_INITIALIZATION_FAILED:"CollabSipConnectionInitializationFailed",AUDIO_ONLY_DISALLOWED:"CollabAudioOnlyDisallowed",UNKNOWN:"CollabUnknown",KILLED_VIA_THRIFT_API:"CollabKilledViaThriftApi"});f.CollabCallEndSubreason=d;e=Object.freeze({TOGGLE_SELF_VIEW:5,SUBMIT_STAR_RATING:6,SUBMIT_FEEDBACK:7,START_CALL:9,OPEN_SCREEN_IN_NEW:10});f.UIEventType=e;i=Object.freeze({ONE_HOUR:"1hour",UNTIL_EIGHT_AM:"8am",ALWAYS:"always"});f.CallBlockingConstants=i;j=b("keyMirror")({AUDIO:null,VIDEO:null});f.IncomingCallDialogTypes=j;a=Object.freeze({CUSTOM:"custom",MULTIWAY:"multiway",P2P:"p2p"});f.SignalingProtocol=a;c=Object.freeze({DOMINANT_SPEAKER:"DOMINANT_SPEAKER",GRID:"GRID"});f.GroupVideoViewLayout=c;d=Object.freeze({LANDSCAPE:"LANDSCAPE",PORTRAIT:"PORTRAIT"});f.Orientation=d;e=Object.freeze({UNKNOWN:0,MEDIA_CONNECTED:1});f.ClientReportedEventType=e;i=Object.freeze({PLAN_B:"plan-b",UNIFIED_PLAN:"unified-plan"});f.SDPSemantics=i;function a(a){switch(a){case g.LL_DEBUG:return"d";case g.LL_BASIC:return"b";case g.LL_WARNING:return"w";case g.LL_INFO:return"i";case g.LL_VERBOSE:return"v";case g.LL_NIL:default:return null}}function c(a){switch(a){case"d":return g.LL_DEBUG;case"b":return g.LL_BASIC;case"w":return g.LL_WARNING;case"i":return g.LL_INFO;case"v":return g.LL_VERBOSE;default:return g.LL_NIL}}function d(a){switch(a){case g.LL_BASIC:return"basic";case g.LL_DEBUG:return"debug";case g.LL_WARNING:return"warning";case g.LL_INFO:return"info";case g.LL_VERBOSE:return"verbose";default:return""}}function e(a){return h.indexOf(a)}function i(a){a=h[a];return!a?"Unknown":a}function j(a,b){return this.callEndReasonString(a)+"_"+(b?"remote":"local")}}),null);
__d("FBRTCSupport",["UserAgent","gkx","qex"],(function(a,b,c,d,e,f){var g={isWebrtcSupported:function(){return b("UserAgent").isBrowser("Chrome >= 28")||b("UserAgent").isBrowser("Firefox >= 25")||b("UserAgent").isBrowser("Edge >= 15.15042")&&b("gkx")("1341692")&&!b("gkx")("1680228")||b("UserAgent").isBrowser("Edge (Chromium Based) >= 74.1")||b("UserAgent").isBrowser("Opera >= 20")||g.isSupportedSafariVersion()&&b("gkx")("875718")||b("UserAgent").isBrowser("Oculus Browser >= 6")&&b("gkx")("1188589")||this.isUnifiedEnabledForCallsExperimentation()},isGroupCallWebtrcSupported:function(){return b("UserAgent").isBrowser("Chrome >= 28")||b("UserAgent").isBrowser("Edge (Chromium Based) >= 74.1")||b("UserAgent").isBrowser("Opera >= 20")||g.isSupportedSafariVersion()&&b("gkx")("875718")||this.isUnifiedEnabledForCallsExperimentation()},isUnifiedEnabledForCallsExperimentation:function(){return b("qex")._("1265876")||!1},isCollabSupported:function(){return g.isWebrtcSupported()&&(!!b("gkx")("1738376")||b("UserAgent").isBrowser("Chrome >= "+65))},canUseUnifiedPlan:function(a){var c=b("UserAgent").isBrowser("Chrome >= 73")||b("UserAgent").isBrowser("Safari >= 12.2");if(a)return c;a=b("gkx")("919244")&&c;return a||b("UserAgent").isBrowser("Mobile Safari >= 12.1.1")},isSupportedSafariVersion:function(){return b("UserAgent").isBrowser("Safari >= 12.1")||b("UserAgent").isBrowser("Mobile Safari >= 12.1")},isMobileDevice:function(){return b("UserAgent").isPlatform("Android")||b("UserAgent").isPlatform("iOS")},isVideoFilterEffectSupported:function(){return!g.isMobileDevice()&&(b("UserAgent").isBrowser("Chrome >= 51")||b("UserAgent").isBrowser("Opera >= 36"))},videoEscalationByUnmuteWorkaround:function(){return b("UserAgent").isBrowser("Firefox < 60")||b("UserAgent").isBrowser("Edge")},isChromiumBased:function(){return b("UserAgent").isBrowser("Chrome")||b("UserAgent").isBrowser("Opera")||b("UserAgent").isBrowser("Edge (Chromium Based) >= 74.1")}};e.exports=g}),null);
__d("ScotchRTWebLoggingSharedInstance",["ChannelClientID"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=b("ChannelClientID").getID()}var c=a.prototype;c.getDeviceID=function(){return this.$1};return a}();c=new a();e.exports=c}),null);
__d("ScotchRTWebUserActionLogger",["CurrentUser","FBRTCConsoleLogger","FBRTCSupport","RtcWebUserActionsDebugFalcoEvent","RtcWebUserActionsFalcoEvent","ScotchRTWebLoggingSharedInstance","ZenonSDESKeyDetector","immutable","performanceNow","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){function a(){this.$1={callID:void 0,callType:void 0,mediaType:void 0,conferenceName:void 0,conferenceState:void 0},this.$2=b("immutable").Map(),this.$3=new Set(),this.$4=new Set(),this.$5=b("ScotchRTWebLoggingSharedInstance").getDeviceID(),this.$6=this.$7(),this.clearCache()}var c=a.prototype;c.clearCache=function(){this.$1={callID:void 0,callType:void 0,mediaType:void 0,conferenceName:void 0,conferenceState:void 0}};c.logImpression=function(a){this.logEvent(babelHelpers["extends"]({eventName:"impression"},a))};c.logPreCallImpression=function(a){this.clearCache(),this.logImpression(a)};c.logPreCallClick=function(a){this.clearCache(),this.logClick(a)};c.logClick=function(a){this.logEvent(babelHelpers["extends"]({eventName:"tap"},a))};c.logError=function(a){this.logEvent(babelHelpers["extends"]({eventName:"error"},a))};c.startTimer=function(a){var c=(g||(g=b("performanceNow")))();this.$2=this.$2.set(a,c);this.logCheckpoint({checkpoint:a+"_timerStart"});this.$8(a,{startTime:c})};c.logStopTimer=function(a){var b=a.checkpointName===void 0?a.timerName:a.checkpointName,c=a.event||{};c.timeElapsed=this.$9(a.timerName);this.logCheckpoint(babelHelpers["extends"]({checkpoint:b+"_timerEnd"},c));return c.timeElapsed};c.logCheckpoint=function(a,b){this.logEvent(babelHelpers["extends"]({eventName:"checkpoint"},a),b)};c.$10=function(a){return a===null||a===void 0};c.logEvent=function(a,c){if(b("ZenonSDESKeyDetector")(a))throw b("unrecoverableViolation")("ScotchRTWebUserAction event contains SDES crypto key! This log entry must be removed!","rtc_www");var d=this.$1;d.callID=this.$10(a.callID)?d.callID:a.callID;d.callType=a.callType||d.callType;d.conferenceState=a.conferenceState||d.conferenceState;d.conferenceName=this.$10(a.conferenceName)?d.conferenceName:a.conferenceName;d.isCaller=a.isCaller==null?d.isCaller:a.isCaller;d.mediaType=a.mediaType||d.mediaType;this.$11(a,d);d=this.$12(a,d);(c==null?void 0:c.noConsole)!==!0&&this.$8(a.eventName,d)};c.$12=function(a,c){var d,e={call_type:c.callType,client_time:Date.now().toString(),device_id:this.$5,error_domain:a.errorDomain,error_type:a.errorType,component:a.component,conference_state:c.conferenceState,event:a.eventName,media_type:c.mediaType,page:this.$6,call_id:c.callID,conference_name:c.conferenceName,surface:a.surface,checkpoint:a.checkpoint,event_time_elapsed:(d=a.timeElapsed)==null?void 0:d.toString(),is_caller:c.isCaller,codebase_version:"Scotch",state_machine_id:a.stateMachineID};b("RtcWebUserActionsFalcoEvent").log(function(){return e});return e};c.$11=function(a,c){var d,e={call_type:c.callType,client_time:Date.now().toString(),device_id:this.$5,error_domain:a.errorDomain,error_type:a.errorType,component:a.component,conference_state:c.conferenceState,event:a.eventName,media_type:c.mediaType,page:this.$6,call_id:c.callID,conference_name:c.conferenceName,surface:a.surface,checkpoint:a.checkpoint,event_time_elapsed:(d=a.timeElapsed)==null?void 0:d.toString(),is_caller:c.isCaller,codebase_version:"Scotch",state_machine_id:a.stateMachineID};b("RtcWebUserActionsDebugFalcoEvent").log(function(){return e});return e};c.getCallType=function(a,b){b===void 0&&(b=!1);if(a===null||a===void 0)return null;if(a)return"mw";else if(b)return"escalated";else return"p2p"};c.getAudioVideoComponent=function(a){return a===null||a===void 0?null:a?"audio_button":"video_button"};c.getMediaType=function(a,b){b===void 0&&(b=!1);if(b)return"escalated";else if(a)return"audio";else return"video"};c.logErrorOnceforDomain=function(a,b){this.$3.has(a)||(this.$3.add(a),this.logError({errorDomain:a,errorType:b.toString()}))};c.logCheckpointOnceForDomain=function(a){var b=a.checkpoint;this.$4.has(b)||(this.$4.add(b),this.logCheckpoint(a))};c.clearLoggedDomains=function(){this.$3.clear(),this.$4.clear()};c.getWebLoggerInfoFromStore=function(a){a=a.callInfo;var b=a.callID,c=a.conferenceName;a=a.conferenceState;return{callID:b,conferenceName:c,conferenceState:a}};c.$7=function(){if(b("FBRTCSupport").isMobileDevice())return"mweb";else if(b("CurrentUser").isWorkUser())return"workplace";var a=window.location.hostname;if(a.search("facebook")!==-1)return"facebook";else if(a.search("messenger")!==-1)return"messenger_dot_com";return a};c.$9=function(a){var c=this.$2.get(a);if(c){this.$2=this.$2.remove(a);return parseInt((g||(g=b("performanceNow")))()-c,10)}return null};c.$8=function(a,c){a=a==null?"null":a;b("FBRTCConsoleLogger").getInstance().getLogHistory().log(a,JSON.stringify(c))};return a}();c=new a();e.exports=c}),null);
__d("ZenonUsers",["Promise","MercuryIDs","MessengerParticipants.re","immutable","isStringNullOrEmpty","memoizeWithArgs","nullthrows","$InternalEnum"],(function(a,b,c,d,e,f){"use strict";f.getMulti=a;f.getMultiEager=c;f.get=d;f.getNow=e;var g=b("$InternalEnum").Mirrored(["Guest","User","Page"]);f.ZenonUserType=g;var h=b("memoizeWithArgs")(function(a){var b=a.big_image_src,c=a.fbid,d=a.gender,e=a.href,f=a.image_src,g=a.name,h=a.short_name,j=a.user_type;a=a.vanity;return Object.freeze({gender:d,id:c,name:g,profilePictureUrl:(c=(d=b)!=null?d:f)!=null?c:null,profileUrl:(g=e)!=null?g:null,shortName:h,userType:i(j),vanity:(b=a)!=null?b:null})},function(a){a=a.fbid;return a}),i=function(a){a=a;if(a==="guest")return g.Guest;else if(a==="page")return g.Page;return g.User},j=function(a){var c=a[0];a=a[1];return[b("nullthrows")(b("MercuryIDs").getUserIDFromParticipantID(c)),h(a)]};function a(a){return new(b("Promise"))(function(c){var d=a.map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a)});b("MessengerParticipants.re").getMulti(d,function(a){c(b("immutable").Map(a).mapEntries(j))})})}function c(a){a=a.map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a)});var c=null,d=null;a=b("MessengerParticipants.re").getMultiEagerMap(a,function(a){a=a.mapEntries(j);c?c(a):d=a});var e=a[0];a=a[1];return[e.mapEntries(j),a!=null?new(b("Promise"))(function(a){d?a(d):c=a}):null]}function d(a){return b("isStringNullOrEmpty")(a)?b("Promise").resolve(null):new(b("Promise"))(function(c){b("MessengerParticipants.re").get(b("MercuryIDs").getParticipantIDFromUserID(a),function(a){c(a?h(a):null)})})}function e(a){if(b("isStringNullOrEmpty")(a))return null;a=b("MessengerParticipants.re").getNow(b("MercuryIDs").getParticipantIDFromUserID(a));return a?h(a):null}}),null);
__d("ZenonUsersHooks",["React","ZenonUsers","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";f.useZenonUsers=a;f.useZenonUser=c;var g=b("React");function a(a){var c=g.useRef(a),d=g.useState(b("immutable").Map()),e=d[0],f=d[1];g.useEffect(function(){return function(){c.current=null}},[]);g.useLayoutEffect(function(){c.current=a;var d=b("ZenonUsers").getMultiEager(a),e=d[0];d=d[1];f(e);d&&b("promiseDone")(d,function(a){var b=c.current;b&&f(function(c){return c.withMutations(function(c){b.forEach(function(b){var d=a.get(b);d&&c.set(b,d)})})})})},[a]);g.useDebugValue(e);return e}function c(a){var c=g.useRef(a),d=g.useState(function(){return b("ZenonUsers").getNow(a)}),e=d[0],f=d[1];g.useEffect(function(){c.current=a},[a]);g.useEffect(function(){return function(){c.current=null}},[]);g.useLayoutEffect(function(){var d=b("ZenonUsers").getNow(a);if(d!==e){f(d);return}b("promiseDone")(b("ZenonUsers").get(a),function(b){c.current===a&&f(b)})},[a,e]);g.useDebugValue(e);return e}}),null);
__d("ZenonIncomingRingSDKTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Hangup","OtherDismiss"]);f.ZenonCancelReason=a}),null);
__d("fbwebrtc_ClientStack",[],(function(a,b,c,d,e,f){a=Object.freeze({OLD_CLIENT_PLATFORM_STACK:0,RSYS_X:1,IG_OLD_STACK:2,MLITE_OLD_STACK:3,SCOTCH:4,ZENON:5});e.exports=a}),null);
__d("multiway_ApprovalStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({DENIED:0,APPROVED:1});e.exports=a}),null);
__d("multiway_Capability",[],(function(a,b,c,d,e,f){a=Object.freeze({SUPPORT_AUDIO_DEPRECATED:0,SUPPORT_VIDEO_DEPRECATED:1,SUPPORT_EXPERIMENTS_IN_JOIN_RESPONSE:2,SUPPORT_NEW_PARTICIPANT_STATES:3,SUPPORT_SDP_RENEGOTIATION:4,SUPPORT_MWPP:5,REQUIRE_FULL_SDP_IN_SMU:6,SUPPORT_PRECONNECT:7,SUPPORT_MWPP_DEESCALATION:8,SUPPORT_PARTICIPANT_STATE_UNCALLABLE:9,SUPPORT_MULTIPLE_VIDEO_STREAMS:10});e.exports=a}),null);
__d("multiway_ClientEventType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,MEDIA_CONNECTED:1});e.exports=a}),null);
__d("multiway_DeviceStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({OK:0,NOT_SUPPORTED:1,IN_ANOTHER_CALL:10});e.exports=a}),null);
__d("multiway_DismissReason",[],(function(a,b,c,d,e,f){a=Object.freeze({CALL_ENDED:0,ANSWERED_ON_ANOTHER_DEVICE:1,IN_ANOTHER_CALL:2,CONNECTION_DROPPED:3,REJECTED_ON_ANOTHER_DEVICE:4,REMOVED_BY_PARTICIPANT:5,REJECTED_BY_CALLEE:6,INTERNAL_ERROR:7,CALL_ENDED_BY_PRODUCT:9,JOIN_APPROVAL_DENIED:10,JOIN_APPROVAL_TIMEDOUT:11,UNSUPPORTED_VERSION:12,LIVE_NOT_ACKED:13,TX_ACK_TIMEDOUT:14});e.exports=a}),null);
__d("multiway_EndpointServiceType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,COMPOSITING_SERVICE:1});e.exports=a}),null);
__d("multiway_HangupReason",[],(function(a,b,c,d,e,f){a=Object.freeze({IGNORE_CALL:0,HANGUP_CALL:1,NO_ANSWER_TIMEOUT:2,CLIENT_ERROR:3,IN_ANOTHER_CALL:4,CLIENT_INTERRUPTED:5,SESSION_MIGRATED:6});e.exports=a}),null);
__d("multiway_MediaPauseStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NotPaused:0,Paused:1});e.exports=a}),null);
__d("multiway_MessageType",[],(function(a,b,c,d,e,f){a=Object.freeze({JOIN:0,SERVER_MEDIA_UPDATE:1,HANGUP:2,ICE_CANDIDATE:3,RING:4,DISMISS:5,CONFERENCE_STATE:6,ADD_PARTICIPANTS:7,SUBSCRIPTION:8,CLIENT_MEDIA_UPDATE:9,DATA_MESSAGE:10,REMOVE_PARTICIPANTS:11,PING:18,P2P_PROTOCOL:19,UPDATE:20,NOTIFY:21,CONNECT:22,CLIENT_EVENT:23,UNSUBSCRIBE:25,APPROVAL:26});e.exports=a}),null);
__d("multiway_ParticipantCallState",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,CONTACTING:6,RINGING:7,CONNECTING:8,CONNECTED:9,PARTICIPANT_LIMIT_REACHED:10,IN_ANOTHER_CALL:11,RING_TYPE_UNSUPPORTED:12,PENDING_APPROVAL:13,APPROVED:14,FAILED_APPROVAL:15,HANGUP_IN_WAITING_ROOM:16,UNCALLABLE:17});e.exports=a}),null);
__d("multiway_RingType",[],(function(a,b,c,d,e,f){a=Object.freeze({GROUP_AUDIO_CALL:0,PEER_VIDEO_CALL:1,PEER_AUDIO_CALL:2,GROUP_VIDEO_CALL:3,LIVE_STREAM:4,PEER_ESCALATED_VIDEO_CALL:5,PEER_ESCALATED_AUDIO_CALL:6});e.exports=a}),null);
__d("multiway_RtcResponseStatusCode",[],(function(a,b,c,d,e,f){a=Object.freeze({OK:200,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,METHOD_NOT_ALLOWED:406,CONFLICT:409,CONDITIONAL_REQUEST_FAILED:412,SERVER_INTERNAL_ERROR:500,SERVICE_UNAVAILABLE:503});e.exports=a}),null);
__d("multiway_RtcResponseSubCode",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:1e3,EXCEEDED_MAX_ALLOWED_PARTICIPANTS:1001,MEMBERSHIP_CHECK_FAIL:1002,CONFERENCE_THROTTLED:1003,ENDPOINT_THROTTLED:1004,MWS_MESSAGE_SENT_TO_INCORRECT_REGION:1005,UNSUPPORTED_REQUEST_TYPE:2e3,CLIENT_REQUEST_UNACCEPTABLE:2001,CLIENT_RESPONSE_UNACCEPTABLE:2002,RING_RESPONSE_BODY_NOT_SET:2004,SERVER_MEDIA_UPDATE_RESPONSE_BODY_NOT_SET:2005,INVALID_SDP:2006,INVALID_CONFERENCE_NAME:2007,SERVER_INFO_CONFERENCE_NAME_MISMATCH:2008,INVALID_USER_ID:2009,INCORRECT_VERSION_RANGE:2010,SENDER_ID_MISMATCH:2011,RECIPIENT_NOT_SPECIFIED:2012,FIELD_NOT_ALLOWED:2013,USERS_NOT_SPECIFIED:2015,REQUEST_UNACCEPTABLE_FOR_ENDPOINT_STATE:2016,INVALID_CALL_ID:2017,SESSION_DESCRIPTION_ID_MISMATCH:2018,EMPTY_CLIENT_MEDIA_UPDATES:2019,INVALID_SERVER_INFO_DATA:2020,INCORRECT_STATE_VERSION:2021,MISMATCHED_STATE_FOR_VERSION:2022,INVALID_STATE_VERSION:2023,NO_RESOLVER_FOUND:2024,MISSING_APPROVERLIST:2025,FULL_SDP_REQUIRED_IN_APPROVED_STATE:2026,INVALID_BROADCAST_ID:2027,INVALID_ENDPOINT_CONFIG:2028,MISSING_BODY_ENDPOINT:2101,MISSING_BODY_HEADER:2102,MISSING_BODY_BODY:2103,MISSING_BODY_PARAMS:2104,MISSING_BODY_REMOVE_PARTICIPANTS_REQUEST:2105,MISSING_BODY_DATA_MESSAGE_REQUEST:2106,MISSING_BODY_CLIENT_MEDIA_UPDATE_REQUEST:2107,MISSING_BODY_ADD_PARTICIPANTS_REQUEST:2108,MISSING_BODY_SUBSCRIPTION_REQUEST:2110,MISSING_BODY_JOIN_REQUEST:2111,MISSING_BODY_HANGUP_REQUEST:2112,MISSING_BODY_ICE_CANDIDATE_REQUEST:2113,MISSING_BODY_P2P_MESSAGE_REQUEST:2114,MISSING_BODY_UPDATE_REQUEST:2115,MISSING_BODY_CLIENT_EVENT_REQUEST:2116,MISSING_BODY_CONNECT_REQUEST:2117,MISSING_BODY_UNSUBSCRIBE_REQUEST:2118,MISSING_BODY_APPROVAL_REQUEST:2119,MISSING_BODY_GENERIC:2199,REQUESTOR_NOT_MEMBER_CONFERENCE:3002,NOT_BROADCAST_OWNER:3003,GUEST_NOT_INVITED:3004,GUEST_DISCONNECTED:3005,GUEST_INVITATION_EXPIRED:3006,SHOULD_USE_NEW_SIGNALING_PATH:3007,PARTICIPANT_IN_PENDING_APPROVAL_STATE:3008,BROADCAST_ALREADY_STOPPED:4002,FAILED_TO_GENERATE_SDP_ANSWER:4003,FAILED_GENERATE_SESSION_DESCRIPTION:4004,SDP_SESSION_ID_MISMATCH:4005,MEDIA_ENDPOINT_GONE:4007,MEDIA_ENDPOINT_ALREADY_EXISTS:4008,MEDIA_ENDPOINT_EXISTS_DIFFERENT_SESSION_ID:4009,LEGACY_MESSENGER_SENDER_UNSET:4010,FAILED_TO_SET_TRANSPORT_INFO:4011,NON_PRIMARY_MULTIWAY_SERVER:4012,FAILED_TO_GET_REMOTE_DESCRIPTION:4013,LOCAL_DESCRIPTION_NOT_SET:4014,INVALID_SDP_TYPE:4015,CLIENT_MEDIA_UPDATE_WITHOUT_REMOTE_SDP_INFO:4016,SDP_UNSET_ON_P2P_ANSWER:4017,MISSING_ICE_CANDIDATE_PAYLOAD:4018,P2P_PROTOCOL_UNSET:4019,CREATE_ACK_FOR_INVALID_MESSAGE_TYPE:4020,LEGACY_CLIENT_CANNOT_JOIN_SFU_MODE:4021,CONNECT_UNSUPPORTED_IN_SFU_MODE:4022,CONNECT_UNSUPPORTED_FOR_JOINED_ENDPOINTS:4023,RESOLVE_STATE_API_ERROR:4024,EXTERNAL_RESOLUTION_ERROR:4025,INTERNAL_RESOLUTION_ERROR:4026,RESOLUTION_DISABLED:4027,BROADCAST_ID_MISSING:4028,SDP_UNSET_ON_P2P_OFFER:4029,CONFERENCE_NOT_FOUND:5001,CONFERENCE_IS_TERMINATING:5002,CONFERENCE_IS_TERMINATED:5003,CONFERENCE_NAME_EMPTY:5004,NONCE_EMPTY:5005,NONCE_MISMATCH:5006,CONFERENCE_HAS_GONE:5007,PARTICIPANT_HAS_GONE:5008,MEDIA_SERVER_NOT_FOUND:5009,MEDIA_CODECS_UNSUPPORTED_BY_CONFERENCE:6001,CONFERENCE_INCAPABLE_RENEGOTIATION:6002,REJECTING_CMU_WHEN_SMU_PENDING:6003,PARTICIPANT_NOT_SUBSCRIBED_TO_TOPIC:6004,PARTICIPANT_ALREADY_IN_WAITING_ROOM:6005,PARTICIPANT_NOT_IN_PENDING_APPROVAL:6006,USER_NOT_APPROVER_FOR_TARGET_USER:6007,UNSUPPORTED_CAPABILITIES:6008,OK:9e3});e.exports=a}),null);
__d("multiway_VideoQuality",[],(function(a,b,c,d,e,f){a=Object.freeze({LOW:0,MEDIUM:1,HIGH:2,HD:3,NUM_QUALITIES:4});e.exports=a}),null);
__d("ZenonMWMessageTypes",["$InternalEnum","multiway_ApprovalStatus","multiway_Capability","fbwebrtc_ClientStack","multiway_DeviceStatus","multiway_DismissReason","multiway_EndpointServiceType","multiway_HangupReason","multiway_MediaPauseStatus","multiway_ParticipantCallState","multiway_RingType","multiway_RtcResponseStatusCode","multiway_RtcResponseSubCode","multiway_MessageType","multiway_VideoQuality","multiway_ClientEventType"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({DEFAULT_AUDIO:0,DEFAULT_VIDEO:1,SCREEN_AUDIO:2,SCREEN_VIDEO:3});e.exports={ZenonMWApprovalStatus:b("multiway_ApprovalStatus"),ZenonMWCapability:b("multiway_Capability"),ZenonMWClientEventType:b("multiway_ClientEventType"),ZenonMWClientStack:b("fbwebrtc_ClientStack"),ZenonMWDeviceStatus:b("multiway_DeviceStatus"),ZenonMWDismissReason:b("multiway_DismissReason"),ZenonMWEndpointServiceType:b("multiway_EndpointServiceType"),ZenonMWHangupReason:b("multiway_HangupReason"),ZenonMWMediaPauseStatus:b("multiway_MediaPauseStatus"),ZenonMWParticipantCallState:b("multiway_ParticipantCallState"),ZenonMWResponseStatusCode:b("multiway_RtcResponseStatusCode"),ZenonMWResponseSubCode:b("multiway_RtcResponseSubCode"),ZenonMWRingType:b("multiway_RingType"),ZenonMWSignalingPayloadType:b("multiway_MessageType"),ZenonMWTrackLabel:a,ZenonMWVideoQuality:b("multiway_VideoQuality")}}),null);
__d("ZenonMediaError",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["IceDisconnected","IceFailure","SetLocalSdpFailed","SetRemoteSdpFailed","UnknownError"]);f.ZenonMediaError=a}),null);
__d("ZenonDismissReason",["FBLogger","ZenonCallsModelTypes","ZenonIncomingRingSDKTypes","ZenonMediaError","ZenonMWMessageTypes","$InternalEnum"],(function(a,b,c,d,e,f){"use strict";f.endCallToDismissReason=a;f.dismissToEndCallReason=c;f.dismissReasonToCancelReason=d;f.mediaErrorToDismissReason=e;f.mwDismissToDmissReason=h;var g=b("$InternalEnum")({IgnoreCall:0,HangupCall:1,InAnotherCall:2,AcceptAfterHangUp:3,NoAnswerTimeout:4,IncomingTimeout:5,OtherInstanceHandled:6,SignalingMessageFailed:7,ConnectionDropped:8,ClientInterrupted:9,WebRTCError:10,ClientError:11,NoPermission:12,OtherNotCapable:13,NoUIShown:14,VersionUnsupported:15,CallerNotVisible:16,CarrierBlocked:17,OtherCarrierBlocked:18,ClientEncryptionError:19,MicrophonePermissionDenied:20,CameraPermissionDenied:21,SessionMigrated:22,RingMuted:23,JoinApprovalDenied:24,RejectedByCallee:25,CallEndedByProduct:26,CallEnded:27,AnsweredOnAnotherDevice:28,RejectedOnAnotherDevice:29,CallCollision:30,MaxAllowedParticipantsReached:31,UnexpectedEndOfCall:32,TxAckTimeout:33});f.ZenonDismissReason=g;function a(a){switch(a){case b("ZenonCallsModelTypes").ZenonEndCallReason.CallEndAcceptAfterHangUp:return g.AcceptAfterHangUp;case b("ZenonCallsModelTypes").ZenonEndCallReason.CallerNotVisible:return g.CallerNotVisible;case b("ZenonCallsModelTypes").ZenonEndCallReason.CarrierBlocked:return g.CarrierBlocked;case b("ZenonCallsModelTypes").ZenonEndCallReason.ClientEncryptionError:return g.ClientEncryptionError;case b("ZenonCallsModelTypes").ZenonEndCallReason.ClientError:return g.ClientError;case b("ZenonCallsModelTypes").ZenonEndCallReason.ClientInterrupted:return g.ClientInterrupted;case b("ZenonCallsModelTypes").ZenonEndCallReason.ConnectionDropped:return g.ConnectionDropped;case b("ZenonCallsModelTypes").ZenonEndCallReason.HangupCall:return g.HangupCall;case b("ZenonCallsModelTypes").ZenonEndCallReason.IgnoreCall:return g.IgnoreCall;case b("ZenonCallsModelTypes").ZenonEndCallReason.InAnotherCall:return g.InAnotherCall;case b("ZenonCallsModelTypes").ZenonEndCallReason.InactiveTimeout:return g.CallEnded;case b("ZenonCallsModelTypes").ZenonEndCallReason.IncomingTimeout:return g.IncomingTimeout;case b("ZenonCallsModelTypes").ZenonEndCallReason.MaxAllowedParticipantsReached:return g.MaxAllowedParticipantsReached;case b("ZenonCallsModelTypes").ZenonEndCallReason.NoAnswerTimeout:return g.NoAnswerTimeout;case b("ZenonCallsModelTypes").ZenonEndCallReason.NoPermission:return g.NoPermission;case b("ZenonCallsModelTypes").ZenonEndCallReason.NoUIShown:return g.NoUIShown;case b("ZenonCallsModelTypes").ZenonEndCallReason.OtherCarrierBlocked:return g.OtherCarrierBlocked;case b("ZenonCallsModelTypes").ZenonEndCallReason.OtherInstanceHandled:return g.OtherInstanceHandled;case b("ZenonCallsModelTypes").ZenonEndCallReason.OtherNotCapable:return g.OtherNotCapable;case b("ZenonCallsModelTypes").ZenonEndCallReason.SignalingMessageFailed:return g.SignalingMessageFailed;case b("ZenonCallsModelTypes").ZenonEndCallReason.UnexpectedEndOfCall:return g.UnexpectedEndOfCall;case b("ZenonCallsModelTypes").ZenonEndCallReason.Unknown:return g.CallEnded;case b("ZenonCallsModelTypes").ZenonEndCallReason.VersionUnsupported:return g.VersionUnsupported;case b("ZenonCallsModelTypes").ZenonEndCallReason.WebRTCError:return g.WebRTCError;case b("ZenonCallsModelTypes").ZenonEndCallReason.MicrophonePermissionDenied:return g.MicrophonePermissionDenied;case b("ZenonCallsModelTypes").ZenonEndCallReason.CameraPermissionDenied:return g.CameraPermissionDenied;case b("ZenonCallsModelTypes").ZenonEndCallReason.SessionMigrated:return g.SessionMigrated;case b("ZenonCallsModelTypes").ZenonEndCallReason.RingMuted:return g.RingMuted;case b("ZenonCallsModelTypes").ZenonEndCallReason.TxAckTimeout:return g.TxAckTimeout}}function c(a){switch(a){case g.CallEnded:case g.CallEndedByProduct:case g.HangupCall:return b("ZenonCallsModelTypes").ZenonEndCallReason.HangupCall;case g.IgnoreCall:case g.JoinApprovalDenied:case g.RejectedByCallee:return b("ZenonCallsModelTypes").ZenonEndCallReason.IgnoreCall;case g.InAnotherCall:return b("ZenonCallsModelTypes").ZenonEndCallReason.InAnotherCall;case g.AcceptAfterHangUp:return b("ZenonCallsModelTypes").ZenonEndCallReason.CallEndAcceptAfterHangUp;case g.NoAnswerTimeout:return b("ZenonCallsModelTypes").ZenonEndCallReason.NoAnswerTimeout;case g.IncomingTimeout:return b("ZenonCallsModelTypes").ZenonEndCallReason.IncomingTimeout;case g.AnsweredOnAnotherDevice:case g.CallCollision:case g.RejectedOnAnotherDevice:case g.OtherInstanceHandled:return b("ZenonCallsModelTypes").ZenonEndCallReason.OtherInstanceHandled;case g.SignalingMessageFailed:return b("ZenonCallsModelTypes").ZenonEndCallReason.SignalingMessageFailed;case g.ConnectionDropped:return b("ZenonCallsModelTypes").ZenonEndCallReason.ConnectionDropped;case g.ClientInterrupted:return b("ZenonCallsModelTypes").ZenonEndCallReason.ClientInterrupted;case g.WebRTCError:return b("ZenonCallsModelTypes").ZenonEndCallReason.WebRTCError;case g.ClientError:return b("ZenonCallsModelTypes").ZenonEndCallReason.ClientError;case g.NoPermission:return b("ZenonCallsModelTypes").ZenonEndCallReason.NoPermission;case g.OtherNotCapable:return b("ZenonCallsModelTypes").ZenonEndCallReason.OtherNotCapable;case g.NoUIShown:return b("ZenonCallsModelTypes").ZenonEndCallReason.NoUIShown;case g.VersionUnsupported:return b("ZenonCallsModelTypes").ZenonEndCallReason.VersionUnsupported;case g.CallerNotVisible:return b("ZenonCallsModelTypes").ZenonEndCallReason.CallerNotVisible;case g.CarrierBlocked:return b("ZenonCallsModelTypes").ZenonEndCallReason.CarrierBlocked;case g.OtherCarrierBlocked:return b("ZenonCallsModelTypes").ZenonEndCallReason.OtherCarrierBlocked;case g.ClientEncryptionError:return b("ZenonCallsModelTypes").ZenonEndCallReason.ClientEncryptionError;case g.UnexpectedEndOfCall:return b("ZenonCallsModelTypes").ZenonEndCallReason.UnexpectedEndOfCall;case g.MaxAllowedParticipantsReached:return b("ZenonCallsModelTypes").ZenonEndCallReason.MaxAllowedParticipantsReached;case g.MicrophonePermissionDenied:return b("ZenonCallsModelTypes").ZenonEndCallReason.MicrophonePermissionDenied;case g.CameraPermissionDenied:return b("ZenonCallsModelTypes").ZenonEndCallReason.CameraPermissionDenied;case g.SessionMigrated:return b("ZenonCallsModelTypes").ZenonEndCallReason.SessionMigrated;case g.RingMuted:return b("ZenonCallsModelTypes").ZenonEndCallReason.RingMuted;case g.TxAckTimeout:return b("ZenonCallsModelTypes").ZenonEndCallReason.TxAckTimeout}b("FBLogger")("rtc_www").mustfix("Unknown dismiss reason: %s",a);return b("ZenonCallsModelTypes").ZenonEndCallReason.Unknown}function d(a){switch(a){case g.OtherInstanceHandled:case g.AnsweredOnAnotherDevice:case g.RejectedOnAnotherDevice:return b("ZenonIncomingRingSDKTypes").ZenonCancelReason.OtherDismiss;default:return b("ZenonIncomingRingSDKTypes").ZenonCancelReason.Hangup}}function e(a){switch(a){case b("ZenonMediaError").ZenonMediaError.IceDisconnected:return g.ConnectionDropped;case b("ZenonMediaError").ZenonMediaError.IceFailure:case b("ZenonMediaError").ZenonMediaError.SetLocalSdpFailed:case b("ZenonMediaError").ZenonMediaError.SetRemoteSdpFailed:return g.WebRTCError;case b("ZenonMediaError").ZenonMediaError.UnknownError:return g.ClientError}}function h(a){return i[a]}var i=Object.freeze((a={},a[(c=b("ZenonMWMessageTypes")).ZenonMWDismissReason.CALL_ENDED]=g.CallEnded,a[c.ZenonMWDismissReason.ANSWERED_ON_ANOTHER_DEVICE]=g.AnsweredOnAnotherDevice,a[c.ZenonMWDismissReason.IN_ANOTHER_CALL]=g.InAnotherCall,a[c.ZenonMWDismissReason.CONNECTION_DROPPED]=g.ConnectionDropped,a[c.ZenonMWDismissReason.REJECTED_ON_ANOTHER_DEVICE]=g.RejectedOnAnotherDevice,a[c.ZenonMWDismissReason.REJECTED_BY_CALLEE]=g.RejectedByCallee,a[c.ZenonMWDismissReason.CALL_ENDED_BY_PRODUCT]=g.CallEndedByProduct,a[c.ZenonMWDismissReason.INTERNAL_ERROR]=g.SignalingMessageFailed,a[c.ZenonMWDismissReason.REMOVED_BY_PARTICIPANT]=g.HangupCall,a[c.ZenonMWDismissReason.TX_ACK_TIMEDOUT]=g.TxAckTimeout,a))}),null);
__d("ZenonParticipantState",["ZenonCallsModelTypes","$InternalEnum"],(function(a,b,c,d,e,f){"use strict";f.toCallParticipantState=a;var g=b("$InternalEnum")({CONTACTING:6,RINGING:7,PENDING_APPROVAL:14,APPROVED:15,NEGOTIATING:8,CONNECTING:9,CONNECTED:10,UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,PARTICIPANT_LIMIT_REACHED:11,IN_ANOTHER_CALL:12,RING_TYPE_UNSUPPORTED:13,FAILED_APPROVAL:16,HANGUP_IN_WAITING_ROOM:17});f.ZenonParticipantState=g;function a(a){if(a==null)return b("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected;switch(a){case g.CONTACTING:return b("ZenonCallsModelTypes").ZenonCallParticipantState.Contacting;case g.RINGING:return b("ZenonCallsModelTypes").ZenonCallParticipantState.Ringing;case g.NEGOTIATING:case g.CONNECTING:return b("ZenonCallsModelTypes").ZenonCallParticipantState.Connecting;case g.CONNECTED:return b("ZenonCallsModelTypes").ZenonCallParticipantState.Connected;case g.PENDING_APPROVAL:return b("ZenonCallsModelTypes").ZenonCallParticipantState.PendingApproval;case g.APPROVED:return b("ZenonCallsModelTypes").ZenonCallParticipantState.Approved;case g.FAILED_APPROVAL:return b("ZenonCallsModelTypes").ZenonCallParticipantState.FailedApproval;case g.HANGUP_IN_WAITING_ROOM:case g.UNKNOWN:case g.DISCONNECTED:case g.NO_ANSWER:case g.REJECTED:case g.UNREACHABLE:case g.CONNECTION_DROPPED:case g.PARTICIPANT_LIMIT_REACHED:case g.IN_ANOTHER_CALL:case g.RING_TYPE_UNSUPPORTED:return b("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected}return b("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected}}),null);
__d("ZenonMWMessageMap",["ZenonMWMessageTypes"],(function(a,b,c,d,e,f){"use strict";d=Object.freeze((a={},a[(c=b("ZenonMWMessageTypes")).ZenonMWSignalingPayloadType.JOIN]="JOIN",a[c.ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE]="SERVER_MEDIA_UPDATE",a[c.ZenonMWSignalingPayloadType.ICE_CANDIDATE]="ICE_CANDIDATE",a[c.ZenonMWSignalingPayloadType.HANGUP]="HANGUP",a[c.ZenonMWSignalingPayloadType.RING]="RING",a[c.ZenonMWSignalingPayloadType.DISMISS]="DISMISS",a[c.ZenonMWSignalingPayloadType.CONFERENCE_STATE]="CONFERENCE_STATE",a[c.ZenonMWSignalingPayloadType.ADD_PARTICIPANTS]="ADD_PARTICIPANTS",a[c.ZenonMWSignalingPayloadType.SUBSCRIPTION]="SUBSCRIPTION",a[c.ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE]="CLIENT_MEDIA_UPDATE",a[c.ZenonMWSignalingPayloadType.DATA_MESSAGE]="DATA_MESSAGE",a[c.ZenonMWSignalingPayloadType.REMOVE_PARTICIPANTS]="REMOVE_PARTICIPANTS",a[c.ZenonMWSignalingPayloadType.PING]="PING",a[c.ZenonMWSignalingPayloadType.P2P_PROTOCOL]="P2P_PROTOCOL",a[c.ZenonMWSignalingPayloadType.NOTIFY]="NOTIFY",a[c.ZenonMWSignalingPayloadType.CONNECT]="CONNECT",a[c.ZenonMWSignalingPayloadType.CLIENT_EVENT]="CLIENT_EVENT",a[c.ZenonMWSignalingPayloadType.UNSUBSCRIBE]="UNSUBSCRIBE",a[c.ZenonMWSignalingPayloadType.UPDATE]="UPDATE",a[c.ZenonMWSignalingPayloadType.APPROVAL]="APPROVAL",a));f=d;e.exports=f}),null);
__d("ZenonDebugLogger",["ChannelClientID","CurrentUser","FacebookAppIDs","Log","LogHistory","ODS","P2PReliabilityTypedLogger","RtcInfraReliabilityFalcoEvent","ScotchRTWebUserActionLogger","UserAgentData","ZenonMWMessageMap","ZenonMWMessageTypes","formatDate","gkx","recoverableViolation","requireCond","cr:1577681","cr:1577682","cr:1577683","$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=null,h=b("cr:1577683")?{ConnectionStateMachine:b("cr:1577683").CONNECTION_STATE_MACHINE,ParentSignalingClient:b("cr:1577683").PARENT_SIGNALING_CLIENT,PeerConnectionStateMachine:b("cr:1577683").PEER_CONNECTION_STATE_MACHINE,SignalingStateMachine:b("cr:1577683").SIGNALING_STATE_MACHINE}:{},i=b("$InternalEnum").Mirrored(["RECEIVED_REQUEST","RECEIVED_RESPONSE","PROCESSED_REQUEST","PROCESSED_RESPONSE","START_PROCESSING_RESPONSE","SENDING_REQUEST","SENDING_RESPONSE","SENT_REQUEST_FROM_HANDLER","SENT_REQUEST","SENT_RESPONSE","SEND_REQUEST_FAILED_FROM_HANDLER","SEND_REQUEST_FAILED","SEND_RESPONSE_FAILED"]),j=b("$InternalEnum").Mirrored(["CLIENT_RECEIVED_MESSAGE","CLIENT_PROCESSED_MESSAGE"]);a=function(){a.getInstance=function(){g||(g=new a());return g};function a(){var a;this.$1=b("LogHistory").getInstance("webrtc");this.$2=b("ChannelClientID").getID();this.$3=JSON.stringify({browser:(a=b("UserAgentData")).browserName,browser_version:a.browserFullVersion,device:a.deviceName,msg_source:"web",os:a.platformName,os_version:a.platformFullVersion,version:2});this.$4=b("FacebookAppIDs").MQTT_WEB}var c=a.prototype;c.$5=function(a){var c=b("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",c+" "+a);b("ScotchRTWebUserActionLogger").logCheckpoint({checkpoint:"[ZP] "+a},{noConsole:!0})};c.$6=function(a,c){var d=b("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",d+" "+a+". StateMachineID:  "+((d=c)!=null?d:""));b("ScotchRTWebUserActionLogger").logCheckpoint({checkpoint:"[ZP] "+a,stateMachineID:c},{noConsole:!0})};c.$7=function(a,c,d,e){e===void 0&&(e=0);a=h[a];if(!a||!b("cr:1577682")||!b("cr:1577681"))return;d==="terminated"?b("cr:1577682").markerEnd(a,b("cr:1577681").SUCCESS,e):b("cr:1577682").markerPoint(a,c,{data:{string:{data:d}},instanceKey:e})};c.$8=function(a){return isNaN(+a)?0:+a};c.$9=function(a){a=a.jsonPayload.header;return a.responseStatusCode!=null};c.$10=function(a,c){var d=this,e=c.endpoint,f=c.jsonPayload.header;b("RtcInfraReliabilityFalcoEvent").log(function(){return{client_session_id:f.clientSessionId,conference_name:f.conferenceName,event_name:a,message_type:b("ZenonMWMessageMap")[f.type],retry_count:f.retryCount,server_info_data:f.serverInfoData,tc:Date.now(),transaction_id:f.transactionId,version:"1",web_app_id:+e.appId,web_device_id:d.$2}})};c.$11=function(a){return new(b("P2PReliabilityTypedLogger"))().setServiceName("WEB_CLIENT").setExtra(this.$3).setDeviceID(this.$2).setAppID(this.$4.toString()).setReceiverID(b("CurrentUser").getID()).setCallID(a.call_id).setMsgID(a.id).setSenderID(a.from).setMsgType(a.type.toUpperCase()||a.msg_type.toUpperCase()).setRawTime(Date.now())};c.logStateMachine=function(a,c,d,e){if(!b("gkx")("678680")&&!b("gkx")("1782661"))return;var f="["+a+"] [Current State: "+c+"] Processing event: "+d;this.$6(f,e);this.$7(a,d,c,this.$8(e))};c.logStateMachineTransition=function(a,c,d,e,f,g,h){if(f==="xstate.init"||d==="terminated"||d==="terminating")return;if(!b("gkx")("678680")&&!b("gkx")("1782661"))return;g!=null&&g.length===1&&g[0].type==="defer"?g="["+a+"] [[DEFERRED] "+f+" did not trigger transition. Current state remains "+d:d!==e?g="["+a+"] [[PROCESSED] "+f+" caused transition from "+(e||"")+" to "+d+".":c?g="["+a+"] [[PROCESSED] "+f+" did not trigger transition. Current state remains "+d:g="["+a+"] [[DROPPED] Possible error. "+f+" did not trigger transition. Current state remains "+d;this.$6(g,h)};c.logGuardsResults=function(a,c){if(b("gkx")("1439080")){a="[GUARD] "+a+". Passed: "+c.toString();this.$5(a)}};c.logMWMessage=function(a,c){if(c.jsonPayload==null)return;var d=c.jsonPayload.header,e=b("ZenonMWMessageMap")[d.type];a="[ms] "+a+" "+e+" [messageID: "+d.transactionId+" retryCount: "+d.retryCount+"]";this.$5(a);this.logMWMessageDetails(c)};c.startQPL=function(a,c){c===void 0&&(c=0),b("cr:1577682")&&b("cr:1577682").markerStart(a,this.$8(c))};c.endQPL=function(a,c){c===void 0&&(c=0),b("cr:1577682")&&b("cr:1577681")&&b("cr:1577682").markerEnd(a,b("cr:1577681").SUCCESS,this.$8(c))};c.logMWMessageDetails=function(a){if(a.jsonPayload==null){b("recoverableViolation")("Should never call logMWMessageDetails with a null jsonPayload message","rtc_www");return}var c=a.jsonPayload,d=c.body;c=c.header;var e=b("ZenonMWMessageMap")[c.type],f="";switch(c.type){case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE:if(this.$9(a)){var g;f="[md] "+e+" resp [statusCode: "+((g=c.responseStatusCode)!=null?g:"")+" currentVersion: "+((g=(g=d.serverMediaUpdateResponse)==null?void 0:g.currentVersion)!=null?g:"")+"]";break}f="[md] "+e+" req [fromVersion: "+((g=(g=d.serverMediaUpdateRequest)==null?void 0:g.fromVersion)!=null?g:"")+" toVersion: "+((g=(g=d.serverMediaUpdateRequest)==null?void 0:g.toVersion)!=null?g:"")+"]";break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE:if(this.$9(a)){f="[md] "+e+" resp [statusCode: "+((g=c.responseStatusCode)!=null?g:"")+" currentVersion: "+((g=(c=d.clientMediaUpdateResponse)==null?void 0:c.currentVersion)!=null?g:"")+"]";break}f="[md] "+e+" req [fromVersion: "+((g=(c=d.clientMediaUpdateRequest)==null?void 0:c.fromVersion)!=null?g:"")+" toVersion: "+((g=(c=d.clientMediaUpdateRequest)==null?void 0:c.toVersion)!=null?g:"")+"]";break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SUBSCRIPTION:if(this.$9(a))return;f="[md] "+e+" req [subscriptions: "+JSON.stringify((g=(c=d.subscriptionRequest)==null?void 0:c.subscriptions)!=null?g:"")+"]";break;default:return}this.$5(f)};c.logConsole=function(a){this.$5(a)};c.logMQTTStateChange=function(a){b("ScotchRTWebUserActionLogger").logCheckpoint({checkpoint:"[ZP] onMQTTStateChanged: "+a+", document.visibility: "+document.visibilityState+", document.hasFocus: "+String(document.hasFocus())+", navigator.onLine: "+String(navigator.onLine)})};c.logMQTTConnectStats=function(a,c){b("ScotchRTWebUserActionLogger").logCheckpoint({checkpoint:"[ZP] MQTT Connection time: "+String(a)+"ms, Retry Count: "+String(c)})};c.logReceivingMultiwayMessage=function(a){this.$9(a)?this.$10(i.RECEIVED_RESPONSE,a):this.$10(i.RECEIVED_REQUEST,a)};c.logMultiwayResponseStartProcessing=function(a){this.$10(i.START_PROCESSING_RESPONSE,a)};c.logProcessingMultiwayMessage=function(a){this.$9(a)?this.$10(i.PROCESSED_RESPONSE,a):this.$10(i.PROCESSED_REQUEST,a)};c.logSendingMultiwayMessage=function(a){this.$9(a)?this.$10(i.SENDING_RESPONSE,a):this.$10(i.SENDING_REQUEST,a)};c.logSentMultiwayMessage=function(a){this.$9(a)?this.$10(i.SENT_RESPONSE,a):this.$10(i.SENT_REQUEST,a)};c.logSentMultiwayMessageFromHandler=function(a){this.$10(i.SENT_REQUEST_FROM_HANDLER,a)};c.logSendMultiwayMessageFailed=function(a){this.$9(a)?this.$10(i.SEND_RESPONSE_FAILED,a):this.$10(i.SEND_REQUEST_FAILED,a)};c.logSendMultiwayMessageFailure=function(a){b("ODS").bumpEntityKey(4083,"zenon_multiway","send_message_failure"),b("ODS").flush(),b("ScotchRTWebUserActionLogger").logCheckpoint({checkpoint:"Failed to send MW message, error: "+a})};c.logSendMultiwayMessageFailedFromErrorHandler=function(a){this.$10(i.SEND_REQUEST_FAILED_FROM_HANDLER,a)};c.logP2PMessageReceived=function(a){this.$11(a).setEventName(j.CLIENT_RECEIVED_MESSAGE).log()};c.logP2PMessageProcessed=function(a){this.$11(a).setEventName(j.CLIENT_PROCESSED_MESSAGE).log()};return a}();e.exports=a}),null);
__d("ZenonSignalingMessage",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getHeader=function(){return this.$1};b.getEvents=function(){return this.$2};b.setSignalingID=function(a){this.$1.signalingID=a};b.setRetryCount=function(a){this.$1.retryCount=a};return a}();e.exports=a}),null);
__d("ZenonSignalingTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({PLAN_B:"plan-b",UNIFIED_PLAN:"unified-plan"});f.ZenonSdpFormat=a;c={OK:0,REJECTED_FROM_VERSION_DOES_NOT_MATCH:1};f.ZenonRemoteSdpResponseStatus=c}),null);
__d("MessengerCowatchConfig",["qex"],(function(a,b,c,d,e,f){"use strict";f.hasZenonCowatchCapability=a;f.hasZenonGroupCowatchCapability=c;function a(){var a;return(a=b("qex")._("1732570"))!=null?a:!1}function c(){var a;return(a=b("qex")._("1732570"))!=null?a:!1}}),null);
__d("ZenonMWTranslatorUtils",["ChannelClientID","CurrentUser","FacebookAppIDs","ScotchRTWebUserActionLogger","ZenonDismissReason","ZenonMWMessageTypes","ZenonParticipantState","ZenonSignalingTypes","gkx","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g={addDevTierOverridesToHeaderExtensions:function(a){var c={multiwayCoreTier:"",multiwayWwwTier:""};if(!b("gkx")("678350"))return c;c.multiwayWwwTier=g.getSandboxingTierFromURIOrEmpty(a,"multiway_www_tier");c.multiwayCoreTier=g.getSandboxingTierFromURIOrEmpty(a,"multiway_core_tier");return c},createMWMessage:function(a,c){var d={appId:g.getMWAppID(),deviceId:b("ChannelClientID").getID(),userId:b("CurrentUser").getID()};return{endpoint:d,jsonPayload:{body:c,header:a}}},fromMWDismissReason:function(a){a=b("ZenonDismissReason").mwDismissToDmissReason(a);return(a=a)!=null?a:b("ZenonDismissReason").ZenonDismissReason.CallEnded},fromMWJoinResponseStatusToDismissReason:function(a,c){if(c===b("ZenonMWMessageTypes").ZenonMWResponseSubCode.EXCEEDED_MAX_ALLOWED_PARTICIPANTS)return b("ZenonDismissReason").ZenonDismissReason.MaxAllowedParticipantsReached;switch(a){case b("ZenonMWMessageTypes").ZenonMWResponseStatusCode.METHOD_NOT_ALLOWED:case b("ZenonMWMessageTypes").ZenonMWResponseStatusCode.UNAUTHORIZED:return b("ZenonDismissReason").ZenonDismissReason.NoPermission;case b("ZenonMWMessageTypes").ZenonMWResponseStatusCode.SERVICE_UNAVAILABLE:return b("ZenonDismissReason").ZenonDismissReason.SignalingMessageFailed;case b("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK:throw b("unrecoverableViolation")("Response status code is OK; should not return a dismiss reason","rtc_www");default:b("ScotchRTWebUserActionLogger").logError({callType:"mw",checkpoint:"[ZP] Got unexpected JOIN response status, dismissing as ClientError: "+a+" subcode "+((a=c)!=null?a:"[undefined]"),errorDomain:"ZenonMWTranslatorUtils.fromMWJoinResponseStatusToDismissReason"});return b("ZenonDismissReason").ZenonDismissReason.ClientError}},fromMWParticipantState:function(a){a=i[a];return(a=a)!=null?a:b("ZenonMWMessageTypes").ZenonMWParticipantCallState.UNKNOWN},getCollisionContextFromAppMessages:function(a){var b=null;a!=null&&a.forEach(function(a){a=(a=a.body)==null?void 0:a.genericMessage;if(a!=null&&a.topic==="collision_context_payload"){a=a.data;if(a!=null){var c;a=JSON.parse(a);b={groupThreadID:(c=a.group_thread_id)!=null?c:null,peerID:(c=a.peer_id)!=null?c:null,serverInfoData:(c=a.server_info_data)!=null?c:null}}}});return b},getMWAppID:function(){return b("FacebookAppIDs").MQTT_WEB.toString()},getRoomMetadataFromAppMessages:function(a){a=a&&a.length>0?a.find(function(a){return((a=a.body)==null?void 0:(a=a.genericMessage)==null?void 0:a.topic)==="room_metadata"}):null;if(a){var b;b=(b=a.body)==null?void 0:(b=b.genericMessage)==null?void 0:b.data;if(b!=null){b=JSON.parse(b);a=(a=a.header)==null?void 0:a.sender;if(b.link_hash!=null&&b.room_name!=null&&a!=null)return{linkHash:b.link_hash,profileURL:b.profile_url,ringSubtitle:b.ring_subtitle,roomName:b.room_name,sender:a}}}return{}},getSandboxingTierFromURIOrEmpty:function(a,b){b=b+"=";a=a.split(b);if(a[1]){b=a.pop().split("&").shift();return b}return""},getSdpVersion:function(a){a=a.split("\n");if(a.length<2)throw b("unrecoverableViolation")("Expected SDP string with two or more lines, but got "+a.length,"rtc_www");a=a[1].trim();a=a.split(" ");if(a.length<3)throw b("unrecoverableViolation")("Session line should have at least 3 tokens, but got "+a.length,"rtc_www");a=parseInt(a[2],10);if(isNaN(a))throw b("unrecoverableViolation")("SDP version could not be parsed as number.","rtc_www");return a},mwMessageHeaderToSignalingMessageHeader:function(a){var b=a.clientSessionId,c=a.conferenceName,d=a.sequenceNumber,e=a.serverInfoData,f=a.transactionId;b=b;var g={userID:"2"};f={messageID:f,protocol:"mw",remoteInfo:g,retryCount:a.retryCount,roomInfo:{name:c},sequenceNumber:d,signalingID:b,userInfo:{userID:"1"}};e!=null&&(f.remoteSignalingID=e);return f},signalingMessageHeaderToMWHeader:function(a,c){var d=a.messageID,e=a.remoteSignalingID,f=a.roomInfo,h=a.signalingID,i=g.addDevTierOverridesToHeaderExtensions(window.location.href);f={clientStack:b("ZenonMWMessageTypes").ZenonMWClientStack.ZENON,conferenceName:f.name,retryCount:a.retryCount,transactionId:d,type:c};(i.multiwayCoreTier!==""||i.multiwayWwwTier!=="")&&(f.extensions=i);h!=null&&(f.clientSessionId=h);e!=null&&(f.serverInfoData=e);return f},signalingMessageHeaderToMWResponseHeader:function(a,c,d){a=g.signalingMessageHeaderToMWHeader(a,c);a.responseStatusCode=(c=d)!=null?c:b("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK;return a},toMWClientTrackContentType:function(a){if(a==null)return null;switch(a){case b("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_AUDIO:return"audio";case b("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_VIDEO:return"video";case b("ZenonMWMessageTypes").ZenonMWTrackLabel.SCREEN_VIDEO:return"screen";default:return null}},toMWClientMediaStatus:function(a){var b={tracks:{}};a.tracks.forEach(function(a){var c={enabled:a.enabled,owner:a.userID},d=g.toMWTrackLabel(a.type);d!=null&&(c.label=d);b.tracks[a.trackID]=c});return b},toMWDeviceStatus:function(a){a=h[a];return(a=a)!=null?a:b("ZenonMWMessageTypes").ZenonMWDeviceStatus.OK},toMWHangupReason:function(a){switch(a){case b("ZenonDismissReason").ZenonDismissReason.IgnoreCall:return b("ZenonMWMessageTypes").ZenonMWHangupReason.IGNORE_CALL;case b("ZenonDismissReason").ZenonDismissReason.HangupCall:return b("ZenonMWMessageTypes").ZenonMWHangupReason.HANGUP_CALL;case b("ZenonDismissReason").ZenonDismissReason.NoAnswerTimeout:return b("ZenonMWMessageTypes").ZenonMWHangupReason.NO_ANSWER_TIMEOUT;case b("ZenonDismissReason").ZenonDismissReason.ClientError:return b("ZenonMWMessageTypes").ZenonMWHangupReason.CLIENT_ERROR;case b("ZenonDismissReason").ZenonDismissReason.InAnotherCall:return b("ZenonMWMessageTypes").ZenonMWHangupReason.IN_ANOTHER_CALL;case b("ZenonDismissReason").ZenonDismissReason.ClientInterrupted:return b("ZenonMWMessageTypes").ZenonMWHangupReason.CLIENT_INTERRUPTED;case b("ZenonDismissReason").ZenonDismissReason.SessionMigrated:return b("ZenonMWMessageTypes").ZenonMWHangupReason.SESSION_MIGRATED;default:return b("ZenonMWMessageTypes").ZenonMWHangupReason.HANGUP_CALL}},toMWMediaStatus:function(a){var b={};a.tracks.forEach(function(a){b[a.trackID]=a.enabled});return b},toMWMediaStatusEx:function(a){var b={};a.tracks.forEach(function(a){var c={enabled:a.enabled},d=g.toMWTrackLabel(a.type);d!=null&&(c.label=d);b[a.trackID]=c});return{tracks:b}},toMWTrackLabel:function(a){if(!b("gkx")("1667037"))return null;switch(a){case"audio":return b("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_AUDIO;case"video":return b("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_VIDEO;case"screen":return b("ZenonMWMessageTypes").ZenonMWTrackLabel.SCREEN_VIDEO;default:return null}},toMWResponseStatusCode:function(a){return j[a]},toMWSyncStateStore:function(a){var b={};a.forEach(function(a,c){b[c]=a});return b},toZenonMediaStates:function(a){var b={tracks:[],version:0};Object.keys(a.tracks).forEach(function(c){var d=a.tracks[c];c={enabled:d.enabled,trackID:c,type:g.toMWClientTrackContentType(d.label),userID:d.owner};b.tracks.push(c);b.version++});return b}},h={IN_ANOTHER_CALL:(a=b("ZenonMWMessageTypes")).ZenonMWDeviceStatus.IN_ANOTHER_CALL,NOT_SUPPORTED:a.ZenonMWDeviceStatus.NOT_SUPPORTED,OK:a.ZenonMWDeviceStatus.OK},i=Object.freeze((c={},c[a.ZenonMWParticipantCallState.UNKNOWN]=(d=b("ZenonParticipantState")).ZenonParticipantState.UNKNOWN,c[a.ZenonMWParticipantCallState.DISCONNECTED]=d.ZenonParticipantState.DISCONNECTED,c[a.ZenonMWParticipantCallState.NO_ANSWER]=d.ZenonParticipantState.NO_ANSWER,c[a.ZenonMWParticipantCallState.REJECTED]=d.ZenonParticipantState.REJECTED,c[a.ZenonMWParticipantCallState.UNREACHABLE]=d.ZenonParticipantState.UNREACHABLE,c[a.ZenonMWParticipantCallState.CONNECTION_DROPPED]=d.ZenonParticipantState.CONNECTION_DROPPED,c[a.ZenonMWParticipantCallState.CONTACTING]=d.ZenonParticipantState.CONTACTING,c[a.ZenonMWParticipantCallState.RINGING]=d.ZenonParticipantState.RINGING,c[a.ZenonMWParticipantCallState.CONNECTING]=d.ZenonParticipantState.CONNECTING,c[a.ZenonMWParticipantCallState.CONNECTED]=d.ZenonParticipantState.CONNECTED,c[a.ZenonMWParticipantCallState.PARTICIPANT_LIMIT_REACHED]=d.ZenonParticipantState.PARTICIPANT_LIMIT_REACHED,c[a.ZenonMWParticipantCallState.IN_ANOTHER_CALL]=d.ZenonParticipantState.IN_ANOTHER_CALL,c[a.ZenonMWParticipantCallState.RING_TYPE_UNSUPPORTED]=d.ZenonParticipantState.RING_TYPE_UNSUPPORTED,c[a.ZenonMWParticipantCallState.PENDING_APPROVAL]=d.ZenonParticipantState.PENDING_APPROVAL,c[a.ZenonMWParticipantCallState.APPROVED]=d.ZenonParticipantState.APPROVED,c[a.ZenonMWParticipantCallState.FAILED_APPROVAL]=d.ZenonParticipantState.FAILED_APPROVAL,c)),j=Object.freeze((f={},f[b("ZenonSignalingTypes").ZenonRemoteSdpResponseStatus.OK]=a.ZenonMWResponseStatusCode.OK,f[b("ZenonSignalingTypes").ZenonRemoteSdpResponseStatus.REJECTED_FROM_VERSION_DOES_NOT_MATCH]=a.ZenonMWResponseStatusCode.CONDITIONAL_REQUEST_FAILED,f));d=g;e.exports=d}),null);
__d("ZenonMWMessageTranslator",["CurrentUser","MessengerCowatchConfig","ScotchRTWebUserActionLogger","ZenonMWMessageTypes","ZenonMWTranslatorUtils","ZenonSignalingMessage","gkx","qex","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.toMWMessage=a;f.toSignalingMessage=c;var g="joining_context",h="signalingDominantSpeakerUpdate";function a(a){var c=a.getHeader();a=a.getEvents();if(a.length===0)throw b("unrecoverableViolation")("Unexpected Translation: called toMWMessage with empty signaling events","messenger_web_product");else{var d=a[0];switch(d.eventName){case"addParticipantsRequest":return w(c,d);case"clientEventRequest":return x(c,d);case"clientInfoRequest":if(a.length>=2&&a[1].eventName==="localSdpRequest"&&(a[1].sdp.type==="offer"||a[1].sdp.type==="answer"&&Q()))return C(c,d,a[1]);break;case"genericDataMessageRequest":return z(c,d);case"inviteRequest":if(a.length>=3&&a[1].eventName==="clientInfoRequest"&&a[2].eventName==="localSdpRequest"&&a[2].sdp.type==="offer")return C(c,a[1],a[2],d);break;case"inviteResponse":return D(c,d);case"dismissResponse":return H(c);case"initiateRenegotiationResponse":return M(c,d);case"iceCandidateRequest":return B(c,d);case"iceCandidateResponse":return A(c,d);case"localSdpRequest":return K(c,d.mediaStates,d.sdp);case"mediaUpdateRequest":return K(c,d.mediaStates);case"participantUpdateResponse":return J(c,d);case"pingRequest":return I(c);case"remoteSdpResponse":return d.type==="offer"&&(a.length>=2&&a[1].eventName==="localSdpRequest"&&a[1].sdp.type==="answer")?L(c,d,a[1]):L(c,d);case"removeParticipantsRequest":return y(c,d);case"stateSyncNotifyResponse":return O(c,d);case"stateSyncUnsubscribeRequest":return P(c,d);case"stateSyncUpdateRequest":return N(c,d);case"subscriptionRequest":return F(c,d);case"terminateRequest":return E(c,d);case"usersApprovalRequest":return G(c,d)}}return null}function c(a){var c=a.jsonPayload.header;if(c.receiverUserId!=null&&c.receiverUserId!==b("CurrentUser").getID())throw b("unrecoverableViolation")("Ignoring MW message; receiverUserId does not match self ID","messenger_web_product");var d=c.type,e=c.responseStatusCode==null;c=b("ZenonMWTranslatorUtils").mwMessageHeaderToSignalingMessageHeader(c);var f=[];switch(d){case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.RING:e&&(f=k(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DISMISS:e&&(f=l(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN:e||(f=n(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE:e?f=o(a):f=p(a);break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CONFERENCE_STATE:e&&(f=q(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE:e||(f=r(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE:e&&(f=s(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.PING:e||(f=i(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.HANGUP:e||(f=j(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE:e&&(f=m(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UPDATE:e||(f=t(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UNSUBSCRIBE:e||(f=v(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.NOTIFY:e&&(f=u(a));break}return new(b("ZenonSignalingMessage"))(c,f)}function i(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"pingResponse"};b.push(a);return b}function j(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"hangupResponse"};b.push(a);return b}function k(a){var c=[];a=a.jsonPayload;var d=a.body;a=a.header;d=d.ringRequest;if(d){var e=d.appMessages,f=d.caller,g=d.otherParticipants,h=d.ringType;f=f;h=h===b("ZenonMWMessageTypes").ZenonMWRingType.PEER_VIDEO_CALL||h===b("ZenonMWMessageTypes").ZenonMWRingType.GROUP_VIDEO_CALL||h===b("ZenonMWMessageTypes").ZenonMWRingType.LIVE_STREAM||h===b("ZenonMWMessageTypes").ZenonMWRingType.PEER_ESCALATED_AUDIO_CALL;var i=a.conferenceName;a=a.serverInfoData;var j=b("ZenonMWTranslatorUtils").getCollisionContextFromAppMessages(e);j&&(j==null?void 0:j.serverInfoData)==null&&(j.serverInfoData=a);e=b("ZenonMWTranslatorUtils").getRoomMetadataFromAppMessages(e);g={eventName:"inviteRequest",inviterID:f,isRemoteOfferer:!1,otherParticipants:g,requestingVideo:h,roomInfo:{context:(f=j)!=null?f:{groupThreadID:null,peerID:null,serverInfoData:a},name:i,room:e,sender:e.sender}};c.push(g);f=(j=(h=d.offer)==null?void 0:h.sdpString)!=null?j:"";i=(a=d.mediaStatusEx)!=null?a:null;if(f!==""&&i!=null&&Q()){e={sdp:f,type:"offer",version:b("ZenonMWTranslatorUtils").getSdpVersion(f)};g=b("ZenonMWTranslatorUtils").toZenonMediaStates(i);h={eventName:"remoteSdpRequest",mediaStates:g,negotiateType:!1,sdp:e};c.push(h)}}return c}function l(a){var c=[];a=a.jsonPayload.body.dismissRequest;if(a){a=a.reason;a={eventName:"terminateRequest",fromJoinResponse:!1,reason:b("ZenonMWTranslatorUtils").fromMWDismissReason(a),shouldInformPeer:!0};c.push(a)}return c}function m(a){var b=[];a=a.jsonPayload.body.dataMessageRequest;if(a){var c,d=a.message.header;c=(c=a.message)==null?void 0:(c=c.body)==null?void 0:c.genericMessage;a=(a=a.message)==null?void 0:(a=a.body)==null?void 0:a.dominantSpeakerSignalingInfo;if(c||a){a=c?atob(c.data):JSON.stringify(a);c=c?c.topic:h;d={data:(a=a)!=null?a:"",eventName:"genericDataMessageRequest",recipientIDs:(a=d.recipients)!=null?a:[],serviceRecipients:(a=d.serviceRecipients)!=null?a:[],topic:c};b.push(d)}}return b}function n(a){var c=[],d=a.jsonPayload.header,e=d.responseStatusCode;if(e&&e!==b("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK){var f;b("ScotchRTWebUserActionLogger").logError({callType:"mw",checkpoint:"[ZP] Got non-OK JOIN response status code: "+e+" subcode "+((f=d.responseSubCode)!=null?f:"[undefined]"),errorDomain:"ZenonMWMessageTranslator.fromJoinResponse"});f={eventName:"terminateRequest",fromJoinResponse:!0,reason:b("ZenonMWTranslatorUtils").fromMWJoinResponseStatusToDismissReason(e,d.responseSubCode),shouldInformPeer:!1};c.push(f);return c}e=a.jsonPayload.body.joinResponse;if(!e)return c;f=(a=(f=e.answer)==null?void 0:f.sdpString)!=null?a:"";a=f!=="";d={ackMessageId:d.transactionId,eventName:"localSdpResponse",hasAnswerInJoinResponse:a,source:"joinResponse"};c.push(d);if(a){d={sdp:f,type:"answer",version:b("ZenonMWTranslatorUtils").getSdpVersion(f)};a=b("ZenonMWTranslatorUtils").toZenonMediaStates(e.mediaStatusEx);f=e.renegotiationOffer;var g=null;f!=null&&f.sdpString!=null&&(g={sdp:f.sdpString,type:"offer",version:b("ZenonMWTranslatorUtils").getSdpVersion(f.sdpString)});f={eventName:"remoteSdpRequest",mediaStates:a,negotiateType:!1,renegotiationOffer:g,sdp:d,source:"joinResponse"};c.push(f)}a={capabilities:{addParticipantEnabled:!0,cowatchEnabled:b("MessengerCowatchConfig").hasZenonCowatchCapability(),cowatchGroupEnabled:b("MessengerCowatchConfig").hasZenonGroupCowatchCapability(),multipleVideoStreamsAllowed:e.multipleVideoStreamsAllowed},eventName:"capabilitiesRequest"};c.push(a);S(e.stateStore,c,"JOIN response");if(T()&&e.isPendingApproval){g={eventName:"pendingApprovalRequest"};c.push(g)}return c}function o(a){var b=[];a=a.jsonPayload.body.iceCandidateRequest;if(a){a={eventName:"iceCandidateRequest",iceCandidates:a.iceCandidateSdps.map(function(a){var b;return{candidateSdpString:(b=a.candidateSdpString)!=null?b:"",sdpMLineIndex:a.sdpMLineIndex,sdpMid:a.sdpMid}})};b.push(a)}return b}function p(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"iceCandidateResponse"};b.push(a);return b}function q(a){var c=[];a=a.jsonPayload.body.conferenceStateRequest;if(a){var d=a.appMessages,e=a.participantStates,f={eventName:"participantUpdateRequest",participantStates:new Map(),versionId:a.version},g={eventName:"clientInfoRequest",userCapabilities:new Map()};Object.keys(e).forEach(function(a){var c=e[a],d=c.state;c=c.userCapabilities;f.participantStates.set(a,b("ZenonMWTranslatorUtils").fromMWParticipantState(d));g.userCapabilities.set(a,(d=c)!=null?d:"")});c.push(f);c.push(g);a=b("ZenonMWTranslatorUtils").getCollisionContextFromAppMessages(d);if(a){d={context:a,eventName:"roomContextUpdateRequest"};c.push(d)}}return c}function r(a){var c=[];a=a.jsonPayload;var d=a.body;a=a.header;d=d.clientMediaUpdateResponse;var e=a.responseStatusCode,f=a.responseSubCode,g=a.retryAfterMsec;if(d){var h=d.answer,i=d.mediaStatus;if(h!=null&&i!=null){h=(h=h.sdpString)!=null?h:"";i=b("ZenonMWTranslatorUtils").toZenonMediaStates(i);var j={ackMessageId:a.transactionId,eventName:"localSdpResponse",hasAnswerInJoinResponse:!1,source:"clientMediaUpdate"};i={eventName:"remoteSdpRequest",mediaStates:i,negotiateType:!1,sdp:{sdp:h,type:"answer",version:b("ZenonMWTranslatorUtils").getSdpVersion(h)}};c.push(j);c.push(i)}S(d.stateStore,c,"CMU response");h={ackMessageId:a.transactionId,eventName:"mediaUpdateResponse",requestVersionId:d.currentVersion,responseStatusCode:e,responseSubCode:f,retryAfter:g};c.push(h)}return c}function s(a){var c=[];a=a.jsonPayload;var d=a.body;a=a.header;d=d.serverMediaUpdateRequest;var e=a.transactionId;if(!d)return c;a={eventName:"overlayConfigServerUpdateRequest",serializedConfig:(a=(a=a.extensions)==null?void 0:a.oc1)!=null?a:""};c.push(a);if(d.renegotiationRequested){a={eventName:"initiateRenegotiationRequest",fromVersion:d.fromVersion,version:d.toVersion};c.push(a)}a=(a=(a=d.answer)==null?void 0:a.sdpString)!=null?a:"";var f="answer";if(a===""){var g;a=(g=(g=d.offer)==null?void 0:g.sdpString)!=null?g:"";f="offer"}if(a==="")return c;b("ScotchRTWebUserActionLogger").logCheckpoint({checkpoint:"SMU request SDP type: "+f+", transaction id: "+e});g={sdp:a,type:f,version:b("ZenonMWTranslatorUtils").getSdpVersion(a)};e=b("ZenonMWTranslatorUtils").toZenonMediaStates(d.mediaStatus);f={eventName:"remoteSdpRequest",fromVersion:d.fromVersion,mediaStates:e,negotiateType:!1,sdp:g};c.push(f);S(d.stateStore,c,"SMU request");a={capabilities:{multipleVideoStreamsAllowed:d.multipleVideoStreamsAllowed},eventName:"capabilitiesRequest"};c.push(a);return c}function t(a){a=a.jsonPayload;var b=a.body.updateResponse;a=a.header.transactionId;if(!b)return[];var c=b.topic;b=b.version;a={ackMessageId:a,eventName:"stateSyncUpdateResponse",topic:c,version:b};return[a]}function u(a){a=a.jsonPayload.body.notifyRequest;if(!a)return[];var b=a.data,c=a.topic;a=a.version;b={data:b,eventName:"stateSyncNotifyRequest",responseRequired:!0,topic:c,version:a};return[b]}function v(a){a=a.jsonPayload;var b=a.body.unsubscribeResponse;a=a.header.transactionId;if(!b)return[];var c=b.topic;b=b.version;a={ackMessageId:a,eventName:"stateSyncUnsubscribeResponse",topic:c,version:b};return[a]}function w(a,c){c={usersToInvite:c.participants};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ADD_PARTICIPANTS);return b("ZenonMWTranslatorUtils").createMWMessage(a,{addParticipantsRequest:c})}function x(a,c){c={clientEventType:c.clientEventType};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_EVENT);return b("ZenonMWTranslatorUtils").createMWMessage(a,{clientEventRequest:c})}function y(a,c){c={usersToRemove:c.participants};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.REMOVE_PARTICIPANTS);return b("ZenonMWTranslatorUtils").createMWMessage(a,{removeParticipantsRequest:c})}function z(a,c){var d={data:c.data,topic:c.topic};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE);return b("ZenonMWTranslatorUtils").createMWMessage(a,{dataMessageRequest:{message:{body:{genericMessage:d},header:{recipients:c.recipientIDs,sender:b("CurrentUser").getID(),serviceRecipients:c.serviceRecipients,topic_DEPRECATED:""}}}})}function A(a,c){c=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE);return b("ZenonMWTranslatorUtils").createMWMessage(c,{})}function B(a,c){c=c.iceCandidates;c=c.map(function(a){return{candidateSdpString:a.candidateSdpString,sdpMLineIndex:a.sdpMLineIndex,sdpMid:a.sdpMid}});c={iceCandidateSdps:c};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE);return b("ZenonMWTranslatorUtils").createMWMessage(a,{iceCandidateRequest:c})}function C(a,c,d,e){var f=c.initialSyncStates;f={deviceCapabilities:[b("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_NEW_PARTICIPANT_STATES,b("ZenonMWMessageTypes").ZenonMWCapability.REQUIRE_FULL_SDP_IN_SMU,b("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_SDP_RENEGOTIATION],mediaStatus:b("ZenonMWTranslatorUtils").toMWMediaStatus(d.mediaStates),mediaStatusEx:b("ZenonMWTranslatorUtils").toMWMediaStatusEx(d.mediaStates),offer:{},syncPayload:f?{stateStore:b("ZenonMWTranslatorUtils").toMWSyncStateStore(f)}:void 0,userCapabilities:c.userCapabilities.get(a.userInfo.userID)};d.sdp.type==="offer"&&(f.offer={sdpString:d.sdp.sdp});Q()&&(f.deviceCapabilities.push(b("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_MWPP),d.sdp.type==="answer"&&(f.answer={sdpString:d.sdp.sdp}));b("gkx")("1667037")&&f.deviceCapabilities.push(b("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_MULTIPLE_VIDEO_STREAMS);c=e==null?void 0:e.otherParticipants;c&&(f.usersToCall=c);c=(d=e==null?void 0:e.roomInfo.context)!=null?d:a.roomInfo.context;c&&(f.appMessages=[{body:{genericMessage:{data:JSON.stringify(c),topic:g}},header:{topic_DEPRECATED:g}}]);e=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN);c&&c.serverInfoData!=null&&(e.serverInfoData=c.serverInfoData);return b("ZenonMWTranslatorUtils").createMWMessage(e,{joinRequest:f})}function D(a,c){c=c.status;c==="IN_ANOTHER_CALL"&&(a.signalingID=null);c=b("ZenonMWTranslatorUtils").toMWDeviceStatus(c);c={deviceCapabilities:[b("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_AUDIO_DEPRECATED,b("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_VIDEO_DEPRECATED],deviceStatus:c};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.RING);return b("ZenonMWTranslatorUtils").createMWMessage(a,{ringResponse:c})}function E(a,c){c=c.reason;c={detailedReasonString:"",reason:b("ZenonMWTranslatorUtils").toMWHangupReason(c)};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.HANGUP);return b("ZenonMWTranslatorUtils").createMWMessage(a,{hangupRequest:c})}function F(a,c){c=c.subscriptions;c={subscriptions:c};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SUBSCRIPTION);return b("ZenonMWTranslatorUtils").createMWMessage(a,{subscriptionRequest:c})}function G(a,c){var d=c.approvalStatus;c=c.targetUsers;d={approvalStatus:d,targetUsers:c};c=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.APPROVAL);return b("ZenonMWTranslatorUtils").createMWMessage(c,{approvalRequest:d})}function H(a){a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DISMISS);return b("ZenonMWTranslatorUtils").createMWMessage(a,{})}function I(a){var c=Object.freeze({});a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.PING);return b("ZenonMWTranslatorUtils").createMWMessage(a,{pingRequest:c})}function J(a,c){c={currentVersion:c.requestVersionId};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CONFERENCE_STATE);return b("ZenonMWTranslatorUtils").createMWMessage(a,{conferenceStateResponse:c})}function K(a,c,d){c={fromVersion:c.version,mediaUpdates:[{mediaStatus:b("ZenonMWTranslatorUtils").toMWMediaStatus(c),mediaStatusEx:b("ZenonMWTranslatorUtils").toMWMediaStatusEx(c)}],toVersion:c.version};d!==void 0&&(c.offer={sdpString:d.sdp});d=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE);return b("ZenonMWTranslatorUtils").createMWMessage(d,{clientMediaUpdateRequest:c})}function L(a,c,d){if(c.acknowledgedVersion==null)throw b("unrecoverableViolation")("Error creating ServerMediaUpdateResponse: remoteSdpResponse.acknowledgedVersion is null","messenger_web_product");var e={currentVersion:c.acknowledgedVersion};d&&(e.answer={sdpString:d.sdp.sdp},e.mediaStatus=b("ZenonMWTranslatorUtils").toMWClientMediaStatus(d.mediaStates));d=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE,b("ZenonMWTranslatorUtils").toMWResponseStatusCode(c.status));return b("ZenonMWTranslatorUtils").createMWMessage(d,{serverMediaUpdateResponse:e})}function M(a,c){var d={currentVersion:c.acknowledgedVersion};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE,b("ZenonMWTranslatorUtils").toMWResponseStatusCode(c.status));return b("ZenonMWTranslatorUtils").createMWMessage(a,{serverMediaUpdateResponse:d})}function N(a,c){var d=c.data,e=c.topic;c=c.version;d={data:d,topic:e,version:c};e=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UPDATE);return b("ZenonMWTranslatorUtils").createMWMessage(e,{updateRequest:d})}function O(a,c){var d=c.topic;c=c.version;d={topic:d,version:c};c=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.NOTIFY);return b("ZenonMWTranslatorUtils").createMWMessage(c,{notifyResponse:d})}function P(a,c){var d=c.topic;c=c.version;d={topic:d,version:c};c=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UNSUBSCRIBE);return b("ZenonMWTranslatorUtils").createMWMessage(c,{unsubscribeRequest:d})}function Q(){var a;return(a=b("qex")._("1566745"))!=null?a:!1}function R(){var a=b("gkx")("1418215");a&&b("ScotchRTWebUserActionLogger").logCheckpointOnceForDomain({checkpoint:"gk: rtc_www_state_sync"});return a}function S(a,c,d){R()&&a&&Object.keys(a).forEach(function(e){var f=a[e],g=f.data;f=f.version;if(g!=null){var h={data:g,eventName:"stateSyncNotifyRequest",responseRequired:!1,topic:e,version:f};b("ScotchRTWebUserActionLogger").logCheckpoint({checkpoint:d+" StateStore topic: "+e+", version: "+f+" data: "+g});c.push(h)}})}function T(){var a=b("gkx")("1450329");a&&b("ScotchRTWebUserActionLogger").logCheckpointOnceForDomain({checkpoint:"gk: rtc_www_lobby_mode"});return a}}),null);
__d("CallEndReason",[],(function(a,b,c,d,e,f){a=Object.freeze({IGNORE_CALL:"IgnoreCall",HANGUP_CALL:"HangupCall",IN_ANOTHER_CALL:"InAnotherCall",ACCEPT_AFTER_HANGUP:"CallEndAcceptAfterHangUp",NO_ANSWER_TIMEOUT:"NoAnswerTimeout",INCOMING_TIMEOUT:"IncomingTimeout",OTHER_INSTANCE_HANDLED:"OtherInstanceHandled",SIGNALING_MESSAGE_FAILED:"SignalingMessageFailed",CONNECTION_DROPPED:"ConnectionDropped",CLIENT_INTERRUPTED:"ClientInterrupted",WEBRTC_ERROR:"WebRTCError",CLIENT_ERROR:"ClientError",NO_PERMISSION:"NoPermission",OTHER_NOT_CAPABLE:"OtherNotCapable",NO_UI_ERROR:"NoUIShown",UNSUPPORTED_VERSION:"VersionUnsupported",CALLER_NOT_VISIBLE:"CallerNotVisible",CARRIER_BLOCKED:"CarrierBlocked",OTHER_CARRIER_BLOCKED:"OtherCarrierBlocked",CLIENT_ENCRYPTION_ERROR:"ClientEncryptionError"});e.exports=a}),null);
__d("WebrtcMessageType",[],(function(a,b,c,d,e,f){a=Object.freeze({OFFER:"offer",ANSWER:"answer",ICE_CANDIDATE:"ice_candidate",OK:"ok",HANG_UP:"hang_up",OTHER_DISMISS:"other_dismiss",MESSAGE_ACK:"msg_ack",PRANSWER:"pranswer",PING:"ping",PING_ACK:"ping_ack",ICE_RESTART_OFFER:"icerestart_offer",ICE_RESTART_ANSWER:"icerestart_answer",OFFER_ACK:"offer_ack",ANSWER_ACK:"answer_ack",SET_VIDEO:"set_video",ACK:"ack",INVALID:"invalid",OFFER_NACK:"offer_nack",NACK:"nack",VIDEO_REQUEST:"video_request",SDP_UPDATE:"sdp_update",SWITCH_TO_MULTIWAY:"switch_to_multiway",ON_HOLD:"on_hold",NEGOTIATE:"negotiate",RING:"ring",PR_OFFER_ACK:"pr_offer_ack",NOTIFY_MEDIA_STATE:"notify_media_state",CLIENT_REPORTED_EVENT:"client_reported_event",PCRESTART_OFFER:"pcrestart_offer"});e.exports=a}),null);
__d("ZenonP2PMessageTypes",["WebrtcMessageType","CallEndReason"],(function(a,b,c,d,e,f){"use strict";a=b("CallEndReason");f.ZenonP2PCallEndReason=a;c=b("WebrtcMessageType");f.ZenonP2PSignalingPayloadType=c}),null);
__d("ZenonP2PTranslatorUtils",["CurrentUser","ZenonDismissReason","ZenonP2PMessageTypes"],(function(a,b,c,d,e,f){"use strict";f.fromP2PCallEndReason=a;f.p2pMessageToSignalingMessageHeader=c;f.toP2PCallEndReason=d;function a(a){a=g[a];return(a=a)!=null?a:b("ZenonDismissReason").ZenonDismissReason.CallEnded}function c(a,c){var d=c.call_id,e=c.from;c=c.source;var f=e+":"+b("CurrentUser").getID();return{messageID:a,protocol:"p2p",remoteInfo:{deviceInfo:{deviceID:c},userID:e},remoteSignalingID:String(d),retryCount:0,roomInfo:{name:f},signalingID:String(d),userInfo:{userID:b("CurrentUser").getID()}}}function d(a){switch(a){case b("ZenonDismissReason").ZenonDismissReason.HangupCall:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.HANGUP_CALL;case b("ZenonDismissReason").ZenonDismissReason.IgnoreCall:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.IGNORE_CALL;case b("ZenonDismissReason").ZenonDismissReason.InAnotherCall:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.IN_ANOTHER_CALL;case b("ZenonDismissReason").ZenonDismissReason.AcceptAfterHangUp:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.ACCEPT_AFTER_HANGUP;case b("ZenonDismissReason").ZenonDismissReason.NoAnswerTimeout:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.NO_ANSWER_TIMEOUT;case b("ZenonDismissReason").ZenonDismissReason.IncomingTimeout:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.INCOMING_TIMEOUT;case b("ZenonDismissReason").ZenonDismissReason.OtherInstanceHandled:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.OTHER_INSTANCE_HANDLED;case b("ZenonDismissReason").ZenonDismissReason.SignalingMessageFailed:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.SIGNALING_MESSAGE_FAILED;case b("ZenonDismissReason").ZenonDismissReason.ConnectionDropped:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.CONNECTION_DROPPED;case b("ZenonDismissReason").ZenonDismissReason.ClientInterrupted:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.CLIENT_INTERRUPTED;case b("ZenonDismissReason").ZenonDismissReason.WebRTCError:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.WEBRTC_ERROR;case b("ZenonDismissReason").ZenonDismissReason.ClientError:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.CLIENT_ERROR;case b("ZenonDismissReason").ZenonDismissReason.NoPermission:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.NO_PERMISSION;case b("ZenonDismissReason").ZenonDismissReason.OtherNotCapable:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.OTHER_NOT_CAPABLE;case b("ZenonDismissReason").ZenonDismissReason.NoUIShown:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.NO_UI_ERROR;case b("ZenonDismissReason").ZenonDismissReason.VersionUnsupported:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.UNSUPPORTED_VERSION;case b("ZenonDismissReason").ZenonDismissReason.CallerNotVisible:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.CALLER_NOT_VISIBLE;case b("ZenonDismissReason").ZenonDismissReason.CarrierBlocked:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.CARRIER_BLOCKED;case b("ZenonDismissReason").ZenonDismissReason.OtherCarrierBlocked:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.OTHER_CARRIER_BLOCKED;case b("ZenonDismissReason").ZenonDismissReason.ClientEncryptionError:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.CLIENT_ENCRYPTION_ERROR;default:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.HANGUP_CALL}}var g=Object.freeze((e={},e[(a=b("ZenonP2PMessageTypes")).ZenonP2PCallEndReason.HANGUP_CALL]=(c=b("ZenonDismissReason")).ZenonDismissReason.HangupCall,e[a.ZenonP2PCallEndReason.IGNORE_CALL]=c.ZenonDismissReason.IgnoreCall,e[a.ZenonP2PCallEndReason.IN_ANOTHER_CALL]=c.ZenonDismissReason.InAnotherCall,e[a.ZenonP2PCallEndReason.ACCEPT_AFTER_HANGUP]=c.ZenonDismissReason.AcceptAfterHangUp,e[a.ZenonP2PCallEndReason.NO_ANSWER_TIMEOUT]=c.ZenonDismissReason.NoAnswerTimeout,e[a.ZenonP2PCallEndReason.INCOMING_TIMEOUT]=c.ZenonDismissReason.IncomingTimeout,e[a.ZenonP2PCallEndReason.OTHER_INSTANCE_HANDLED]=c.ZenonDismissReason.OtherInstanceHandled,e[a.ZenonP2PCallEndReason.SIGNALING_MESSAGE_FAILED]=c.ZenonDismissReason.SignalingMessageFailed,e[a.ZenonP2PCallEndReason.CONNECTION_DROPPED]=c.ZenonDismissReason.ConnectionDropped,e[a.ZenonP2PCallEndReason.CLIENT_INTERRUPTED]=c.ZenonDismissReason.ClientInterrupted,e[a.ZenonP2PCallEndReason.CLIENT_ERROR]=c.ZenonDismissReason.ClientError,e[a.ZenonP2PCallEndReason.WEBRTC_ERROR]=c.ZenonDismissReason.WebRTCError,e[a.ZenonP2PCallEndReason.CLIENT_ERROR]=c.ZenonDismissReason.ClientError,e[a.ZenonP2PCallEndReason.NO_PERMISSION]=c.ZenonDismissReason.NoPermission,e[a.ZenonP2PCallEndReason.OTHER_NOT_CAPABLE]=c.ZenonDismissReason.OtherNotCapable,e[a.ZenonP2PCallEndReason.NO_UI_ERROR]=c.ZenonDismissReason.NoUIShown,e[a.ZenonP2PCallEndReason.UNSUPPORTED_VERSION]=c.ZenonDismissReason.VersionUnsupported,e[a.ZenonP2PCallEndReason.CALLER_NOT_VISIBLE]=c.ZenonDismissReason.CallerNotVisible,e[a.ZenonP2PCallEndReason.CARRIER_BLOCKED]=c.ZenonDismissReason.CarrierBlocked,e[a.ZenonP2PCallEndReason.OTHER_CARRIER_BLOCKED]=c.ZenonDismissReason.OtherCarrierBlocked,e[a.ZenonP2PCallEndReason.CLIENT_ENCRYPTION_ERROR]=c.ZenonDismissReason.ClientEncryptionError,e))}),null);
__d("ZenonP2PMessageTranslator",["errorCode","ZenonDismissReason","ZenonP2PMessageTypes","ZenonP2PTranslatorUtils","ZenonParticipantState","ZenonSignalingMessage"],(function(a,b,c,d,e,f,g){"use strict";f.toP2PMessage=a;f.toSignalingMessage=c;var h=0,i=3;function a(a){var b=a.getHeader();a=a.getEvents();if(a.length===0)throw new Error("Unexpected Translation: called toP2PMessage with empty signaling events");switch(a[0].eventName){case"answerIntentRequest":return q(b);case"inviteResponse":if(a[0].status==="NOT_SUPPORTED")return o(b);else return n(b);case"terminateRequest":return p(b,a[0]);default:return null}}function c(a){switch(a.type){case b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.OFFER:return j(a);case b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.HANG_UP:return k(a);case b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.OTHER_DISMISS:return l(a);case b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.ICE_CANDIDATE:return m(a);default:return null}}function j(a){var c=b("ZenonP2PTranslatorUtils").p2pMessageToSignalingMessageHeader(String(a.msg_id),a),d=[],e=a.escalation_conference_name,f=a.from,g=a.videoon;g={eventName:"inviteRequest",inviterID:f,isRemoteOfferer:!0,otherParticipants:[],requestingVideo:g,roomInfo:{context:{groupThreadID:null,peerID:f,serverInfoData:null},name:e}};d.push(g);e={eventName:"remoteSdpRequest",sdp:{sdp:a.sdp,type:"offer",version:0},mediaStates:{tracks:[],version:0},negotiateType:!1};d.push(e);g={capabilities:{addParticipantEnabled:a.offer_escalation_support,cowatchEnabled:!1,cowatchGroupEnabled:!1},eventName:"capabilitiesRequest"};d.push(g);e=new Map([[f,b("ZenonParticipantState").ZenonParticipantState.CONNECTED]]);a={eventName:"participantUpdateRequest",participantStates:e,versionId:h};d.push(a);return new(b("ZenonSignalingMessage"))(c,d)}function k(a){var c=b("ZenonP2PTranslatorUtils").p2pMessageToSignalingMessageHeader(String(a.msg_id),a),d=[],e=a.from;a=a.reason;a={eventName:"terminateRequest",fromJoinResponse:!1,reason:b("ZenonP2PTranslatorUtils").fromP2PCallEndReason(a),shouldInformPeer:!0};d.push(a);a=new Map([[e,b("ZenonParticipantState").ZenonParticipantState.DISCONNECTED]]);e={eventName:"participantUpdateRequest",participantStates:a,versionId:i};d.push(e);return new(b("ZenonSignalingMessage"))(c,d)}function l(a){a=b("ZenonP2PTranslatorUtils").p2pMessageToSignalingMessageHeader(String(a.msg_id),a);var c=[],d={eventName:"terminateRequest",fromJoinResponse:!1,reason:b("ZenonDismissReason").ZenonDismissReason.OtherInstanceHandled,shouldInformPeer:!0};c.push(d);return new(b("ZenonSignalingMessage"))(a,c)}function m(a){var c=b("ZenonP2PTranslatorUtils").p2pMessageToSignalingMessageHeader(String(a.msg_id),a),d=[],e=a.sdp,f=a.sdp_line_idx;a=a.sdp_mid;e={candidateSdpString:e,sdpMLineIndex:f,sdpMid:a};f={eventName:"iceCandidateRequest",iceCandidates:[e]};d.push(f);return new(b("ZenonSignalingMessage"))(c,d)}function n(a){if(a.signalingID===null)throw new Error("Unexpected P2P Translation: expected signalingID to not be null");return{ack_id:parseInt(a.messageID,10),call_id:parseInt(a.signalingID,10),msg_id:parseInt(a.messageID,10),type:"offer_ack"}}function o(a){if(a.signalingID===null)throw new Error("Unexpected P2P Translation: expected signalingID to not be null");return{ack_id:parseInt(a.messageID,10),call_id:parseInt(a.signalingID,10),error_code:1356043,msg_id:parseInt(a.messageID,10),type:"offer_nack"}}function p(a,c){if(a.signalingID===null)throw new Error("Unexpected P2P Translation: expected signalingID to not be null");var d=parseInt(a.messageID,10);a=parseInt(a.signalingID,10);c=b("ZenonP2PTranslatorUtils").toP2PCallEndReason(c.reason);return{call_id:a,msg_id:d,reason:c,type:"hang_up",version:0}}function q(a){if(a.signalingID===null)throw new Error("Unexpected P2P Translation: expected signalingID to not be null");var b=parseInt(a.signalingID,10);a=parseInt(a.messageID,10);return{call_id:b,msg_id:a,type:"other_dismiss"}}}),null);
__d("SoundPlayer",["ODS","URI","createArrayFromMixed"],(function(a,b,c,d,e,f){"use strict";var g,h=new Map();function i(a){var c=new(g||(g=b("URI")))(a);return c.getDomain()?a:new(g||(g=b("URI")))(window.location.href).setPath(c.getPath()).toString()}function j(a){a=new(g||(g=b("URI")))(a).getPath();if(/\.mp3$/.test(a))return"audio/mpeg";return/\.og[ga]$/.test(a)?"audio/ogg":""}var k=function(a,c){for(var a=b("createArrayFromMixed")(a),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;if(h.has(f))return;var g=document.createElement("audio");if(!g||!g.canPlayType||!g.canPlayType(j(f)))continue;g.preload="auto";g.src=i(f);document.body&&document.body.appendChild(g);h.set(f,g);(c==null?void 0:c.onPreload)!=null&&c.onPreload(g);return}};f.preload=k;a=function(a,c){c===void 0&&(c={});for(var a=b("createArrayFromMixed")(a),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;h.has(f)||k(f,c.callbacks);f=h.get(f);if(!f)continue;c.loop&&f.setAttribute("loop","");c.volume&&(f.volume=c.volume);f=f.play();f!=null&&typeof f.then==="function"?f.then(function(a){b("ODS").bumpEntityKey(2966,"sound_player","play.success")})["catch"](function(a){b("ODS").bumpEntityKey(2966,"sound_player","play.error")}):b("ODS").bumpEntityKey(2966,"sound_player","non_promise");return}};f.play=a;c=function(a){for(var a=b("createArrayFromMixed")(a),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=h.get(e);if(e){e.pause();return}}};f.pause=c;d=function(a){for(var a=b("createArrayFromMixed")(a),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=h.get(e);f&&(f.pause(),f.removeAttribute("src"),f.src=i(e))}};f.stop=d}),null);
__d("SoundSynchronizer",["SoundPlayer","WebStorage","createArrayFromMixed"],(function(a,b,c,d,e,f){var g,h="fb_sounds_playing3";function i(){var a=(g||(g=b("WebStorage"))).getLocalStorage();if(a)try{a=a[h];if(a){a=JSON.parse(a);if(Array.isArray(a))return a}}catch(a){}return[]}function j(a){var c=(g||(g=b("WebStorage"))).getLocalStorage();if(c){var d=i();d.push(a);while(d.length>5)d.shift();try{c[h]=JSON.stringify(d)}catch(a){}}}function k(a){return i().some(function(b){return b===a})}a={play:function(a,c,d,e){a=b("createArrayFromMixed")(a);c=c||a[0]+Math.floor(Date.now()/1e3);if(k(c))return;b("SoundPlayer").play(a,{loop:!!d,callbacks:e});j(c)},isSupported:function(){return!!(g||(g=b("WebStorage"))).getLocalStorage()}};e.exports=a}),null);
__d("SoundRPC",["FBJSON","SecurePostMessage","SoundSynchronizer","requireCond","cr:950105"],(function(a,b,c,d,e,f){f.playLocal=g;f.playRemote=a;f.supportsRPC=c;f._listen=d;function g(a,c,d,e){b("SoundSynchronizer").play(a,c,d,e)}function a(a,c,d,e){c={name:"SoundRPC",data:{paths:c,sync:d,loop:e}};b("SecurePostMessage").sendMessageAllowAnyOrigin_UNSAFE(a,b("FBJSON").stringify(c))}function c(){return!!window.postMessage}function d(){var a=function(a){if(!/\.facebook.com$/.test(a.origin))return;var c={};try{a=a.data;typeof a==="string"&&(c=b("FBJSON").parse(a))}catch(a){}a=c;c=a.name;a=a.data;c==="SoundRPC"&&a!=null&&typeof a==="object"&&g(a.paths,a.sync,a.loop)};b("cr:950105")!=null?b("cr:950105").listen(window,"message",a):window.addEventListener("message",a)}}),null);
__d("Sound",["SoundInitialData","SoundPlayer","SoundRPC","SoundSynchronizer","URI","UserAgent_DEPRECATED","Visibility","isFacebookURI"],(function(a,b,c,d,e,f){f.init=a;f.play=c;f.hasPlayedSoundBefore=d;f.playOnlyIfImmediate=e;f.stop=j;var g,h=null,i=!1;function a(a){}function c(a,c,d,e){h?b("SoundRPC").playRemote(h.contentWindow,a,c,!1):b("SoundRPC").playLocal(a,c,d,e),i=!0}function d(){return i}function e(a,c,d){if(!i&&b("Visibility").isHidden())return;this.play(a,c,d)}function j(a){h||b("SoundPlayer").stop(a)}a=new(g||b("URI"))(location.href);a.getSubdomain()&&a.getSubdomain()!=="comet"&&a.getSubdomain()!=="www"&&a.setSubdomain("www");c=a.getDomain();function k(){if(b("UserAgent_DEPRECATED").ie()<9)return!1;return b("SoundInitialData").RPC_DISABLED?!1:b("SoundSynchronizer").isSupported()&&b("SoundRPC").supportsRPC()}b("isFacebookURI")(a)&&location.host!==c&&k()&&(h=document.createElement("iframe"),h.setAttribute("src","//"+c+"/sound_iframe.php"),h.style.display="none",document.body&&document.body.appendChild(h))}),null);
__d("XRefererFrameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/common/referer_frame.php",{})}),null);
__d("ControlledReferer",["Bootloader","DeferredCookie","XRefererFrameController","getRequestConstUri","isMessengerDotComURI","isOculusDotComURI","isWorkplaceDotComURI","lowerFacebookDomain"],(function(a,b,c,d,e,f){f.shouldUseFacebookReferer=g;f.useFacebookRefererHtml=a;function g(a,c,d){if(!b("DeferredCookie").canEmbedThirdPartyPixel()){b("Bootloader").loadModules(["ODS"],function(a){a.bumpEntityKey(2966,"defer_cookies","block_controlled_referer_iframe")},"ControlledReferer");return}var e=!1;function f(){if(e)return;var b=a.contentWindow.location.pathname;if(b!=="/intern/common/referer_frame.php"&&b!=="/common/referer_frame.php")return;e=!0;a.contentWindow.document.body.style.margin=0;c()}var g;b("isMessengerDotComURI")(b("getRequestConstUri")())?g=b("XRefererFrameController").getURIBuilder().getURI().toString():b("isOculusDotComURI")(b("getRequestConstUri")())?g="/common/referer_frame.php":!b("lowerFacebookDomain").isValidDocumentDomain()?g="/intern/common/referer_frame.php":g=b("XRefererFrameController").getURIBuilder().getURI().toString();d==null&&b("isWorkplaceDotComURI")(b("getRequestConstUri")())&&(d="workplace");d&&(g+="?fb_source="+d);a.onload=f;a.src=g}function a(a,b,c){g(a,function(){a.contentWindow.document.body.innerHTML=b},c)}}),null);
__d("StaticContainer.react",["React"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.shouldComponentUpdate=function(a){return!!a.shouldUpdate};c.render=function(){var a=this.props.children;return a===null||a===!1?null:g.Children.only(a)};return b}(g.Component);e.exports=a}),null);
__d("ControlledRefererIFrame.react",["ControlledReferer","ControlledRefererIFrameConfig","React","SecurePostMessage","StaticContainer.react","URI"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.mountFrameRef=function(a){this.frame=a};d.updateFrame=function(){var a=this,c=this.frame;if(!c)return;this.props.onBeforeFrameRender&&this.props.onBeforeFrameRender(this.props);b("ControlledReferer").shouldUseFacebookReferer(c,function(){var d=c.contentWindow.document;d.body.innerHTML='\n        <form method="GET" id="theform"></form>\n        '+b("ControlledRefererIFrameConfig").additional_markup+"\n      ";var e=new(g||(g=b("URI")))(a.props.src).qualify(),f=d.getElementById("theform");f.action=e.toString();e=e.getQueryData();for(var h in e)if(Object.prototype.hasOwnProperty.call(e,h)){var i=d.createElement("input");i.name=h;i.setAttribute("value",e[h]);i.autocomplete="off";i.type="hidden";f.appendChild(i)}d.body.innerHTML+='\n        <iframe\n          frameborder="0"\n          width="1"\n          height="1"\n          onload="document.getElementById(\'theform\').submit()"\n        />\n      ';a.props.onFrameRender&&a.props.onFrameRender(a.props)})};d.componentDidMount=function(){this.updateFrame()};d.componentDidUpdate=function(a){a.src!==this.props.src&&this.updateFrame()};d.UNSAFE_componentWillReceiveProps=function(a){var b=this.frame;b&&(a.width!==this.props.width||a.height!==this.props.height)&&(a.width!=null&&(b.width=""+a.width),a.height!=null&&(b.height=""+a.height))};d.render=function(){var a=this,c=this.props;c.src;c.onFrameRender;c.onBeforeFrameRender;c=babelHelpers.objectWithoutPropertiesLoose(c,["src","onFrameRender","onBeforeFrameRender"]);return h.jsx(b("StaticContainer.react"),{children:h.jsx("iframe",babelHelpers["extends"]({},c,{ref:function(b){return a.mountFrameRef(b)}}))})};d.postMessage=function(a,c){this.frame&&b("SecurePostMessage").sendMessageToSpecificOrigin(this.frame.contentWindow,a,c)};return c}(h.PureComponent);e.exports=a}),null);
__d("RtcWwwWebQuickLogModule",[],(function(a,b,c,d,e,f){a=Object.freeze({CHILD_WINDOW:64232269,CONNECTION_STATE_MACHINE:64243854,PARENT_SIGNALING_CLIENT:64234815,PEER_CONNECTION_STATE_MACHINE:64239068,RTC_INCOMING_RING:64225282,RTC_OPEN_CHAT:64228958,SIGNALING_STATE_MACHINE:64245348,ZENON_TRANSACTION:64246910});e.exports=a}),null);
__d("JobsActionsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:JobsActionsLoggerConfig")}),null);
__d("XLogoutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logout.php",{h:{type:"String"},next:{type:"String"},button_name:{type:"String"},button_location:{type:"String"},source:{type:"String"},ref:{type:"String"}})}),null);
__d("CometRouteActorToasterQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"scale"}],b={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},d={alias:"toast_icon",args:[{kind:"Literal",name:"height",value:32},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometRouteActorToasterQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[b,c,d],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometRouteActorToasterQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[b,c,d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"3249375815143859",metadata:{},name:"CometRouteActorToasterQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometBatchNotificationsStateChangeSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"environment"},b={defaultValue:null,kind:"LocalArgument",name:"input"},c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"BatchNotificationStateChangeSubscribeResponsePayload",kind:"LinkedField",name:"batch_notification_state_change_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"aggregated_notifications",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,b],kind:"Fragment",metadata:null,name:"CometBatchNotificationsStateChangeSubscription",selections:c,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,a],kind:"Operation",name:"CometBatchNotificationsStateChangeSubscription",selections:c},params:{id:"3434598286567017",metadata:{subscriptionName:"batch_notification_state_change_subscribe"},name:"CometBatchNotificationsStateChangeSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("CometNotificationsStateChangeSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"environment"},b={defaultValue:null,kind:"LocalArgument",name:"input"},c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"NotificationStateChangeSubscribeResponsePayload",kind:"LinkedField",name:"notification_state_change_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notification",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,b],kind:"Fragment",metadata:null,name:"CometNotificationsStateChangeSubscription",selections:c,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,a],kind:"Operation",name:"CometNotificationsStateChangeSubscription",selections:c},params:{id:"2889547877749972",metadata:{subscriptionName:"notification_state_change_subscribe"},name:"CometNotificationsStateChangeSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("MWChatMarkAllAsSeenMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"ViewerMessagesMarkAllSeenResponsePayload",kind:"LinkedField",name:"viewer_messages_mark_all_seen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatMarkAllAsSeenMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatMarkAllAsSeenMutation",selections:b},params:{id:"2781738478526229",metadata:{},name:"MWChatMarkAllAsSeenMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometOnBeforeUnloadDialog.react",["fbt","CometCardedDialog.react","CometTrackingNodeProvider.react","React","TetraButtonGroup.react","TetraText.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.body,d=a.cancel,e=a.confirm,f=a.disabled;f=f===void 0?!1:f;var i=a.onClose,j=a.onCloseButtonPress,k=a.primaryAction,l=a.secondaryAction;a=a.title;var m=function(){k(),i()},n=function(){l(),i()};return h.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:163,children:h.jsxs(b("CometCardedDialog.react"),{onClose:function(){j(),i()},testid:void 0,title:a,titleHorizontalAlignment:"start",withCloseButton:!0,children:[h.jsx("div",{className:"l9j0dhe7 dati1w0a f10w8fjw hv4rvrfc pybr56ya",children:h.jsx(b("TetraText.react"),{type:"body3",children:c})}),h.jsx("div",{className:"a8nywdso ihqw7lf3 rz4wbd8a jb3vyjys bkfpd7mw btwxx1t3 j83agx80",children:h.jsx(b("TetraButtonGroup.react"),{direction:"backward",paddingHorizontal:16,primary:{disabled:f,label:(a=e)!=null?a:g._("Confirm"),onPress:m,testid:"CometOnBeforeUnloadDialogConfirmButton"},secondary:{disabled:f,label:(c=d)!=null?c:g._("Cancel"),onPress:n,reduceEmphasis:!0,testid:"CometOnBeforeUnloadDialogCancelButton"}})})]})})}}),null);
__d("CometRouteActorToaster.react",["fbt","Actor","CometRelay","CometRouteActorToasterBlocklist","React","TetraProfilePhoto.react","TetraText.react","WebPixelRatio","cometPushToast","getTopMostRoute","promiseDone","useCometRouterState","useCurrentRoute","useRouteReferrer","CometRouteActorToasterQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React");function j(a,c){if(c)return i.jsx(b("TetraText.react"),{color:"primary",type:"body3",children:g._("You're now interacting as {=your profile}",[g._param("=your profile",i.jsx(b("TetraText.react"),{type:"bodyLink3",children:g._("your profile")}))])});else return i.jsx(b("TetraText.react"),{color:"primary",type:"body3",children:g._("You're now interacting as {actor}",[g._param("actor",i.jsx(b("TetraText.react"),{type:"bodyLink3",children:a}))])})}var k=h!==void 0?h:h=b("CometRouteActorToasterQuery.graphql");function a(){var a,c=b("CometRelay").useRelayEnvironment(),d=b("Actor").useActor(),e=d[0],f=i.useRef(null);d=b("useCometRouterState")();var g=b("useCurrentRoute")(),h=(a=b("useRouteReferrer")())==null?void 0:a.actorID;a=b("CometRouteActorToasterBlocklist").route_trace_policies;a=a.includes(g==null?void 0:g.tracePolicy);d=d!=null?b("getTopMostRoute")(d):null;g=g===d;var l=g&&!a;i.useEffect(function(){var a;a=(a=f.current)!=null?a:h;if(a!=null&&a!==e&&l){a=function(a){var c;c=a==null?void 0:(c=a.viewer)==null?void 0:(c=c.actor)==null?void 0:c.name;if(c!=null){var d;d=(a==null?void 0:(d=a.viewer)==null?void 0:(d=d.actor)==null?void 0:d.__typename)==="User";a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.actor)==null?void 0:(a=a.toast_icon)==null?void 0:a.uri;a=a!=null?i.jsx(b("TetraProfilePhoto.react"),{shape:"circle",size:32,source:{uri:a}}):null;c=j(c,d);b("cometPushToast").cometPushToast({icon:a,message:c})}};var d={scale:b("WebPixelRatio").get()};b("promiseDone")(b("CometRelay").fetchQuery(c,k,d).toPromise(),a)}f.current=e},[e,c,h,l]);return null}}),null);
__d("CometBlueBridgeContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(!1);e.exports=c}),null);
__d("convertToCometQuicklingURI",["ConstUriUtils","Env","URI","persistentQueryParams"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h;c=new(g||b("URI"))(String(document.location));var i=c.getOrigin();d=c.getQueryData();var j=Object.entries(d).reduce(function(a,c){var d=c[0];c=c[1];if(d==="sk")return a;b("persistentQueryParams").find(function(a){return a===d})&&(a[d]=c);return a},{});function k(a,c,d){var e=a.indexOf("?")!==-1?"&":"?";e=""+a+e+"cquick="+c+"&ctarget="+i+"&cquick_token="+((a=(h||(h=b("Env"))).compat_iframe_token)!=null?a:"");d&&(e+="&noCoBLog=true");return e}function a(a,c,d){var e;d===void 0&&(d=!1);var f=b("ConstUriUtils").getUri(a);if(f==null)return k(a,c,d);e=new Map([].concat(Object.entries({cquick:c,cquick_token:(e=(h||(h=b("Env"))).compat_iframe_token)!=null?e:"",ctarget:i}),Object.entries(j)));d&&e.set("noCoBLog","true");f=f.addQueryParams(e);return f==null?k(a,c,d):f.toString()}}),null);
__d("getCompatIframeOrigin",["ConstUriUtils","FBLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=document.location.origin,d=b("ConstUriUtils").getUri(c);if(d==null){b("FBLogger")("comet_infra").mustfix("Failed to parse the origin `%s`",c);return c}c=d.getSubdomain();if(c==="comet"||c==="www"){c=d.setSubDomain(a);if(c!=null)return c.toString().slice(0,-1)}return d.toString().slice(0,-1)}}),null);
__d("getMessageEventString",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){a=a.data;if(typeof a==="object"){a=a==null?void 0:a[b];if(typeof a==="string")return a}return""}}),null);
__d("CometCompatBroker",["BaseEventEmitter","CometAltpayJsSdkIframeAllowedDomains","ConstUriUtils","FBLogger","JSScheduler","convertToCometQuicklingURI","getCompatIframeOrigin","getMessageEventString"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=b("ConstUriUtils").getUri(a);if(c==null){b("FBLogger")("comet_infra").mustfix("Failed to parse the origin `%s`",a);return!1}a=["apps","secure","www"].some(function(a){a=b("ConstUriUtils").getUri(b("getCompatIframeOrigin")(a));return a==null?!1:c.isSameOrigin(a)});if(a)return!0;a=b("ConstUriUtils").getUri(document.location.origin.replace(/facebook\.com/i,"messenger.com"));return a?c.isSameOrigin(a):!1}function h(a){var c=b("ConstUriUtils").getUri(a);if(c==null){b("FBLogger")("comet_infra").mustfix("Failed to parse the origin `%s`",a);return!1}a=b("CometAltpayJsSdkIframeAllowedDomains").allowed_domains;if(a==null||a.length<=0)return!1;a=a.some(function(a){a=b("ConstUriUtils").getUri(a);return a==null?!1:c.isSameOrigin(a)});return a?!0:!1}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$CometCompatBroker1=null,d.$CometCompatBroker2="",d.$CometCompatBroker3=!1,d.$CometCompatBroker4=null,d.$CometCompatBroker5=!1,d.$CometCompatBroker6=function(a){b("JSScheduler").scheduleNormalPriCallback(function(){var c=b("getMessageEventString")(a,"compatAction");if(c!==""){d.emit(c,a);return}b("FBLogger")("compat").mustfix("Invalid MessageEvent payload received")})},d.cleanup=function(){window.removeEventListener("message",d.$CometCompatBroker4),d.$CometCompatBroker3=!1},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.init=function(a,b,c){var d=this;c===void 0&&(c=!1);this.$CometCompatBroker2=b;this.$CometCompatBroker5=c;this.$CometCompatBroker4=function(b){d.setupMessageChannel(b,a)};this.$CometCompatBroker3||(window.addEventListener("message",this.$CometCompatBroker4),this.$CometCompatBroker3=!0)};d.sendChildFrameMessage=function(a){this.$CometCompatBroker1&&this.$CometCompatBroker1.postMessage(babelHelpers["extends"]({},a))};d.sendChildFrameParams=function(a){this.sendChildFrameMessage(babelHelpers["extends"]({},a,{uri:b("convertToCometQuicklingURI")(a.uri,this.$CometCompatBroker2)}))};d.setupMessageChannel=function(a,c){var d=b("getMessageEventString")(a,"compatAction"),e=b("getMessageEventString")(a,"iframeKey");(this.$CometCompatBroker5&&h(a.origin)||g(a.origin))&&d==="CompatSetup"&&e===this.$CometCompatBroker2&&(this.$CometCompatBroker1&&this.$CometCompatBroker1.close(),a.ports!=null&&Array.isArray(a.ports)&&(this.$CometCompatBroker1=a.ports[0],this.$CometCompatBroker1.onmessage=this.$CometCompatBroker6,c()))};return c}(b("BaseEventEmitter"));e.exports=a}),null);
__d("MWChatMarkAllAsSeenMutation",["CometRelay","relay-runtime","MWChatMarkAllAsSeenMutation.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g!==void 0?g:g=b("MWChatMarkAllAsSeenMutation.graphql");function i(a){a=a.get(b("relay-runtime").VIEWER_ID);if(a==null)return;a=a.getLinkedRecord("message_threads");if(a==null)return;var c=a.getValue("unseen_count");if(typeof c!=="number")return;a.setValue(0,"unseen_count")}function a(a,c,d,e){return b("CometRelay").commitMutation(a,{mutation:h,onCompleted:d,onError:e,optimisticUpdater:function(a){i(a)},updater:function(a){i(a)},variables:c})}}),null);
__d("convertDomainToApps",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){if(b.startsWith("/apps")){b=a.replace(/www/i,"apps");if(b!=null)return b}return a}}),null);
__d("stripAppsFromPath",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return a.startsWith("/apps")?a.slice(5):a}}),null);
__d("getCompatIframeSource",["ConstUriUtils","convertDomainToApps","convertToCometQuicklingURI","getCompatIframeOrigin","stripAppsFromPath"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){d===void 0&&(d=!1);var e=b("ConstUriUtils").getUri(a);e=(e=e!=null?(e=e.getUnqualifiedUri())==null?void 0:e.toString():a)!=null?e:a;a=b("convertDomainToApps")(b("getCompatIframeOrigin")("www"),e);a=a;e=b("stripAppsFromPath")(e);e=e;return""+a+b("convertToCometQuicklingURI")(e,c,d)}}),null);
__d("LogCometCanvasAppTimeSpentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743833");c=b("FalcoLoggerInternal").create("log_comet_canvas_app_time_spent",a);e.exports=c}),null);
__d("useCompatCanvasAppListener",["LogCometCanvasAppTimeSpentFalcoEvent","React","WebSession"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a,c){var d=c.priority;g.useEffect(function(){a.addListener("log_canvas_app_time_spent",function(a){a=a.data;var c={appID:""+a.appID,endTime:a.currentTime,startTime:a.lastOpenTime,webSessionId:b("WebSession").getId()};d==="HIGH"?b("LogCometCanvasAppTimeSpentFalcoEvent").logImmediately(function(){return c}):b("LogCometCanvasAppTimeSpentFalcoEvent").log(function(){return c})});return function(){a.removeAllListeners("log_canvas_app_time_spent")}},[d,a])}}),null);
__d("getMessageEventBoolean",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){a=a.data;if(typeof a==="object"){a=a==null?void 0:a[b];if(typeof a==="boolean")return a}return!1}}),null);
__d("useCompatChatTabListener",["FBLogger","React","getMessageEventBoolean","getMessageEventString","useMWChatOpenTabForPage","useMWChatOpenTabForUser"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=b("useMWChatOpenTabForUser")("compat"),d=c[0];c[1];var e=b("useMWChatOpenTabForPage")("compat");g.useEffect(function(){a.addListener("startchat",function(a){var c=b("getMessageEventString")(a,"tabId");a=b("getMessageEventBoolean")(a,"isPage");c!==""?a?e(c):d(c):b("FBLogger")("CometMessenger").mustfix("No id in useCompatChatTabListener")});return function(){return a.removeAllListeners("startchat")}},[a,d,e])}}),null);
__d("useCompatClickEventDispatcher",["useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){b("useLayoutEffect_SAFE_FOR_SSR")(function(){var b=a.current;if(b==null)return;var c,d=function(){c&&c();try{var a,d=(a=b.contentDocument)!=null?a:b.contentWindow.document,e=function(a){var c;a=document.createEvent("HTMLEvents");a.initEvent("click",!0,!1);(c=b.parentElement)==null?void 0:c.dispatchEvent(a)};d.addEventListener("click",e,{capture:!0});c=function(){d.removeEventListener("click",e,{capture:!0})}}catch(a){}};b.addEventListener("load",d);return function(){b.removeEventListener("load",d),c&&c()}},[a])}}),null);
__d("useCompatDarkModeListener",["React","useIsDarkMode"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=b("useIsDarkMode")();g.useEffect(function(){a&&a.sendChildFrameMessage({compatAction:"dark-mode",enabled:String(c)})},[a,c])}}),null);
__d("useCompatDocumentFocusChange",["React","clearInterval","recoverableViolation","setInterval","useCurrentRoute"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=b("useCurrentRoute")(),d=g.useRef(null);g.useEffect(function(){var c=null,e=a.addListener("subscribe_document_focus_change",function(){if(c!=null){b("recoverableViolation")("Received multiple subscribe_document_focus_change messages from the page","comet_infra");return}function e(){var b=document.hasFocus();d.current!==b&&(d.current=b,a.sendChildFrameMessage({compatAction:"document_focus_change",focused:String(document.hasFocus())}))}c=b("setInterval")(e,1e3)});return function(){e.remove(),c!=null&&b("clearInterval")(c)}},[a,c])}}),null);
__d("useCompatReloadListener",["React","useCometRouterDispatcher","useCurrentRoute"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a,c){var d=b("useCometRouterDispatcher")(),e=c.forceSelf,f=b("useCurrentRoute")();g.useEffect(function(){a.addListener("reload",function(a){a=e?{target:"self"}:{};f&&(d&&d.goTo(f,a))});return function(){return a.removeAllListeners("reload")}},[d,a,e,f])}}),null);
__d("useCompatRouteListener",["ConstUriUtils","HiddenSubtreePassiveContext","React","URI","getMessageEventBoolean","getMessageEventString","gkx","goForceFullPageRedirectTo","useCometRouterDispatcher","useCurrentRoute"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a,c){var d=b("useCometRouterDispatcher")(),e=c.forceSelf,f=c.noMaintain,i=h.useContext(b("HiddenSubtreePassiveContext")),j=b("useCurrentRoute")();h.useEffect(function(){d&&a.addListener("route",function(a){if(i.getCurrentState().hidden)return;var c=b("getMessageEventBoolean")(a,"fullPageReload"),h=new(g||(g=b("URI")))(b("getMessageEventString")(a,"uri")).removeQueryData(["cquick","ctarget","cquick_token"]);if(!h.isSameOrigin()||c){b("goForceFullPageRedirectTo")(h.toString());return}c=h.getUnqualifiedURI();h=c.toString();var k=b("getMessageEventString")(a,"maintainKey");a=b("getMessageEventBoolean")(a,"replace");if(!Boolean(k)||f){k=e?{replace:a,target:"self"}:{replace:a};d.go(h,k)}else{k={replace:a,target:"self"};if(j){a=b("ConstUriUtils").getUri(j.url);c=c.getPath().startsWith("/messages")?"messenger":b("gkx")("1224637")&&c.getPath().startsWith("/settings")&&(a==null?void 0:a.getPath().startsWith("/settings"))?j.tabKey:void 0;a=babelHelpers["extends"]({},j,{tabKey:c,url:h});d.goTo(a,k)}else d.go(h,k)}});return function(){return a.removeAllListeners("route")}},[d,a,e,i,f,j])}}),null);
__d("useCompatTimeSpentBitArrayListener",["CometTimeSpentBitArrayLogger","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){g.useEffect(function(){a.addListener("update_time_spent_bit_array_from_boc",function(a){a=a.data;b("CometTimeSpentBitArrayLogger").updateTimeSpentArray(a.eventTimeInMs)});return function(){a.removeAllListeners("update_time_spent_bit_array_from_boc")}},[a])}}),null);
__d("CometFullPageCompatRoot.react",["CometBlueBridgeContext","CometCompatBroker","CometDarkModeContext","CometDOMOnlyBoundary.react","CometHeroHoldTrigger.react","CometOnRefresh.react","CometRelay","CometRouteRenderType","CometRouteURL","CurrentUser","FBLogger","InteractionTracingMetrics","MWChatMarkAllAsSeenMutation","React","clearTimeout","cometUniqueID","getCompatIframeSource","requireCond","setTimeout","stylex","useCompatCanvasAppListener","useCompatChatTabListener","useCompatClickEventDispatcher","useCompatDarkModeListener","useCompatDocumentFocusChange","useCompatReloadListener","useCompatRouteListener","useCompatTimeSpentBitArrayListener","useCurrentRoute","useLayoutEffect_SAFE_FOR_SSR","usePrevious","cr:683059"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.routeProps.maintainKey,d=g.useContext(b("CometDarkModeContext"));d=d.isDarkModeEnabled;var e=g.useContext(b("CometBlueBridgeContext")),f=b("usePrevious")(c),h=b("useCurrentRoute")(),i=b("CometRouteURL").useRouteURL(),j=(h=h==null?void 0:h.routePath)!=null?h:i;e&&b("FBLogger")("BlueOnComet").mustfix("Blue on Comet is not allowed in Comet on Blue, was trying to load "+j);h=g.useState(b("cometUniqueID")());var k=h[0],l=h[1],m=b("getCompatIframeSource")(i,k,e),n=g.useRef(null);h=g.useState(m);e=h[0];var o=h[1],p=g.useRef(null),q=g.useRef(null);h=g.useState(!0);var r=h[0],s=h[1];b("useLayoutEffect_SAFE_FOR_SSR")(function(){b("cr:683059")&&(b("cr:683059").addMarkerPoint("BoC_start"),p.current=b("cr:683059").holdTrigger(k),q.current=b("setTimeout")(function(){p.current&&p.current(),p.current=null},6e4),b("cr:683059").addAnnotation("routePath",j)),s(!1)},[k,e,j]);h=g.useState(new(b("CometCompatBroker"))());var t=h[0],u=b("CometRelay").useRelayEnvironment(),v=g.useRef(null);h=g.useCallback(function(){l(b("cometUniqueID")())},[l]);b("CometOnRefresh.react").useOnRefresh(h);h=g.useCallback(function(){b("cr:683059")&&(b("cr:683059").addVisualElement(v.current,"BoCIframe"),b("cr:683059").addMarkerPoint("BoC_end"),b("clearTimeout")(q.current),p.current&&p.current(),p.current=null),s(!1)},[v,p]);b("useLayoutEffect_SAFE_FOR_SSR")(function(){t.init(function(){},k);return t.cleanup},[t,k,e]);b("useCompatRouteListener")(t,{forceSelf:!1,noMaintain:!1});b("useCompatReloadListener")(t,{forceSelf:!0});b("useCompatCanvasAppListener")(t,{priority:b("CurrentUser").isLoggedIn()?"HIGH":"LOW"});b("useCompatDocumentFocusChange")(t);b("useCompatTimeSpentBitArrayListener")(t);b("useCompatChatTabListener")(t);b("useCompatDarkModeListener")(t);var w=a.customCompatEventHandler;g.useEffect(function(){if(w)return w(t)},[t,w]);g.useEffect(function(){if(i.startsWith("/messages")){b("InteractionTracingMetrics").currentInteractionLogger().addGlobalMetadata("afterMessengerLoaded",1);if(!m.includes("/t/")&&n.current!=null&&n.current.includes("/t/"))return}m!==n.current&&(Boolean(c)&&c===f?t.sendChildFrameParams({compatAction:"transitionpage",rel:"",uri:m}):o(m));n.current=m},[t,m,c,f,i]);g.useEffect(function(){if(i.startsWith("/messages")){var a=String(Date.now());b("MWChatMarkAllAsSeenMutation")(u,{input:{actor_id:b("CurrentUser").getID(),precise_timestamp:a}})}},[u,i]);b("useCompatClickEventDispatcher")(v);return g.jsx("div",{className:"ina5je9e d2edcug0 datstx6m",children:g.jsxs(b("CometDOMOnlyBoundary.react"),{children:[g.jsx(b("CometHeroHoldTrigger.react"),{description:"BoC iframe",hold:r}),g.jsx("iframe",{className:"k4urcfbm jgljxmt5 a8c37x1j izx4hr6d humdl8nn bn081pho gcieejh5"+(d&&!i.startsWith("/messages")?" esnais5j":"")+(b("CometRouteRenderType").useIsPushView()?" nznu9b0o":""),onError:h,onLoad:h,ref:v,src:e,tabIndex:-1},e)]})})}}),null);
__d("CometUncaughtError.react",["fbt","CometContentArea.react","NullStateGeneral","React","TetraNullState.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(){return h.jsx("div",{className:"k4urcfbm poy2od1o taijpn5t nznu9b0o j83agx80 bp9cbjyn",children:h.jsx(b("CometContentArea.react"),{verticalAlign:"middle",children:h.jsx(b("TetraNullState.react"),{headline:g._("Sorry! Something went wrong :("),icon:b("NullStateGeneral")})})})}}),null);
__d("CometBatchNotificationsStateChangeSubscription",["CometRelay","CurrentUser","RelayRTIGraphQLSubscriptionTopicProvider","relay-runtime","CometBatchNotificationsStateChangeSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";f.batchSubscribe=a;var g,h=g!==void 0?g:g=b("CometBatchNotificationsStateChangeSubscription.graphql");f.subscription=h;var i={};function a(a){var c=b("relay-runtime").getRequest(h);c=c.params.id;c!==null&&!i[c]&&(i[c]=!0,b("RelayRTIGraphQLSubscriptionTopicProvider").registerProvider(c,function(a){return"gqls/batch_notification_state_change_subscribe/actor_id_"+b("CurrentUser").getID()}));return b("CometRelay").requestSubscription(a,{subscription:h,variables:{environment:"MAIN_SURFACE",input:{environment:"MAIN_SURFACE"}}})}}),null);
__d("CometNotificationsStateChangeSubscription",["CometRelay","CurrentUser","RelayRTIGraphQLSubscriptionTopicProvider","relay-runtime","CometNotificationsStateChangeSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=g!==void 0?g:g=b("CometNotificationsStateChangeSubscription.graphql"),i={};function a(a){var c=b("relay-runtime").getRequest(h);c=c.params.id;c!==null&&!i[c]&&(i[c]=!0,b("RelayRTIGraphQLSubscriptionTopicProvider").registerProvider(c,function(a){return"gqls/notification_state_change_subscribe/actor_id_"+b("CurrentUser").getID()+"_environment_"+a.input.environment}));return b("CometRelay").requestSubscription(a,{subscription:h,variables:{environment:"MAIN_SURFACE",input:{environment:"MAIN_SURFACE"}}})}c={subscribe:a,subscription:h};e.exports=c}),null);
__d("BDSignalBufferData",[],(function(a,b,c,d,e,f){"use strict";a={};b=a;e.exports=b}),null);
__d("BDSignalWrapper",["BDSignalBufferData","SignalCollectorMap"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.signalFlags=a,this.signalType=b}var c=a.prototype;c.getSignalCollector=function(a){if(this.canExecuteForReputationTier(a)){return(a=b("SignalCollectorMap")[this.signalType])==null?void 0:a.get(this.signalFlags)}return null};c.canExecuteForReputationTier=function(a){return this.signalType===38001?!0:this.signalFlags.includes(a)};c.getBufferConfig=function(){return b("BDSignalBufferData")[this.signalType]};return a}();e.exports=a}),null);
__d("SignalValueContext",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.cn=a}var b=a.prototype;b.getSignalValueContextName=function(){return this.cn};return a}();e.exports=a}),null);
__d("BDSignalCollectorBase",["regeneratorRuntime","BDSignalBufferData","SignalValueContext"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.signalType=a}var c=a.prototype;c.executeSignalCollection=function(){throw new Error("Child class responsibility to implement executeSignalCollection")};c.executeAsyncSignalCollection=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.executeSignalCollection());case 2:a=c.sent;return c.abrupt("return",a);case 4:case"end":return c.stop()}},null,this)};a.getSanitizedURI=function(){var a=window.location.href,b=a.indexOf("?");return b<0?a:a.substring(0,b)};c.getContext=function(){return new(b("SignalValueContext"))(a.getSanitizedURI())};c.throwIfNotInitialized=function(){if(!(this.signalType in b("BDSignalBufferData")))throw new Error("Signal is not intialized")};return a}();e.exports=a}),null);
__d("BDLoggingConstants",[],(function(a,b,c,d,e,f){"use strict";a={ERROR:"error",WARNING:"warning",INFO:"info"};f.LEVELS=a;b={KEY_NOT_FOUND:"key_not_found",APPEND_SIGNAL:"bd_append_signal",APPEND_SIGNAL_FAIL:"bd_append_signal_fail",HB_COLLECTED:"append_hb",HB_COLLECTION_FAILED:"hb_collection_failed",BD_EXCEPTION:"bd_exception",SIGNAL_NOT_IMPLEMENTED:"signal_not_implemented",SIGNAL_VALUE_NULL:"signal_value_null",EMPTY_SIGNAL_CONFIG:"empty_signal_config",INVALID_BUFFER_SIZE:"invalid_buffer_size",INVALID_DURATION:"invalid_duration",SIGNAL_FLAGS_MISSING:"signal_flags_missing",DYNAMIC_SIGNAL_COLLECTION_STARTED:"dynamic_signal_collection_started",BIOMETRIC_SIGNAL_COLLECTION_STARTED:"biometric_signal_collection_started",INVALID_GUID:"invalid_guid",INVALID_LENGTH:"invalid_length",GET_LOCAL_STORAGE_ERROR:"get_local_storage_error",WEB_STORAGE:"web_storage",PARSE_CONFIG_ERROR:"parse_config_error",HB_START_FAILURE:"hb_start_failure",HB_ALREADY_RUNNING:"hb_already_running",TRY_RESTARTING_HB:"try_restarting_hb",BANZAI_LOG_ERROR:"banzai_log_error"};f.OPERATIONS=b;c="JS";f.COMPONENT_NAME=c}),null);
__d("BDOperationTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setBdSessionID=function(a){this.$1.bd_session_id=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setDurationUs=function(a){this.$1.duration_us=a;return this};c.setExceptionMessage=function(a){this.$1.exception_message=a;return this};c.setExceptionStackTrace=function(a){this.$1.exception_stack_trace=a;return this};c.setExceptionType=function(a){this.$1.exception_type=a;return this};c.setIntValue=function(a){this.$1.int_value=a;return this};c.setLevel=function(a){this.$1.level=a;return this};c.setOperation=function(a){this.$1.operation=a;return this};c.setOperationInfo=function(a){this.$1.operation_info=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setSessionlets=function(a){this.$1.sessionlets=b("GeneratedLoggerUtils").serializeVector(a);return this};return a}();c={bd_session_id:!0,component:!0,duration_us:!0,exception_message:!0,exception_stack_trace:!0,exception_type:!0,int_value:!0,level:!0,operation:!0,operation_info:!0,sessionlets:!0};e.exports=a}),null);
__d("BDOperationLogHelper",["BDLoggingConstants","BDOperationTypedLogger","Random"],(function(a,b,c,d,e,f){"use strict";f.logInfo=a;f.logWarning=c;f.logError=d;f.log=g;f.getFlipSamplingByOperation=h;function a(a,c,d,e){g(a,b("BDLoggingConstants").LEVELS.INFO,c,d,e)}function c(a,c,d,e){g(a,b("BDLoggingConstants").LEVELS.WARNING,c,d,e)}function d(a,c,d,e){g(a,b("BDLoggingConstants").LEVELS.ERROR,c,d,e)}function g(a,c,d,e,f){e===void 0&&(e={});if(b("Random").coinflip(h(d))){if(e===null)throw new Error("opeartion info null");e.source=a;new(b("BDOperationTypedLogger"))().setLevel(c).setDurationUs(f).setOperation(d).setComponent(b("BDLoggingConstants").COMPONENT_NAME).setOperationInfo(e).log()}}function h(a){var c=b("BDLoggingConstants").OPERATIONS;switch(a){case c.APPEND_SIGNAL:case c.HB_COLLECTED:case c.GET_LOCAL_STORAGE_ERROR:case c.WEB_STORAGE:case c.SIGNAL_NOT_IMPLEMENTED:case c.BIOMETRIC_SIGNAL_COLLECTION_STARTED:return 1e3;default:return 1}}}),null);
__d("SignalErrorValueTypeDef",[],(function(a,b,c,d,e,f){"use strict";var g="ec",h="en",i="es",j=500;a=function(){function a(a,b,c){this.$1=a,this.$2=b,c!=null&&(this.$3=c.substr(0,j))}var b=a.prototype;b.getErrorCode=function(){return this.$1};b.getErrorName=function(){return this.$2};b.getErrorDetails=function(){return this.$3};b.isEqual=function(a){return this.$1===a.getErrorCode()&&this.$3===a.getErrorDetails()&&this.$2===a.getErrorName()};b.toJSON=function(){var a={};a[g]=this.$1;switch(this.$1){case 0:a[h]=this.$2;a[i]=this.$3;break}return a};return a}();f.SignalErrorValueTypeDef=a}),null);
__d("SignalValueTypeDef",["BDLoggingConstants","BDOperationLogHelper","SignalErrorValueTypeDef"],(function(a,b,c,d,e,f){"use strict";var g="SignalValueTypeDef",h="t",i="ctx",j="v";f.BD_VALUE=j;var k="e";f.BD_ERROR=k;var l={NUMBER:"NUMBER",STRING:"STRING",BOOLEAN:"BOOLEAN",CUSTOM_OBJECT:"CUSTOM_OBJECT",INT_ARRAY:"INT_ARRAY",TOUCH:"TOUCH",MAP:"MAP",LIST:"LIST",SENSOR:"SENSOR",ERROR:"ERROR"};f.VALUE_TYPES=l;a=function(){function a(a,b,c,d,e){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e!=null?e:0}var c=a.prototype;c.getTimeStampMS=function(){return this.$1};c.getSignalContext=function(){return this.$2};c.getSignalValue=function(){return this.$3};c.getSignalValueType=function(){return this.$4};c.isEqual=function(a,c){if(a==null){b("BDOperationLogHelper").logWarning(g,b("BDLoggingConstants").OPERATIONS.SIGNAL_VALUE_NULL);return!1}if(this.getSignalValueType()!==a.getSignalValueType())return!1;if(this.getSignalValueType()===l.ERROR&&a.getSignalValueType()===l.ERROR)return this.equalValue(a);var d=!1;c.has(128)&&(d=this.equalValue(a));c.has(256)&&(d=d&&this.getSignalContext()!=null&&a.getSignalContext()!=null&&this.getSignalContext().getSignalValueContextName()===a.getSignalContext().getSignalValueContextName());c.has(512)&&(d=d&&Math.abs(this.getTimeStampMS()-a.getTimeStampMS())<=this.$5);return d};c.equalValue=function(a){if(this.isPrimitiveType())return this.getSignalValue()===a.getSignalValue();throw new Error("Must implement in the subclasses")};c.toJSON=function(a){var c={};a&&(c[h]=this.$1/1e3,this.$2!=null&&(c[i]=this.$2));this.$3==null?c[k]=new(b("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(2):this.addValueOrErrorToJSON(c);return c};c.addValueOrErrorToJSON=function(a){if(this.isPrimitiveType())a[j]=this.$3;else throw new Error("Must implement in the subclasses")};c.isPrimitiveType=function(){switch(typeof this.$3){case"number":case"boolean":case"string":return!0;default:return!1}};return a}();f.SignalValueTypeDef=a}),null);
__d("ErrorSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e){return a.call(this,c,d,e,b("SignalValueTypeDef").VALUE_TYPES.ERROR)||this}var d=c.prototype;d.equalValue=function(a){return this.getSignalValue().isEqual(a.getSignalValue())};d.addValueOrErrorToJSON=function(a){a[b("SignalValueTypeDef").BD_ERROR]=this.getSignalValue().toJSON()};return c}(b("SignalValueTypeDef").SignalValueTypeDef);e.exports=a}),null);
__d("NumberSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e){return a.call(this,c,d,e,b("SignalValueTypeDef").VALUE_TYPES.NUMBER)||this}return c}(b("SignalValueTypeDef").SignalValueTypeDef);e.exports=a}),null);
__d("BDConnectionRTTSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","NumberSignalValueType","SignalErrorValueTypeDef"],(function(a,b,c,d,e,f){"use strict";var g=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.call(this,i.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){if(navigator.connection!=null&&navigator.connection.rtt!=null){var a=navigator.connection.rtt;a=new(b("NumberSignalValueType"))(Date.now(),this.getContext(),a)}else a=new(b("ErrorSignalValueType"))(Date.now(),this.getContext(),new(b("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.connection.rtt not supported"));return{valueOrError:a}};return a}(b("BDSignalCollectorBase")),h=null,i={signalType:30004,get:function(){h==null&&(h=new g());return h}};a=i;e.exports=a}),null);
__d("CustomObjectSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e){return a.call(this,c,d,e,b("SignalValueTypeDef").VALUE_TYPES.CUSTOM_OBJECT)||this}var d=c.prototype;d.equalValue=function(a){return this.getSignalValue().isEqual(a.getSignalValue())};d.addValueOrErrorToJSON=function(a){a[b("SignalValueTypeDef").BD_VALUE]=this.getSignalValue().toJSON()};return c}(b("SignalValueTypeDef").SignalValueTypeDef);e.exports=a}),null);
__d("HeartbeatObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.isAppForeground=!0}var b=a.prototype;b.toJSON=function(){return{f:this.isAppForeground}};b.isEqual=function(a){return!1};return a}();e.exports=a}),null);
__d("BDHeartbeatSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatObject"],(function(a,b,c,d,e,f){"use strict";var g=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.call(this,i.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(b("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(b("HeartbeatObject"))());return{valueOrError:a}};return a}(b("BDSignalCollectorBase")),h=null,i={signalType:38e3,get:function(){h==null&&(h=new g());return h}};a=i;e.exports=a}),null);
__d("BDBiometricSignalCollectorBase",["BDSignalCollectorBase","err"],(function(a,b,c,d,e,f){"use strict";a="biometric_signal_collected";f.BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME=a;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.listenForSignals=function(){throw b("err")("Child class responsibility to implement listenForSignals")};d.executeSignalCollection=function(){throw b("err")("executeAsyncSignalCollection and executeSignalCollection should not be called on biometric signals")};return c}(b("BDSignalCollectorBase"));f.BDBiometricSignalCollectorBase=c}),null);
__d("KeyDownUpObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.action=null,this.key_code=null,this.action=a,this.key_code=b}var b=a.prototype;b.toJSON=function(){return{action:this.action,key_code:this.key_code}};b.isEqual=function(b){return b instanceof a?this.action===b.action&&this.key_code===b.key_code:!1};return a}();e.exports=a}),null);
__d("BDKeyDownUpSignalCollector",["BDBiometricSignalCollectorBase","CustomObjectSignalValueType","KeyDownUpObject","gkx"],(function(a,b,c,d,e,f){"use strict";var g=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.call(this,i.signalType)||this}var d=a.prototype;d.listenForSignals=function(){var a=this;b("gkx")("1652843")&&(document.addEventListener("keydown",function(b){return a.collectSignals(2)}),document.addEventListener("keyup",function(b){return a.collectSignals(1)}))};d.collectSignals=function(a){a=new(b("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(b("KeyDownUpObject"))(a,0));a={signalId:this.signalType,data:{valueOrError:a}};window.dispatchEvent(new CustomEvent(b("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))};return a}(b("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase),h=null,i={signalType:30100,get:function(){h==null&&(h=new g());return h}};a=i;e.exports=a}),null);
__d("StringArrayObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.strings=[],this.strings=a}var b=a.prototype;b.toJSON=function(){return this.strings};b.isEqual=function(b){if(!(b instanceof a))return!1;if(b.strings===this.strings)return!0;if(b.strings.length!==this.strings.length)return!1;for(var c=0;c<this.strings.length;c++)if(this.strings[c]!==b.strings[c])return!1;return!0};return a}();e.exports=a}),null);
__d("BDLanguagesSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","StringArrayObject"],(function(a,b,c,d,e,f){"use strict";var g=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.call(this,i.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=[].concat(navigator.languages);a=new(b("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(b("StringArrayObject"))(a));return{valueOrError:a}};return a}(b("BDSignalCollectorBase")),h=null,i={signalType:30003,get:function(){h==null&&(h=new g());return h}};a=i;e.exports=a}),null);
__d("BDMimeTypeCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f){"use strict";var g=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.call(this,i.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.mimeTypes?navigator.mimeTypes.length:-1;a=new(b("NumberSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(b("BDSignalCollectorBase")),h=null,i={signalType:30002,get:function(){h==null&&(h=new g());return h}};a=i;e.exports=a}),null);
__d("BooleanSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e){return a.call(this,c,d,e,b("SignalValueTypeDef").VALUE_TYPES.BOOLEAN)||this}return c}(b("SignalValueTypeDef").SignalValueTypeDef);e.exports=a}),null);
__d("BDTouchOrMouseSignalCollectorBase",["BDBiometricSignalCollectorBase","BooleanSignalValueType","gkx"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(b,c,d){var e;e=a.call(this,b)||this;e.eventsToSubscribe=[];e.pauseTimeout=60*60*1e3;e.eventsToSubscribe=c;e.pauseTimeout=d;e.handler=function(a){return e.collectSignals(a)};return e}var d=c.prototype;d.listenForSignals=function(){b("gkx")("1820190")&&(this.collectSignals(),this.addListeners())};d.addListeners=function(){var a=this;this.eventsToSubscribe.forEach(function(b){document.addEventListener(b,a.handler)})};d.pauseListeners=function(){var a=this;this.eventsToSubscribe.forEach(function(b){document.removeEventListener(b,a.handler)});window.setTimeout(function(){return a.addListeners()},this.pauseTimeout)};d.collectSignals=function(a){a=a!=null;a&&this.pauseListeners();a=new(b("BooleanSignalValueType"))(Date.now(),this.getContext(),a);a={signalId:this.signalType,data:{valueOrError:a}};window.dispatchEvent(new CustomEvent(b("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))};return c}(b("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase);e.exports=a}),null);
__d("BDMousePresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(a,b,c,d,e,f){"use strict";var g=60*60*1e3,h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType,["mousedown","mousemove"],g)||this}return a}(b("BDTouchOrMouseSignalCollectorBase")),i=null,j={signalType:30106,get:function(){i==null&&(i=new h());return i}};a=j;e.exports=a}),null);
__d("BDNavigatorMaxTouchPointSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f){"use strict";var g=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.call(this,i.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(b("NumberSignalValueType"))(Date.now(),this.getContext(),navigator.maxTouchPoints);return{valueOrError:a}};return a}(b("BDSignalCollectorBase")),h=null,i={signalType:30093,get:function(){h==null&&(h=new g());return h}};a=i;e.exports=a}),null);
__d("StringSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e){return a.call(this,c,d,e,b("SignalValueTypeDef").VALUE_TYPES.STRING)||this}return c}(b("SignalValueTypeDef").SignalValueTypeDef);e.exports=a}),null);
__d("BDNavigatorNotificationPermissionSignalCollector",["regeneratorRuntime","BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType"],(function(a,b,c,d,e,f){"use strict";var g=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.call(this,i.signalType)||this}var d=a.prototype;d.executeAsyncSignalCollection=function(){var a,c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.prev=0;if(!navigator.permissions){d.next=8;break}d.next=4;return b("regeneratorRuntime").awrap(navigator.permissions.query({name:"notifications"}));case 4:c=d.sent;a=new(b("StringSignalValueType"))(Date.now(),this.getContext(),c.state);d.next=9;break;case 8:a=new(b("ErrorSignalValueType"))(Date.now(),this.getContext(),new(b("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.permissions not supported"));case 9:d.next=14;break;case 11:d.prev=11,d.t0=d["catch"](0),a=new(b("ErrorSignalValueType"))(Date.now(),this.getContext(),new(b("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"notifications cannot be queried from navigator.permissions"));case 14:return d.abrupt("return",{valueOrError:a});case 15:case"end":return d.stop()}},null,this,[[0,11]])};return a}(b("BDSignalCollectorBase")),h=null,i={signalType:30008,get:function(){h==null&&(h=new g());return h}};a=i;e.exports=a}),null);
__d("BDNavigatorPlatformSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f){"use strict";var g=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.call(this,i.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(b("StringSignalValueType"))(Date.now(),this.getContext(),navigator.platform);return{valueOrError:a}};return a}(b("BDSignalCollectorBase")),h=null,i={signalType:30015,get:function(){h==null&&(h=new g());return h}};a=i;e.exports=a}),null);
__d("BDNavigatorPluginsFileExtensionsSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringArrayObject"],(function(a,b,c,d,e,f){"use strict";var g=10,h=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){try{var a=navigator.plugins?navigator.plugins.length:0,c=new Set();for(var d=0;d<a;d++){var e=navigator.plugins[d].filename;if(!e)continue;var f=e.indexOf(".");if(f==-1||f==e.length-1)continue;c.add(e.substr(f+1));if(c.size>=g)break}c.size?e=new(b("StringArrayObject"))(Array.from(c)):e=new(b("ErrorSignalValueType"))(Date.now(),this.getContext(),new(b("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"No plugins with file extensions available in navigator.plugins"))}catch(a){e=new(b("ErrorSignalValueType"))(Date.now(),this.getContext(),new(b("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.plugins is not defined"))}return{valueOrError:e}};return a}(b("BDSignalCollectorBase")),i=null,j={signalType:30019,get:function(){i==null&&(i=new h());return i}};a=j;e.exports=a}),null);
__d("BDNavigatorVendorSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f){"use strict";var g=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.call(this,i.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.vendor;a=new(b("StringSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(b("BDSignalCollectorBase")),h=null,i={signalType:30012,get:function(){h==null&&(h=new g());return h}};a=i;e.exports=a}),null);
__d("BDNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType"],(function(a,b,c,d,e,f){"use strict";var g=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.call(this,i.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a;window.Notification?a=new(b("StringSignalValueType"))(Date.now(),this.getContext(),Notification.permission):a=new(b("ErrorSignalValueType"))(Date.now(),this.getContext(),new(b("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"Notification not supported"));return{valueOrError:a}};return a}(b("BDSignalCollectorBase")),h=null,i={signalType:30007,get:function(){h==null&&(h=new g());return h}};a=i;e.exports=a}),null);
__d("BDPluginCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f){"use strict";var g=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.call(this,i.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.plugins?navigator.plugins.length:-1;a=new(b("NumberSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(b("BDSignalCollectorBase")),h=null,i={signalType:30001,get:function(){h==null&&(h=new g());return h}};a=i;e.exports=a}),null);
__d("BDTouchPresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(a,b,c,d,e,f){"use strict";var g=60*60*1e3,h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType,["touchstart","touchcancel"],g)||this}return a}(b("BDTouchOrMouseSignalCollectorBase")),i=null,j={signalType:30107,get:function(){i==null&&(i=new h());return i}};a=j;e.exports=a}),null);
__d("BDWebdriverSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(a,b,c,d,e,f){"use strict";var g=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.call(this,i.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=!!navigator.webdriver;a=new(b("BooleanSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(b("BDSignalCollectorBase")),h=null,i={signalType:3e4,get:function(){h==null&&(h=new g());return h}};a=i;e.exports=a}),null);
__d("DimensionObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.width=null,this.height=null,this.width=a,this.height=b}var b=a.prototype;b.toJSON=function(){return{w:this.width,h:this.height}};b.isEqual=function(b){if(b instanceof a)return this.width===b.width&&this.height===b.height;else return!1};return a}();e.exports=a}),null);
__d("BDWindowOuterDimensionSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","DimensionObject"],(function(a,b,c,d,e,f){"use strict";var g=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.call(this,i.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=window.outerHeight,c=window.outerWidth;c=new(b("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(b("DimensionObject"))(c,a));return{valueOrError:c}};return a}(b("BDSignalCollectorBase")),h=null,i={signalType:30005,get:function(){h==null&&(h=new g());return h}};a=i;e.exports=a}),null);
__d("SignalCollectorMap",["BDWebdriverSignalCollector","BDPluginCountSignalCollector","BDMimeTypeCountSignalCollector","BDLanguagesSignalCollector","BDConnectionRTTSignalCollector","BDWindowOuterDimensionSignalCollector","BDNotificationPermissionSignalCollector","BDNavigatorNotificationPermissionSignalCollector","BDNavigatorVendorSignalCollector","BDNavigatorPlatformSignalCollector","BDNavigatorPluginsFileExtensionsSignalCollector","BDNavigatorMaxTouchPointSignalCollector","BDKeyDownUpSignalCollector","BDMousePresenceSignalCollector","BDTouchPresenceSignalCollector","BDHeartbeatSignalCollector","BDHeartbeatV2SignalCollector"],(function(a,b,c,d,e,f){"use strict";a={3e4:b("BDWebdriverSignalCollector"),30001:b("BDPluginCountSignalCollector"),30002:b("BDMimeTypeCountSignalCollector"),30003:b("BDLanguagesSignalCollector"),30004:b("BDConnectionRTTSignalCollector"),30005:b("BDWindowOuterDimensionSignalCollector"),30007:b("BDNotificationPermissionSignalCollector"),30008:b("BDNavigatorNotificationPermissionSignalCollector"),30012:b("BDNavigatorVendorSignalCollector"),30015:b("BDNavigatorPlatformSignalCollector"),30019:b("BDNavigatorPluginsFileExtensionsSignalCollector"),30093:b("BDNavigatorMaxTouchPointSignalCollector"),30100:b("BDKeyDownUpSignalCollector"),30106:b("BDMousePresenceSignalCollector"),30107:b("BDTouchPresenceSignalCollector"),38e3:b("BDHeartbeatSignalCollector"),38001:b("BDHeartbeatV2SignalCollector")};c=a;e.exports=c}),null);
__d("BDUtils",[],(function(a,b,c,d,e,f){"use strict";f.uuid=a;function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=Math.random()*16|0;a=a=="x"?b:b&3|8;return a.toString(16)})}}),null);
__d("HeartbeatV2Object",["HeartbeatObject"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.id="";c.id=b;return c}var c=b.prototype;c.toJSON=function(){return{f:this.isAppForeground,id:this.id}};return b}(b("HeartbeatObject"));e.exports=a}),null);
__d("BDHeartbeatV2SignalCollector",["BDClientConfig","BDSignalCollectorBase","BDUtils","CustomObjectSignalValueType","HeartbeatV2Object"],(function(a,b,c,d,e,f){"use strict";var g=function(c){babelHelpers.inheritsLoose(a,c);function a(){return c.call(this,i.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(b("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(b("HeartbeatV2Object"))(b("BDClientConfig").get().getHeartbeatVersion()));return{valueOrError:a}};return a}(b("BDSignalCollectorBase")),h=null,i={signalType:38001,get:function(){h==null&&(h=new g());return h}};a=i;e.exports=a}),null);
__d("BDClientConfig",["BDLoggingConstants","BDOperationLogHelper","BDSignalWrapper"],(function(a,b,c,d,e,f){"use strict";var g="BDClientConfig",h=function(){function a(){this.reputationTier=0,this.staticSignalBufferSize=1,this.dynamicSignalBufferSize=1,this.biometricSignalBufferSize=1,this.staticSignals=[],this.dynamicSignals=[],this.biometricSignals=[],this.biometricSignalsMap=new Map(),this.heartbeatSignal=new(b("BDSignalWrapper"))([],38001),this.bufferSizeBySignalIdMap={},this.periodicCollectionIntervalMs=Number.MAX_SAFE_INTEGER,this.signalConfigGenerationTimeStampMs=0,this.suspiciousTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.allTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.heartbeatIntervalMs=-1,this.parsingDone=!1,this.sid=-1,this.hbVersion="",this.bufferSizeBySignalIdMap[38001]=1}var c=a.prototype;c.setClientReputationTier=function(a){this.reputationTier=a;return this};c.getClientReputationTier=function(){return this.reputationTier};c.setStaticSignalBufferSize=function(a){a>0?this.staticSignalBufferSize=a:b("BDOperationLogHelper").logError(g,b("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"s"});return this};c.getStaticSignalBufferSize=function(){return this.staticSignalBufferSize};c.setDynamicSignalBufferSize=function(a){a>1?this.dynamicSignalBufferSize=a:b("BDOperationLogHelper").logError(g,b("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"d"});return this};c.getDynamicSignalBufferSize=function(){return this.dynamicSignalBufferSize};c.setBiometricSignalBufferSize=function(a){a>1?this.biometricSignalBufferSize=a:b("BDOperationLogHelper").logError(g,b("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"b"});return this};c.setSID=function(a){this.sid=a;return this};c.setHeartbeatVersion=function(a){this.hbVersion=a;return this};c.getHeartbeatVersion=function(){return this.hbVersion};c.getBiometricSignalBufferSize=function(){return this.biometricSignalBufferSize};c.setConfigGenerationTimeStamp=function(a){this.signalConfigGenerationTimeStampMs=a;return this};c.getConfigGenerationTimeStamp=function(){return this.signalConfigGenerationTimeStampMs};c.setHeartbeatIntervalMinutes=function(a){this.heartbeatIntervalMs=a*60*1e3;return this};c.getHeartbeatIntervalMs=function(){return this.heartbeatIntervalMs};c.setSuspiciousTiersFlushDurationMinutes=function(a){a>0?this.suspiciousTiersFlushDurationMs=a*60*1e3:b("BDOperationLogHelper").logError(g,b("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"fds"});return this};c.getSuspiciousTiersFlushDurationMs=function(){return this.suspiciousTiersFlushDurationMs};c.setAllTiersFlushDurationMinutes=function(a){a>0?this.allTiersFlushDurationMs=a*60*1e3:b("BDOperationLogHelper").logError(g,b("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"fda"});return this};c.getAllTiersFlushDurationMs=function(){return this.allTiersFlushDurationMs};c.getFlushDurationByReputationTierMs=function(){return this.reputationTier===262144?this.allTiersFlushDurationMs:this.suspiciousTiersFlushDurationMs};c.addMultipleSignalsToClientConfig=function(a){var b=this;a.forEach(function(a){return b.addSignalToClientConfig(a)});return this};c.addSignalToClientConfig=function(a){var c=a.getSignalFlags(),d=a.getSignalId();if(d===38e3)return this;var e=new(b("BDSignalWrapper"))(c,d);if(d===38001){this.heartbeatSignal=e;return this}!c.includes(2)?this.staticSignals.push(e):c.includes(4)?this.biometricSignals.push(e):this.dynamicSignals.push(e);a.getBufferSize()>0&&(this.bufferSizeBySignalIdMap[a.getSignalId()]=a.getBufferSize());return this};c.setPeriodicCollectionIntervalSeconds=function(a){a>0?this.periodicCollectionIntervalMs=a*1e3:b("BDOperationLogHelper").logError(g,b("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"pi"});return this};c.getPeriodicCollectionIntervalMs=function(){return this.periodicCollectionIntervalMs};c.getDynamicSignals=function(){return this.dynamicSignals};c.getStaticSignals=function(){return this.staticSignals};c.getBiometricSignals=function(){return this.biometricSignals};c.getBiometricSignalsMap=function(){this.biometricSignalsMap.size===0&&this.biometricSignals.length>0&&(this.biometricSignalsMap=this.biometricSignals.reduce(function(a,b){return a.set(b.signalType,b)},new Map()));return this.biometricSignalsMap};c.getHeartbeatSignal=function(){return this.heartbeatSignal};c.getBufferSizeBySignalId=function(a){return this.bufferSizeBySignalIdMap[a]};c.setParsingDone=function(a){this.parsingDone=a};c.isParsingDone=function(){return this.parsingDone};return a}(),i=null;a={get:function(){i==null&&(i=new h());return i}};c=a;e.exports=c}),null);
__d("BDCollectionTypeEnum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({STATIC:0,DYNAMIC:1,BIOMETRIC:2});e.exports=a}),null);
__d("BotDetection_SignalFlags",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTIVE:1,DYNAMIC:2,BIOMETRIC:4,DEPRECATED:8,WEB:16,IOS_NATIVE:32,ANDROID_NATIVE:64,EQUAL_BY_VALUE:128,EQUAL_BY_CONTEXT:256,EQUAL_BY_TIMESTAMP:512,SUSPICIOUS_TIER:1024,PARANOID_TIER:2048,RANDOM_SAMPLE_TIER_DEPRECATED:4096,BENIGN_TIER:262144,EMPLOYEES_TIER:524288,BUNDLE:8192,ONSITE:16384,OFFSITE:32768,OFFSITE_SENSITIVE:65536,SENSITIVE:131072});e.exports=a}),null);
__d("BDServerSignalConfig",["BDLoggingConstants","BDOperationLogHelper","BotDetection_SignalFlags"],(function(a,b,c,d,e,f){"use strict";var g="BDServerSignalConfig";a=function(){function a(a,b,c){this.parsedSignalFlags=[],this.signalId=a,this.signalFlags=b,this.bufferSize=c}var c=a.prototype;c.getSignalId=function(){return this.signalId};c.getSignalFlags=function(){var a=this;if(this.parsedSignalFlags.length===0){var c=Object.keys(b("BotDetection_SignalFlags"));c.forEach(function(c){(b("BotDetection_SignalFlags")[c]&a.signalFlags)===b("BotDetection_SignalFlags")[c]&&a.parsedSignalFlags.push(b("BotDetection_SignalFlags")[c])})}this.parsedSignalFlags.length===0&&b("BDOperationLogHelper").logError(g,b("BDLoggingConstants").OPERATIONS.SIGNAL_FLAGS_MISSING,{id:this.signalId.toString(),flags:this.signalFlags.toString()});return this.parsedSignalFlags};c.getBufferSize=function(){return this.bufferSize!=null?this.bufferSize:0};return a}();e.exports=a}),null);
__d("BDServerConfig",["BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDServerSignalConfig"],(function(a,b,c,d,e,f){"use strict";f.parseConfig=a;var g="BDServerConfig";function a(a){var c=[];try{var d=JSON.parse(a.sc),e=new Map(d.c);e.forEach(function(a,d){return c.push(new(b("BDServerSignalConfig"))(d,a))});if(e.size===0){b("BDOperationLogHelper").logError(g,b("BDLoggingConstants").OPERATIONS.EMPTY_SIGNAL_CONFIG);return}e=b("BDClientConfig").get();e.setClientReputationTier(a.rt).setPeriodicCollectionIntervalSeconds(a.i).addMultipleSignalsToClientConfig(c).setConfigGenerationTimeStamp(d.t).setAllTiersFlushDurationMinutes(a.fda).setSuspiciousTiersFlushDurationMinutes(a.fds).setHeartbeatIntervalMinutes(a.hbi).setStaticSignalBufferSize(a.sbs).setDynamicSignalBufferSize(a.dbs).setBiometricSignalBufferSize(a.bbs).setSID(a.sid).setHeartbeatVersion(a.hbv).setParsingDone(!0)}catch(a){b("BDOperationLogHelper").logError(g,b("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{e:a})}}}),null);
__d("BDSignalBuffer",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDSignalBufferData"],(function(a,b,c,d,e,f){"use strict";f.initialize=a;f.clearBuffer=h;f.appendSignal=c;f.clearBiometricSignals=d;f.getLastSignalFormatBySignalId=e;f.retrieveSignal=i;f.retrieveSignals=j;f.getSignalsAsJSONString=k;f._getSignalIdsByCollectionType=l;var g="BDSignalBuffer";function a(a,c,d){if(a in b("BDSignalBufferData"))return;var e=1;c!==void 0&&(e=c);b("BDSignalBufferData")[a]={values:[],max_buffer_size:e,signal_flags:(c=d)!=null?c:[]}}function h(a){if(a in b("BDSignalBufferData"))b("BDSignalBufferData")[a].values=[];else throw new Error("Tried to clear signal buffer that was not intialized:")}function c(a,c){if(a in b("BDSignalBufferData")){var d=b("BDSignalBufferData")[a],e=d.max_buffer_size;d.values.length>=e&&d.values.shift();d.values.push(c);b("BDOperationLogHelper").logInfo(g,b("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL,{id:a.toString()})}else{b("BDOperationLogHelper").logError(g,b("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL_FAIL,{id:a.toString()});throw new Error("Tried to append signal that was not intialized:")}}function d(){var a=b("BDClientConfig").get();a=a.getBiometricSignals();a.forEach(function(a){a.signalType in b("BDSignalBufferData")&&h(a.signalType)})}function e(a){var c;a=b("BDSignalBufferData")[a];c=a==null?void 0:(c=a.values)==null?void 0:c.length;return c!=null&&c>0?a.values[c-1]:{valueOrError:void 0}}function i(a){return b("BDSignalBufferData")[a].values}function j(a){var c={};for(var d=0;d<a.length;d++){var e=a[d];e in b("BDSignalBufferData")&&(c[e]=this.retrieveSignal(e).map(function(a){return a.valueOrError}))}return c}function k(a){a=this._getSignalIdsByCollectionType(a);return JSON.stringify(this.retrieveSignals(a))}function l(a){var c=b("BDClientConfig").get(),d=[];a.forEach(function(a){switch(a){case b("BDCollectionTypeEnum").STATIC:d=[].concat(d,c.getStaticSignals());break;case b("BDCollectionTypeEnum").DYNAMIC:d=[].concat(d,c.getDynamicSignals());break;case b("BDCollectionTypeEnum").BIOMETRIC:d=[].concat(d,c.getBiometricSignals());break}});return d.map(function(a){return a.signalType})}}),null);
__d("BdPdcSignalsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743095");c=b("FalcoLoggerInternal").create("bd_pdc_signals",a);e.exports=c}),null);
__d("SignalCollectionManager",["regeneratorRuntime","Promise","BDBiometricSignalCollectorBase","BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDSignalBuffer","SignalValueTypeDef"],(function(a,b,c,d,e,f){"use strict";var g="SignalCollectionManager",h=function(){function a(){var a=this;this.$1=!1;this.$6=function(c){if(c instanceof CustomEvent&&c.detail!=null&&c.detail.data!=null){var d=b("BDClientConfig").get().getBiometricSignalsMap().get(c.detail.signalId);d!=null&&a.$4(c.detail.data,d)}}}var c=a.prototype;c.collectSignals=function(a,c){var d=this,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:e=[];a.forEach(function(a){a.signalFlags.includes(4)?d.$2(a,c):e.push(d.$3(a,c))});f.next=4;return b("regeneratorRuntime").awrap(b("Promise").all(e));case 4:case"end":return f.stop()}},null,this)};c.isEqualToLastCollectedSignal=function(a,c){var d=b("BDSignalBuffer").getLastSignalFormatBySignalId(c.signalType);return d.valueOrError==void 0?!1:a.isEqual(d.valueOrError,new Set(c.signalFlags))};c.getCircularBufferSize=function(a){var c=b("BDClientConfig").get(),d=c.getBufferSizeBySignalId(a.signalType);if(d!=null&&c.getBufferSizeBySignalId(a.signalType)>0)return d;if(!a.signalFlags.includes(2))return c.getStaticSignalBufferSize();else if(a.signalFlags.includes(4))return c.getBiometricSignalBufferSize();else return c.getDynamicSignalBufferSize()};c.$3=function(a,c){var d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:d=a.getSignalCollector(c);if(!(d!=null)){f.next=12;break}f.prev=2;f.next=5;return b("regeneratorRuntime").awrap(d.executeAsyncSignalCollection());case 5:e=f.sent;this.$4(e,a);f.next=12;break;case 9:f.prev=9,f.t0=f["catch"](2),b("BDOperationLogHelper").logError(g,b("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{error:f.t0});case 12:case"end":return f.stop()}},null,this,[[2,9]])};c.$2=function(a,c){this.$5();a=a.getSignalCollector(c);a!=null&&a instanceof b("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase&&a.listenForSignals()};c.$5=function(){if(this.$1)return;window.addEventListener(b("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,this.$6);this.$1=!0};c.$4=function(a,c){c.getBufferConfig()==null&&b("BDSignalBuffer").initialize(c.signalType,this.getCircularBufferSize(c),c.signalFlags),a.valueOrError&&!this.isEqualToLastCollectedSignal(a.valueOrError,c)&&b("BDSignalBuffer").appendSignal(c.signalType,a)};return a}(),i=null;a={get:function(){i==null&&(i=new h());return i}};c=a;e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("javascript-blowfish-1.0.5",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=function(b,c){this.key=b,(c==="ecb"||c==="cbc")&&(this.mode=c),this.sBox0=a.sBox0.slice(),this.sBox1=a.sBox1.slice(),this.sBox2=a.sBox2.slice(),this.sBox3=a.sBox3.slice(),this.pArray=a.pArray.slice(),this.generateSubkeys(b)};a.prototype={sBox0:null,sBox1:null,sBox2:null,sBox3:null,pArray:null,key:null,mode:"ecb",iv:"abc12345",keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encrypt:function(a,b){if(this.mode==="ecb")return this.encryptECB(a);if(this.mode==="cbc")return this.encryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},decrypt:function(a,b){if(this.mode==="ecb")return this.decryptECB(a);if(this.mode==="cbc")return this.decryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},encryptECB:function(a){a=this.utf8Decode(a);var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8){var f=8-e.length;while(0<f--)e+="\0"}var g;f=this.split64by32(e);e=f[0];g=f[1];f=this.encipher(e,g);e=f[0];g=f[1];c+=this.num2block32(e)+this.num2block32(g)}return c},encryptCBC:function(a,b){a=this.utf8Decode(a);var c=Math.ceil(a.length/8),d;b=this.split64by32(b);d=b[0];b=b[1];var e="";for(var f=0;f<c;f++){var g=a.substr(f*8,8);if(g.length<8){var h=8-g.length;while(0<h--)g+="\0"}var i;h=this.split64by32(g);g=h[0];i=h[1];g=this.xor(g,d);i=this.xor(i,b);h=this.encipher(g,i);g=h[0];i=h[1];d=g;b=i;e+=this.num2block32(g)+this.num2block32(i)}return e},decryptECB:function(a){var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u044b\u0439\u0442\u0430\u043c.");var f,g;e=this.split64by32(e);f=e[0];g=e[1];e=this.decipher(f,g);f=e[0];g=e[1];c+=this.num2block32(f)+this.num2block32(g)}c=this.utf8Encode(c);return c},decryptCBC:function(a,b){var c=Math.ceil(a.length/8),d,e,f;b=this.split64by32(b);d=b[0];b=b[1];var g="";for(var h=0;h<c;h++){var i=a.substr(h*8,8);if(i.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u0439\u0442\u0430\u043c.");var j,k;i=this.split64by32(i);j=i[0];k=i[1];e=j;f=k;i=this.decipher(j,k);j=i[0];k=i[1];j=this.xor(j,d);k=this.xor(k,b);d=e;b=f;g+=this.num2block32(j)+this.num2block32(k)}g=this.utf8Encode(g);return g},F:function(a){var b=a>>>24,c=a<<8>>>24,d=a<<16>>>24;a=a<<24>>>24;b=this.addMod32(this.sBox0[b],this.sBox1[c]);b=this.xor(b,this.sBox2[d]);b=this.addMod32(b,this.sBox3[a]);return b},encipher:function(a,b){var c;for(var d=0;d<16;d++)a=this.xor(a,this.pArray[d]),b=this.xor(this.F(a),b),c=a,a=b,b=c;c=a;a=b;b=c;b=this.xor(b,this.pArray[16]);a=this.xor(a,this.pArray[17]);return[a,b]},decipher:function(a,b){var c;a=this.xor(a,this.pArray[17]);b=this.xor(b,this.pArray[16]);c=a;a=b;b=c;for(var d=15;d>=0;d--)c=a,a=b,b=c,b=this.xor(this.F(a),b),a=this.xor(a,this.pArray[d]);return[a,b]},generateSubkeys:function(a){var b=0,c=0,d,e;for(d=0;d<18;d++){for(e=4;e>0;e--)b=this.fixNegative(b<<8|a.charCodeAt(c)),c=(c+1)%a.length;this.pArray[d]=this.xor(this.pArray[d],b);b=0}e=[0,0];for(d=0;d<18;d+=2)e=this.encipher(e[0],e[1]),this.pArray[d]=e[0],this.pArray[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox0[d]=e[0],this.sBox0[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox1[d]=e[0],this.sBox1[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox2[d]=e[0],this.sBox2[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox3[d]=e[0],this.sBox3[d+1]=e[1]},block32toNum:function(a){return this.fixNegative(a.charCodeAt(0)<<24|a.charCodeAt(1)<<16|a.charCodeAt(2)<<8|a.charCodeAt(3))},num2block32:function(a){return String.fromCharCode(a>>>24)+String.fromCharCode(a<<8>>>24)+String.fromCharCode(a<<16>>>24)+String.fromCharCode(a<<24>>>24)},xor:function(a,b){return this.fixNegative(a^b)},addMod32:function(a,b){return this.fixNegative(a+b|0)},fixNegative:function(a){return a>>>0},split64by32:function(a){var b=a.substring(0,4);a=a.substring(4,8);return[this.block32toNum(b),this.block32toNum(a)]},utf8Decode:function(a){var b="";for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(d&63|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(d&63|128))}return b},utf8Encode:function(a){var b="",c=0,d=0,e=0,f;while(c<a.length)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(e=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|e&63),c+=2):(e=a.charCodeAt(c+1),f=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(e&63)<<6|f&63),c+=3);return b},base64Encode:function(a){var b="",c,d,e,f,g,h,i=0;while(i<a.length)c=a.charCodeAt(i++),d=a.charCodeAt(i++),e=a.charCodeAt(i++),f=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|e>>6,h=e&63,isNaN(d)?g=h=64:isNaN(e)&&(h=64),b=b+this.keyStr.charAt(f)+this.keyStr.charAt(c)+this.keyStr.charAt(g)+this.keyStr.charAt(h);return b},base64Decode:function(a){var b="",c,d,e,f,g,h=0;a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(h<a.length)d=this.keyStr.indexOf(a.charAt(h++)),e=this.keyStr.indexOf(a.charAt(h++)),f=this.keyStr.indexOf(a.charAt(h++)),g=this.keyStr.indexOf(a.charAt(h++)),d=d<<2|e>>4,e=(e&15)<<4|f>>2,c=(f&3)<<6|g,b=b+String.fromCharCode(d),f!=64&&(b=b+String.fromCharCode(e)),g!=64&&(b=b+String.fromCharCode(c));return b},trimZeros:function(a){return a.replace(/\0+$/g,"")}};a.pArray=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731];a.sBox0=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946];a.sBox1=[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055];a.sBox2=[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504];a.sBox3=[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462];g.exports=a}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("javascript-blowfish",["javascript-blowfish-1.0.5"],(function(a,b,c,d,e,f){e.exports=b("javascript-blowfish-1.0.5")()}),null);
__d("BDClientSignalCollectionTrigger",["regeneratorRuntime","Promise","BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BdPdcSignalsFalcoEvent","BDServerConfig","BDSignalBuffer","BDUtils","SignalCollectionManager","WebStorage","javascript-blowfish"],(function(a,b,c,d,e,f){"use strict";var g,h=b("BDLoggingConstants").OPERATIONS,i="BDClientSignalCollectionTrigger",j="signal_flush_timestamp",k=!1,l=!1,m=!1,n=0,o=0,p=0,q=30,r=5,s,t,u=b("BDUtils").uuid(),v=b("BDClientConfig").get(),w=Object.freeze({NONE:0,VITAL:1,CRITICAL:2}),x={startSignalCollection:function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:if(k){c.next=15;break}k=!0;b("BDServerConfig").parseConfig(a);if(v.isParsingDone()){c.next=7;break}b("BDOperationLogHelper").logError(i,h.PARSE_CONFIG_ERROR,{config:JSON.stringify(a)});k=!1;return c.abrupt("return");case 7:a!=null&&(o=a.hbcbc&&a.hbcbc>0?a.hbcbc:o,p=a.hbvbc&&a.hbvbc>0?a.hbvbc:p,q=a.hbbi&&a.hbbi>0?a.hbbi:q);x.startHeartbeatDelayed();t=new(b("Promise"))(function(a,c){try{v.getClientReputationTier()!==0&&(v.getDynamicSignals().length>0&&(x.collectDynamicSignals(),b("BDOperationLogHelper").logInfo(i,h.DYNAMIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),v.getBiometricSignals().length>0&&(x.collectBiometricSignals(),b("BDOperationLogHelper").logInfo(i,h.BIOMETRIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()}))),a()}catch(a){c(a)}});if(!(v.getClientReputationTier()!==0)){c.next=15;break}c.next=13;return b("regeneratorRuntime").awrap(t);case 13:c.next=15;return b("regeneratorRuntime").awrap(x.startSignalPosting());case 15:k&&!l&&!m&&r>0&&(r-=1,b("BDOperationLogHelper").logWarning(i,h.TRY_RESTARTING_HB),x.startHeartbeatDelayed());case 16:case"end":return c.stop()}},null,this)},retrieveSignals:function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(t);case 2:a.next=4;return b("regeneratorRuntime").awrap(x.postSignals([b("BDCollectionTypeEnum").DYNAMIC,b("BDCollectionTypeEnum").BIOMETRIC,b("BDCollectionTypeEnum").STATIC]));case 4:case"end":return a.stop()}},null,this)},postSignals:function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(x.collectStaticSignals());case 2:x._postSignalsHelper(b("BDSignalBuffer").getSignalsAsJSONString(a),w.NONE)&&x.setTimestampInStorage(Date.now(),j);case 3:case"end":return c.stop()}},null,this)},_postSignalsHelper:function(a,c){if(a.length<=2)return!1;var d=v.getConfigGenerationTimeStamp(),e=v.getClientReputationTier(),f=x.encryptDataUsingAsid(u,a);a=function(){return{asid:u,ct:d,rt:e,sjd:f,sid:v.sid}};var g=!1;try{c===w.CRITICAL?b("BdPdcSignalsFalcoEvent").logCritical(a):c===w.VITAL?b("BdPdcSignalsFalcoEvent").logImmediately(a):b("BdPdcSignalsFalcoEvent").log(a),g=!0}catch(a){b("BDOperationLogHelper").logError(i,h.BANZAI_LOG_ERROR,a),g=!1}finally{return g}},getInitialVector:function(a){if(a.length!==16){b("BDOperationLogHelper").logError(i,h.INVALID_LENGTH);return""}var c="";for(var d=0;d<8;d++)c+=String.fromCharCode(a.charCodeAt(d)^a.charCodeAt(8+d));return c},encryptDataUsingAsid:function(a,c){if(a.length!==36){b("BDOperationLogHelper").logError(i,h.INVALID_GUID);return c}a=a.slice(19,23)+a.slice(24,36);var d=x.getInitialVector(a);a=new(b("javascript-blowfish"))(a,"cbc");return a.base64Encode(a.encrypt(c,d))},startSignalPosting:function(){var a,c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:a=x.getTimestampInStorage(j);c=Date.now()-a;if(!(c>=v.getFlushDurationByReputationTierMs())){d.next=7;break}d.next=5;return b("regeneratorRuntime").awrap(x.postSignalsIntermittently());case 5:d.next=8;break;case 7:window.setTimeout(function(){x.postSignalsIntermittently()},v.getFlushDurationByReputationTierMs()-c);case 8:case"end":return d.stop()}},null,this)},postSignalsIntermittently:function(){x.postSignals([b("BDCollectionTypeEnum").STATIC]),window.setInterval(function(){x.postSignals([b("BDCollectionTypeEnum").STATIC,b("BDCollectionTypeEnum").DYNAMIC,b("BDCollectionTypeEnum").BIOMETRIC])},v.getFlushDurationByReputationTierMs())},setTimestampInStorage:function(a,c){var d=(g||(g=b("WebStorage"))).getLocalStorage();if(!d){b("BDOperationLogHelper").logWarning(i,h.GET_LOCAL_STORAGE_ERROR);return}d=g.setItemGuarded(d,c,a.toString());d!=null&&b("BDOperationLogHelper").logWarning(i,h.WEB_STORAGE,{error:d.message})},getTimestampInStorage:function(a){var c=(g||(g=b("WebStorage"))).getLocalStorage();if(!c){b("BDOperationLogHelper").logWarning(i,h.GET_LOCAL_STORAGE_ERROR);return 0}c=c.getItem(a);if(c==null)return 0;a=Number.parseInt(c,10);return Number.isFinite(a)?a:0},resetHeartbeatStartedForTest:function(){l=!1,m=!1},startHeartbeatDelayed:function(){if(l||m)return;var a=x.getTimestampInStorage(x.HEARTBEAT_TIMESTAMP_STORAGE_KEY);a=Date.now()-a;try{a>=v.getHeartbeatIntervalMs()?x.startHeartbeat():(window.setTimeout(function(){return x.startHeartbeat()},v.getHeartbeatIntervalMs()-a),m=!0)}catch(c){b("BDOperationLogHelper").logError(i,h.HB_START_FAILURE,{lastBeatSince:a.toString(),hbi:v.getHeartbeatIntervalMs().toString(),e:c})}},HEARTBEAT_TIMESTAMP_STORAGE_KEY:"hb_timestamp",startHeartbeat:function(){!l&&v.getHeartbeatIntervalMs()>0&&(x.collectHeartbeatTimes(o,p),n!==0&&(window.clearInterval(n),b("BDOperationLogHelper").logWarning(i,h.HB_ALREADY_RUNNING)),n=window.setInterval(function(){return x.collectHeartbeatTimes(o,p)},v.getHeartbeatIntervalMs()),l=!0)},collectHeartbeatTimes:function(a,b){if(a<=0&&b<=0)return;a>0&&x.collectHeartbeat(w.CRITICAL);b>0&&x.collectHeartbeat(w.VITAL);(a>1||b>1)&&window.setTimeout(function(){return x.collectHeartbeatTimes(a-1,b-1)},q*1e3)},collectHeartbeat:function(a){var c;c=v==null?void 0:(c=v.getHeartbeatSignal())==null?void 0:(c=c.getSignalCollector(v.getClientReputationTier()))==null?void 0:c.executeSignalCollection();if(c==null){b("BDOperationLogHelper").logError(i,h.HB_COLLECTION_FAILED,{urgency:a.toString()});return}else b("BDOperationLogHelper").logInfo(i,h.HB_COLLECTED,{urgency:a.toString()});x.postHeartbeat(a,c)&&x.setTimestampInStorage(Date.now(),x.HEARTBEAT_TIMESTAMP_STORAGE_KEY)},postHeartbeat:function(a,b){var c={};c[38001]=[b==null?void 0:b.valueOrError];b=JSON.stringify(c);return x._postSignalsHelper(b,a)},collectStaticSignals:function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(x.collectSignalsOneTime(v.getStaticSignals()));case 2:case"end":return a.stop()}},null,this)},collectDynamicSignals:function(){x.stopDynamicSignalCollection(),s=window.setInterval(function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(x.collectSignalsOneTime(v.getDynamicSignals()));case 2:case"end":return a.stop()}},null,this)},v.getPeriodicCollectionIntervalMs())},collectBiometricSignals:function(){x.collectSignalsOneTime(v.getBiometricSignals())},stopDynamicSignalCollection:function(){s!=null&&(window.clearInterval(s),s=null)},collectSignalsOneTime:function(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:c=v.getClientReputationTier();if(!(c!==0)){d.next=4;break}d.next=4;return b("regeneratorRuntime").awrap(b("SignalCollectionManager").get().collectSignals(a,c));case 4:case"end":return d.stop()}},null,this)}};e.exports=x}),null);
__d("BDCometSignalCollectionTrigger",["BDClientSignalCollectionTrigger","BDSignalCollectionData"],(function(a,b,c,d,e,f){"use strict";f.initSignalCollection=a;function a(){b("BDClientSignalCollectionTrigger").startSignalCollection(b("BDSignalCollectionData"))}}),null);
__d("StringTransformations",[],(function(a,b,c,d,e,f){"use strict";a={unicodeEscape:function(a){return a.replace(/[^A-Za-z0-9\-\.\:\_\$\/\+\=]/g,function(a){a=a.charCodeAt(0).toString(16);return"\\u"+("0000"+a.toUpperCase()).slice(-4)})},unicodeUnescape:function(a){return a.replace(/(\\u[0-9A-Fa-f]{4})/g,function(a){return String.fromCharCode(parseInt(a.slice(2),16))})}};e.exports=a}),null);
__d("Chromedome",["fbt"],(function(a,b,c,d,e,f,g){f.start=a;function a(a){if(top!==window||document.domain==null||!/(^|\.)facebook\.(com|sg)$/.test(document.domain))return;a=g._("Stop!");var b=g._("This is a browser feature intended for developers. If someone told you to copy-paste something here to enable a Facebook feature or \"hack\" someone's account, it is a scam and will give them access to your Facebook account."),c=g._("See {url} for more information.",[g._param("url","https://www.facebook.com/selfxss")]);if(window.chrome||window.safari){var d="font-family:helvetica; font-size:20px; ";[[a,d+"font-size:50px; font-weight:bold; color:red; -webkit-text-stroke:1px black;"],[b,d],[c,d],["",""]].map(function(a){window.setTimeout(console.log.bind(console,"\n%c"+a[0].toString(),a[1]))})}else{a=[""," .d8888b.  888                       888","d88P  Y88b 888                       888","Y88b.      888                       888",' "Y888b.   888888  .d88b.  88888b.   888','    "Y88b. 888    d88""88b 888 "88b  888','      "888 888    888  888 888  888  Y8P',"Y88b  d88P Y88b.  Y88..88P 888 d88P",' "Y8888P"   "Y888  "Y88P"  88888P"   888',"                           888","                           888","                           888"];d=(""+b.toString()).match(/.{35}.+?\s+|.+$/g);if(d!=null){b=Math.floor(Math.max(0,(a.length-d.length)/2));for(var e=0;e<a.length||e<d.length;e++){var f=a[e];a[e]=f+new Array(45-f.length).join(" ")+(d[e-b]||"")}}console.log("\n\n\n"+a.join("\n")+"\n\n"+c.toString()+"\n");return}}}),null);
__d("WebStorageMonster",["AsyncRequest","CacheStorage","Event","NetworkStatus","StringTransformations","UserActivity","WebStorage","WebStorageMonsterLoggingURI","ifRequired","isEmpty","killswitch","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";var g,h,i=1e4,j=5,k=!1;function l(a){var c={};for(var d in a){var e=a.getItem(d),f=b("StringTransformations").unicodeEscape(d);typeof e==="string"&&(c[f]=e.length)}return c}function m(a){var c=(g||(g=b("WebStorage"))).getLocalStorage();if(!c||!a.keys)return;p._getLocalStorageKeys().forEach(function(b){a.keys.includes(b)&&c.removeItem(b)})}function n(a){var c=(g||(g=b("WebStorage"))).getLocalStorage();c&&p._getLocalStorageKeys().forEach(function(b){a.some(function(a){return new RegExp(a).test(b)})||c.removeItem(b)})}function o(a,c){a===void 0&&(a=!1);c===void 0&&(c=i);if(b("UserActivity").isActive(c)){var d=Math.max(i,Math.floor(c/j));b("setTimeoutAcrossTransitions")(function(){o(a,d)},d)}else{p.cleanNow(a);var e=!b("killswitch")("WEB_STORAGE_MONSTER_DONT_RESCHEDULE_ON_RUN");if(e){var f=c*j;b("setTimeoutAcrossTransitions")(function(){o(a,f)},f)}}}var p={registerLogoutForm:function(a,c){b("Event").listen(a,"submit",function(a){p.cleanOnLogout(c)})},schedule:function(a){a===void 0&&(a=!1);if(k)return;k=!0;o(a)},cleanNow:function(a){a===void 0&&(a=!1);var c=Date.now(),d={},e=(g||(g=b("WebStorage"))).getLocalStorage();e&&(d.local_storage=l(e));e=g.getSessionStorage();e&&(d.session_storage=l(e));e=!(h||(h=b("isEmpty")))(d);var f=Date.now();d.logtime=f-c;if(e){var i,j=b("WebStorageMonsterLoggingURI").uri;if(j===null)return null;var k=function(){new(b("AsyncRequest"))(j).setData(d).setHandler(function(c){c=c.getPayload();c.keys&&(c.keys=c.keys.map(b("StringTransformations").unicodeUnescape));a||m(c);b("NetworkStatus").reportSuccess()}).setErrorHandler(function(){b("NetworkStatus").reportError()}).setOption("retries",2).send()};if(b("NetworkStatus").isOnline())k();else{f=function(a){a=a.online;a&&(k(),i.remove())};i=b("NetworkStatus").onChange(f)}}},cleanOnLogout:function(a){b("CacheStorage").disablePersistentWrites();b("ifRequired")("AsyncStorage",function(a){a.disablePersistentWrites()});a?n(a):n([]);a=(g||(g=b("WebStorage"))).getSessionStorage();a&&a.clear();b("ifRequired")("AsyncStorage",function(a){a.clear(function(){})})},_getLocalStorageKeys:function(){var a=(g||(g=b("WebStorage"))).getLocalStorage();return a?Object.keys(a):[]}};a=p;e.exports=a}),null);
__d("BootloaderEventsPerf",["invariant","Bootloader","BootloaderEvents","objectEntries","objectValues"],(function(a,b,c,d,e,f,g){f.computeHRData=a;f.computeBLData=c;f.flattenData=d;var h={count:0,downloaded:0,duration:0};function i(a,b,c){return Math.max(0,((c=c)!=null?c:0)-Math.max(a,(c=b)!=null?c:0))}function j(){return{blocking:babelHelpers["extends"]({},h),nonblocking:babelHelpers["extends"]({},h),"default":babelHelpers["extends"]({},h)}}function k(a,b){a.count++,b&&(a.downloaded++,a.duration=Math.max(a.duration,b))}function l(a,c,d,e){var f=b("Bootloader").getResourceState(c);k(a,i(d,f.loadStart,f.loadEnd));f.loadError!=null&&e.add(c)}function m(a,c,d,e){var f=j();for(var a=b("objectEntries")(a),h=Array.isArray(a),i=0,a=h?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(h){if(i>=a.length)break;k=a[i++]}else{i=a.next();if(i.done)break;k=i.value}k=k;var m=k[0];k=k[1];for(var k=k,n=Array.isArray(k),o=0,k=n?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=k.length)break;p=k[o++]}else{o=k.next();if(o.done)break;p=o.value}p=p;var q=p[0];p=p[1].type;var r=void 0;switch(p){case"async":r=d;break;case"js":case"css":r=f;break;default:p,g(0,3721)}l(r[m],q,c,e)}}return f}function a(a){var b,c=a.startTime,d=new Set();return{source:a.source,sourceDetail:a.sourceDetail,timeslice_context:(b=a.timesliceContext)==null?void 0:b.name,start_time:c,err_count:d.size,resources:{untiered:m(a.rsrcs,c,j(),d)},durations:{jsmods_wait:a.jsmodsStart-c,jsmods:a.jsmodsEnd-a.jsmodsStart,jsmods_done_wait:a.jsmodsEnd-c,download_done_wait:a.logTime-c}}}function c(a){var c=a.startTime,d=0,e=0,f=0,g=0;for(var h=a.components,l=Array.isArray(h),n=0,h=l?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(l){if(n>=h.length)break;o=h[n++]}else{n=h.next();if(n.done)break;o=n.value}o=o;o=b("Bootloader").getComponentTiming(o);d=Math.max(d,o.tierTwoEnd-o.tierTwoStart);e=Math.max(e,o.tierTwoEnd-c);f=Math.max(f,o.tierThreeEnd-o.tierThreeStart);g=Math.max(g,o.tierThreeEnd-c)}o=new Set();n=j();l=m(a.tierOne,c,n,o);h=m(a.tierTwo,c,n,o);var p=m(a.tierThree,c,n,o),q=n.blocking.downloaded!=0,r=j(),s=b("BootloaderEvents").newResourceMapSet(),t=new Set(),u=[a.tierOne,a.tierTwo,a.tierThree];for(var v=0;v<u.length;v++){var w=u[v];for(var w=b("objectValues")(w),x=Array.isArray(w),y=0,w=x?w:w[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var z;if(x){if(y>=w.length)break;z=w[y++]}else{y=w.next();if(y.done)break;z=y.value}z=z;for(var z=z.keys(),A=Array.isArray(z),B=0,z=A?z:z[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var C;if(A){if(B>=z.length)break;C=z[B++]}else{B=z.next();if(B.done)break;C=B.value}C=C;t.add(C)}}}C=0;B=0;A=0;for(var z=a.beRequests.values(),y=Array.isArray(z),x=0,z=y?z:z[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(y){if(x>=z.length)break;w=z[x++]}else{x=z.next();if(x.done)break;w=x.value}u=w;C+=i(c,c,u.requestStart);B+=u.serverGenTime;A+=u.jsmodsEnd-u.jsmodsStart;k(r[q?"blocking":"nonblocking"],u.responseStart-u.requestStart);for(var v=b("objectEntries")(u.rsrcs),w=Array.isArray(v),u=0,v=w?v:v[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var D;if(w){if(u>=v.length)break;D=v[u++]}else{u=v.next();if(u.done)break;D=u.value}D=D;var E=D[0];D=D[1];for(var D=D,F=Array.isArray(D),G=0,D=F?D:D[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var H;if(F){if(G>=D.length)break;H=D[G++]}else{G=D.next();if(G.done)break;H=G.value}H=H;var I=H[0];H=H[1];t.has(I)||s[E].set(I,H)}}}I=m(s,c,n,o);return{ref:a.ref,components:a.components,timeslice_context:(H=a.timesliceContext)==null?void 0:H.name,start_time:c,err_count:o.size,resources:{t1:l,t2:h,t3:p,be:r,unpredicted:I,async:n},durations:{be_start_wait:C,be_server_gen:B,be_jsmods:A,callback_wait:a.callbackStart-c,callback:a.callbackEnd-a.callbackStart,bootload_done_wait:a.callbackEnd-c,rdfd_requirelazy:d,rdfd_done_wait:e,rd_requirelazy:f,rd_done_wait:g}}}function d(a){a.start_time;var c=a.resources,d=a.durations;a=babelHelpers.objectWithoutPropertiesLoose(a,["start_time","resources","durations"]);for(var c=b("objectEntries")(c),e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=c.length)break;g=c[f++]}else{f=c.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];for(var g=b("objectEntries")(g),i=Array.isArray(g),j=0,g=i?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=g.length)break;k=g[j++]}else{j=g.next();if(j.done)break;k=j.value}k=k;var l=k[0];k=k[1];for(var k=b("objectEntries")(k),m=Array.isArray(k),n=0,k=m?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=k.length)break;o=k[n++]}else{n=k.next();if(n.done)break;o=n.value}o=o;var p=o[0];o=o[1];a[h+"_"+l+"_resources_"+p]=Math.round(Number(o))}}}for(var p=b("objectEntries")(d),o=Array.isArray(p),n=0,p=o?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(o){if(n>=p.length)break;m=p[n++]}else{n=p.next();if(n.done)break;m=n.value}k=m;l=k[0];j=k[1];a[l+"_duration"]=Math.round(Number(j))}return a}}),null);
__d("JavascriptWebErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1828905");c=b("FalcoLoggerInternal").create("javascript_web_error",a);e.exports=c}),null);
__d("ErrorTransport",["Banzai","JavascriptWebErrorFalcoEvent","gkx"],(function(a,b,c,d,e,f){"use strict";f.log=a;function a(a){b("gkx")("1830542")?b("JavascriptWebErrorFalcoEvent").log(function(){return a}):b("Banzai").post("js_error_logging",a)}}),null);
__d("AccessibilityWebAssistiveTechTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:AccessibilityWebAssistiveTechLoggerConfig")}),null);
__d("ErrorFilter",["performanceNow"],(function(a,b,c,d,e,f){"use strict";f.shouldLog=a;var g,h=6,i=6e4,j=10*i,k=new Map(),l=0;function m(){var a=(g||(g=b("performanceNow")))();if(a>l+i){var c=a-j;for(var d=k,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;var m=h[0];h=h[1];h.lastAccessed<c&&k["delete"](m)}l=a}}function n(a){m();var c=(g||(g=b("performanceNow")))(),d=k.get(a);if(d==null){k.set(a,{dropped:0,logged:[c],lastAccessed:c});return 1}a=d.dropped;var e=d.logged;d.lastAccessed=c;while(e[0]<c-i)e.shift();if(e.length<h){d.dropped=0;e.push(c);return a+1}else{d.dropped++;return null}}function a(a){return n(a.hash)}}),null);
__d("ErrorPoster",["ErrorDynamicData","ErrorFilter","ErrorTransport"],(function(a,b,c,d,e,f){"use strict";f.createErrorPayload=o;f.postError=a;var g=1024,h=[],i=0;function j(a){return String(a)}function k(a){return a==null?null:String(a)}function l(a,b){var c={};b&&b.forEach(function(a){c[a]=!0});Object.keys(a).forEach(function(b){a[b]?c[b]=!0:c[b]&&delete c[b]});return Object.keys(c)}function m(a){return((a=a)!=null?a:[]).map(function(a){return{column:k(a.column),identifier:a.identifier,line:k(a.line),script:a.script}})}function n(a){a=String(a);return a.length>g?a.substring(0,g-3)+"...":a}function o(a,c){var d;d={appId:k(c.appId),cavalry_lid:c.cavalry_lid,access_token:b("ErrorDynamicData").access_token,ancestor_hash:a.hash,cerror:c.cerror,clientTime:j(a.clientTime),column:a.column,componentStackFrames:m(a.componentStackFrames),events:a.events,extra:l(a.extra,c.extra),forcedKey:a.forcedKey,guardList:a.guardList,line:a.line,loggingFramework:c.loggingFramework,messageFormat:n(a.messageFormat),messageParams:a.messageParams.map(n),name:a.name,sample_weight:k(c.sample_weight),script:a.script,site_category:c.site_category,stackFrames:m(a.stackFrames),type:a.type,page_time:k(a.page_time),project:a.project,push_phase:c.push_phase,report_source:c.report_source,report_source_ref:c.report_source_ref,script_path:c.script_path,server_revision:k(c.server_revision),spin:k(c.spin),svn_rev:String(c.client_revision),additional_client_revisions:Array.from((d=c.additional_client_revisions)!=null?d:[]).map(j),taalOpcodes:a.taalOpcodes==null?null:a.taalOpcodes.map(function(a){return a}),web_session_id:c.web_session_id,version:"3",xFBDebug:a.xFBDebug};c=a.blameModule;var e=a.deferredSource;c!=null&&(d.blameModule=String(c));e&&e.stackFrames&&(d.deferredSource={stackFrames:m(e.stackFrames)});a.metadata&&(d.metadata=a.metadata);a.loadingUrls&&(d.loadingUrls=a.loadingUrls);a.serverHash!=null&&(d.serverHash=a.serverHash);a.windowLocationURL!=null&&(d.windowLocationURL=a.windowLocationURL);a.loggingSource!=null&&(d.loggingSource=a.loggingSource);return d}function a(a,c){i++;var d=b("ErrorFilter").shouldLog(a);if(d==null)return!1;c=o(a,c);Object.assign(c,{ancestors:h.slice(),clientWeight:j(d),page_position:j(i)});h.length<15&&h.push(a.hash);b("ErrorTransport").log(c);return!0}}),null);
__d("EmojiLikeConstants",["EmojiStaticConfig"],(function(a,b,c,d,e,f){"use strict";a=b("EmojiStaticConfig").sizeMap;f.sizeMap=a;c=Object.freeze({XSMALL:"xsmall",SMALL:"small",MEDIUM:"medium",LARGE:"large"});f.size=c;d={dp16:"xsmall",dp32:"small",dp64:"medium",db64:"medium",dp128:"large"};f.sizeMapTransfer=d;e=Object.freeze({PICKER:"picker",HOT_LIKE:"hot_like"});f.source=e;b=[983040];f.FB_THUMBS_UP_EMOJI=b;a="hot_emoji_source";f.SOURCE_TAG_PREFIX=a;c="hot_emoji_size";f.TAG_PREFIX_NEW=c;d="emoji_like";f.TAG_PREFIX_OLD=d;e="\ud83d\udc4d";f.THUMBS_UP_EMOJI=e;b=[128077];f.THUMBS_UP_EMOJI_CODES=b}),null);
__d("installUFI2ComposerInputDecorators",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return babelHelpers["extends"]({},a,{inputDecorators:[].concat(a.inputDecorators,c)})}}),null);
__d("PhotosMimeType",[],(function(a,b,c,d,e,f){f.isImage=g;f.isJpeg=a;function g(a){return h(a)[0]==="image"}function a(a){var b=h(a);return g(a)&&(b[1]==="jpeg"||b[1]==="pjpeg")}function h(a){return a.split("/")}}),null);
__d("EmojiSpan.react",["cx","FBEmojiResource","React","UnicodeUtils"],(function(a,b,c,d,e,f,g){e.exports=a;var h,i=b("React");function a(a){var c=a.children;a.contentState;var d=a.decoratedText,e=a.dir,f=a.offsetKey;a=a.size;var g=0,j=d.length,k=[];while(g<j){var l=(h||(h=b("UnicodeUtils"))).getUTF16Length(d,g);k.push(d.substr(g,l));g+=l}l=b("FBEmojiResource").fromCodepoints(k);g=l!=null?l.getImageURL(a):null;return g!=null?i.jsx("span",{className:"_3gl1 _5zz4","data-offset-key":f,dir:e,style:{backgroundImage:"url("+g+")",backgroundSize:a+"px "+a+"px",height:a,width:a},children:i.jsx("span",{className:"_ncl",children:c})}):i.jsx("span",{"data-offset-key":f,children:d})}}),null);
__d("getEntityMatcher",[],(function(a,b,c,d,e,f){e.exports=a;function g(a,b){return b.getEntity(a)}function a(a,b){return function(c,d,e){var f=b||g;c.findEntityRanges(function(b){b=b.getEntity();return typeof b==="string"&&a(f(b,e))},d)}}}),null);
__d("getHashtagRegexStringChars",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){var a="\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u024f\u0253-\u0254\u0256-\u0257\u0259\u025b\u0263\u0268\u026f\u0272\u0289\u028b\u02bb\u0300-\u036f\u1e00-\u1eff",b="\u0400-\u04ff\u0500-\u0527\u2de0-\u2dff\ua640-\ua69f\u0591-\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f4\ufb12-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4f\u0610-\u061a\u0620-\u065f\u066e-\u06d3\u06d5-\u06dc\u06de-\u06e8\u06ea-\u06ef\u06fa-\u06fc\u06ff\u0750-\u077f\u08a0\u08a2-\u08ac\u08e4-\u08fe\ufb50-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\u200c-\u200c\u0e01-\u0e3a\u0e40-\u0e4e\u1100-\u11ff\u3130-\u3185\ua960-\ua97f\uac00-\ud7af\ud7b0-\ud7ff\uffa1-\uffdc",c=String.fromCharCode;c="\u30a1-\u30fa\u30fc-\u30fe\uff66-\uff9f\uff10-\uff19\uff21-\uff3a\uff41-\uff5a\u3041-\u3096\u3099-\u309e\u3400-\u4dbf\u4e00-\u9fff"+c(173824)+"-"+c(177983)+c(177984)+"-"+c(178207)+c(194560)+"-"+c(195103)+"\u3003\u3005\u303b";a=a+b+c;b="A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u0241\u0250-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ee\u037a\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03ce\u03d0-\u03f5\u03f7-\u0481\u048a-\u04ce\u04d0-\u04f9\u0500-\u050f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u063a\u0640-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u076d\u0780-\u07a5\u07b1\u0904-\u0939\u093d\u0950\u0958-\u0961\u097d\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c60-\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d60-\u0d61\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edd\u0f00\u0f40-\u0f47\u0f49-\u0f6a\u0f88-\u0f8b\u1000-\u1021\u1023-\u1027\u1029-\u102a\u1050-\u1055\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u1a00-\u1a16\u1d00-\u1dbf\u1e00-\u1e9b\u1ea0-\u1ef9\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2131\u2133-\u2139\u213c-\u213f\u2145-\u2149\u2c00-\u2c2e\u2c30-\u2c5e\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312c\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fbb\ua000-\ua48c\ua800-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc";c="\u0300-\u036f\u0483-\u0486\u0591-\u05b9\u05bb-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u0615\u064b-\u065e\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u0901-\u0903\u093c\u093e-\u094d\u0951-\u0954\u0962-\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7-\u09c8\u09cb-\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a70-\u0a71\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0b01-\u0b03\u0b3c\u0b3e-\u0b43\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c82-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0d02-\u0d03\u0d3e-\u0d43\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d82-\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2-\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f3e-\u0f3f\u0f71-\u0f84\u0f86-\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102c-\u1032\u1036-\u1039\u1056-\u1059\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b6-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u192b\u1930-\u193b\u19b0-\u19c0\u19c8-\u19c9\u1a17-\u1a1b\u1dc0-\u1dc3\u20d0-\u20dc\u20e1\u20e5-\u20eb\u302a-\u302f\u3099-\u309a\ua802\ua806\ua80b\ua823-\ua827\ufb1e\ufe00-\ufe0f\ufe20-\ufe23";var d="0-9\u0660-\u0669\u06f0-\u06f9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\uff10-\uff19";b=b+c+a;c=d+"_";a=b+c;d="#\\uFF03";return{alpha:b,alphanumeric:a,hashChars:d}}}),null);
__d("getHashtagRegexString",["getHashtagRegexStringChars"],(function(a,b,c,d,e,f){e.exports=a;function a(){var a=b("getHashtagRegexStringChars")(),c=a.alpha,d=a.alphanumeric;a=a.hashChars;c="["+c+"]";var e="["+d+"]";d="^|$|[^&/"+d+"]";a="["+a+"]";d="("+d+")("+a+")("+e+"*"+c+e+"*)";return d}}),null);
__d("getHashtagRegex",["getHashtagRegexString"],(function(a,b,c,d,e,f){e.exports=a;function a(){return new RegExp(b("getHashtagRegexString")(),"ig")}}),null);
__d("getHashtagMatches",["getHashtagRegex"],(function(a,b,c,d,e,f){e.exports=a;var g=b("getHashtagRegex")();function a(a,b){a=a.getText();var c,d,e;while((c=g.exec(a))!==null)d=c.index+c[1].length,e=c[2],c=c[3],b(d,d+e.length+c.length)}}),null);
__d("DocumentMentionsRegex",[],(function(a,b,c,d,e,f){"use strict";a="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";b="\\b[A-Z][^\\s"+a+"]";c={PUNCTUATION:a,NAME:b};d=c;e.exports=d}),null);
__d("createMentionEntityForContentState",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){var c=b.getType().toLowerCase();if(c==="hashtag")return a.createEntity("HASHTAG","IMMUTABLE");var d=c==="user"||c==="fb4c"?"SEGMENTED":"IMMUTABLE",e=b.getAuxiliaryData();return a.createEntity("MENTION",d,{id:b.getUniqueID(),uri:b.getURI(),isWeak:e&&e.renderType==="non_member",type:c})}}),null);
__d("immutable",[],(function(a,b,c,d,e,f){(function(b,c){typeof f==="object"&&typeof e!=="undefined"?e.exports=c():typeof define==="function"&&define.amd?define(c):b.Immutable=c()})(this,function(){"use strict";var a=Array.prototype.slice;function b(a,b){b&&(a.prototype=Object.create(b.prototype)),a.prototype.constructor=a}var c="delete",d=5,e=1<<d,f=e-1,g={},h={value:!1},i={value:!1};function j(a){a.value=!1;return a}function k(a){a&&(a.value=!0)}function l(){}function m(a,b){b=b||0;var c=Math.max(0,a.length-b),d=new Array(c);for(var e=0;e<c;e++)d[e]=a[e+b];return d}function n(a){a.size===void 0&&(a.size=a.__iterate(p));return a.size}function o(a,b){return b>=0?+b:n(a)+ +b}function p(){return!0}function q(a,b,c){return(a===0||c!==void 0&&a<=-c)&&(b===void 0||c!==void 0&&b>=c)}function r(a,b){return aa(a,b,0)}function s(a,b){return aa(a,b,b)}function aa(a,b,c){return a===void 0?c:a<0?Math.max(0,b+a):b===void 0?a:Math.min(b,a)}function t(a){return x(a)?a:F(a)}b(u,t);function u(a){return y(a)?a:G(a)}b(v,t);function v(a){return z(a)?a:H(a)}b(w,t);function w(a){return x(a)&&!ba(a)?a:I(a)}function x(a){return!!(a&&a[da])}function y(a){return!!(a&&a[ea])}function z(a){return!!(a&&a[fa])}function ba(a){return y(a)||z(a)}function ca(a){return!!(a&&a[ga])}t.isIterable=x;t.isKeyed=y;t.isIndexed=z;t.isAssociative=ba;t.isOrdered=ca;t.Keyed=u;t.Indexed=v;t.Set=w;var da="@@__IMMUTABLE_ITERABLE__@@",ea="@@__IMMUTABLE_KEYED__@@",fa="@@__IMMUTABLE_INDEXED__@@",ga="@@__IMMUTABLE_ORDERED__@@",ha=0,A=1,B=2,ia=typeof Symbol==="function"&&Symbol.iterator,ja="@@iterator",ka=ia||ja;function C(a){this.next=a}C.prototype.toString=function(){return"[Iterator]"};C.KEYS=ha;C.VALUES=A;C.ENTRIES=B;C.prototype.inspect=C.prototype.toSource=function(){return this.toString()};C.prototype[ka]=function(){return this};function D(a,b,c,d){a=a===0?b:a===1?c:[b,c];d?d.value=a:d={value:a,done:!1};return d}function E(){return{value:void 0,done:!0}}function la(a){return!!oa(a)}function ma(a){return a&&typeof a.next==="function"}function na(a){var b=oa(a);return b&&b.call(a)}function oa(a){a=a&&(ia&&a[ia]||a[ja]);if(typeof a==="function")return a}function pa(a){return a&&typeof a.length==="number"}b(F,t);function F(a){return a===null||a===void 0?xa():x(a)?a.toSeq():Aa(a)}F.of=function(){return F(arguments)};F.prototype.toSeq=function(){return this};F.prototype.toString=function(){return this.__toString("Seq {","}")};F.prototype.cacheResult=function(){!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length);return this};F.prototype.__iterate=function(a,b){return Ca(this,a,b,!0)};F.prototype.__iterator=function(a,b){return Da(this,a,b,!0)};b(G,F);function G(a){return a===null||a===void 0?xa().toKeyedSeq():x(a)?y(a)?a.toSeq():a.fromEntrySeq():ya(a)}G.prototype.toKeyedSeq=function(){return this};b(H,F);function H(a){return a===null||a===void 0?xa():x(a)?y(a)?a.entrySeq():a.toIndexedSeq():za(a)}H.of=function(){return H(arguments)};H.prototype.toIndexedSeq=function(){return this};H.prototype.toString=function(){return this.__toString("Seq [","]")};H.prototype.__iterate=function(a,b){return Ca(this,a,b,!1)};H.prototype.__iterator=function(a,b){return Da(this,a,b,!1)};b(I,F);function I(a){return(a===null||a===void 0?xa():x(a)?y(a)?a.entrySeq():a:za(a)).toSetSeq()}I.of=function(){return I(arguments)};I.prototype.toSetSeq=function(){return this};F.isSeq=va;F.Keyed=G;F.Set=I;F.Indexed=H;var qa="@@__IMMUTABLE_SEQ__@@";F.prototype[qa]=!0;b(ra,H);function ra(a){this._array=a,this.size=a.length}ra.prototype.get=function(a,b){return this.has(a)?this._array[o(this,a)]:b};ra.prototype.__iterate=function(a,b){var c=this._array,d=c.length-1;for(var e=0;e<=d;e++)if(a(c[b?d-e:e],e,this)===!1)return e+1;return e};ra.prototype.__iterator=function(a,b){var c=this._array,d=c.length-1,e=0;return new C(function(){return e>d?E():D(a,e,c[b?d-e++:e++])})};b(sa,G);function sa(a){var b=Object.keys(a);this._object=a;this._keys=b;this.size=b.length}sa.prototype.get=function(a,b){return b!==void 0&&!this.has(a)?b:this._object[a]};sa.prototype.has=function(a){return this._object.hasOwnProperty(a)};sa.prototype.__iterate=function(a,b){var c=this._object,d=this._keys,e=d.length-1;for(var f=0;f<=e;f++){var g=d[b?e-f:f];if(a(c[g],g,this)===!1)return f+1}return f};sa.prototype.__iterator=function(a,b){var c=this._object,d=this._keys,e=d.length-1,f=0;return new C(function(){var g=d[b?e-f:f];return f++>e?E():D(a,g,c[g])})};sa.prototype[ga]=!0;b(ta,H);function ta(a){this._iterable=a,this.size=a.length||a.size}ta.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);b=this._iterable;b=na(b);var c=0;if(ma(b)){var d;while(!(d=b.next()).done)if(a(d.value,c++,this)===!1)break}return c};ta.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);b=this._iterable;var c=na(b);if(!ma(c))return new C(E);var d=0;return new C(function(){var b=c.next();return b.done?b:D(a,d++,b.value)})};b(ua,H);function ua(a){this._iterator=a,this._iteratorCache=[]}ua.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);b=this._iterator;var c=this._iteratorCache,d=0;while(d<c.length)if(a(c[d],d++,this)===!1)return d;var e;while(!(e=b.next()).done){e=e.value;c[d]=e;if(a(e,d++,this)===!1)break}return d};ua.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);var c=this._iterator,d=this._iteratorCache,e=0;return new C(function(){if(e>=d.length){var b=c.next();if(b.done)return b;d[e]=b.value}return D(a,e,d[e++])})};function va(a){return!!(a&&a[qa])}var wa;function xa(){return wa||(wa=new ra([]))}function ya(a){var b=Array.isArray(a)?new ra(a).fromEntrySeq():ma(a)?new ua(a).fromEntrySeq():la(a)?new ta(a).fromEntrySeq():typeof a==="object"?new sa(a):void 0;if(!b)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+a);return b}function za(a){var b=Ba(a);if(!b)throw new TypeError("Expected Array or iterable object of values: "+a);return b}function Aa(a){var b=Ba(a)||typeof a==="object"&&new sa(a);if(!b)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+a);return b}function Ba(a){return pa(a)?new ra(a):ma(a)?new ua(a):la(a)?new ta(a):void 0}function Ca(a,b,c,d){var e=a._cache;if(e){var f=e.length-1;for(var g=0;g<=f;g++){var h=e[c?f-g:g];if(b(h[1],d?h[0]:g,a)===!1)return g+1}return g}return a.__iterateUncached(b,c)}function Da(a,b,c,d){var e=a._cache;if(e){var f=e.length-1,g=0;return new C(function(){var a=e[c?f-g:g];return g++>f?E():D(b,d?a[0]:g-1,a[1])})}return a.__iteratorUncached(b,c)}b(Ea,t);function Ea(){throw TypeError("Abstract")}b(Fa,Ea);function Fa(){}b(Ga,Ea);function Ga(){}b(Ha,Ea);function Ha(){}Ea.Keyed=Fa;Ea.Indexed=Ga;Ea.Set=Ha;function J(a,b){if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1;if(typeof a.valueOf==="function"&&typeof b.valueOf==="function"){a=a.valueOf();b=b.valueOf();if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1}return typeof a.equals==="function"&&typeof b.equals==="function"&&a.equals(b)?!0:!1}function Ia(a,b){return b?Ja(b,a,"",{"":a}):Ka(a)}function Ja(a,b,c,d){if(Array.isArray(b))return a.call(d,c,H(b).map(function(c,d){return Ja(a,c,d,b)}));return La(b)?a.call(d,c,G(b).map(function(c,d){return Ja(a,c,d,b)})):b}function Ka(a){if(Array.isArray(a))return H(a).map(Ka).toList();return La(a)?G(a).map(Ka).toMap():a}function La(a){return a&&(a.constructor===Object||a.constructor===void 0)}var Ma=typeof Math.imul==="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(a,b){a=a|0;b=b|0;var c=a&65535,d=b&65535;return c*d+((a>>>16)*d+c*(b>>>16)<<16>>>0)|0};function Na(a){return a>>>1&1073741824|a&3221225471}function K(a){if(a===!1||a===null||a===void 0)return 0;if(typeof a.valueOf==="function"){a=a.valueOf();if(a===!1||a===null||a===void 0)return 0}if(a===!0)return 1;var b=typeof a;if(b==="number"){var c=a|0;c!==a&&(c^=a*4294967295);while(a>4294967295)a/=4294967295,c^=a;return Na(c)}if(b==="string")return a.length>Ya?Oa(a):Pa(a);return typeof a.hashCode==="function"?a.hashCode():Qa(a)}function Oa(b){var a=ab[b];a===void 0&&(a=Pa(b),$a===Za&&($a=0,ab={}),$a++,ab[b]=a);return a}function Pa(b){var a=0;for(var c=0;c<b.length;c++)a=31*a+b.charCodeAt(c)|0;return Na(a)}function Qa(b){var a;if(Ua){a=Va.get(b);if(a!==void 0)return a}a=b[Xa];if(a!==void 0)return a;if(!Sa){a=b.propertyIsEnumerable&&b.propertyIsEnumerable[Xa];if(a!==void 0)return a;a=Ta(b);if(a!==void 0)return a}a=++Wa;Wa&1073741824&&(Wa=0);if(Ua)Va.set(b,a);else if(Ra!==void 0&&Ra(b)===!1)throw new Error("Non-extensible objects are not allowed as keys.");else if(Sa)Object.defineProperty(b,Xa,{enumerable:!1,configurable:!1,writable:!1,value:a});else if(b.propertyIsEnumerable!==void 0&&b.propertyIsEnumerable===b.constructor.prototype.propertyIsEnumerable)b.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},b.propertyIsEnumerable[Xa]=a;else if(b.nodeType!==void 0)b[Xa]=a;else throw new Error("Unable to set a non-enumerable property on object.");return a}var Ra=Object.isExtensible,Sa=function(){try{Object.defineProperty({},"@",{});return!0}catch(a){return!1}}();function Ta(a){if(a&&a.nodeType>0)switch(a.nodeType){case 1:return a.uniqueID;case 9:return a.documentElement&&a.documentElement.uniqueID}}var Ua=typeof WeakMap==="function",Va;Ua&&(Va=new WeakMap());var Wa=0,Xa="__immutablehash__";typeof Symbol==="function"&&(Xa=Symbol(Xa));var Ya=16,Za=255,$a=0,ab={};function bb(a,b){if(!a)throw new Error(b)}function L(a){bb(a!==Infinity,"Cannot perform this action with an infinite size.")}b(M,G);function M(a,b){this._iter=a,this._useKeys=b,this.size=a.size}M.prototype.get=function(a,b){return this._iter.get(a,b)};M.prototype.has=function(a){return this._iter.has(a)};M.prototype.valueSeq=function(){return this._iter.valueSeq()};M.prototype.reverse=function(){var a=this,b=hb(this,!0);this._useKeys||(b.valueSeq=function(){return a._iter.toSeq().reverse()});return b};M.prototype.map=function(a,b){var c=this,d=gb(this,a,b);this._useKeys||(d.valueSeq=function(){return c._iter.toSeq().map(a,b)});return d};M.prototype.__iterate=function(a,b){var c=this,d;return this._iter.__iterate(this._useKeys?function(b,d){return a(b,d,c)}:(d=b?xb(this):0,function(e){return a(e,b?--d:d++,c)}),b)};M.prototype.__iterator=function(a,b){if(this._useKeys)return this._iter.__iterator(a,b);var c=this._iter.__iterator(A,b),d=b?xb(this):0;return new C(function(){var e=c.next();return e.done?e:D(a,b?--d:d++,e.value,e)})};M.prototype[ga]=!0;b(cb,H);function cb(a){this._iter=a,this.size=a.size}cb.prototype.includes=function(a){return this._iter.includes(a)};cb.prototype.__iterate=function(a,b){var c=this,d=0;return this._iter.__iterate(function(b){return a(b,d++,c)},b)};cb.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b),d=0;return new C(function(){var b=c.next();return b.done?b:D(a,d++,b.value,b)})};b(db,I);function db(a){this._iter=a,this.size=a.size}db.prototype.has=function(a){return this._iter.includes(a)};db.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){return a(b,b,c)},b)};db.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b);return new C(function(){var b=c.next();return b.done?b:D(a,b.value,b.value,b)})};b(eb,G);function eb(a){this._iter=a,this.size=a.size}eb.prototype.entrySeq=function(){return this._iter.toSeq()};eb.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){if(b){wb(b);var d=x(b);return a(d?b.get(1):b[1],d?b.get(0):b[0],c)}},b)};eb.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b);return new C(function(){while(!0){var b=c.next();if(b.done)return b;var d=b.value;if(d){wb(d);var e=x(d);return D(a,e?d.get(0):d[0],e?d.get(1):d[1],b)}}})};cb.prototype.cacheResult=M.prototype.cacheResult=db.prototype.cacheResult=eb.prototype.cacheResult=Ab;function fb(a){var b=zb(a);b._iter=a;b.size=a.size;b.flip=function(){return a};b.reverse=function(){var b=a.reverse.apply(this);b.flip=function(){return a.reverse()};return b};b.has=function(b){return a.includes(b)};b.includes=function(b){return a.has(b)};b.cacheResult=Ab;b.__iterateUncached=function(b,c){var d=this;return a.__iterate(function(a,c){return b(c,a,d)!==!1},c)};b.__iteratorUncached=function(b,c){if(b===B){var d=a.__iterator(b,c);return new C(function(){var a=d.next();if(!a.done){var b=a.value[0];a.value[0]=a.value[1];a.value[1]=b}return a})}return a.__iterator(b===A?ha:A,c)};return b}function gb(a,b,c){var d=zb(a);d.size=a.size;d.has=function(b){return a.has(b)};d.get=function(d,e){var f=a.get(d,g);return f===g?e:b.call(c,f,d,a)};d.__iterateUncached=function(d,e){var f=this;return a.__iterate(function(a,e,g){return d(b.call(c,a,e,g),e,f)!==!1},e)};d.__iteratorUncached=function(d,e){var f=a.__iterator(B,e);return new C(function(){var e=f.next();if(e.done)return e;var g=e.value,h=g[0];return D(d,h,b.call(c,g[1],h,a),e)})};return d}function hb(a,b){var c=zb(a);c._iter=a;c.size=a.size;c.reverse=function(){return a};a.flip&&(c.flip=function(){var b=fb(a);b.reverse=function(){return a.flip()};return b});c.get=function(c,d){return a.get(b?c:-1-c,d)};c.has=function(c){return a.has(b?c:-1-c)};c.includes=function(b){return a.includes(b)};c.cacheResult=Ab;c.__iterate=function(b,c){var d=this;return a.__iterate(function(a,c){return b(a,c,d)},!c)};c.__iterator=function(b,c){return a.__iterator(b,!c)};return c}function ib(a,b,c,d){var e=zb(a);d&&(e.has=function(d){var e=a.get(d,g);return e!==g&&!!b.call(c,e,d,a)},e.get=function(d,e){var f=a.get(d,g);return f!==g&&b.call(c,f,d,a)?f:e});e.__iterateUncached=function(e,f){var g=this,h=0;a.__iterate(function(a,f,i){if(b.call(c,a,f,i)){h++;return e(a,d?f:h-1,g)}},f);return h};e.__iteratorUncached=function(e,f){var g=a.__iterator(B,f),h=0;return new C(function(){while(!0){var f=g.next();if(f.done)return f;var i=f.value,j=i[0];i=i[1];if(b.call(c,i,j,a))return D(e,d?j:h++,i,f)}})};return e}function jb(a,b,c){var d=O().asMutable();a.__iterate(function(e,f){d.update(b.call(c,e,f,a),0,function(a){return a+1})});return d.asImmutable()}function kb(a,b,c){var d=y(a),e=(ca(a)?S():O()).asMutable();a.__iterate(function(f,g){e.update(b.call(c,f,g,a),function(a){return a=a||[],a.push(d?[g,f]:f),a})});var f=yb(a);return e.map(function(b){return N(a,f(b))})}function lb(a,b,c,d){var e=a.size;if(q(b,c,e))return a;var f=r(b,e);e=s(c,e);if(f!==f||e!==e)return lb(a.toSeq().cacheResult(),b,c,d);b=e-f;var g;b===b&&(g=b<0?0:b);c=zb(a);c.size=g;!d&&va(a)&&g>=0&&(c.get=function(b,c){b=o(this,b);return b>=0&&b<g?a.get(b+f,c):c});c.__iterateUncached=function(b,c){var e=this;if(g===0)return 0;if(c)return this.cacheResult().__iterate(b,c);var h=0,i=!0,j=0;a.__iterate(function(a,c){if(!(i&&(i=h++<f))){j++;return b(a,d?c:j-1,e)!==!1&&j!==g}});return j};c.__iteratorUncached=function(b,c){if(g!==0&&c)return this.cacheResult().__iterator(b,c);var e=g!==0&&a.__iterator(b,c),h=0,i=0;return new C(function(){while(h++<f)e.next();if(++i>g)return E();var a=e.next();if(d||b===A)return a;else if(b===ha)return D(b,i-1,void 0,a);else return D(b,i-1,a.value[1],a)})};return c}function mb(a,b,c){var d=zb(a);d.__iterateUncached=function(d,e){var f=this;if(e)return this.cacheResult().__iterate(d,e);var g=0;a.__iterate(function(a,e,h){return b.call(c,a,e,h)&&++g&&d(a,e,f)});return g};d.__iteratorUncached=function(d,e){var f=this;if(e)return this.cacheResult().__iterator(d,e);var g=a.__iterator(B,e),h=!0;return new C(function(){if(!h)return E();var a=g.next();if(a.done)return a;var e=a.value,i=e[0];e=e[1];if(!b.call(c,e,i,f)){h=!1;return E()}return d===B?a:D(d,i,e,a)})};return d}function nb(a,b,c,d){var e=zb(a);e.__iterateUncached=function(e,f){var g=this;if(f)return this.cacheResult().__iterate(e,f);var h=!0,i=0;a.__iterate(function(a,f,j){if(!(h&&(h=b.call(c,a,f,j)))){i++;return e(a,d?f:i-1,g)}});return i};e.__iteratorUncached=function(e,f){var g=this;if(f)return this.cacheResult().__iterator(e,f);var h=a.__iterator(B,f),i=!0,j=0;return new C(function(){var a,f;do{a=h.next();if(a.done)if(d||e===A)return a;else if(e===ha)return D(e,j++,void 0,a);else return D(e,j++,a.value[1],a);var k=a.value;f=k[0];k=k[1];i&&(i=b.call(c,k,f,g))}while(i);return e===B?a:D(e,f,k,a)})};return e}function ob(a,b){var c=y(a);b=[a].concat(b).map(function(a){!x(a)?a=c?ya(a):za(Array.isArray(a)?a:[a]):c&&(a=u(a));return a}).filter(function(a){return a.size!==0});if(b.length===0)return a;if(b.length===1){var d=b[0];if(d===a||c&&y(d)||z(a)&&z(d))return d}d=new ra(b);c?d=d.toKeyedSeq():z(a)||(d=d.toSetSeq());d=d.flatten(!0);d.size=b.reduce(function(a,b){if(a!==void 0){b=b.size;if(b!==void 0)return a+b}},0);return d}function pb(a,b,c){var d=zb(a);d.__iterateUncached=function(d,e){var f=0,g=!1;function h(a,i){var j=this;a.__iterate(function(a,e){(!b||i<b)&&x(a)?h(a,i+1):d(a,c?e:f++,j)===!1&&(g=!0);return!g},e)}h(a,0);return f};d.__iteratorUncached=function(d,e){var f=a.__iterator(d,e),g=[],h=0;return new C(function(){while(f){var a=f.next();if(a.done!==!1){f=g.pop();continue}var i=a.value;d===B&&(i=i[1]);if((!b||g.length<b)&&x(i))g.push(f),f=i.__iterator(d,e);else return c?a:D(d,h++,i,a)}return E()})};return d}function qb(a,b,c){var d=yb(a);return a.toSeq().map(function(e,f){return d(b.call(c,e,f,a))}).flatten(!0)}function rb(a,b){var c=zb(a);c.size=a.size&&a.size*2-1;c.__iterateUncached=function(c,d){var e=this,f=0;a.__iterate(function(a,d){return(!f||c(b,f++,e)!==!1)&&c(a,f++,e)!==!1},d);return f};c.__iteratorUncached=function(c,d){var e=a.__iterator(A,d),f=0,g;return new C(function(){if(!g||f%2){g=e.next();if(g.done)return g}return f%2?D(c,f++,b):D(c,f++,g.value,g)})};return c}function sb(a,b,c){b||(b=Bb);var d=y(a),e=0,f=a.toSeq().map(function(b,d){return[d,b,e++,c?c(b,d,a):b]}).toArray();f.sort(function(a,c){return b(a[3],c[3])||a[2]-c[2]}).forEach(d?function(a,b){f[b].length=2}:function(a,b){f[b]=a[1]});return d?G(f):z(a)?H(f):I(f)}function tb(a,b,c){b||(b=Bb);if(c){var d=a.toSeq().map(function(b,d){return[b,c(b,d,a)]}).reduce(function(a,c){return ub(b,a[1],c[1])?c:a});return d&&d[0]}else return a.reduce(function(a,c){return ub(b,a,c)?c:a})}function ub(a,b,c){a=a(c,b);return a===0&&c!==b&&(c===void 0||c===null||c!==c)||a>0}function vb(a,b,c){a=zb(a);a.size=new ra(c).map(function(a){return a.size}).min();a.__iterate=function(a,b){b=this.__iterator(A,b);var c,d=0;while(!(c=b.next()).done)if(a(c.value,d++,this)===!1)break;return d};a.__iteratorUncached=function(a,d){var e=c.map(function(a){return a=t(a),na(d?a.reverse():a)}),f=0,g=!1;return new C(function(){var c;g||(c=e.map(function(a){return a.next()}),g=c.some(function(a){return a.done}));return g?E():D(a,f++,b.apply(null,c.map(function(a){return a.value})))})};return a}function N(a,b){return va(a)?b:a.constructor(b)}function wb(a){if(a!==Object(a))throw new TypeError("Expected [K, V] tuple: "+a)}function xb(a){L(a.size);return n(a)}function yb(a){return y(a)?u:z(a)?v:w}function zb(a){return Object.create((y(a)?G:z(a)?H:I).prototype)}function Ab(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this}else return F.prototype.cacheResult.call(this)}function Bb(a,b){return a>b?1:a<b?-1:0}function Cb(a){var b=na(a);if(!b){if(!pa(a))throw new TypeError("Expected iterable or array-like: "+a);b=na(t(a))}return b}b(O,Fa);function O(a){return a===null||a===void 0?Pb():Db(a)?a:Pb().withMutations(function(b){var c=u(a);L(c.size);c.forEach(function(a,c){return b.set(c,a)})})}O.prototype.toString=function(){return this.__toString("Map {","}")};O.prototype.get=function(a,b){return this._root?this._root.get(0,void 0,a,b):b};O.prototype.set=function(a,b){return Qb(this,a,b)};O.prototype.setIn=function(a,b){return this.updateIn(a,g,function(){return b})};O.prototype.remove=function(a){return Qb(this,a,g)};O.prototype.deleteIn=function(a){return this.updateIn(a,function(){return g})};O.prototype.update=function(a,b,c){return arguments.length===1?a(this):this.updateIn([a],b,c)};O.prototype.updateIn=function(a,b,c){c||(c=b,b=void 0);a=$b(this,Cb(a),b,c);return a===g?void 0:a};O.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._root=null;this.__hash=void 0;this.__altered=!0;return this}return Pb()};O.prototype.merge=function(){return Xb(this,void 0,arguments)};O.prototype.mergeWith=function(b){var c=a.call(arguments,1);return Xb(this,b,c)};O.prototype.mergeIn=function(b){var c=a.call(arguments,1);return this.updateIn(b,Pb(),function(a){return typeof a.merge==="function"?a.merge.apply(a,c):c[c.length-1]})};O.prototype.mergeDeep=function(){return Xb(this,Yb(void 0),arguments)};O.prototype.mergeDeepWith=function(b){var c=a.call(arguments,1);return Xb(this,Yb(b),c)};O.prototype.mergeDeepIn=function(b){var c=a.call(arguments,1);return this.updateIn(b,Pb(),function(a){return typeof a.mergeDeep==="function"?a.mergeDeep.apply(a,c):c[c.length-1]})};O.prototype.sort=function(a){return S(sb(this,a))};O.prototype.sortBy=function(a,b){return S(sb(this,b,a))};O.prototype.withMutations=function(a){var b=this.asMutable();a(b);return b.wasAltered()?b.__ensureOwner(this.__ownerID):this};O.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new l())};O.prototype.asImmutable=function(){return this.__ensureOwner()};O.prototype.wasAltered=function(){return this.__altered};O.prototype.__iterator=function(a,b){return new Kb(this,a,b)};O.prototype.__iterate=function(a,b){var c=this,d=0;this._root&&this._root.iterate(function(b){d++;return a(b[1],b[0],c)},b);return d};O.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;this.__altered=!1;return this}return Nb(this.size,this._root,a,this.__hash)};function Db(a){return!!(a&&a[Eb])}O.isMap=Db;var Eb="@@__IMMUTABLE_MAP__@@",P=O.prototype;P[Eb]=!0;P[c]=P.remove;P.removeIn=P.deleteIn;function Fb(a,b){this.ownerID=a,this.entries=b}Fb.prototype.get=function(a,b,c,d){a=this.entries;for(var b=0,e=a.length;b<e;b++)if(J(c,a[b][0]))return a[b][1];return d};Fb.prototype.update=function(a,b,c,d,e,f,h){b=e===g;c=this.entries;var i=0;for(var j=c.length;i<j;i++)if(J(d,c[i][0]))break;var l=i<j;if(l?c[i][1]===e:b)return this;k(h);(b||!l)&&k(f);if(b&&c.length===1)return;if(!l&&!b&&c.length>=ec)return Ub(a,c,d,e);h=a&&a===this.ownerID;f=h?c:m(c);l?b?i===j-1?f.pop():f[i]=f.pop():f[i]=[d,e]:f.push([d,e]);if(h){this.entries=f;return this}return new Fb(a,f)};function Gb(a,b,c){this.ownerID=a,this.bitmap=b,this.nodes=c}Gb.prototype.get=function(a,b,c,e){b===void 0&&(b=K(c));var g=1<<((a===0?b:b>>>a)&f),h=this.bitmap;return(h&g)===0?e:this.nodes[ac(h&g-1)].get(a+d,b,c,e)};Gb.prototype.update=function(a,b,c,e,h,i,j){c===void 0&&(c=K(e));var k=(b===0?c:c>>>b)&f,l=1<<k,m=this.bitmap,n=(m&l)!==0;if(!n&&h===g)return this;var o=ac(m&l-1),p=this.nodes,q=n?p[o]:void 0;b=Rb(q,a,b+d,c,e,h,i,j);if(b===q)return this;if(!n&&b&&p.length>=fc)return Wb(a,p,m,k,b);if(n&&!b&&p.length===2&&Sb(p[o^1]))return p[o^1];if(n&&b&&p.length===1&&Sb(b))return b;c=a&&a===this.ownerID;e=n?b?m:m^l:m|l;h=n?b?bc(p,o,b,c):dc(p,o,c):cc(p,o,b,c);if(c){this.bitmap=e;this.nodes=h;return this}return new Gb(a,e,h)};function Hb(a,b,c){this.ownerID=a,this.count=b,this.nodes=c}Hb.prototype.get=function(a,b,c,e){b===void 0&&(b=K(c));var g=(a===0?b:b>>>a)&f;g=this.nodes[g];return g?g.get(a+d,b,c,e):e};Hb.prototype.update=function(a,b,c,e,h,i,j){c===void 0&&(c=K(e));var k=(b===0?c:c>>>b)&f,l=h===g,m=this.nodes,n=m[k];if(l&&!n)return this;l=Rb(n,a,b+d,c,e,h,i,j);if(l===n)return this;b=this.count;if(!n)b++;else if(!l){b--;if(b<gc)return Vb(a,m,b,k)}c=a&&a===this.ownerID;e=bc(m,k,l,c);if(c){this.count=b;this.nodes=e;return this}return new Hb(a,b,e)};function Ib(a,b,c){this.ownerID=a,this.keyHash=b,this.entries=c}Ib.prototype.get=function(a,b,c,d){a=this.entries;for(var b=0,e=a.length;b<e;b++)if(J(c,a[b][0]))return a[b][1];return d};Ib.prototype.update=function(a,b,c,d,e,f,h){c===void 0&&(c=K(d));var i=e===g;if(c!==this.keyHash){if(i)return this;k(h);k(f);return Tb(this,a,b,c,[d,e])}b=this.entries;c=0;for(var j=b.length;c<j;c++)if(J(d,b[c][0]))break;var l=c<j;if(l?b[c][1]===e:i)return this;k(h);(i||!l)&&k(f);if(i&&j===2)return new Jb(a,this.keyHash,b[c^1]);h=a&&a===this.ownerID;f=h?b:m(b);l?i?c===j-1?f.pop():f[c]=f.pop():f[c]=[d,e]:f.push([d,e]);if(h){this.entries=f;return this}return new Ib(a,this.keyHash,f)};function Jb(a,b,c){this.ownerID=a,this.keyHash=b,this.entry=c}Jb.prototype.get=function(a,b,c,d){return J(c,this.entry[0])?this.entry[1]:d};Jb.prototype.update=function(a,b,c,d,e,f,h){c=e===g;var i=J(d,this.entry[0]);if(i?e===this.entry[1]:c)return this;k(h);if(c){k(f);return}if(i){if(a&&a===this.ownerID){this.entry[1]=e;return this}return new Jb(a,this.keyHash,[d,e])}k(f);return Tb(this,a,b,K(d),[d,e])};Fb.prototype.iterate=Ib.prototype.iterate=function(a,b){var c=this.entries;for(var d=0,e=c.length-1;d<=e;d++)if(a(c[b?e-d:d])===!1)return!1};Gb.prototype.iterate=Hb.prototype.iterate=function(a,b){var c=this.nodes;for(var d=0,e=c.length-1;d<=e;d++){var f=c[b?e-d:d];if(f&&f.iterate(a,b)===!1)return!1}};Jb.prototype.iterate=function(a,b){return a(this.entry)};b(Kb,C);function Kb(a,b,c){this._type=b,this._reverse=c,this._stack=a._root&&Mb(a._root)}Kb.prototype.next=function(){var a=this._type,b=this._stack;while(b){var c=b.node,d=b.index++,e;if(c.entry){if(d===0)return Lb(a,c.entry)}else if(c.entries){e=c.entries.length-1;if(d<=e)return Lb(a,c.entries[this._reverse?e-d:d])}else{e=c.nodes.length-1;if(d<=e){c=c.nodes[this._reverse?e-d:d];if(c){if(c.entry)return Lb(a,c.entry);b=this._stack=Mb(c,b)}continue}}b=this._stack=this._stack.__prev}return E()};function Lb(a,b){return D(a,b[0],b[1])}function Mb(a,b){return{node:a,index:0,__prev:b}}function Nb(b,c,d,a){var e=Object.create(P);e.size=b;e._root=c;e.__ownerID=d;e.__hash=a;e.__altered=!1;return e}var Ob;function Pb(){return Ob||(Ob=Nb(0))}function Qb(a,b,c){var d,e;if(!a._root){if(c===g)return a;e=1;d=new Fb(a.__ownerID,[[b,c]])}else{var f=j(h),k=j(i);d=Rb(a._root,a.__ownerID,0,void 0,b,c,f,k);if(!k.value)return a;e=a.size+(f.value?c===g?-1:1:0)}if(a.__ownerID){a.size=e;a._root=d;a.__hash=void 0;a.__altered=!0;return a}return d?Nb(e,d):Pb()}function Rb(a,b,c,d,e,f,h,i){if(!a){if(f===g)return a;k(i);k(h);return new Jb(b,d,[e,f])}return a.update(b,c,d,e,f,h,i)}function Sb(a){return a.constructor===Jb||a.constructor===Ib}function Tb(a,b,c,e,g){if(a.keyHash===e)return new Ib(b,e,[a.entry,g]);var h=(c===0?a.keyHash:a.keyHash>>>c)&f,i=(c===0?e:e>>>c)&f;e=h===i?[Tb(a,b,c+d,e,g)]:(c=new Jb(b,e,g),h<i?[a,c]:[c,a]);return new Gb(b,1<<h|1<<i,e)}function Ub(a,b,c,d){a||(a=new l());c=new Jb(a,K(c),[c,d]);for(var d=0;d<b.length;d++){var e=b[d];c=c.update(a,0,void 0,e[0],e[1])}return c}function Vb(a,b,c,d){var e=0,f=0;c=new Array(c);for(var g=0,h=1,i=b.length;g<i;g++,h<<=1){var j=b[g];j!==void 0&&g!==d&&(e|=h,c[f++]=j)}return new Gb(a,e,c)}function Wb(a,b,c,d,f){var g=0,h=new Array(e);for(var i=0;c!==0;i++,c>>>=1)h[i]=c&1?b[g++]:void 0;h[d]=f;return new Hb(a,g+1,h)}function Xb(a,b,c){var d=[];for(var e=0;e<c.length;e++){var f=c[e],g=u(f);x(f)||(g=g.map(function(a){return Ia(a)}));d.push(g)}return Zb(a,b,d)}function Yb(a){return function(b,c,d){return b&&b.mergeDeepWith&&x(c)?b.mergeDeepWith(a,c):a?a(b,c,d):c}}function Zb(a,b,c){c=c.filter(function(a){return a.size!==0});if(c.length===0)return a;return a.size===0&&!a.__ownerID&&c.length===1?a.constructor(c[0]):a.withMutations(function(a){var d=b?function(c,d){a.update(d,g,function(a){return a===g?c:b(a,c,d)})}:function(b,c){a.set(c,b)};for(var e=0;e<c.length;e++)c[e].forEach(d)})}function $b(a,b,c,d){var e=a===g,f=b.next();if(f.done){var h=e?c:a,i=d(h);return i===h?a:i}bb(e||a&&a.set,"invalid keyPath");h=f.value;i=e?g:a.get(h,g);f=$b(i,b,c,d);return f===i?a:f===g?a.remove(h):(e?Pb():a).set(h,f)}function ac(a){a=a-(a>>1&1431655765);a=(a&858993459)+(a>>2&858993459);a=a+(a>>4)&252645135;a=a+(a>>8);a=a+(a>>16);return a&127}function bc(a,b,c,d){d=d?a:m(a);d[b]=c;return d}function cc(a,b,c,d){var e=a.length+1;if(d&&b+1===e){a[b]=c;return a}d=new Array(e);var f=0;for(var g=0;g<e;g++)g===b?(d[g]=c,f=-1):d[g]=a[g+f];return d}function dc(a,b,c){var d=a.length-1;if(c&&b===d){a.pop();return a}c=new Array(d);var e=0;for(var f=0;f<d;f++)f===b&&(e=1),c[f]=a[f+e];return c}var ec=e/4,fc=e/2,gc=e/4;b(Q,Ga);function Q(a){var b=oc();if(a===null||a===void 0)return b;if(hc(a))return a;var c=v(a),f=c.size;if(f===0)return b;L(f);return f>0&&f<e?mc(0,f,d,null,new jc(c.toArray())):b.withMutations(function(a){a.setSize(f),c.forEach(function(b,c){return a.set(c,b)})})}Q.of=function(){return this(arguments)};Q.prototype.toString=function(){return this.__toString("List [","]")};Q.prototype.get=function(a,b){a=o(this,a);if(a<0||a>=this.size)return b;a+=this._origin;b=sc(this,a);return b&&b.array[a&f]};Q.prototype.set=function(a,b){return pc(this,a,b)};Q.prototype.remove=function(a){return this.has(a)?a===0?this.shift():a===this.size-1?this.pop():this.splice(a,1):this};Q.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=d;this._root=this._tail=null;this.__hash=void 0;this.__altered=!0;return this}return oc()};Q.prototype.push=function(){var a=arguments,b=this.size;return this.withMutations(function(c){tc(c,0,b+a.length);for(var d=0;d<a.length;d++)c.set(b+d,a[d])})};Q.prototype.pop=function(){return tc(this,0,-1)};Q.prototype.unshift=function(){var a=arguments;return this.withMutations(function(b){tc(b,-a.length);for(var c=0;c<a.length;c++)b.set(c,a[c])})};Q.prototype.shift=function(){return tc(this,1)};Q.prototype.merge=function(){return uc(this,void 0,arguments)};Q.prototype.mergeWith=function(b){var c=a.call(arguments,1);return uc(this,b,c)};Q.prototype.mergeDeep=function(){return uc(this,Yb(void 0),arguments)};Q.prototype.mergeDeepWith=function(b){var c=a.call(arguments,1);return uc(this,Yb(b),c)};Q.prototype.setSize=function(a){return tc(this,0,a)};Q.prototype.slice=function(a,b){var c=this.size;return q(a,b,c)?this:tc(this,r(a,c),s(b,c))};Q.prototype.__iterator=function(a,b){var c=0,d=lc(this,b);return new C(function(){var b=d();return b===kc?E():D(a,c++,b)})};Q.prototype.__iterate=function(a,b){var c=0;b=lc(this,b);var d;while((d=b())!==kc)if(a(d,c++,this)===!1)break;return c};Q.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;return this}return mc(this._origin,this._capacity,this._level,this._root,this._tail,a,this.__hash)};function hc(a){return!!(a&&a[ic])}Q.isList=hc;var ic="@@__IMMUTABLE_LIST__@@",R=Q.prototype;R[ic]=!0;R[c]=R.remove;R.setIn=P.setIn;R.deleteIn=R.removeIn=P.removeIn;R.update=P.update;R.updateIn=P.updateIn;R.mergeIn=P.mergeIn;R.mergeDeepIn=P.mergeDeepIn;R.withMutations=P.withMutations;R.asMutable=P.asMutable;R.asImmutable=P.asImmutable;R.wasAltered=P.wasAltered;function jc(a,b){this.array=a,this.ownerID=b}jc.prototype.removeBefore=function(a,b,c){if(c===b?1<<b:this.array.length===0)return this;var e=c>>>b&f;if(e>=this.array.length)return new jc([],a);var g=e===0,h;if(b>0){var i=this.array[e];h=i&&i.removeBefore(a,b-d,c);if(h===i&&g)return this}if(g&&!h)return this;b=rc(this,a);if(!g)for(var c=0;c<e;c++)b.array[c]=void 0;h&&(b.array[e]=h);return b};jc.prototype.removeAfter=function(a,b,c){if(c===b?1<<b:this.array.length===0)return this;var e=c-1>>>b&f;if(e>=this.array.length)return this;var g=e===this.array.length-1,h;if(b>0){var i=this.array[e];h=i&&i.removeAfter(a,b-d,c);if(h===i&&g)return this}if(g&&!h)return this;b=rc(this,a);g||b.array.pop();h&&(b.array[e]=h);return b};var kc={};function lc(a,b){var c=a._origin,f=a._capacity,g=vc(f),h=a._tail;return i(a._root,a._level,0);function i(a,b,c){return b===0?j(a,c):k(a,b,c)}function j(a,d){var i=d===g?h&&h.array:a&&a.array,j=d>c?0:c-d,k=f-d;k>e&&(k=e);return function(){if(j===k)return kc;var a=b?--k:j++;return i&&i[a]}}function k(a,g,h){var j,k=a&&a.array,l=h>c?0:c-h>>g,m=(f-h>>g)+1;m>e&&(m=e);return function(){do{if(j){var a=j();if(a!==kc)return a;j=null}if(l===m)return kc;a=b?--m:l++;j=i(k&&k[a],g-d,h+(a<<g))}while(!0)}}}function mc(b,c,d,e,f,g,a){var h=Object.create(R);h.size=c-b;h._origin=b;h._capacity=c;h._level=d;h._root=e;h._tail=f;h.__ownerID=g;h.__hash=a;h.__altered=!1;return h}var nc;function oc(){return nc||(nc=mc(0,0,d))}function pc(a,b,c){b=o(a,b);if(b>=a.size||b<0)return a.withMutations(function(a){b<0?tc(a,b).set(0,c):tc(a,0,b+1).set(b,c)});b+=a._origin;var d=a._tail,e=a._root,f=j(i);b>=vc(a._capacity)?d=qc(d,a.__ownerID,0,b,c,f):e=qc(e,a.__ownerID,a._level,b,c,f);if(!f.value)return a;if(a.__ownerID){a._root=e;a._tail=d;a.__hash=void 0;a.__altered=!0;return a}return mc(a._origin,a._capacity,a._level,e,d)}function qc(a,b,c,e,g,h){var i=e>>>c&f,j=a&&i<a.array.length;if(!j&&g===void 0)return a;if(c>0){var l=a&&a.array[i];c=qc(l,b,c-d,e,g,h);if(c===l)return a;e=rc(a,b);e.array[i]=c;return e}if(j&&a.array[i]===g)return a;k(h);e=rc(a,b);g===void 0&&i===e.array.length-1?e.array.pop():e.array[i]=g;return e}function rc(a,b){return b&&a&&b===a.ownerID?a:new jc(a?a.array.slice():[],b)}function sc(a,b){if(b>=vc(a._capacity))return a._tail;if(b<1<<a._level+d){var c=a._root;a=a._level;while(c&&a>0)c=c.array[b>>>a&f],a-=d;return c}}function tc(a,b,c){var e=a.__ownerID||new l(),g=a._origin,h=a._capacity;b=g+b;c=c===void 0?h:c<0?h+c:g+c;if(b===g&&c===h)return a;if(b>=c)return a.clear();var i=a._level,j=a._root,k=0;while(b+k<0)j=new jc(j&&j.array.length?[void 0,j]:[],e),i+=d,k+=1<<i;k&&(b+=k,g+=k,c+=k,h+=k);var m=vc(h),n=vc(c);while(n>=1<<i+d)j=new jc(j&&j.array.length?[j]:[],e),i+=d;var o=a._tail,p=n<m?sc(a,c-1):n>m?new jc([],e):o;if(o&&n>m&&b<h&&o.array.length){j=rc(j,e);var q=j;for(var r=i;r>d;r-=d){var s=m>>>r&f;q=q.array[s]=rc(q.array[s],e)}q.array[m>>>d&f]=o}c<h&&(p=p&&p.removeAfter(e,0,c));if(b>=n)b-=n,c-=n,i=d,j=null,p=p&&p.removeBefore(e,0,b);else if(b>g||n<m){k=0;while(j){s=b>>>i&f;if(s!==n>>>i&f)break;s&&(k+=(1<<i)*s);i-=d;j=j.array[s]}j&&b>g&&(j=j.removeBefore(e,i,b-k));j&&n<m&&(j=j.removeAfter(e,i,n-k));k&&(b-=k,c-=k)}if(a.__ownerID){a.size=c-b;a._origin=b;a._capacity=c;a._level=i;a._root=j;a._tail=p;a.__hash=void 0;a.__altered=!0;return a}return mc(b,c,i,j,p)}function uc(a,b,c){var d=[],e=0;for(var f=0;f<c.length;f++){var g=c[f],h=v(g);h.size>e&&(e=h.size);x(g)||(h=h.map(function(a){return Ia(a)}));d.push(h)}e>a.size&&(a=a.setSize(e));return Zb(a,b,d)}function vc(a){return a<e?0:a-1>>>d<<d}b(S,O);function S(a){return a===null||a===void 0?zc():wc(a)?a:zc().withMutations(function(b){var c=u(a);L(c.size);c.forEach(function(a,c){return b.set(c,a)})})}S.of=function(){return this(arguments)};S.prototype.toString=function(){return this.__toString("OrderedMap {","}")};S.prototype.get=function(a,b){a=this._map.get(a);return a!==void 0?this._list.get(a)[1]:b};S.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this}return zc()};S.prototype.set=function(a,b){return Ac(this,a,b)};S.prototype.remove=function(a){return Ac(this,a,g)};S.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()};S.prototype.__iterate=function(a,b){var c=this;return this._list.__iterate(function(b){return b&&a(b[1],b[0],c)},b)};S.prototype.__iterator=function(a,b){return this._list.fromEntrySeq().__iterator(a,b)};S.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a),c=this._list.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;this._list=c;return this}return xc(b,c,a,this.__hash)};function wc(a){return Db(a)&&ca(a)}S.isOrderedMap=wc;S.prototype[ga]=!0;S.prototype[c]=S.prototype.remove;function xc(b,c,d,a){var e=Object.create(S.prototype);e.size=b?b.size:0;e._map=b;e._list=c;e.__ownerID=d;e.__hash=a;return e}var yc;function zc(){return yc||(yc=xc(Pb(),oc()))}function Ac(a,b,c){var d=a._map,f=a._list,h=d.get(b),i=h!==void 0,j,k;if(c===g){if(!i)return a;f.size>=e&&f.size>=d.size*2?(k=f.filter(function(a,b){return a!==void 0&&h!==b}),j=k.toKeyedSeq().map(function(a){return a[0]}).flip().toMap(),a.__ownerID&&(j.__ownerID=k.__ownerID=a.__ownerID)):(j=d.remove(b),k=h===f.size-1?f.pop():f.set(h,void 0))}else if(i){if(c===f.get(h)[1])return a;j=d;k=f.set(h,[b,c])}else j=d.set(b,f.size),k=f.set(f.size,[b,c]);if(a.__ownerID){a.size=j.size;a._map=j;a._list=k;a.__hash=void 0;return a}return xc(j,k)}b(T,Ga);function T(a){return a===null||a===void 0?Gc():Bc(a)?a:Gc().unshiftAll(a)}T.of=function(){return this(arguments)};T.prototype.toString=function(){return this.__toString("Stack [","]")};T.prototype.get=function(a,b){var c=this._head;a=o(this,a);while(c&&a--)c=c.next;return c?c.value:b};T.prototype.peek=function(){return this._head&&this._head.value};T.prototype.push=function(){if(arguments.length===0)return this;var a=this.size+arguments.length,b=this._head;for(var c=arguments.length-1;c>=0;c--)b={value:arguments[c],next:b};if(this.__ownerID){this.size=a;this._head=b;this.__hash=void 0;this.__altered=!0;return this}return Ec(a,b)};T.prototype.pushAll=function(a){a=v(a);if(a.size===0)return this;L(a.size);var b=this.size,c=this._head;a.reverse().forEach(function(a){b++,c={value:a,next:c}});if(this.__ownerID){this.size=b;this._head=c;this.__hash=void 0;this.__altered=!0;return this}return Ec(b,c)};T.prototype.pop=function(){return this.slice(1)};T.prototype.unshift=function(){return this.push.apply(this,arguments)};T.prototype.unshiftAll=function(a){return this.pushAll(a)};T.prototype.shift=function(){return this.pop.apply(this,arguments)};T.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._head=void 0;this.__hash=void 0;this.__altered=!0;return this}return Gc()};T.prototype.slice=function(a,b){if(q(a,b,this.size))return this;var c=r(a,this.size),d=s(b,this.size);if(d!==this.size)return Ga.prototype.slice.call(this,a,b);d=this.size-c;a=this._head;while(c--)a=a.next;if(this.__ownerID){this.size=d;this._head=a;this.__hash=void 0;this.__altered=!0;return this}return Ec(d,a)};T.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;this.__altered=!1;return this}return Ec(this.size,this._head,a,this.__hash)};T.prototype.__iterate=function(a,b){if(b)return this.reverse().__iterate(a);b=0;var c=this._head;while(c){if(a(c.value,b++,this)===!1)break;c=c.next}return b};T.prototype.__iterator=function(a,b){if(b)return this.reverse().__iterator(a);var c=0,d=this._head;return new C(function(){if(d){var b=d.value;d=d.next;return D(a,c++,b)}return E()})};function Bc(a){return!!(a&&a[Cc])}T.isStack=Bc;var Cc="@@__IMMUTABLE_STACK__@@",Dc=T.prototype;Dc[Cc]=!0;Dc.withMutations=P.withMutations;Dc.asMutable=P.asMutable;Dc.asImmutable=P.asImmutable;Dc.wasAltered=P.wasAltered;function Ec(b,c,d,a){var e=Object.create(Dc);e.size=b;e._head=c;e.__ownerID=d;e.__hash=a;e.__altered=!1;return e}var Fc;function Gc(){return Fc||(Fc=Ec(0))}b(U,Ha);function U(a){return a===null||a===void 0?Mc():Hc(a)?a:Mc().withMutations(function(b){var c=w(a);L(c.size);c.forEach(function(a){return b.add(a)})})}U.of=function(){return this(arguments)};U.fromKeys=function(a){return this(u(a).keySeq())};U.prototype.toString=function(){return this.__toString("Set {","}")};U.prototype.has=function(a){return this._map.has(a)};U.prototype.add=function(a){return Jc(this,this._map.set(a,!0))};U.prototype.remove=function(a){return Jc(this,this._map.remove(a))};U.prototype.clear=function(){return Jc(this,this._map.clear())};U.prototype.union=function(){var b=a.call(arguments,0);b=b.filter(function(a){return a.size!==0});if(b.length===0)return this;return this.size===0&&!this.__ownerID&&b.length===1?this.constructor(b[0]):this.withMutations(function(a){for(var c=0;c<b.length;c++)w(b[c]).forEach(function(b){return a.add(b)})})};U.prototype.intersect=function(){var b=a.call(arguments,0);if(b.length===0)return this;b=b.map(function(a){return w(a)});var c=this;return this.withMutations(function(a){c.forEach(function(c){b.every(function(a){return a.includes(c)})||a.remove(c)})})};U.prototype.subtract=function(){var b=a.call(arguments,0);if(b.length===0)return this;b=b.map(function(a){return w(a)});var c=this;return this.withMutations(function(a){c.forEach(function(c){b.some(function(a){return a.includes(c)})&&a.remove(c)})})};U.prototype.merge=function(){return this.union.apply(this,arguments)};U.prototype.mergeWith=function(b){var c=a.call(arguments,1);return this.union.apply(this,c)};U.prototype.sort=function(a){return Nc(sb(this,a))};U.prototype.sortBy=function(a,b){return Nc(sb(this,b,a))};U.prototype.wasAltered=function(){return this._map.wasAltered()};U.prototype.__iterate=function(a,b){var c=this;return this._map.__iterate(function(b,d){return a(d,d,c)},b)};U.prototype.__iterator=function(a,b){return this._map.map(function(a,b){return b}).__iterator(a,b)};U.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;return this}return this.__make(b,a)};function Hc(a){return!!(a&&a[Ic])}U.isSet=Hc;var Ic="@@__IMMUTABLE_SET__@@",V=U.prototype;V[Ic]=!0;V[c]=V.remove;V.mergeDeep=V.merge;V.mergeDeepWith=V.mergeWith;V.withMutations=P.withMutations;V.asMutable=P.asMutable;V.asImmutable=P.asImmutable;V.__empty=Mc;V.__make=Kc;function Jc(a,b){if(a.__ownerID){a.size=b.size;a._map=b;return a}return b===a._map?a:b.size===0?a.__empty():a.__make(b)}function Kc(a,b){var c=Object.create(V);c.size=a?a.size:0;c._map=a;c.__ownerID=b;return c}var Lc;function Mc(){return Lc||(Lc=Kc(Pb()))}b(Nc,U);function Nc(a){return a===null||a===void 0?Sc():Oc(a)?a:Sc().withMutations(function(b){var c=w(a);L(c.size);c.forEach(function(a){return b.add(a)})})}Nc.of=function(){return this(arguments)};Nc.fromKeys=function(a){return this(u(a).keySeq())};Nc.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function Oc(a){return Hc(a)&&ca(a)}Nc.isOrderedSet=Oc;var Pc=Nc.prototype;Pc[ga]=!0;Pc.__empty=Sc;Pc.__make=Qc;function Qc(a,b){var c=Object.create(Pc);c.size=a?a.size:0;c._map=a;c.__ownerID=b;return c}var Rc;function Sc(){return Rc||(Rc=Qc(zc()))}b(W,Fa);function W(a,b){var c,d=function(f){if(f instanceof d)return f;if(!(this instanceof d))return new d(f);if(!c){c=!0;var g=Object.keys(a);Vc(e,g);e.size=g.length;e._name=b;e._keys=g;e._defaultValues=a}this._map=O(f)},e=d.prototype=Object.create(X);e.constructor=d;return d}W.prototype.toString=function(){return this.__toString(Uc(this)+" {","}")};W.prototype.has=function(a){return this._defaultValues.hasOwnProperty(a)};W.prototype.get=function(a,b){if(!this.has(a))return b;b=this._defaultValues[a];return this._map?this._map.get(a,b):b};W.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this}var a=this.constructor;return a._empty||(a._empty=Tc(this,Pb()))};W.prototype.set=function(a,b){if(!this.has(a))throw new Error('Cannot set unknown key "'+a+'" on '+Uc(this));a=this._map&&this._map.set(a,b);return this.__ownerID||a===this._map?this:Tc(this,a)};W.prototype.remove=function(a){if(!this.has(a))return this;a=this._map&&this._map.remove(a);return this.__ownerID||a===this._map?this:Tc(this,a)};W.prototype.wasAltered=function(){return this._map.wasAltered()};W.prototype.__iterator=function(a,b){var c=this;return u(this._defaultValues).map(function(a,b){return c.get(b)}).__iterator(a,b)};W.prototype.__iterate=function(a,b){var c=this;return u(this._defaultValues).map(function(a,b){return c.get(b)}).__iterate(a,b)};W.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map&&this._map.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;return this}return Tc(this,b,a)};var X=W.prototype;X[c]=X.remove;X.deleteIn=X.removeIn=P.removeIn;X.merge=P.merge;X.mergeWith=P.mergeWith;X.mergeIn=P.mergeIn;X.mergeDeep=P.mergeDeep;X.mergeDeepWith=P.mergeDeepWith;X.mergeDeepIn=P.mergeDeepIn;X.setIn=P.setIn;X.update=P.update;X.updateIn=P.updateIn;X.withMutations=P.withMutations;X.asMutable=P.asMutable;X.asImmutable=P.asImmutable;function Tc(a,b,c){a=Object.create(Object.getPrototypeOf(a));a._map=b;a.__ownerID=c;return a}function Uc(a){return a._name||a.constructor.name||"Record"}function Vc(a,b){try{b.forEach(Wc.bind(void 0,a))}catch(a){}}function Wc(a,b){Object.defineProperty(a,b,{get:function(){return this.get(b)},set:function(a){bb(this.__ownerID,"Cannot set on an immutable record."),this.set(b,a)}})}function Xc(a,b){if(a===b)return!0;if(!x(b)||a.size!==void 0&&b.size!==void 0&&a.size!==b.size||a.__hash!==void 0&&b.__hash!==void 0&&a.__hash!==b.__hash||y(a)!==y(b)||z(a)!==z(b)||ca(a)!==ca(b))return!1;if(a.size===0&&b.size===0)return!0;var c=!ba(a);if(ca(a)){var d=a.entries();return b.every(function(a,b){var e=d.next().value;return e&&J(e[1],a)&&(c||J(e[0],b))})&&d.next().done}var e=!1;if(a.size===void 0)if(b.size===void 0)typeof a.cacheResult==="function"&&a.cacheResult();else{e=!0;var f=a;a=b;b=f}f=!0;b=b.__iterate(function(b,d){if(c?!a.has(b):e?!J(b,a.get(d,g)):!J(a.get(d,g),b)){f=!1;return!1}});return f&&a.size===b}b(Y,H);function Y(a,b,c){if(!(this instanceof Y))return new Y(a,b,c);bb(c!==0,"Cannot step a Range by 0");a=a||0;b===void 0&&(b=Infinity);c=c===void 0?1:Math.abs(c);b<a&&(c=-c);this._start=a;this._end=b;this._step=c;this.size=Math.max(0,Math.ceil((b-a)/c-1)+1);if(this.size===0){if(Yc)return Yc;Yc=this}}Y.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"};Y.prototype.get=function(a,b){return this.has(a)?this._start+o(this,a)*this._step:b};Y.prototype.includes=function(a){a=(a-this._start)/this._step;return a>=0&&a<this.size&&a===Math.floor(a)};Y.prototype.slice=function(a,b){if(q(a,b,this.size))return this;a=r(a,this.size);b=s(b,this.size);return b<=a?new Y(0,0):new Y(this.get(a,this._end),this.get(b,this._end),this._step)};Y.prototype.indexOf=function(a){a=a-this._start;if(a%this._step===0){a=a/this._step;if(a>=0&&a<this.size)return a}return-1};Y.prototype.lastIndexOf=function(a){return this.indexOf(a)};Y.prototype.__iterate=function(a,b){var c=this.size-1,d=this._step,e=b?this._start+c*d:this._start;for(var f=0;f<=c;f++){if(a(e,f,this)===!1)return f+1;e+=b?-d:d}return f};Y.prototype.__iterator=function(a,b){var c=this.size-1,d=this._step,e=b?this._start+c*d:this._start,f=0;return new C(function(){var g=e;e+=b?-d:d;return f>c?E():D(a,f++,g)})};Y.prototype.equals=function(a){return a instanceof Y?this._start===a._start&&this._end===a._end&&this._step===a._step:Xc(this,a)};var Yc;b(Z,H);function Z(a,b){if(!(this instanceof Z))return new Z(a,b);this._value=a;this.size=b===void 0?Infinity:Math.max(0,b);if(this.size===0){if(Zc)return Zc;Zc=this}}Z.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"};Z.prototype.get=function(a,b){return this.has(a)?this._value:b};Z.prototype.includes=function(a){return J(this._value,a)};Z.prototype.slice=function(a,b){var c=this.size;return q(a,b,c)?this:new Z(this._value,s(b,c)-r(a,c))};Z.prototype.reverse=function(){return this};Z.prototype.indexOf=function(a){return J(this._value,a)?0:-1};Z.prototype.lastIndexOf=function(a){return J(this._value,a)?this.size:-1};Z.prototype.__iterate=function(a,b){for(var b=0;b<this.size;b++)if(a(this._value,b,this)===!1)return b+1;return b};Z.prototype.__iterator=function(a,b){var c=this,d=0;return new C(function(){return d<c.size?D(a,d++,c._value):E()})};Z.prototype.equals=function(a){return a instanceof Z?J(this._value,a._value):Xc(a)};var Zc;function $c(a,b){var c=function(c){a.prototype[c]=b[c]};Object.keys(b).forEach(c);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(b).forEach(c);return a}t.Iterator=C;$c(t,{toArray:function(){L(this.size);var a=new Array(this.size||0);this.valueSeq().__iterate(function(b,c){a[c]=b});return a},toIndexedSeq:function(){return new cb(this)},toJS:function(){return this.toSeq().map(function(a){return a&&typeof a.toJS==="function"?a.toJS():a}).__toJS()},toJSON:function(){return this.toSeq().map(function(a){return a&&typeof a.toJSON==="function"?a.toJSON():a}).__toJS()},toKeyedSeq:function(){return new M(this,!0)},toMap:function(){return O(this.toKeyedSeq())},toObject:function(){L(this.size);var a={};this.__iterate(function(b,c){a[c]=b});return a},toOrderedMap:function(){return S(this.toKeyedSeq())},toOrderedSet:function(){return Nc(y(this)?this.valueSeq():this)},toSet:function(){return U(y(this)?this.valueSeq():this)},toSetSeq:function(){return new db(this)},toSeq:function(){return z(this)?this.toIndexedSeq():y(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return T(y(this)?this.valueSeq():this)},toList:function(){return Q(y(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(a,b){return this.size===0?a+b:a+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+b},concat:function(){var b=a.call(arguments,0);return N(this,ob(this,b))},contains:function(a){return this.includes(a)},includes:function(a){return this.some(function(b){return J(b,a)})},entries:function(){return this.__iterator(B)},every:function(a,b){L(this.size);var c=!0;this.__iterate(function(d,e,f){if(!a.call(b,d,e,f)){c=!1;return!1}});return c},filter:function(a,b){return N(this,ib(this,a,b,!0))},find:function(a,b,c){a=this.findEntry(a,b);return a?a[1]:c},findEntry:function(a,b){var c;this.__iterate(function(d,e,f){if(a.call(b,d,e,f)){c=[e,d];return!1}});return c},findLastEntry:function(a,b){return this.toSeq().reverse().findEntry(a,b)},forEach:function(a,b){L(this.size);return this.__iterate(b?a.bind(b):a)},join:function(a){L(this.size);a=a!==void 0?""+a:",";var b="",c=!0;this.__iterate(function(d){c?c=!1:b+=a,b+=d!==null&&d!==void 0?d.toString():""});return b},keys:function(){return this.__iterator(ha)},map:function(a,b){return N(this,gb(this,a,b))},reduce:function(a,b,c){L(this.size);var d,e;arguments.length<2?e=!0:d=b;this.__iterate(function(b,f,g){e?(e=!1,d=b):d=a.call(c,d,b,f,g)});return d},reduceRight:function(a,b,c){var d=this.toKeyedSeq().reverse();return d.reduce.apply(d,arguments)},reverse:function(){return N(this,hb(this,!0))},slice:function(a,b){return N(this,lb(this,a,b,!0))},some:function(a,b){return!this.every(cd(a),b)},sort:function(a){return N(this,sb(this,a))},values:function(){return this.__iterator(A)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(a,b){return n(a?this.toSeq().filter(a,b):this)},countBy:function(a,b){return jb(this,a,b)},equals:function(a){return Xc(this,a)},entrySeq:function(){var a=this;if(a._cache)return new ra(a._cache);var b=a.toSeq().map(bd).toIndexedSeq();b.fromEntrySeq=function(){return a.toSeq()};return b},filterNot:function(a,b){return this.filter(cd(a),b)},findLast:function(a,b,c){return this.toKeyedSeq().reverse().find(a,b,c)},first:function(){return this.find(p)},flatMap:function(a,b){return N(this,qb(this,a,b))},flatten:function(a){return N(this,pb(this,a,!0))},fromEntrySeq:function(){return new eb(this)},get:function(a,b){return this.find(function(b,c){return J(c,a)},void 0,b)},getIn:function(a,b){var c=this;a=Cb(a);var d;while(!(d=a.next()).done){d=d.value;c=c&&c.get?c.get(d,g):g;if(c===g)return b}return c},groupBy:function(a,b){return kb(this,a,b)},has:function(a){return this.get(a,g)!==g},hasIn:function(a){return this.getIn(a,g)!==g},isSubset:function(a){a=typeof a.includes==="function"?a:t(a);return this.every(function(b){return a.includes(b)})},isSuperset:function(a){return a.isSubset(this)},keySeq:function(){return this.toSeq().map(ad).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(a){return tb(this,a)},maxBy:function(a,b){return tb(this,b,a)},min:function(a){return tb(this,a?dd(a):gd)},minBy:function(a,b){return tb(this,b?dd(b):gd,a)},rest:function(){return this.slice(1)},skip:function(a){return this.slice(Math.max(0,a))},skipLast:function(a){return N(this,this.toSeq().reverse().skip(a).reverse())},skipWhile:function(a,b){return N(this,nb(this,a,b,!0))},skipUntil:function(a,b){return this.skipWhile(cd(a),b)},sortBy:function(a,b){return N(this,sb(this,b,a))},take:function(a){return this.slice(0,Math.max(0,a))},takeLast:function(a){return N(this,this.toSeq().reverse().take(a).reverse())},takeWhile:function(a,b){return N(this,mb(this,a,b))},takeUntil:function(a,b){return this.takeWhile(cd(a),b)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=hd(this))}});var $=t.prototype;$[da]=!0;$[ka]=$.values;$.__toJS=$.toArray;$.__toStringMapper=ed;$.inspect=$.toSource=function(){return this.toString()};$.chain=$.flatMap;(function(){try{Object.defineProperty($,"length",{get:function(){if(!t.noLengthWarning){var a;try{throw new Error()}catch(b){a=b.stack}if(a.indexOf("_wrapObject")===-1){console&&emptyFunction&&!1;return this.size}}}})}catch(a){}})();$c(u,{flip:function(){return N(this,fb(this))},findKey:function(a,b){a=this.findEntry(a,b);return a&&a[0]},findLastKey:function(a,b){return this.toSeq().reverse().findKey(a,b)},keyOf:function(a){return this.findKey(function(b){return J(b,a)})},lastKeyOf:function(a){return this.findLastKey(function(b){return J(b,a)})},mapEntries:function(a,b){var c=this,d=0;return N(this,this.toSeq().map(function(e,f){return a.call(b,[f,e],d++,c)}).fromEntrySeq())},mapKeys:function(a,b){var c=this;return N(this,this.toSeq().flip().map(function(d,e){return a.call(b,d,e,c)}).flip())}});c=u.prototype;c[ea]=!0;c[ka]=$.entries;c.__toJS=$.toObject;c.__toStringMapper=function(a,b){return JSON.stringify(b)+": "+ed(a)};$c(v,{toKeyedSeq:function(){return new M(this,!1)},filter:function(a,b){return N(this,ib(this,a,b,!1))},findIndex:function(a,b){a=this.findEntry(a,b);return a?a[0]:-1},indexOf:function(a){a=this.toKeyedSeq().keyOf(a);return a===void 0?-1:a},lastIndexOf:function(a){return this.toSeq().reverse().indexOf(a)},reverse:function(){return N(this,hb(this,!1))},slice:function(a,b){return N(this,lb(this,a,b,!1))},splice:function(a,b){var c=arguments.length;b=Math.max(b|0,0);if(c===0||c===2&&!b)return this;a=r(a,this.size);var d=this.slice(0,a);return N(this,c===1?d:d.concat(m(arguments,2),this.slice(a+b)))},findLastIndex:function(a,b){a=this.toKeyedSeq().findLastKey(a,b);return a===void 0?-1:a},first:function(){return this.get(0)},flatten:function(a){return N(this,pb(this,a,!1))},get:function(a,b){a=o(this,a);return a<0||this.size===Infinity||this.size!==void 0&&a>this.size?b:this.find(function(b,c){return c===a},void 0,b)},has:function(a){a=o(this,a);return a>=0&&(this.size!==void 0?this.size===Infinity||a<this.size:this.indexOf(a)!==-1)},interpose:function(a){return N(this,rb(this,a))},interleave:function(){var a=[this].concat(m(arguments)),b=vb(this.toSeq(),H.of,a),c=b.flatten(!0);b.size&&(c.size=b.size*a.length);return N(this,c)},last:function(){return this.get(-1)},skipWhile:function(a,b){return N(this,nb(this,a,b,!1))},zip:function(){var a=[this].concat(m(arguments));return N(this,vb(this,fd,a))},zipWith:function(a){var b=m(arguments);b[0]=this;return N(this,vb(this,a,b))}});v.prototype[fa]=!0;v.prototype[ga]=!0;$c(w,{get:function(a,b){return this.has(a)?a:b},includes:function(a){return this.has(a)},keySeq:function(){return this.valueSeq()}});w.prototype.has=$.includes;$c(G,u.prototype);$c(H,v.prototype);$c(I,w.prototype);$c(Fa,u.prototype);$c(Ga,v.prototype);$c(Ha,w.prototype);function ad(a,b){return b}function bd(a,b){return[b,a]}function cd(a){return function(){return!a.apply(this,arguments)}}function dd(a){return function(){return-a.apply(this,arguments)}}function ed(a){return typeof a==="string"?JSON.stringify(a):a}function fd(){return m(arguments)}function gd(a,b){return a<b?1:a>b?-1:0}function hd(a){if(a.size===Infinity)return 0;var b=ca(a),c=y(a),d=b?1:0;a=a.__iterate(c?b?function(a,b){d=31*d+jd(K(a),K(b))|0}:function(a,b){d=d+jd(K(a),K(b))|0}:b?function(a){d=31*d+K(a)|0}:function(a){d=d+K(a)|0});return id(a,d)}function id(a,b){b=Ma(b,3432918353);b=Ma(b<<15|b>>>-15,461845907);b=Ma(b<<13|b>>>-13,5);b=(b+3864292196|0)^a;b=Ma(b^b>>>16,2246822507);b=Ma(b^b>>>13,3266489909);b=Na(b^b>>>16);return b}function jd(a,b){return a^b+2654435769+(a<<6)+(a>>2)|0}b={Iterable:t,Seq:F,Collection:Ea,Map:O,OrderedMap:S,List:Q,Stack:T,Set:U,OrderedSet:Nc,Record:W,Range:Y,Repeat:Z,is:J,fromJS:Ia};return b})}),null);
__d("CharacterMetadata",["immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").Map,h=b("immutable").OrderedSet;a=b("immutable").Record;var i=h();c={style:i,entity:null};d=a(c);f=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getStyle=function(){return this.get("style")};c.getEntity=function(){return this.get("entity")};c.hasStyle=function(a){return this.getStyle().includes(a)};b.applyStyle=function(a,c){a=a.set("style",a.getStyle().add(c));return b.create(a)};b.removeStyle=function(a,c){a=a.set("style",a.getStyle().remove(c));return b.create(a)};b.applyEntity=function(a,c){a=a.getEntity()===c?a:a.set("entity",c);return b.create(a)};b.create=function(a){if(!a)return j;var c={style:i,entity:null};c=g(c).merge(a);a=k.get(c);if(a)return a;a=new b(c);k=k.set(c,a);return a};b.fromJS=function(a){var c=a.style;a=a.entity;return new b({style:Array.isArray(c)?h(c):c,entity:Array.isArray(a)?h(a):a})};return b}(d);var j=new f(),k=g([[g(c),j]]);f.EMPTY=j;e.exports=f}),null);
__d("ContentStateInlineStyle",["CharacterMetadata","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").Map;a={add:function(a,b,c){return h(a,b,c,!0)},remove:function(a,b,c){return h(a,b,c,!1)}};function h(a,c,d,e){var f=a.getBlockMap(),h=c.getStartKey(),i=c.getStartOffset(),j=c.getEndKey(),k=c.getEndOffset(),l=f.skipUntil(function(a,b){return b===h}).takeUntil(function(a,b){return b===j}).concat(g([[j,f.get(j)]])).map(function(a,c){var f,g;h===j?(f=i,g=k):(f=c===h?i:0,g=c===j?k:a.getLength());c=a.getCharacterList();var l;while(f<g)l=c.get(f),c=c.set(f,e?b("CharacterMetadata").applyStyle(l,d):b("CharacterMetadata").removeStyle(l,d)),f++;return a.set("characterList",c)});return a.merge({blockMap:f.merge(l),selectionBefore:c,selectionAfter:c})}e.exports=a}),null);
__d("applyEntityToContentBlock",["CharacterMetadata"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){c=c;var f=a.getCharacterList();while(c<d)f=f.set(c,b("CharacterMetadata").applyEntity(f.get(c),e)),c++;return a.set("characterList",f)}e.exports=a}),null);
__d("applyEntityToContentState",["applyEntityToContentBlock","immutable"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e=a.getBlockMap(),f=c.getStartKey(),g=c.getStartOffset(),h=c.getEndKey(),i=c.getEndOffset(),j=e.skipUntil(function(a,b){return b===f}).takeUntil(function(a,b){return b===h}).toOrderedMap().merge(b("immutable").OrderedMap([[h,e.get(h)]])).map(function(a,c){var e=c===f?g:0;c=c===h?i:a.getLength();return b("applyEntityToContentBlock")(a,e,c,d)});return a.merge({blockMap:e.merge(j),selectionBefore:c,selectionAfter:c})}e.exports=a}),null);
__d("DraftEntitySegments",[],(function(a,b,c,d,e,f){"use strict";a={getRemovalRange:function(a,b,c,d,e){var f=c.split(" ");f=f.map(function(a,b){if(e==="forward"){if(b>0)return" "+a}else if(b<f.length-1)return a+" ";return a});var g=d,h,i=null,j=null;for(var k=0;k<f.length;k++){h=f[k];h=g+h.length;if(a<h&&g<b)i!==null?j=h:(i=g,j=h);else if(i!==null)break;g=h}h=d+c.length;k=i===d;g=j===h;(!k&&g||k&&!g)&&(e==="forward"?j!==h&&j++:i!==d&&i--);return{start:i,end:j}}};e.exports=a}),null);
__d("getRangesForDraftEntity",["invariant"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=[];a.findEntityRanges(function(a){return a.getEntity()===b},function(a,b){c.push({start:a,end:b})});!c.length&&g(0,1817);return c}e.exports=a}),null);
__d("getCharacterRemovalRange",["invariant","DraftEntitySegments","getRangesForDraftEntity"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d,e){var f=d.getStartOffset(),g=d.getEndOffset();f=b.getEntityAt(f);g=c.getEntityAt(g-1);if(!f&&!g)return d;d=d;if(f&&f===g)d=h(a,b,d,e,f,!0,!0);else if(f&&g){var i=h(a,b,d,e,f,!1,!0),j=h(a,c,d,e,g,!1,!1);d=d.merge({anchorOffset:i.getAnchorOffset(),focusOffset:j.getFocusOffset(),isBackward:!1})}else if(f){i=h(a,b,d,e,f,!1,!0);d=d.merge({anchorOffset:i.getStartOffset(),isBackward:!1})}else if(g){j=h(a,c,d,e,g,!1,!1);d=d.merge({focusOffset:j.getEndOffset(),isBackward:!1})}return d}function h(a,c,d,e,f,h,i){var j=d.getStartOffset(),k=d.getEndOffset();a=a.get(f);a=a.getMutability();var l=i?j:k;if(a==="MUTABLE")return d;f=b("getRangesForDraftEntity")(c,f).filter(function(a){return l<=a.end&&l>=a.start});f.length==1||g(0,5779);f=f[0];if(a==="IMMUTABLE")return d.merge({anchorOffset:f.start,focusOffset:f.end,isBackward:!1});h||(i?k=f.end:j=f.start);a=b("DraftEntitySegments").getRemovalRange(j,k,c.getText().slice(f.start,f.end),f.start,e);return d.merge({anchorOffset:a.start,focusOffset:a.end,isBackward:!1})}e.exports=a}),null);
__d("findRangesImmutable",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){if(!a.size)return;var e=0;a.reduce(function(a,f,g){b(a,f)||(c(a)&&d(e,g),e=g);return f});c(a.last())&&d(e,a.count())}e.exports=a}),null);
__d("ContentBlockNode",["CharacterMetadata","findRangesImmutable","immutable"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("immutable")).List;c=a.Map;d=a.OrderedSet;f=a.Record;var h=a.Repeat,i=d(),j={parent:null,characterList:g(),data:c(),depth:0,key:"",text:"",type:"unstyled",children:g(),prevSibling:null,nextSibling:null},k=function(a,b){return a.getStyle()===b.getStyle()},l=function(a,b){return a.getEntity()===b.getEntity()},m=function(a){if(!a)return a;var c=a.characterList,d=a.text;d&&!c&&(a.characterList=g(h(b("CharacterMetadata").EMPTY,d.length)));return a};a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b===void 0&&(b=j);return a.call(this,m(b))||this}var d=c.prototype;d.getKey=function(){return this.get("key")};d.getType=function(){return this.get("type")};d.getText=function(){return this.get("text")};d.getCharacterList=function(){return this.get("characterList")};d.getLength=function(){return this.getText().length};d.getDepth=function(){return this.get("depth")};d.getData=function(){return this.get("data")};d.getInlineStyleAt=function(a){a=this.getCharacterList().get(a);return a?a.getStyle():i};d.getEntityAt=function(a){a=this.getCharacterList().get(a);return a?a.getEntity():null};d.getChildKeys=function(){return this.get("children")};d.getParentKey=function(){return this.get("parent")};d.getPrevSiblingKey=function(){return this.get("prevSibling")};d.getNextSiblingKey=function(){return this.get("nextSibling")};d.findStyleRanges=function(a,c){b("findRangesImmutable")(this.getCharacterList(),k,a,c)};d.findEntityRanges=function(a,c){b("findRangesImmutable")(this.getCharacterList(),l,a,c)};return c}(f(j));e.exports=a}),null);
__d("generateRandomKey",[],(function(a,b,c,d,e,f){"use strict";var g={},h=Math.pow(2,24);function a(){var a;while(a===void 0||Object.prototype.hasOwnProperty.call(g,a)||!isNaN(+a))a=Math.floor(Math.random()*h).toString(32);g[a]=!0;return a}e.exports=a}),null);
__d("randomizeBlockMapKeys",["ContentBlockNode","generateRandomKey","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").OrderedMap,h=function(a){var c={},d;return g(a.withMutations(function(a){a.forEach(function(e,f){var g=e.getKey();f=e.getNextSiblingKey();var h=e.getPrevSiblingKey(),i=e.getChildKeys(),j=e.getParentKey(),k=b("generateRandomKey")();c[g]=k;if(f){var l=a.get(f);l?a.setIn([f,"prevSibling"],k):a.setIn([g,"nextSibling"],null)}if(h){l=a.get(h);l?a.setIn([h,"nextSibling"],k):a.setIn([g,"prevSibling"],null)}if(j&&a.get(j)){f=a.get(j);l=f.getChildKeys();a.setIn([j,"children"],l.set(l.indexOf(e.getKey()),k))}else a.setIn([g,"parent"],null),d&&(a.setIn([d.getKey(),"nextSibling"],k),a.setIn([g,"prevSibling"],c[d.getKey()])),d=a.get(g);i.forEach(function(b){var c=a.get(b);c?a.setIn([b,"parent"],k):a.setIn([g,"children"],e.getChildKeys().filter(function(a){return a!==b}))})})}).toArray().map(function(a){return[c[a.getKey()],a.set("key",c[a.getKey()])]}))},i=function(a){return g(a.toArray().map(function(a){var c=b("generateRandomKey")();return[c,a.set("key",c)]}))};a=function(a){var c=a.first()instanceof b("ContentBlockNode");return!c?i(a):h(a)};e.exports=a}),null);
__d("removeEntitiesAtEdges",["invariant","CharacterMetadata","findRangesImmutable"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a.getBlockMap(),d={},e=b.getStartKey(),f=b.getStartOffset(),g=c.get(e);f=i(a,g,f);f!==g&&(d[e]=f);g=b.getEndKey();var h=b.getEndOffset(),j=c.get(g);e===g&&(j=f);e=i(a,j,h);e!==j&&(d[g]=e);return!Object.keys(d).length?a.setSelectionAfter(b):a.merge({blockMap:c.merge(d),selectionAfter:b})}function h(a,c,d){var e;b("findRangesImmutable")(a,function(a,b){return a.getEntity()===b.getEntity()},function(a){return a.getEntity()===c},function(a,b){a<=d&&b>=d&&(e={start:a,end:b})});typeof e==="object"||g(0,6015);return e}function i(a,c,d){var e=c.getCharacterList(),f=d>0?e.get(d-1):void 0,g=d<e.count()?e.get(d):void 0;f=f?f.getEntity():void 0;g=g?g.getEntity():void 0;if(g&&g===f){f=a.getEntity(g);if(f.getMutability()!=="MUTABLE"){a=h(e,g,d);f=a.start;g=a.end;while(f<g)d=e.get(f),e=e.set(f,b("CharacterMetadata").applyEntity(d,null)),f++;return c.set("characterList",e)}}return c}e.exports=a}),null);
__d("getContentStateFragment",["randomizeBlockMapKeys","removeEntitiesAtEdges"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){var d=c.getStartKey(),e=c.getStartOffset(),f=c.getEndKey(),g=c.getEndOffset();a=b("removeEntitiesAtEdges")(a,c);c=a.getBlockMap();a=c.keySeq();var h=a.indexOf(d);a=a.indexOf(f)+1;return b("randomizeBlockMapKeys")(c.slice(h,a).map(function(a,b){var c=a.getText(),h=a.getCharacterList();if(d===f)return a.merge({text:c.slice(e,g),characterList:h.slice(e,g)});if(b===d)return a.merge({text:c.slice(e),characterList:h.slice(e)});return b===f?a.merge({text:c.slice(0,g),characterList:h.slice(0,g)}):a}))};e.exports=a}),null);
__d("BlockMapBuilder",["immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").OrderedMap;a={createFromArray:function(a){return g(a.map(function(a){return[a.getKey(),a]}))}};e.exports=a}),null);
__d("insertIntoList",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=a;if(c===d.count())b.forEach(function(a){d=d.push(a)});else if(c===0)b.reverse().forEach(function(a){d=d.unshift(a)});else{a=d.slice(0,c);c=d.slice(c);d=a.concat(b,c).toList()}return d}e.exports=a}),null);
__d("insertFragmentIntoContentState",["invariant","BlockMapBuilder","ContentBlockNode","immutable","insertIntoList","randomizeBlockMapKeys"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").List,i=function(a,c,d,e,f,g,h){h===void 0&&(h="REPLACE_WITH_NEW_DATA");var i=d.get(f),j=i.getText(),k=i.getCharacterList(),l=f,m=g+e.getText().length,n=null;switch(h){case"MERGE_OLD_DATA_TO_NEW_DATA":n=e.getData().merge(i.getData());break;case"REPLACE_WITH_NEW_DATA":n=e.getData();break}h=i.getType();j&&h==="unstyled"&&(h=e.getType());i=i.merge({text:j.slice(0,g)+e.getText()+j.slice(g),characterList:b("insertIntoList")(k,e.getCharacterList(),g),type:h,data:n});return a.merge({blockMap:d.set(f,i),selectionBefore:c,selectionAfter:c.merge({anchorKey:l,anchorOffset:m,focusKey:l,focusOffset:m,isBackward:!1})})},j=function(a,b,c){var d=a.getText(),e=a.getCharacterList();d=d.slice(0,b);e=e.slice(0,b);b=c.first();return a.merge({text:d+b.getText(),characterList:e.concat(b.getCharacterList()),type:d?a.getType():b.getType(),data:b.getData()})},k=function(a,b,c){var d=a.getText();a=a.getCharacterList();var e=d.length;d=d.slice(b,e);a=a.slice(b,e);b=c.last();return b.merge({text:b.getText()+d,characterList:b.getCharacterList().concat(a),data:b.getData()})},l=function(a,b){var c=a.getKey();a=a;var d=[];b.get(c)&&d.push(c);while(a&&a.getNextSiblingKey()){c=a.getNextSiblingKey();if(!c)break;d.push(c);a=b.get(c)}return d},m=function(a,b,c,d){return a.withMutations(function(b){var e=c.getKey(),f=d.getKey(),g=c.getNextSiblingKey(),i=c.getParentKey(),j=l(d,a),k=j[j.length-1];b.get(f)?(b.setIn([e,"nextSibling"],f),b.setIn([f,"prevSibling"],e)):(b.setIn([e,"nextSibling"],d.getNextSiblingKey()),b.setIn([d.getNextSiblingKey(),"prevSibling"],e));b.setIn([k,"nextSibling"],g);g&&b.setIn([g,"prevSibling"],k);j.forEach(function(a){return b.setIn([a,"parent"],i)});if(i){f=a.get(i);g=f.getChildKeys();k=g.indexOf(e);f=k+1;e=g.toArray();e.splice.apply(e,[f,0].concat(j));b.setIn([i,"children"],h(e))}})},n=function(a,c,d,e,f,g){var h=d.first()instanceof b("ContentBlockNode"),i=[],l=e.size,n=d.get(f),o=e.first(),p=e.last(),q=p.getLength();p=p.getKey();var r=h&&(!n.getChildKeys().isEmpty()||!o.getChildKeys().isEmpty());d.forEach(function(a,b){if(b!==f){i.push(a);return}r?i.push(a):i.push(j(a,g,e));e.slice(r?0:1,l-1).forEach(function(a){return i.push(a)});i.push(k(a,g,e))});var s=b("BlockMapBuilder").createFromArray(i);h&&(s=m(s,d,n,o));return a.merge({blockMap:s,selectionBefore:c,selectionAfter:c.merge({anchorKey:p,anchorOffset:q,focusKey:p,focusOffset:q,isBackward:!1})})};a=function(a,c,d,e){e===void 0&&(e="REPLACE_WITH_NEW_DATA");c.isCollapsed()||g(0,1903);var f=a.getBlockMap();d=b("randomizeBlockMapKeys")(d);var h=c.getStartKey(),j=c.getStartOffset(),k=f.get(h);k instanceof b("ContentBlockNode")&&(k.getChildKeys().isEmpty()||g(0,1904));return d.size===1?i(a,c,f,d.first(),h,j,e):n(a,c,f,d,h,j)};e.exports=a}),null);
__d("insertTextIntoContentState",["invariant","immutable","insertIntoList"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").Repeat;function a(a,c,d,e){c.isCollapsed()||g(0,2659);var f=null;d!=null&&(f=d.length);if(f==null||f===0)return a;var i=a.getBlockMap(),j=c.getStartKey(),k=c.getStartOffset(),l=i.get(j),m=l.getText();d=l.merge({text:m.slice(0,k)+d+m.slice(k,l.getLength()),characterList:b("insertIntoList")(l.getCharacterList(),h(e,f).toList(),k)});m=k+f;return a.merge({blockMap:i.set(j,d),selectionAfter:c.merge({anchorOffset:m,focusOffset:m})})}e.exports=a}),null);
__d("modifyBlockForContentState",["immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").Map;function a(a,b,c){var d=b.getStartKey(),e=b.getEndKey(),f=a.getBlockMap();c=f.toSeq().skipUntil(function(a,b){return b===d}).takeUntil(function(a,b){return b===e}).concat(g([[e,f.get(e)]])).map(c);return a.merge({blockMap:f.merge(c),selectionBefore:b,selectionAfter:b})}e.exports=a}),null);
__d("getNextDelimiterBlockKey",["ContentBlockNode"],(function(a,b,c,d,e,f){a=function(a,c){var d=a instanceof b("ContentBlockNode");if(!d)return null;d=a.getNextSiblingKey();if(d)return d;d=a.getParentKey();if(!d)return null;a=c.get(d);while(a&&!a.getNextSiblingKey()){d=a.getParentKey();a=d?c.get(d):null}return!a?null:a.getNextSiblingKey()};e.exports=a}),null);
__d("removeRangeFromContentState",["ContentBlockNode","getNextDelimiterBlockKey","immutable"],(function(a,b,c,d,e,f){"use strict";b("immutable").List;var g=b("immutable").Map,h=function(a,b,c){if(!a)return;var d=b.get(a);if(!d)return;b.set(a,c(d))},i=function(a,b){var c=[];if(!a)return c;a=b.get(a);while(a&&a.getParentKey()){var d=a.getParentKey();d&&c.push(d);a=d?b.get(d):null}return c},j=function(a,c){var d=[];if(!a)return d;a=b("getNextDelimiterBlockKey")(a,c);while(a&&c.get(a)){var e=c.get(a);d.push(a);a=e.getParentKey()?b("getNextDelimiterBlockKey")(e,c):null}return d},k=function(a,b,c){if(!a)return null;a=c.get(a.getKey()).getNextSiblingKey();while(a&&!b.get(a))a=c.get(a).getNextSiblingKey()||null;return a},l=function(a,b,c){if(!a)return null;a=c.get(a.getKey()).getPrevSiblingKey();while(a&&!b.get(a))a=c.get(a).getPrevSiblingKey()||null;return a},m=function(a,b,c,d){return a.withMutations(function(e){h(b.getKey(),e,function(a){return a.merge({nextSibling:k(a,e,d),prevSibling:l(a,e,d)})});h(c.getKey(),e,function(a){return a.merge({nextSibling:k(a,e,d),prevSibling:l(a,e,d)})});i(b.getKey(),d).forEach(function(a){return h(a,e,function(a){return a.merge({children:a.getChildKeys().filter(function(a){return e.get(a)}),nextSibling:k(a,e,d),prevSibling:l(a,e,d)})})});h(b.getNextSiblingKey(),e,function(a){return a.merge({prevSibling:b.getPrevSiblingKey()})});h(b.getPrevSiblingKey(),e,function(a){return a.merge({nextSibling:k(a,e,d)})});h(c.getNextSiblingKey(),e,function(a){return a.merge({prevSibling:l(a,e,d)})});h(c.getPrevSiblingKey(),e,function(a){return a.merge({nextSibling:c.getNextSiblingKey()})});i(c.getKey(),d).forEach(function(a){h(a,e,function(a){return a.merge({children:a.getChildKeys().filter(function(a){return e.get(a)}),nextSibling:k(a,e,d),prevSibling:l(a,e,d)})})});j(c,d).forEach(function(a){return h(a,e,function(a){return a.merge({nextSibling:k(a,e,d),prevSibling:l(a,e,d)})})});if(a.get(b.getKey())==null&&a.get(c.getKey())!=null&&c.getParentKey()===b.getKey()&&c.getPrevSiblingKey()==null){var f=b.getPrevSiblingKey();h(c.getKey(),e,function(a){return a.merge({prevSibling:f})});h(f,e,function(a){return a.merge({nextSibling:c.getKey()})});var g=f?a.get(f):null,m=g?g.getParentKey():null;b.getChildKeys().forEach(function(a){h(a,e,function(a){return a.merge({parent:m})})});if(m!=null){var n=a.get(m);h(m,e,function(a){return a.merge({children:n.getChildKeys().concat(b.getChildKeys())})})}h(b.getChildKeys().find(function(b){b=a.get(b);return b.getNextSiblingKey()===null}),e,function(a){return a.merge({nextSibling:b.getNextSiblingKey()})})}})};a=function(a,c){if(c.isCollapsed())return a;var d=a.getBlockMap(),e=c.getStartKey(),f=c.getStartOffset(),h=c.getEndKey(),j=c.getEndOffset(),k=d.get(e),l=d.get(h),o=k instanceof b("ContentBlockNode"),p=[];if(o){var q=l.getChildKeys(),r=i(h,d);l.getNextSiblingKey()&&(p=p.concat(r));q.isEmpty()||(p=p.concat(r.concat([h])));p=p.concat(i(b("getNextDelimiterBlockKey")(l,d),d))}k===l?q=n(k.getCharacterList(),f,j):q=k.getCharacterList().slice(0,f).concat(l.getCharacterList().slice(j));var s=k.merge({text:k.getText().slice(0,f)+l.getText().slice(j),characterList:q});r=o&&f===0&&j===0&&l.getParentKey()===e&&l.getPrevSiblingKey()==null;q=r?g([[e,null]]):d.toSeq().skipUntil(function(a,b){return b===e}).takeUntil(function(a,b){return b===h}).filter(function(a,b){return p.indexOf(b)===-1}).concat(g([[h,null]])).map(function(a,b){return b===e?s:null});j=d.merge(q).filter(function(a){return!!a});o&&k!==l&&(j=m(j,k,l,d));return a.merge({blockMap:j,selectionBefore:c,selectionAfter:c.merge({anchorKey:e,anchorOffset:f,focusKey:e,focusOffset:f,isBackward:!1})})};var n=function(a,b,c){if(b===0)while(b<c)a=a.shift(),b++;else if(c===a.count())while(c>b)a=a.pop(),c--;else{b=a.slice(0,b);c=a.slice(c);a=b.concat(c).toList()}return a};e.exports=a}),null);
__d("splitBlockInContentState",["invariant","ContentBlockNode","generateRandomKey","immutable","modifyBlockForContentState"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").List,i=b("immutable").Map,j=function(a,b,c){if(!a)return;var d=b.get(a);if(!d)return;b.set(a,c(d))},k=function(a,b,c){return a.withMutations(function(a){var d=b.getKey(),e=c.getKey();j(b.getParentKey(),a,function(a){var b=a.getChildKeys(),c=b.indexOf(d)+1;b=b.toArray();b.splice(c,0,e);return a.merge({children:h(b)})});j(b.getNextSiblingKey(),a,function(a){return a.merge({prevSibling:e})});j(d,a,function(a){return a.merge({nextSibling:e})});j(e,a,function(a){return a.merge({prevSibling:d})})})};a=function(a,c){c.isCollapsed()||g(0,5004);var d=c.getAnchorKey(),e=a.getBlockMap(),f=e.get(d),h=f.getText();if(!h){var j=f.getType();if(j==="unordered-list-item"||j==="ordered-list-item")return b("modifyBlockForContentState")(a,c,function(a){return a.merge({type:"unstyled",depth:0})})}j=c.getAnchorOffset();var l=f.getCharacterList(),m=b("generateRandomKey")(),n=f instanceof b("ContentBlockNode"),o=f.merge({text:h.slice(0,j),characterList:l.slice(0,j)});h=o.merge({key:m,text:h.slice(j),characterList:l.slice(j),data:i()});l=e.toSeq().takeUntil(function(a){return a===f});j=e.toSeq().skipUntil(function(a){return a===f}).rest();e=l.concat([[d,o],[m,h]],j).toOrderedMap();n&&(f.getChildKeys().isEmpty()||g(0,5005),e=k(e,o,h));return a.merge({blockMap:e,selectionBefore:c,selectionAfter:c.merge({anchorKey:m,anchorOffset:0,focusKey:m,focusOffset:0,isBackward:!1})})};e.exports=a}),null);
__d("DraftModifier",["invariant","CharacterMetadata","ContentStateInlineStyle","applyEntityToContentState","getCharacterRemovalRange","getContentStateFragment","immutable","insertFragmentIntoContentState","insertTextIntoContentState","modifyBlockForContentState","removeEntitiesAtEdges","removeRangeFromContentState","splitBlockInContentState"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").OrderedSet,i={replaceText:function(a,c,d,e,f){a=b("removeEntitiesAtEdges")(a,c);a=b("removeRangeFromContentState")(a,c);c=b("CharacterMetadata").create({style:e||h(),entity:f||null});return b("insertTextIntoContentState")(a,a.getSelectionAfter(),d,c)},insertText:function(a,b,c,d,e){b.isCollapsed()||g(0,4661);return i.replaceText(a,b,c,d,e)},moveText:function(a,c,d){var e=b("getContentStateFragment")(a,c);a=i.removeRange(a,c,"backward");return i.replaceWithFragment(a,d,e)},replaceWithFragment:function(a,c,d,e){e===void 0&&(e="REPLACE_WITH_NEW_DATA");a=b("removeEntitiesAtEdges")(a,c);a=b("removeRangeFromContentState")(a,c);return b("insertFragmentIntoContentState")(a,a.getSelectionAfter(),d,e)},removeRange:function(a,c,d){var e,f,g,h;c.getIsBackward()&&(c=c.merge({anchorKey:c.getFocusKey(),anchorOffset:c.getFocusOffset(),focusKey:c.getAnchorKey(),focusOffset:c.getAnchorOffset(),isBackward:!1}));e=c.getAnchorKey();f=c.getFocusKey();g=a.getBlockForKey(e);h=a.getBlockForKey(f);var i=c.getStartOffset(),j=c.getEndOffset();i=g.getEntityAt(i);j=h.getEntityAt(j-1);if(e===f&&(i&&i===j)){e=b("getCharacterRemovalRange")(a.getEntityMap(),g,h,c,d);return b("removeRangeFromContentState")(a,e)}f=b("removeEntitiesAtEdges")(a,c);return b("removeRangeFromContentState")(f,c)},splitBlock:function(a,c){a=b("removeEntitiesAtEdges")(a,c);a=b("removeRangeFromContentState")(a,c);return b("splitBlockInContentState")(a,a.getSelectionAfter())},applyInlineStyle:function(a,c,d){return b("ContentStateInlineStyle").add(a,c,d)},removeInlineStyle:function(a,c,d){return b("ContentStateInlineStyle").remove(a,c,d)},setBlockType:function(a,c,d){return b("modifyBlockForContentState")(a,c,function(a){return a.merge({type:d,depth:0})})},setBlockData:function(a,c,d){return b("modifyBlockForContentState")(a,c,function(a){return a.merge({data:d})})},mergeBlockData:function(a,c,d){return b("modifyBlockForContentState")(a,c,function(a){return a.merge({data:a.getData().merge(d)})})},applyEntity:function(a,c,d){a=b("removeEntitiesAtEdges")(a,c);return b("applyEntityToContentState")(a,c,d)}};e.exports=i}),null);
__d("BlockTree",["findRangesImmutable","getOwnObjectValues","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List,h=b("immutable").Repeat;a=b("immutable").Record;var i=function(){return!0};c={start:null,end:null};var j=a(c);d={start:null,end:null,decoratorKey:null,leaves:null};var k=a(d);f={generate:function(a,c,d){var e=c.getLength();if(!e)return g.of(new k({start:0,end:0,decoratorKey:null,leaves:g.of(new j({start:0,end:0}))}));var f=[],n=d?d.getDecorations(c,a):g(h(null,e)),o=c.getCharacterList();b("findRangesImmutable")(n,m,i,function(a,b){f.push(new k({start:a,end:b,decoratorKey:n.get(a),leaves:l(o.slice(a,b).toList(),a)}))});return g(f)},fromJS:function(a){var c=a.leaves;a=babelHelpers.objectWithoutPropertiesLoose(a,["leaves"]);return new k(babelHelpers["extends"]({},a,{leaves:c!=null?g(Array.isArray(c)?c:b("getOwnObjectValues")(c)).map(function(a){return j(a)}):null}))}};function l(a,c){var d=[];a=a.map(function(a){return a.getStyle()}).toList();b("findRangesImmutable")(a,m,i,function(a,b){d.push(new j({start:a+c,end:b+c}))});return g(d)}function m(a,b){return a===b}e.exports=f}),null);
__d("ContentBlock",["CharacterMetadata","findRangesImmutable","immutable"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("immutable")).List;c=a.Map;d=a.OrderedSet;f=a.Record;var h=a.Repeat,i=d();a={key:"",type:"unstyled",text:"",characterList:g(),depth:0,data:c()};d=f(a);var j=function(a){if(!a)return a;var c=a.characterList,d=a.text;d&&!c&&(a.characterList=g(h(b("CharacterMetadata").EMPTY,d.length)));return a};c=function(a){babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this,j(b))||this}var d=c.prototype;d.getKey=function(){return this.get("key")};d.getType=function(){return this.get("type")};d.getText=function(){return this.get("text")};d.getCharacterList=function(){return this.get("characterList")};d.getLength=function(){return this.getText().length};d.getDepth=function(){return this.get("depth")};d.getData=function(){return this.get("data")};d.getInlineStyleAt=function(a){a=this.getCharacterList().get(a);return a?a.getStyle():i};d.getEntityAt=function(a){a=this.getCharacterList().get(a);return a?a.getEntity():null};d.findStyleRanges=function(a,c){b("findRangesImmutable")(this.getCharacterList(),k,a,c)};d.findEntityRanges=function(a,c){b("findRangesImmutable")(this.getCharacterList(),l,a,c)};return c}(d);function k(a,b){return a.getStyle()===b.getStyle()}function l(a,b){return a.getEntity()===b.getEntity()}e.exports=c}),null);
__d("DraftEntityInstance",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record;c=a({type:"TOKEN",mutability:"IMMUTABLE",data:Object});d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getType=function(){return this.get("type")};c.getMutability=function(){return this.get("mutability")};c.getData=function(){return this.get("data")};return b}(c);e.exports=d}),null);
__d("DraftEntity",["invariant","DraftEntityInstance","immutable","uuid"],(function(a,b,c,d,e,f,g){a=b("immutable").OrderedMap;var h=a(),i=b("uuid")(),j={__getAll:function(){return h},__loadWithEntities:function(a){h=a,i=b("uuid")()},__getLastCreatedEntityKey:function(){return i},__create:function(a,c,d){return j.__add(new(b("DraftEntityInstance"))({type:a,mutability:c,data:d||{}}))},__add:function(a){i=b("uuid")();h=h.set(i,a);return i},__get:function(a){var b=h.get(a);!b&&g(0,2105,a);return b},get:function(a){return j.__get(a)},set:function(a,b){h=h.set(a,b);return j},last:function(){return h.last()},__mergeData:function(a,b){var c=j.__get(a);b=babelHelpers["extends"]({},c.getData(),b);c=c.set("data",b);h=h.set(a,c);return c},__replaceData:function(a,b){var c=j.__get(a);c=c.set("data",b);h=h.set(a,c);return c}};e.exports=j}),null);
__d("SelectionState",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record;c={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1};d=a(c);f=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())};c.getAnchorKey=function(){return this.get("anchorKey")};c.getAnchorOffset=function(){return this.get("anchorOffset")};c.getFocusKey=function(){return this.get("focusKey")};c.getFocusOffset=function(){return this.get("focusOffset")};c.getIsBackward=function(){return this.get("isBackward")};c.getHasFocus=function(){return this.get("hasFocus")};c.hasEdgeWithin=function(a,b,c){var d=this.getAnchorKey(),e=this.getFocusKey();if(d===e&&d===a){var f=this.getStartOffset(),g=this.getEndOffset();return b<=f&&f<=c||b<=g&&g<=c}if(a!==d&&a!==e)return!1;f=a===d?this.getAnchorOffset():this.getFocusOffset();return b<=f&&c>=f};c.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()};c.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()};c.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()};c.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()};c.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()};b.createEmpty=function(a){return new b({anchorKey:a,anchorOffset:0,focusKey:a,focusOffset:0,isBackward:!1,hasFocus:!1})};return b}(d);e.exports=f}),null);
__d("sanitizeDraftText",[],(function(a,b,c,d,e,f){"use strict";var g=new RegExp("\r","g");function a(a){return a.replace(g,"")}e.exports=a}),null);
__d("ContentState",["BlockMapBuilder","CharacterMetadata","ContentBlock","ContentBlockNode","DraftEntity","SelectionState","generateRandomKey","getOwnObjectValues","gkx","immutable","sanitizeDraftText"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("immutable")).List;c=a.Record;var h=a.Repeat,i=a.Map,j=a.OrderedMap;d={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null};f=c(d);var k=b("gkx")("676842")?b("ContentBlockNode"):b("ContentBlock");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getEntityMap=function(){return b("DraftEntity")};d.getBlockMap=function(){return this.get("blockMap")};d.getSelectionBefore=function(){return this.get("selectionBefore")};d.getSelectionAfter=function(){return this.get("selectionAfter")};d.getBlockForKey=function(a){a=this.getBlockMap().get(a);return a};d.getKeyBefore=function(a){return this.getBlockMap().reverse().keySeq().skipUntil(function(b){return b===a}).skip(1).first()};d.getKeyAfter=function(a){return this.getBlockMap().keySeq().skipUntil(function(b){return b===a}).skip(1).first()};d.getBlockAfter=function(a){return this.getBlockMap().skipUntil(function(b,c){return c===a}).skip(1).first()};d.getBlockBefore=function(a){return this.getBlockMap().reverse().skipUntil(function(b,c){return c===a}).skip(1).first()};d.getBlocksAsArray=function(){return this.getBlockMap().toArray()};d.getFirstBlock=function(){return this.getBlockMap().first()};d.getLastBlock=function(){return this.getBlockMap().last()};d.getPlainText=function(a){return this.getBlockMap().map(function(a){return a?a.getText():""}).join(a||"\n")};d.getLastCreatedEntityKey=function(){return b("DraftEntity").__getLastCreatedEntityKey()};d.hasText=function(){var a=this.getBlockMap();return a.size>1||escape(a.first().getText()).replace(/%u200B/g,"").length>0};d.createEntity=function(a,c,d){b("DraftEntity").__create(a,c,d);return this};d.mergeEntityData=function(a,c){b("DraftEntity").__mergeData(a,c);return this};d.replaceEntityData=function(a,c){b("DraftEntity").__replaceData(a,c);return this};d.addEntity=function(a){b("DraftEntity").__add(a);return this};d.getEntity=function(a){return b("DraftEntity").__get(a)};d.getAllEntities=function(){return b("DraftEntity").__getAll()};d.setEntityMap=function(a){b("DraftEntity").__loadWithEntities(a);return this};d.setSelectionBefore=function(a){return this.set("selectionBefore",a)};d.setSelectionAfter=function(a){return this.set("selectionAfter",a)};d.setBlockMap=function(a){return this.set("blockMap",a)};c.createFromBlockArray=function(a,d){a=Array.isArray(a)?a:a.contentBlocks;a=b("BlockMapBuilder").createFromArray(a);var e=a.isEmpty()?new(b("SelectionState"))():b("SelectionState").createEmpty(a.first().getKey());return new c({blockMap:a,entityMap:d||b("DraftEntity"),selectionBefore:e,selectionAfter:e})};c.createFromText=function(a,d){d===void 0&&(d=/\r\n?|\n/g);a=a.split(d);d=a.map(function(a){a=b("sanitizeDraftText")(a);return new k({key:b("generateRandomKey")(),text:a,type:"unstyled",characterList:g(h(b("CharacterMetadata").EMPTY,a.length))})});return c.createFromBlockArray(d)};c.fromJS=function(a){return new c(babelHelpers["extends"]({},a,{blockMap:j(a.blockMap).map(c.createContentBlockFromJS),selectionBefore:new(b("SelectionState"))(a.selectionBefore),selectionAfter:new(b("SelectionState"))(a.selectionAfter)}))};c.createContentBlockFromJS=function(a){var c=a.characterList;return new k(babelHelpers["extends"]({},a,{data:i(a.data),characterList:c!=null?g((Array.isArray(c)?c:b("getOwnObjectValues")(c)).map(function(a){return b("CharacterMetadata").fromJS(a)})):void 0}))};return c}(f);e.exports=a}),null);
__d("UnicodeBidiService",["invariant","UnicodeBidi","UnicodeBidiDirection","UnicodeBidiGlobalDirection"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){!a?a=b("UnicodeBidiGlobalDirection").getDir():b("UnicodeBidiDirection").isStrong(a)||g(0,3594),this.$1=a,this.reset()}var c=a.prototype;c.reset=function(){this.$2=this.$1};c.getDirection=function(a){this.$2=b("UnicodeBidi").getDirection(a,this.$2);return this.$2};return a}();e.exports=a}),null);
__d("EditorBidiService",["UnicodeBidiService","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").OrderedMap,h;a={getDirectionMap:function(a,c){!h?h=new(b("UnicodeBidiService"))():h.reset();a=a.getBlockMap();var d=a.valueSeq().map(function(a){return b("nullthrows")(h).getDirection(a.getText())});a=g(a.keySeq().zip(d));return c!=null&&b("immutable").is(c,a)?c:a}};e.exports=a}),null);
__d("EditorState",["BlockTree","ContentState","EditorBidiService","SelectionState","immutable"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("immutable")).OrderedSet;c=a.Record;var h=a.Stack,i=a.OrderedMap,j=a.List;d={allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:h(),selection:null,treeMap:null,undoStack:h()};var k=c(d),l=function(){a.createEmpty=function(a){return this.createWithText("",a)};a.createWithText=function(c,d){return a.createWithContent(b("ContentState").createFromText(c),d)};a.createWithContent=function(c,d){if(c.getBlockMap().count()===0)return a.createEmpty(d);var e=c.getBlockMap().first().getKey();return a.create({currentContent:c,undoStack:h(),redoStack:h(),decorator:d||null,selection:b("SelectionState").createEmpty(e)})};a.create=function(c){var d=c.currentContent,e=c.decorator;c=babelHelpers["extends"]({},c,{treeMap:n(d,e),directionMap:b("EditorBidiService").getDirectionMap(d)});return new a(new k(c))};a.fromJS=function(c){return new a(new k(babelHelpers["extends"]({},c,{directionMap:c.directionMap!=null?i(c.directionMap):c.directionMap,inlineStyleOverride:c.inlineStyleOverride!=null?g(c.inlineStyleOverride):c.inlineStyleOverride,nativelyRenderedContent:c.nativelyRenderedContent!=null?b("ContentState").fromJS(c.nativelyRenderedContent):c.nativelyRenderedContent,redoStack:c.redoStack!=null?h(c.redoStack.map(function(a){return b("ContentState").fromJS(a)})):c.redoStack,selection:c.selection!=null?new(b("SelectionState"))(c.selection):c.selection,treeMap:c.treeMap!=null?i(c.treeMap).map(function(a){return j(a).map(function(a){return b("BlockTree").fromJS(a)})}):c.treeMap,undoStack:c.undoStack!=null?h(c.undoStack.map(function(a){return b("ContentState").fromJS(a)})):c.undoStack,currentContent:b("ContentState").fromJS(c.currentContent)})))};a.set=function(b,c){var d=b.getImmutable().withMutations(function(a){var d=a.get("decorator"),e=d;c.decorator===null?e=null:c.decorator&&(e=c.decorator);var f=c.currentContent||b.getCurrentContent();if(e!==d){var g=a.get("treeMap");e&&d?g=p(f,f.getBlockMap(),g,e,d):g=n(f,e);a.merge({decorator:e,treeMap:g,nativelyRenderedContent:null});return}d=b.getCurrentContent();f!==d&&a.set("treeMap",o(b,f.getBlockMap(),f.getEntityMap(),e));a.merge(c)});return new a(d)};var c=a.prototype;c.toJS=function(){return this.getImmutable().toJS()};c.getAllowUndo=function(){return this.getImmutable().get("allowUndo")};c.getCurrentContent=function(){return this.getImmutable().get("currentContent")};c.getUndoStack=function(){return this.getImmutable().get("undoStack")};c.getRedoStack=function(){return this.getImmutable().get("redoStack")};c.getSelection=function(){return this.getImmutable().get("selection")};c.getDecorator=function(){return this.getImmutable().get("decorator")};c.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")};c.mustForceSelection=function(){return this.getImmutable().get("forceSelection")};c.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")};c.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")};c.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")};a.setInlineStyleOverride=function(b,c){return a.set(b,{inlineStyleOverride:c})};c.getCurrentInlineStyle=function(){var a=this.getInlineStyleOverride();if(a!=null)return a;a=this.getCurrentContent();var b=this.getSelection();return b.isCollapsed()?r(a,b):s(a,b)};c.getBlockTree=function(a){return this.getImmutable().getIn(["treeMap",a])};c.isSelectionAtStartOfContent=function(){var a=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(a,0,0)};c.isSelectionAtEndOfContent=function(){var a=this.getCurrentContent();a=a.getBlockMap();a=a.last();var b=a.getLength();return this.getSelection().hasEdgeWithin(a.getKey(),b,b)};c.getDirectionMap=function(){return this.getImmutable().get("directionMap")};a.acceptSelection=function(a,b){return m(a,b,!1)};a.forceSelection=function(a,b){b.getHasFocus()||(b=b.set("hasFocus",!0));return m(a,b,!0)};a.moveSelectionToEnd=function(c){var d=c.getCurrentContent();d=d.getLastBlock();var e=d.getKey();d=d.getLength();return a.acceptSelection(c,new(b("SelectionState"))({anchorKey:e,anchorOffset:d,focusKey:e,focusOffset:d,isBackward:!1}))};a.moveFocusToEnd=function(b){b=a.moveSelectionToEnd(b);return a.forceSelection(b,b.getSelection())};a.push=function(c,d,e,f){f===void 0&&(f=!0);if(c.getCurrentContent()===d)return c;var g=b("EditorBidiService").getDirectionMap(d,c.getDirectionMap());if(!c.getAllowUndo())return a.set(c,{currentContent:d,directionMap:g,lastChangeType:e,selection:d.getSelectionAfter(),forceSelection:f,inlineStyleOverride:null});var i=c.getSelection(),j=c.getCurrentContent(),k=c.getUndoStack(),l=d;i!==j.getSelectionAfter()||q(c,e)?(k=k.push(j),l=l.setSelectionBefore(i)):(e==="insert-characters"||e==="backspace-character"||e==="delete-character")&&(l=l.setSelectionBefore(j.getSelectionBefore()));i=c.getInlineStyleOverride();j=["adjust-depth","change-block-type","split-block"];j.indexOf(e)===-1&&(i=null);j={currentContent:l,directionMap:g,undoStack:k,redoStack:h(),lastChangeType:e,selection:d.getSelectionAfter(),forceSelection:f,inlineStyleOverride:i};return a.set(c,j)};a.undo=function(c){if(!c.getAllowUndo())return c;var d=c.getUndoStack(),e=d.peek();if(!e)return c;var f=c.getCurrentContent(),g=b("EditorBidiService").getDirectionMap(e,c.getDirectionMap());return a.set(c,{currentContent:e,directionMap:g,undoStack:d.shift(),redoStack:c.getRedoStack().push(f),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:f.getSelectionBefore()})};a.redo=function(c){if(!c.getAllowUndo())return c;var d=c.getRedoStack(),e=d.peek();if(!e)return c;var f=c.getCurrentContent(),g=b("EditorBidiService").getDirectionMap(e,c.getDirectionMap());return a.set(c,{currentContent:e,directionMap:g,undoStack:c.getUndoStack().push(f),redoStack:d.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:e.getSelectionAfter()})};function a(a){this.$1=a}c.getImmutable=function(){return this.$1};return a}();function m(a,b,c){return l.set(a,{selection:b,forceSelection:c,nativelyRenderedContent:null,inlineStyleOverride:null})}function n(a,c){return a.getBlockMap().map(function(d){return b("BlockTree").generate(a,d,c)}).toOrderedMap()}function o(a,c,d,e){var f=a.getCurrentContent().set("entityMap",d),g=f.getBlockMap();d=a.getImmutable().get("treeMap");return d.merge(c.toSeq().filter(function(a,b){return a!==g.get(b)}).map(function(a){return b("BlockTree").generate(f,a,e)}))}function p(a,c,d,e,f){return d.merge(c.toSeq().filter(function(b){return e.getDecorations(b,a)!==f.getDecorations(b,a)}).map(function(c){return b("BlockTree").generate(a,c,e)}))}function q(a,b){a=a.getLastChangeType();return b!==a||b!=="insert-characters"&&b!=="backspace-character"&&b!=="delete-character"}function r(a,b){var c=b.getStartKey();b=b.getStartOffset();var d=a.getBlockForKey(c);if(b>0)return d.getInlineStyleAt(b-1);return d.getLength()?d.getInlineStyleAt(0):t(a,c)}function s(a,b){var c=b.getStartKey();b=b.getStartOffset();var d=a.getBlockForKey(c);if(b<d.getLength())return d.getInlineStyleAt(b);return b>0?d.getInlineStyleAt(b-1):t(a,c)}function t(a,b){a=a.getBlockMap().reverse().skipUntil(function(a,c){return c===b}).skip(1).skipUntil(function(a,b){return a.getLength()}).first();return a?a.getInlineStyleAt(a.getLength()-1):g()}e.exports=l}),null);
__d("replaceSelectionWithMention",["DraftModifier","EditorState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d,e,f){e=e(c.getCurrentContent(),a);var g=e.getLastCreatedEntityKey();f=f?f(a):a.getTitle();a=b("DraftModifier").replaceText(e,d,f,c.getCurrentInlineStyle(),g);return b("EditorState").push(c,a,"insert-fragment")}}),null);
__d("DraftEditorFlushControlled",["ReactDOMComet"],(function(a,b,c,d,e,f){a=b("ReactDOMComet").unstable_flushControlled;e.exports=a}),null);
__d("KeyBindingUtil",["UserAgent","isSoftNewlineEvent"],(function(a,b,c,d,e,f){"use strict";var g=b("UserAgent").isPlatform("Mac OS X"),h={isCtrlKeyCommand:function(a){return!!a.ctrlKey&&!a.altKey},isOptionKeyCommand:function(a){return g&&a.altKey},usesMacOSHeuristics:function(){return g},hasCommandModifier:function(a){return g?!!a.metaKey&&!a.altKey:h.isCtrlKeyCommand(a)},isSoftNewlineEvent:b("isSoftNewlineEvent")};e.exports=h}),null);
__d("getDefaultKeyBinding",["KeyBindingUtil","Keys","UserAgent"],(function(a,b,c,d,e,f){"use strict";var g=b("UserAgent").isPlatform("Mac OS X"),h=g&&b("UserAgent").isBrowser("Firefox < 29"),i=b("KeyBindingUtil").hasCommandModifier,j=b("KeyBindingUtil").isCtrlKeyCommand;function k(a){return g&&a.altKey||j(a)}function l(a){return!i(a)?null:a.shiftKey?"redo":"undo"}function m(a){return!g&&a.shiftKey?null:k(a)?"delete-word":"delete"}function n(a){return i(a)&&g?"backspace-to-start-of-line":k(a)?"backspace-word":"backspace"}function a(a){switch(a.keyCode){case 66:return i(a)?"bold":null;case 68:return j(a)?"delete":null;case 72:return j(a)?"backspace":null;case 73:return i(a)?"italic":null;case 74:return i(a)?"code":null;case 75:return g&&j(a)?"secondary-cut":null;case 77:return j(a)?"split-block":null;case 79:return j(a)?"split-block":null;case 84:return g&&j(a)?"transpose-characters":null;case 85:return i(a)?"underline":null;case 87:return g&&j(a)?"backspace-word":null;case 88:return i(a)&&a.shiftKey?"strikethrough":null;case 89:return j(a)?g?"secondary-paste":"redo":null;case 90:return l(a)||null;case b("Keys").RETURN:return"split-block";case b("Keys").DELETE:return m(a);case b("Keys").BACKSPACE:return n(a);case b("Keys").LEFT:return h&&i(a)?"move-selection-to-start-of-block":null;case b("Keys").RIGHT:return h&&i(a)?"move-selection-to-end-of-block":null;default:return null}}e.exports=a}),null);
__d("MessagingTag",[],(function(a,b,c,d,e,f){e.exports={ACTION_ARCHIVED:"action:archived",INBOX:"inbox",MARKETPLACE_FOLDER:"marketplace_folder",PENDING:"pending",MONTAGE:"montage",OTHER:"other",EVENT:"event",SENT:"sent",SPAM:"spam",UPDATES:"broadcasts_inbox",BCC:"header:bcc",FILTERED_CONTENT:"filtered_content",FILTERED_CONTENT_BH:"filtered_content_bh",FILTERED_CONTENT_ACCOUNT:"filtered_content_account",FILTERED_CONTENT_QUASAR:"filtered_content_quasar",FILTERED_CONTENT_INVALID_APP:"filtered_content_invalid_app",UNAVAILABLE_ATTACHMENT:"unavailable_attachment",UNREAD:"unread",FLAGGED:"flagged",GROUPS:"groups",TRANSITIONAL_MAILBOX:"transitional_mailbox",ARCHIVED:"archived",EMAIL:"email",VOICEMAIL:"voicemail",SPAM_SPOOFING:"spam:spoofing",SPOOF_WARNING:"MTA:spoof_warning",SMS_TAG_ROOT:"SMSShortcode:",APP_ID_ROOT:"app_id:",DOMAIN_AUTH_PASS:"MTA:dmarc:pass",DOMAIN_AUTH_FAIL:"MTA:dmarc:fail",MTA_SYSTEM_MESSAGE:"MTA:system_message",EMAIL_MESSAGE:"source:email",MARKETPLACE:"marketplace",ROOM:"room",PAGES:"pages",PAGE_BACKGROUND:"page_background",PAGE_FOLLOWUP:"page_followup",ONE_CLICK_MESSAGE:"page_one_click_message",MESSAGE_REQUEST_AGGREGATION_UNIT:"message_request_aggregation_unit",ONE_WAY_MESSAGE:"one_way_message",ACTION_COPIED_MESSAGE:"action:copy_message",ACTION_COPIED_SELF_MESSAGE:"copy_self_message",ACTION_COPIED_ATTACHMENT:"action:copy_attachment",ACTION_COPIED_SELF_ATTACHMENT:"copy_self_attachment",IRIS_MAPPING:{FOLDER_INVALID:null,FOLDER_INBOX:"inbox",FOLDER_OTHER:"other",FOLDER_SPAM:"spam",FOLDER_PENDING:"pending",FOLDER_MONTAGE:"montage",FOLDER_HIDDEN:"hidden",FOLDER_DISABLED:"disabled",FOLDER_PAGE_BACKGROUND:"page_background",FOLDER_PAGE_DONE:"page_done",FOLDER_BLOCKED:"blocked"}}}),null);
__d("MessengerWebGraphQLTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerWebGraphQLLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setErrorMessage=function(a){this.$1.error_message=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setQueryParams=function(a){this.$1.query_params=a;return this};return a}();c={error_message:!0,event:!0,query_params:!0};e.exports=a}),null);
__d("MWChatSettingsQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_tabs_turned_off",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_sounds_on",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatSettingsQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatSettingsQuery",selections:a},params:{id:"2624335320919327",metadata:{},name:"MWChatSettingsQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("PresenceUtil",["CurrentUser","randomInt"],(function(a,b,c,d,e,f){f.getSessionID=a;f.hasUserCookie=c;var g=b("randomInt")(0,4294967295)+1;function a(){return g}function c(){return b("CurrentUser").isLoggedInNow()}}),null);
__d("PresencePrivacy",["Arbiter","ArbiterMixin","AsyncRequest","Bootloader","ChannelConstants","CurrentUser","PresencePrivacyInitialData","PresenceUtil","mixin"],(function(a,b,c,d,e,f){var g="/ajax/chat/privacy/settings.php",h="/ajax/chat/privacy/online_policy.php",i="/ajax/chat/privacy/visibility.php",j="friend_visibility",k="visibility",l="online_policy",m=babelHelpers["extends"]({},(c=b("PresencePrivacyInitialData")).privacyData),n=c.visibility,o=babelHelpers["extends"]({},c.privacyData),p=n,q=c.onlinePolicy,r=q,s=[],t=!1;d=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.WHITELISTED=1,c.BLACKLISTED=-1,c.UNLISTED=0,c.ONLINE=1,c.OFFLINE=0,c.ONLINE_TO_WHITELIST=0,c.ONLINE_TO_BLACKLIST=1,b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.init=function(a,b,c){};c.setVisibility=function(a){p=n;y(a);var b={visibility:a},c={type:k,visibility:a};b=G(i,b,c);B(b,c);return a};c.getVisibility=function(){return n};c.setOnlinePolicy=function(a){r=q;z(a);var b={online_policy:a},c={type:l,online_policy:a};b=G(h,b,c);B(b,c);return a};c.getOnlinePolicy=function(){return q};c.getFriendVisibility=function(a){return m[a]||u.UNLISTED};c.getFriendsVisibility=function(){return m};c.isUserOffline=function(){return this.getVisibility()===u.OFFLINE};c.allows=function(a){return this.isUserOffline()?!1:this.allowsIfViewerIsOnline(a)};c.allowsIfViewerIsOnline=function(a){var b=this.getOnlinePolicy();return b===u.ONLINE_TO_WHITELIST?m[a]==u.WHITELISTED:m[a]!=u.BLACKLISTED};c.getOnlinePolicyStr=function(){if(this.isUserOffline())return"offline";var a=this.getOnlinePolicy();if(a===u.ONLINE_TO_WHITELIST)return"online_to_whitelist";return a===u.ONLINE_TO_BLACKLIST?"online_to_blacklist":"unknown"};c.setFriendsVisibility=function(a,b){if(a.length>0){var c={};for(var d=0;d<a.length;d++){var e=a[d];o[e]=m[e];c[e]=b}v(c);e=b;e==u.UNLISTED&&(e=o[a[0]]);d={users:a,setting:b,setting_type:e};a={type:j,settings:c};e=G(g,d,a);B(e,a)}return b};c.setFriendVisibilityMap=function(a,b){for(var c in a)o[c]=m[c];v(a);a={type:j,settings:a};B(F(b,a),a)};c.allow=function(a){if(this.allows(a))throw new Error("allow() should only be called for users that are not already allowed");if(this.getVisibility()===u.OFFLINE)throw new Error("allow() should only be called when the user is already online");var b=this.getOnlinePolicy()===u.ONLINE_TO_WHITELIST?u.WHITELISTED:u.UNLISTED;return this.setFriendsVisibility([a],b)};c.disallow=function(a){if(!this.allows(a))throw new Error("disallow() should only be called for users that are not already disallowed");if(this.getVisibility()===u.OFFLINE)throw new Error("disallow() should only be called when the user is already online");var b=this.getOnlinePolicy()===u.ONLINE_TO_BLACKLIST?u.BLACKLISTED:u.UNLISTED;return this.setFriendsVisibility([a],b)};c.getBlacklist=function(){var a=[];for(var b in m)m[b]===u.BLACKLISTED&&a.push(b);return a};c.getWhitelist=function(){var a=[];for(var b in m)m[b]===u.WHITELISTED&&a.push(b);return a};c.getMapForTest=function(){return m};c.setMapForTest=function(a){m=a};return b}(b("mixin")(b("ArbiterMixin")));var u=new d();function v(a){var c;for(c in a){var d=a[c];if(c==b("CurrentUser").getID())throw new Error("Invalid to set current user's visibility");switch(d){case u.WHITELISTED:case u.BLACKLISTED:case u.UNLISTED:break;default:throw new Error("Invalid state: "+d)}}for(c in a)m[c]=a[c];u.inform("privacy-changed")}function w(a,b){var c={};c[a]=b;v(c)}function x(a){b("Bootloader").loadModules(["MessengerMQTTPresenceReporting"],function(b){b.reportChatVisibility(!!a)},"PresencePrivacy")}function y(a){switch(a){case u.ONLINE:case u.OFFLINE:break;default:throw new Error("Invalid visibility: "+a)}n=a;x(a);u.inform("privacy-changed");u.inform("privacy-user-presence-changed")}function z(a){switch(a){case u.ONLINE_TO_WHITELIST:case u.ONLINE_TO_BLACKLIST:break;default:throw new Error("Invalid default online policy: "+a)}q=a;u.inform("privacy-user-presence-changed");u.inform("privacy-changed")}function A(a,b){t=!0,a.send()}function B(a,b){s.push({request:a,data:b});if(!t){a=s.shift();A(a.request,a.data)}}function C(a,b){b=a.type;if(b===j){u.inform("privacy-availability-changed");for(var c in a.settings)o[c]=a.settings[c]}else b===k?p=a.visibility:b===l&&(r=a.online_policy),u.inform("privacy-user-presence-response")}function D(a,b){n!==p&&y(p),q!==r&&z(r),Object.assign(m,o),u.inform("privacy-changed"),s=[]}function E(a){t=!1;if(s.length>0){a=s.shift();A(a.request,a.data)}}function F(a,c){if(b("PresenceUtil")!=null){var d=a.getData();d.window_id=b("PresenceUtil").getSessionID();a.setData(d)}a.setHandler(C.bind(this,c)).setErrorHandler(D.bind(this,c)).setTransportErrorHandler(D.bind(this,c)).setFinallyHandler(E.bind(this)).setAllowCrossPageTransition(!0);return a}function G(a,c,d){return F(new(b("AsyncRequest"))(a).setData(c),d)}function a(a,c){a=c.obj;if(a.viewer_id!=b("CurrentUser").getID())throw new Error("Viewer got from the channel is not the real viewer");if(a.window_id===b("PresenceUtil").getSessionID())return;var d=a.data;if(a.event=="access_control_entry")d.target_ids.forEach(function(a){w(a,d.setting),o[a]=d.setting});else{if(a.event=="visibility_update"){c=d.visibility?u.ONLINE:u.OFFLINE;y(c);p=c}else a.event=="online_policy_update"&&(z(d.online_policy),r=d.online_policy);u.inform("privacy-user-presence-response")}}u.inform("privacy-changed");u.inform("privacy-user-presence-changed","state");b("Arbiter").subscribe(b("ChannelConstants").getArbiterType("privacy_changed"),a.bind(this));b("Arbiter").subscribe(b("ChannelConstants").ON_CONFIG,function(a,b){a=b.getConfig("visibility",null);if(a!==null&&typeof a!=="undefined"){b=a?u.ONLINE:u.OFFLINE;y(b)}}.bind(this));f=u;e.exports=f}),null);
__d("ChatVisibility",["Arbiter","PresencePrivacy"],(function(a,b,c,d,e,f){var g={isOnline:function(){return b("PresencePrivacy").getVisibility()===b("PresencePrivacy").ONLINE},hasBlackbirdEnabled:function(){return this.isVisibleToMostFriends()||this.isVisibleToSomeFriends()},isVisibleToMostFriends:function(){return b("PresencePrivacy").getOnlinePolicy()===b("PresencePrivacy").ONLINE_TO_BLACKLIST&&b("PresencePrivacy").getBlacklist().length>0},isVisibleToSomeFriends:function(){return b("PresencePrivacy").getOnlinePolicy()===b("PresencePrivacy").ONLINE_TO_WHITELIST&&b("PresencePrivacy").getWhitelist().length>0},goOnline:function(a){b("PresencePrivacy").getVisibility()===b("PresencePrivacy").OFFLINE&&(b("PresencePrivacy").setVisibility(b("PresencePrivacy").ONLINE),b("Arbiter").inform("chat-visibility/go-online")),a&&a()},goOffline:function(a){b("PresencePrivacy").getVisibility()===b("PresencePrivacy").ONLINE&&(b("PresencePrivacy").setVisibility(b("PresencePrivacy").OFFLINE),b("Arbiter").inform("chat-visibility/go-offline")),a&&a()},toggleVisibility:function(){g.isOnline()?g.goOffline():g.goOnline()}};e.exports=g}),null);
__d("LastActiveTimes",["fbt","ServerTime"],(function(a,b,c,d,e,f,g){f.update=a;f.getShortDisplay=c;f.get=d;f.getDebugData=e;var h={};function i(a){if(!a||a<0)return null;a=b("ServerTime").get()/1e3-a;a=Math.floor(a/60);var c=Math.floor(a/60),d=Math.floor(c/24);if(a<=1)return g._({"*":"{count}m"},[g._param("count",1,[0])]);else if(a<60)return g._({"*":"{count}m"},[g._param("count",a,[0])]);else if(c<24)return g._({"*":"{count}h"},[g._param("count",c,[0])]);else if(d<3)return g._({"*":"{count}d"},[g._param("count",d,[0])]);else return null}function j(a,b){(!(a in h)||h[a]<b)&&(h[a]=b)}function k(a){if(a in h)return h[a];else return 0}function a(a){for(var b in a)j(b,a[b])}function c(a){return i(k(a))}function d(a){return k(a)}function e(){return h}}),null);
__d("PresenceStatus",["ArbiterMixin","AvailableListConstants","AvailableListInitialData","Bootloader","ChatVisibility","CurrentUser","FBIDCheck","FBLogger","LastActiveTimes","ODS","PresenceConfig","PresencePrivacy","ServerTime","createObjectFrom","debounceAcrossTransitions","gkx"],(function(a,b,c,d,e,f){b("ODS").setEntitySample("presence",1e-4);var g={},h={},i={},j={},k=Object.assign({},b("ArbiterMixin")),l=b("debounceAcrossTransitions")(function(){return k.inform("change")},0);function m(a){var c,d=parseInt(a.topic.match(/\d+$/),10);a=parseInt(JSON.parse(a.payload).lat,10);var e=Date.now()-a*1e3;e=b("PresenceConfig").get("active_cutoff")*1e3-e;b("LastActiveTimes").update((c={},c[d]=a,c));k.checkPresence(d);k.get(d)===b("AvailableListConstants").ACTIVE&&(window.clearTimeout(j[d].timeout),j[d].timeout=window.setTimeout(function(){k.checkPresence(d)},e))}function n(a){return/^\d+$/.test(a)}Object.assign(k,{resetPresenceData:function(){g={},h={}},reset:function(){k.resetPresenceData(),i={}},get:function(a){!n(a)&&b("PresenceConfig").get("presence_throw_for_malformed_id")&&b("FBLogger")("presence").warn("received malformed id '%s'",a);if(a==b("CurrentUser").getID())return b("ChatVisibility").isOnline()?b("AvailableListConstants").ACTIVE:b("AvailableListConstants").OFFLINE;n(a)&&!b("FBIDCheck").isUser_deprecated(a)&&!j[a]&&(b("ODS").bumpEntityKey(3303,"presence","page_subscribe"),j[a]={},b("PresenceConfig").get("presence_page_green_dot_sub")&&b("Bootloader").loadModules(["SkywalkerManager"],function(b){return b.subscribe("presence_push/fb/"+a,m)},"PresenceStatus"));var c=b("AvailableListConstants").OFFLINE;a in g&&(c=g[a]);b("PresencePrivacy").allows(a)||(c=b("AvailableListConstants").OFFLINE);return c},getCapabilities:function(a){a=h[a];return a?a:0},isPlayingCanvasGameUser:function(a){return!!i[a]},getGroup:function(a){return a.some(function(a){return a==b("CurrentUser").getID()?!1:k.get(a)===b("AvailableListConstants").ACTIVE})?b("AvailableListConstants").ACTIVE:b("AvailableListConstants").OFFLINE},set:function(a,c,d,e,f,i){if(a==b("CurrentUser").getID())return!1;var j;if(c!==null&&c!==void 0){c=c==b("AvailableListConstants").ACTIVE?b("AvailableListConstants").ACTIVE:b("AvailableListConstants").OFFLINE;d=k.get(a);j=d!=c;if((j||c==b("AvailableListConstants").ACTIVE)&&b("FBIDCheck").isUser_deprecated(a)){b("LastActiveTimes").update((e={},e[a]=b("ServerTime").get()/1e3,e))}g[a]=c}d=!1;f!==void 0&&f!==null&&(d=k.getCapabilities(a)!=f,h[a]=f);e=j||d;e&&!i&&l();return e},setPlayingCanvasGameFriends:function(a){if(!b("gkx")("678262"))return;i=b("createObjectFrom")(a)},getOnlineIDs:function(){var a,c=[];for(a in g)k.get(a)===b("AvailableListConstants").ACTIVE&&c.push(a);return c},getAllIDs:function(){return Object.keys(g)},getOnlineCount:function(){return k.getOnlineIDs().length},getPresenceStats:function(){var a=0,c=0,d=0;for(var e in g){a+=1;switch(k.get(e)){case b("AvailableListConstants").OFFLINE:c+=1;break;case b("AvailableListConstants").ACTIVE:d+=1;break;default:break}}return{total:a,offline:c,active:d}},getAllDebugInfo:function(){var a={};for(var b in g)a[b]={p:g[b],vc:h[b]};return a},setMultiFromMQTT:function(a){var c={};Array.isArray(a)&&a.forEach(function(a){a.l&&(c[a.u]=a.l),k.set(a.u,a.p,!1,"mqtt",a.c,!0)});b("LastActiveTimes").update(c);l()},setMultiChatproxy:function(a){var c={};for(var d in a){a[d].lat&&(c[d]=a[d].lat);var e=a[d].p;k.set(d,e,!1,"chatproxy",a[d].vc,!0)}b("LastActiveTimes").update(c);l()},setMultiActive:function(a,c){var d=!1;a.forEach(function(a){k.set(a,b("AvailableListConstants").ACTIVE,!1,c,null,!0)&&(d=!0)});d&&l()},checkPresence:function(a){var c=!1,d=Math.ceil(Date.now()/1e3)-b("LastActiveTimes").get(a);k.set(a,d<b("PresenceConfig").get("active_cutoff")?b("AvailableListConstants").ACTIVE:b("AvailableListConstants").OFFLINE,!1,"pylon",null,!0)&&(c=!0);c&&l()}});b("AvailableListInitialData").activeList&&b("AvailableListInitialData").activeList.length>0&&k.setMultiActive(b("AvailableListInitialData").activeList,"available_list_active");b("AvailableListInitialData").playingNow&&b("AvailableListInitialData").playingNow.length>0&&k.setPlayingCanvasGameFriends(b("AvailableListInitialData").playingNow);b("AvailableListInitialData").lastActiveTimes&&Object.keys(b("AvailableListInitialData").lastActiveTimes).length>0&&b("LastActiveTimes").update(b("AvailableListInitialData").lastActiveTimes);a=k;e.exports=a}),null);
__d("MWChatSettingsQuery",["CometRelay","CometRelayEnvironment","gkx","promiseDone","MWChatSettingsQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=function(a){var c=b("CometRelay").fetchQuery(b("CometRelayEnvironment"),i,{},b("gkx")("1820749")?{fetchPolicy:"store-or-network"}:void 0).toPromise().then(function(b){var c;c=b==null?void 0:(c=b.viewer)==null?void 0:c.chat_tabs_turned_off;b=b==null?void 0:(b=b.viewer)==null?void 0:b.chat_sounds_on;a(c,b);return});b("promiseDone")(c)},i=g!==void 0?g:g=b("MWChatSettingsQuery.graphql");a=function(a){h(function(b,c){return a(b)})};f.areChatTabsTurnedOff=a;c=function(a){h(function(b,c){return a(c!=null&&c)})};f.areChatTabsSoundsOn=c}),null);
__d("MercuryAttachmentSnippetType",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({PHOTO:null,GIF:null,VIDEO:null,AUDIO_CLIP:null,STICKER:null,SHARE:null,ERROR:null,MIXED:null,GIFT:null,THIRDPARTYSTICKER:null,FILE:null,LIKE_STICKER:null});c=a;e.exports=c}),null);
__d("MercuryGiftSnippetRenderer",["fbt"],(function(a,b,c,d,e,f,g){"use strict";f.renderText=a;function a(a,b){return a?g._("You sent a valentine."):g._("{name} sent a valentine.",[g._param("name",b)])}}),null);
__d("MessengerLightweightActionUtils",[],(function(a,b,c,d,e,f){"use strict";f.isLWAAttachment=g;f.isLWAMessage=a;f.getCollapsedLWAText=b;f.getLWASnippetText=c;function g(a){return!!(a&&a.attach_type==="share"&&a.share&&a.share.target&&a.share.target.lwa_type)}function a(a){a=a==null?void 0:a.attachments;return!!(a&&a.length===1&&g(a[0]))}function b(a){return a.attachments[0].share.title}function c(a){return a[0].share.title}}),null);
__d("P2PSnippetStringUtils",["fbt"],(function(a,b,c,d,e,f,g){f.getRequestCanceledSnippet=a;f.getRequestDeclinedSnippet=b;f.getRequestSentSnippet=c;f.getRequestSnippetByStatus=d;f.getTransferCanceledSnippet=e;f.getTransferDeclinedSnippet=h;f.getTransferSentSnippet=i;f.getTransferSnippetByStatus=j;function a(a,b,c,d,e){if(a)return g._("Your request for {payment request amount} from {receiver's name} was canceled.",[g._param("payment request amount",e),g._param("receiver's name",d)]);else if(b)return g._("{requester's name}'s request for {payment request amount} was canceled.",[g._param("requester's name",c),g._param("payment request amount",e)]);else return g._("{requester's name}'s request for {payment request amount} from {receiver's name} was canceled.",[g._param("requester's name",c),g._param("payment request amount",e),g._param("receiver's name",d)])}function b(a,b,c,d,e){if(a)return g._("{receiver's name} declined your request for {payment request amount}.",[g._param("receiver's name",d),g._param("payment request amount",e)]);else if(b)return g._("You declined {requester's name}'s request for {payment request amount}.",[g._param("requester's name",c),g._param("payment request amount",e)]);else return g._("{receiver's name} declined {sender's name}'s request for {payment request amount}.",[g._param("receiver's name",d),g._param("sender's name",c),g._param("payment request amount",e)])}function c(a,b,c,d,e){if(a)return g._("You requested {amount} from {requestee name}.",[g._param("amount",e),g._param("requestee name",d)]);else if(b)return g._("{requester name} requested {amount} from you.",[g._param("requester name",c),g._param("amount",e)]);else return g._("{name} requested {amount} from {requestee name}.",[g._param("name",c),g._param("amount",e),g._param("requestee name",d)])}function d(a,b,c,d,e,f){a=a||1;b=[b,c,d,e,f];switch(a){case 2:return this.getRequestDeclinedSnippet.apply(this,b);case 5:case 6:return this.getRequestCanceledSnippet.apply(this,b)}return this.getRequestSentSnippet.apply(this,b)}function e(a,b,c,d,e){if(a)return g._("Your {amount} payment to {receiver_name} was canceled.",[g._param("amount",e),g._param("receiver_name",d)]);else if(b)return g._("{sender name}'s {amount} payment was canceled.",[g._param("sender name",c),g._param("amount",e)]);else return g._("{sender_name}'s {amount} payment to {receiver_name} was canceled.",[g._param("sender_name",c),g._param("amount",e),g._param("receiver_name",d)])}function h(a,b,c,d,e){if(a)return g._("{receiver_name} didn't accept your {amount} payment.",[g._param("receiver_name",d),g._param("amount",e)]);else if(b)return g._("You didn't accept {sender name}'s {amount} payment.",[g._param("sender name",c),g._param("amount",e)]);else return g._("{receiver_name} didn't accept {sender_name}'s {amount} payment.",[g._param("receiver_name",d),g._param("sender_name",c),g._param("amount",e)])}function i(a,b,c,d,e){if(a)return g._("You sent {receiver name} {amount}.",[g._param("receiver name",d),g._param("amount",e)]);else if(b)return g._("{name} sent you {amount}.",[g._param("name",c),g._param("amount",e)]);else return g._("{sender name} sent {receiver name} {amount}.",[g._param("sender name",c),g._param("receiver name",d),g._param("amount",e)])}function j(a,b,c,d,e,f){b=[b,c,d,e,f];c=a||15;switch(c){case 5:return this.getTransferDeclinedSnippet.apply(this,b);case 3:case 10:case 11:case 12:case 16:return this.getTransferCanceledSnippet.apply(this,b)}return this.getTransferSentSnippet.apply(this,b)}}),null);
__d("MercuryAttachmentSnippetRenderer",["fbt","CurrentUser","MercuryAttachmentSnippetType","MercuryAudioType","MercuryGiftSnippetRenderer","MessengerLightweightActionUtils","P2PSnippetStringUtils","StickerConstants"],(function(a,b,c,d,e,f,g){"use strict";a={getAttachmentSnippetType:function(a){if(this._hasOnlyPhotos(a))return b("MercuryAttachmentSnippetType").PHOTO;if(this._hasOnlyAnimatedImages(a))return b("MercuryAttachmentSnippetType").GIF;if(this._hasOnlyVideo(a))return b("MercuryAttachmentSnippetType").VIDEO;if(this._hasAudioClip(a))return b("MercuryAttachmentSnippetType").AUDIO_CLIP;if(this._hasLikeSticker(a))return b("MercuryAttachmentSnippetType").LIKE_STICKER;if(this._hasSticker(a))return b("MercuryAttachmentSnippetType").STICKER;if(this._hasThirdPartySticker(a))return b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER;if(this._hasShare(a))return b("MercuryAttachmentSnippetType").SHARE;if(this._hasGift(a))return b("MercuryAttachmentSnippetType").GIFT;if(this._hasError(a))return b("MercuryAttachmentSnippetType").ERROR;return this._hasFile(a)?b("MercuryAttachmentSnippetType").FILE:b("MercuryAttachmentSnippetType").MIXED},renderAttachmentSnippetText:function(a,c,d,e){switch(a){case b("MercuryAttachmentSnippetType").PHOTO:return this._renderPhotoAttachmentSnippetText(c,d,this._getPhotoAttachments(e));case b("MercuryAttachmentSnippetType").GIF:return this._renderAnimatedImagesAttachmentSnippetText(c,d,this._getAnimatedImageAttachments(e));case b("MercuryAttachmentSnippetType").VIDEO:return c?g._("You sent a video."):g._("{sender name} sent a video.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").AUDIO_CLIP:return c?g._("You sent a voice message."):g._("{name} sent a voice message.",[g._param("name",d)]);case b("MercuryAttachmentSnippetType").STICKER:case b("MercuryAttachmentSnippetType").LIKE_STICKER:case b("MercuryAttachmentSnippetType").THIRDPARTYSTICKER:return c?g._("You sent a sticker."):g._("{name} sent a sticker.",[g._param("name",d)]);case b("MercuryAttachmentSnippetType").SHARE:if(e&&this._hasP2PPayment(e))return this._renderP2PPaymentSnippetText(e[0]);if(e&&this._hasP2PPaymentRequest(e))return this._renderP2PPaymentRequestSnippetText(e[0]);if(e&&this._hasBusinessMessage(e))return this._renderBusinessMessageSnippetText(e[0],d);if(e&&this._hasLocation(e))return c?g._("You sent a location."):g._("{sender name} sent a location.",[g._param("sender name",d)]);if(e&&this._hasLiveLocation(e))return c?g._("You sent a live location."):g._("{sender name} sent a live location.",[g._param("sender name",d)]);if(e&&this._hasMontageDirect(e)){a=e[0];a=(a=a)!=null?(a=a.share)!=null?(a=a.media)!=null?a.source:a:a:a;return c?a?g._("You sent a video."):g._("You sent a photo."):a?g._("View {sender name}'s disappearing video.",[g._param("sender name",d)]):g._("View {sender name}'s disappearing photo.",[g._param("sender name",d)])}if(e&&e.length===1&&b("MessengerLightweightActionUtils").isLWAAttachment(e[0]))return b("MessengerLightweightActionUtils").getLWASnippetText(e);return e&&e.length===1&&this._isGloballyRemovedMessageAttachment(e[0])?e[0].share.description:c?g._("You sent a link."):g._("{sender name} sent a link.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").GIFT:return b("MercuryGiftSnippetRenderer").renderText(c,d);case b("MercuryAttachmentSnippetType").FILE:return c?g._("You sent an attachment."):g._("{sender name} sent an attachment.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").MIXED:return c?g._("You sent some attachments."):g._("{sender name} sent some attachments.",[g._param("sender name",d)]);case b("MercuryAttachmentSnippetType").ERROR:return c?g._("You sent an attachment."):g._("{sender name} sent an attachment.",[g._param("sender name",d)]);default:return""}},_isGloballyRemovedMessageAttachment:function(a){return a.share&&a.share.style_list&&a.share.style_list.includes("globally_deleted_message_placeholder")},_hasOnlyPhotos:function(a){return this._getPhotoAttachments(a).length===a.length},_hasThirdPartySticker:function(a){return a.length===1&&a[0].attach_type==="third_party_sticker"},_hasOnlyAnimatedImages:function(a){return this._getAnimatedImageAttachments(a).length===a.length},_hasOnlyVideo:function(a){return a.length===1&&a[0].attach_type==="video"},_hasAudioClip:function(a){var c=a[0].metadata&&a[0].metadata.type;return a.length===1&&(c===b("MercuryAudioType").AudioClip||c===b("MercuryAudioType").VoiceMessageWithTranscript)},_hasBusinessMessage:function(a){return this._hasSingleShareAttachmentOfStyle(a,"business_message_items")},_hasSticker:function(a){return a.length===1&&a[0].attach_type==="sticker"},_hasLikeSticker:function(a){if(a.length<1)return!1;var c=a[0].metadata&&a[0].metadata.stickerID;return a.length===1&&(c==b("StickerConstants").LIKE_STICKER_ID||c==b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||c==b("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||c==b("StickerConstants").HOT_LIKE_LARGE_STICKER_ID)},_hasLocation:function(a){return this._hasSingleShareAttachmentOfStyle(a,"message_location")},_hasLiveLocation:function(a){return this._hasSingleShareAttachmentOfStyle(a,"message_live_location")},_hasMontageDirect:function(a){return this._hasSingleShareAttachmentOfStyle(a,"montage_direct")},_hasP2PPayment:function(a){return this._hasSingleShareAttachmentOfStyle(a,"orion")},_hasP2PPaymentRequest:function(a){return this._hasSingleShareAttachmentOfStyle(a,"orion_request")},_hasSingleShareAttachmentOfStyle:function(a,b){return a.length===1&&a[0].attach_type==="share"&&a[0].share&&a[0].share.style_list.indexOf(b)>=0},_hasShare:function(a){return a.length===1&&a[0].attach_type==="share"},_hasError:function(a){return a.length===1&&a[0].attach_type==="error"},_hasGift:function(a){return a.length===1&&a[0].attach_type==="gift"},_hasFile:function(a){return a.length===1&&a[0].attach_type==="file"},_getPhotoAttachments:function(a){return!a?[]:a.filter(function(a){return a.attach_type==="photo"})},_getAnimatedImageAttachments:function(a){return!a?[]:a.filter(function(a){return a.attach_type==="animated_image"})},_renderPhotoAttachmentSnippetText:function(a,b,c){if(c.length===1)if(a)return g._("You sent a photo.");else return g._("{name} sent a photo.",[g._param("name",b)]);else if(a)return g._({"*":"You sent {num_photos} photos."},[g._param("num_photos",c.length,[0])]);else return g._({"*":"{name} sent {num_photos} photos."},[g._param("name",b),g._param("num_photos",c.length,[0])])},_renderAnimatedImagesAttachmentSnippetText:function(a,b,c){if(c.length===1)if(a)return g._("You sent a GIF.");else return g._("{name} sent a GIF.",[g._param("name",b)]);else if(a)return g._("You sent {num_animated_images} GIFs.",[g._param("num_animated_images",c.length)]);else return g._("{name} sent {num_animated_images} GIFs.",[g._param("name",b),g._param("num_animated_images",c.length)])},_renderBusinessMessageSnippetText:function(a,b){a=a.share.target;a=a&&a.message||g._("{sender name} sent an attachment.",[g._param("sender name",b)]);return a},_renderP2PPaymentSnippetText:function(a){a=a.share.target;return this.renderP2PPaymentSnippetText(b("CurrentUser").getID()===a.sender.id,a.sender.name,a.amountWithSymbol,a.status,b("CurrentUser").getID()===a.receiver.id,a.receiver.name)},_renderP2PPaymentRequestSnippetText:function(a){a=a.share.target;return this.renderP2PPaymentRequestSnippetText(b("CurrentUser").getID()===a.requester.id,a.requester.name,a.amountWithSymbol,a.currentStatus,b("CurrentUser").getID()===a.requestee.id,a.requestee.name)},renderP2PPaymentSnippetText:function(a,c,d,e,f,g){return b("P2PSnippetStringUtils").getTransferSnippetByStatus(e,a,f||!1,c||"",g||"",d)},renderP2PPaymentRequestSnippetText:function(a,c,d,e,f,g){return b("P2PSnippetStringUtils").getRequestSnippetByStatus(e,a,f||!1,c||"",g||"",d)}};e.exports=a}),null);
__d("useMWMSSnippetRenderer_DONT_USE.react",["fbt","Actor","BaseText.react","CometEmojiTransform","CometEmoticonTransform","MercuryAttachmentSnippetRenderer","MercuryAttachmentSnippetType","MercuryIDs","MessengerParticipants.re","React"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i=["227878347358915","369239263222822","369239343222814","369239383222810"];function j(a,c){var d=b("MercuryIDs").getUserIDFromParticipantID(a.id);c=c&&c[d]||a.short_name;return h.jsx(b("BaseText.react"),{text:c,transforms:[b("CometEmoticonTransform")(),b("CometEmojiTransform")()]})}function k(a,b,c,d,e){return c.id===d?g._("You: {last message sent in the thread}",[g._param("last message sent in the thread",a)]):e?a:g._("{sender name}: {last message sent in the thread}",[g._param("sender name",j(c,b)),g._param("last message sent in the thread",a)])}function a(a){var c=b("Actor").useActor();c=c[0];if(a==null)return null;c=b("MercuryIDs").getParticipantIDFromUserID(c);var d=a.snippet,e=a==null?void 0:a.snippet_sender;e=e!=null?b("MessengerParticipants.re").getNow(e):null;if(e!=null)if(a.snippet_attachments.length!==0){var f=a.snippet_attachments,g=b("MercuryAttachmentSnippetRenderer").getAttachmentSnippetType(f);g===b("MercuryAttachmentSnippetType").SHARE&&d!==""||(d=b("MercuryAttachmentSnippetRenderer").renderAttachmentSnippetText(g,c===a.snippet_sender,j(e,a.custom_nickname),f));(f==null?void 0:f.length)===1&&i.includes((g=f[0])==null?void 0:(f=g.metadata)==null?void 0:f.stickerID)&&(d=k(h.jsx(b("BaseText.react"),{text:"(Y)",transforms:[b("CometEmoticonTransform")()]}),a.custom_nickname,e,c,a.is_canonical))}else a.snippet!=null&&a.snippet.toString()!==""&&(d=k(h.jsx(b("BaseText.react"),{text:a.snippet.toString(),transforms:[b("CometEmoticonTransform")(),b("CometEmojiTransform")()]}),a.custom_nickname,e,c,a.is_canonical));return d}}),null);
__d("MWUIMarkThreadAsUnread.re",["MWUIMarkThreadAsUnread.bs"],(function(a,b,c,d,e,f){a=b("MWUIMarkThreadAsUnread.bs").useHook;f.useHook=a}),null);
__d("MercurySyncDeltaTypes",[],(function(a,b,c,d,e,f){"use strict";a={AdminAddedToGroupThread:"AdminAddedToGroupThread",AdminRemovedFromGroupThread:"AdminRemovedFromGroupThread",AdminTextMessage:"AdminTextMessage",ChangeViewerStatus:"ChangeViewerStatus",DeliveryReceipt:"DeliveryReceipt",ForcedFetch:"ForcedFetch",MarkRead:"MarkRead",MarkUnread:"MarkUnread",MarkFolderSeen:"MarkFolderSeen",MessageDelete:"MessageDelete",NewMessage:"NewMessage",NoOp:"NoOp",PagesManagerEvent:"PagesManagerEvent",ParticipantLeftGroupThread:"ParticipantLeftGroupThread",ParticipantsAddedToGroupThread:"ParticipantsAddedToGroupThread",ReadReceipt:"ReadReceipt",ReplaceMessage:"ReplaceMessage",ThreadAction:"ThreadAction",ThreadDelete:"ThreadDelete",ThreadFolder:"ThreadFolder",ThreadMuteSettings:"ThreadMuteSettings",ThreadName:"ThreadName",JoinableMode:"JoinableMode",ApprovalMode:"ApprovalMode",ApprovalQueue:"ApprovalQueue",ClientPayload:"ClientPayload",GenieMessage:"GenieMessage",MontageMessage:"MontageMessage",RtcCallData:"RtcCallData"};b=a;e.exports=b}),null);
__d("MessengerMessageWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"2905186442914677"};b.getQueryID=function(){return"341205296991235"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerThreadMetadataWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1844738185554526"};b.getQueryID=function(){return"506565903040384"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerMessageDFFFetcher.bs",["Promise","bs_caml_array","WebGraphQL","MessengerMessageTransformer.bs","MessengerMessageWebGraphQLQuery","MessengerThreadMetadataWebGraphQLQuery"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("Promise").all(b("WebGraphQL").execAll([new(b("MessengerThreadMetadataWebGraphQLQuery"))({id:c.thread_id}),new(b("MessengerMessageWebGraphQLQuery"))({thread_and_message_id:{thread_id:c.thread_id,message_id:c.message_id}})],{actorID:a,batchName:"MessengerMessageDFFFetcher"})).then(function(c){var e=b("bs_caml_array").get(c,0);c=b("bs_caml_array").get(c,1);e=e.message_thread;c=c.message;if(e==null)throw{RE_EXN_ID:"Not_found",Error:new Error()};if(!(c==null))return b("Promise").resolve(b("MessengerMessageTransformer.bs").transformMessage(a,c,{thread_id:null,thread_fbid:e.thread_key.thread_fbid,other_user_fbid:e.thread_key.other_user_id,folder:e.folder.toLowerCase()},d));throw{RE_EXN_ID:"Not_found",Error:new Error()}})}f.fetch_=a}),null);
__d("MercuryFilters.bs",[],(function(a,b,c,d,e,f){"use strict";var g="unread";function a(a){return[g]}function b(a){return a===g}c="all";d="groups";e="named";var h="unnamed",i="WORK_UNSYNCED_CHAT";f.all=c;f.unread=g;f.groups=d;f.named=e;f.unnamed=h;f.unsyncedChat=i;f.getSupportedFilters=a;f.isSupportedFilter=b}),null);
__d("MercuryLocalIDs",["randomInt"],(function(a,b,c,d,e,f){"use strict";f.generateThreadID=a;f.generateOfflineThreadingID=g;function a(a){return"root:"+g(a)}function g(a){a=a!=null?a:Date.now();var c=b("randomInt")(0,4294967295);c=("0000000000000000000000"+c.toString(2)).slice(-22);a=a.toString(2)+c;return h(a.slice(-63))}function h(a){var b="";a=a;while(a!="0"){var c=0,d="";for(var e=0;e<a.length;e++)c=2*c+parseInt(a[e],10),c>=10?(d+="1",c-=10):d+="0";b=c.toString()+b;a=d.slice(d.indexOf("1"))}return b}}),null);
__d("CallbackManagerController",["ErrorGuard"],(function(a,b,c,d,e,f){var g;a=function(){function a(a){this.$2=[],this.$1=[void 0],this.$3=a}var c=a.prototype;c.executeOrEnqueue=function(a,b,c){c=Boolean(c)?c:{};var d=this.$4(b,a,c);if(d)return 0;this.$1.push({fn:b,request:a,options:c});d=this.$1.length-1;this.$2.push(d);return d};c.unsubscribe=function(a){delete this.$1[a]};c.reset=function(){this.$1=[]};c.getRequest=function(a){return this.$1[a]};c.runPossibleCallbacks=function(a){var b=this,c=this.$2;this.$2=[];var d=[];c.forEach(function(c){var e=b.$1[c];if(!e)return;e=b.$3(e.request,babelHelpers["extends"]({},e.options,a));e?d.push({args:e,id:c}):b.$2.push(c)});d.forEach(function(a){var c=a.args;a=a.id;var d=b.$1[a];if(!d)return;delete b.$1[a];b.$5(d.fn,c,d.request)})};c.$4=function(a,b,c){c=this.$3(b,c);c&&this.$5(a,c,b);return!!c};c.$5=function(a,c,d){d={ids:d};(g||(g=b("ErrorGuard"))).applyWithGuard(a,d,c)};return a}();e.exports=a}),null);
__d("KeyedCallbackManager",["CallbackManagerController","FBLogger"],(function(a,b,c,d,e,f){a=function(){function a(){this.$2={},this.$1=new(b("CallbackManagerController"))(this.$3.bind(this))}var c=a.prototype;c.executeOrEnqueue=function(a,c){if(!(a instanceof Array)){var d=a,e=c;a=[a];c=function(a){e(a[d])}}a=a.filter(function(a){var c=a!==null&&a!==void 0;c||b("FBLogger")("KeyedCallbackManager").mustfix("KeyedCallbackManager.executeOrEnqueue: key %s is invalid",JSON.stringify(a));return c});return this.$1.executeOrEnqueue(a,c)};c.unsubscribe=function(a){this.$1.unsubscribe(a)};c.reset=function(){this.$1.reset(),this.$2={}};c.getUnavailableResources=function(a){var b=this;a=this.$1.getRequest(a);var c=[];a&&(c=a.request.filter(function(a){return!b.$2[a]}));return c};c.getUnavailableResourcesFromRequest=function(a){a=Array.isArray(a)?a:[a];return a.filter(function(a){if(a!==null&&a!==void 0)return!this.$2[a]},this)};c.addResourcesAndExecute=function(a){Object.assign(this.$2,a),this.$1.runPossibleCallbacks()};c.setResource=function(a,b){this.$2[a]=b,this.$1.runPossibleCallbacks()};c.getResource=function(a){return this.$2[a]};c.getAllResources=function(){return this.$2};c.dumpResources=function(){var a=this,b={};Object.keys(this.$2).forEach(function(c){var d=a.$2[c];typeof d==="object"&&(d=babelHelpers["extends"]({},d));b[c]=d});return b};c.$3=function(a){var b={};for(var c=0;c<a.length;c++){var d=a[c],e=this.$2[d];if(typeof e==="undefined")return!1;b[d]=e}return[b]};return a}();e.exports=a}),null);
__d("MercuryMessagingLightswitch",["gkx"],(function(a,b,c,d,e,f){"use strict";a={guard:function(a){if(b("gkx")("1828242"))return;a()},shouldRun:function(){return!b("gkx")("1828242")}};c=a;e.exports=c}),null);
__d("MercurySingletonProvider",["CurrentUser"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1={},this.$2=a}var c=a.prototype;c.getForFBID=function(a){this.$1[a]||(this.$1[a]=new this.$2(a));return this.$1[a]};c.get=function(){return this.getForFBID(b("CurrentUser").getID())};c.resetAll=function(){var a=this.$1;this.$1={};return a};a.mock=function(a){throw new Error("MercurySingletonProvider.mock() must only be used in tests.")};return a}();e.exports=a}),null);
__d("MessengerMQTTConnectionEvents",[],(function(a,b,c,d,e,f){"use strict";a="messenger-mqtt-delta";f.DELTA_EVENT=a;b="messenger-mqtt-stream-disconnect";f.STREAM_DISCONNECT=b;c="messenger-mqtt-stream-connecting";f.STREAM_CONNECTING=c;d="messenger-mqtt-stream-connect";f.STREAM_CONNECT=d;e="Connected";f.STATE_CONNECTED=e;a="Disconnected";f.STATE_DISCONNECTED=a;b="Connecting";f.STATE_CONNECTING=b;c="messenger-mqtt-typ";f.TYP=c}),null);
__d("MercuryThreadInformer",["ArbiterMixin","LogHistory","MercuryAssert","MercuryMessagingLightswitch","MercurySingletonProvider","mixin"],(function(a,b,c,d,e,f){"use strict";var g=b("LogHistory").getInstance("mercury_informer");a=function(a){babelHelpers.inheritsLoose(c,a);c.get=function(){return h.get()};c.getForFBID=function(a){return h.getForFBID(a)};function c(b){var c;c=a.call(this)||this;c.$MercuryThreadInformer1=b;c.$MercuryThreadInformer2={};c.$MercuryThreadInformer3={};c.$MercuryThreadInformer4={};c.$MercuryThreadInformer5={};c.$MercuryThreadInformer6=!1;c.$MercuryThreadInformer7=!1;c.$MercuryThreadInformer8=!1;c.$MercuryThreadInformer9=!1;c.$MercuryThreadInformer10={};c.$MercuryThreadInformer11={};c.$MercuryThreadInformer12={};c.$MercuryThreadInformer13={};c.$MercuryThreadInformer14=0;return c}var d=c.prototype;d.informNewMessage=function(a,b){this.inform("new-message",{threadID:a,message:b})};d.informNewLogMessage=function(a,b){this.inform("new-log-message",{threadID:a,message:b})};d.updatedThread=function(a){this.$MercuryThreadInformer3[a]=!0,this.$MercuryThreadInformer15()};d.invalidatedThread=function(a){this.$MercuryThreadInformer4[a]=!0,this.$MercuryThreadInformer15()};d.deletedThread=function(a){this.$MercuryThreadInformer2[a]=!0,this.$MercuryThreadInformer15()};d.updatedThreadlist=function(){this.$MercuryThreadInformer6=!0,this.$MercuryThreadInformer15()};d.updatedUnseenState=function(){this.$MercuryThreadInformer7=!0,this.$MercuryThreadInformer15()};d.updatedUnseenTimestamp=function(){this.$MercuryThreadInformer8=!0,this.$MercuryThreadInformer15()};d.updatedUnreadState=function(){this.$MercuryThreadInformer9=!0,this.$MercuryThreadInformer15()};d.changedThreadReadState=function(a,b,c){(!this.$MercuryThreadInformer5[a]||this.$MercuryThreadInformer5[a].timestamp<c)&&(this.$MercuryThreadInformer5[a]={mark_as_read:b,timestamp:c}),this.$MercuryThreadInformer15()};d.receivedMessage=function(a){b("MercuryAssert").isThreadID(a.thread_id);var c=a.thread_id;this.$MercuryThreadInformer10[c]||(this.$MercuryThreadInformer10[c]=[]);this.$MercuryThreadInformer10[c].push(a);this.updatedThread(c)};d.reorderedMessages=function(a,b){this.$MercuryThreadInformer11[a]={source:b},this.$MercuryThreadInformer15()};d.updatedMessage=function(a,b,c){this.$MercuryThreadInformer12[a]||(this.$MercuryThreadInformer12[a]={}),this.$MercuryThreadInformer12[a][b]={source:c},this.updatedThread(a)};d.deletedMessage=function(a,b,c,d){this.$MercuryThreadInformer13[a]||(this.$MercuryThreadInformer13[a]={}),this.$MercuryThreadInformer13[a][b]={attachmentIDs:d,source:c},this.updatedThread(a)};d.synchronizeInforms=function(a){this.$MercuryThreadInformer14++;try{a()}catch(a){throw a}finally{this.$MercuryThreadInformer14--,this.$MercuryThreadInformer15()}};d.listen=function(a,b){return this.subscribe("threads-updated",function(c,d){d[a]&&b(a)})};d.$MercuryThreadInformer15=function(){if(!this.$MercuryThreadInformer14){var a=this.$MercuryThreadInformer2,b=this.$MercuryThreadInformer3,c=this.$MercuryThreadInformer4,d=this.$MercuryThreadInformer5,e=this.$MercuryThreadInformer6,f=this.$MercuryThreadInformer7,g=this.$MercuryThreadInformer8,h=this.$MercuryThreadInformer9,i=this.$MercuryThreadInformer10,j=this.$MercuryThreadInformer11,k=this.$MercuryThreadInformer12,l=this.$MercuryThreadInformer13;this.$MercuryThreadInformer2={};this.$MercuryThreadInformer3={};this.$MercuryThreadInformer4={};this.$MercuryThreadInformer5={};this.$MercuryThreadInformer6=!1;this.$MercuryThreadInformer7=!1;this.$MercuryThreadInformer8=!1;this.$MercuryThreadInformer9=!1;this.$MercuryThreadInformer10={};this.$MercuryThreadInformer11={};this.$MercuryThreadInformer12={};this.$MercuryThreadInformer13={};var m=Object.keys(b);(m.length||e)&&this.inform("threadlist-updated",m);m.length&&this.$MercuryThreadInformer16("threads-updated",b);for(var e in c){this.$MercuryThreadInformer16("thread-invalidated",c);break}for(var e in d){this.$MercuryThreadInformer16("thread-read-changed",d);break}for(e in a){this.$MercuryThreadInformer16("threads-deleted",a);break}f&&this.$MercuryThreadInformer16("unseen-updated",null);g&&this.$MercuryThreadInformer16("unseen-timestamp-updated",null);h&&this.$MercuryThreadInformer16("unread-updated",null);for(e in i){this.$MercuryThreadInformer16("messages-received",i);break}for(e in j){this.$MercuryThreadInformer16("messages-reordered",j);break}for(e in k){this.$MercuryThreadInformer16("messages-updated",k);break}for(e in l){this.$MercuryThreadInformer16("messages-deleted",l);break}}};d.$MercuryThreadInformer16=function(a,c){a==="threads-updated"&&b("MercuryMessagingLightswitch").guard(function(){g.debug(a,JSON.stringify(c))}),this.inform(a,c)};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a;var h=new(b("MercurySingletonProvider"))(a)}),null);
__d("Utils.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null)return!1;else return a}function b(a){if(a!==void 0)return a;else return!1}f.isTruthy=a;f.optionBoolToBool=b}),null);
__d("XGroupsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/{idorvanity}/{?view}/{?post_id}/",{idorvanity:{type:"String",required:!0},view:{type:"Enum",enumType:1},post_id:{type:"Int"},rule_id:{type:"Int"},ref:{type:"String"},source_id:{type:"String"},notif_t:{type:"String"},nux:{type:"Enum",enumType:1},tip_id:{type:"Int"},feedback_id:{type:"FBID"},member_tag_id:{type:"FBID"},section:{type:"Enum",enumType:1},thread_id:{type:"String"},support_thread_id:{type:"String"},mentorship_profile_id:{type:"FBID"},autopopup_create_chat_dialog:{type:"Bool",defaultValue:!1},sorting_setting:{type:"String"},multi_events:{type:"String"},stories:{type:"Exists",defaultValue:!1},topics:{type:"Exists",defaultValue:!1},highlight_location:{type:"Exists",defaultValue:!1},highlight_sections:{type:"Exists",defaultValue:!1},highlight_groupapps:{type:"Exists",defaultValue:!1},highlight_pixel:{type:"Exists",defaultValue:!1},highlight_mentorship_option:{type:"Exists",defaultValue:!1},highlight_fundraiser_option:{type:"Exists",defaultValue:!1},highlight_auto_approval:{type:"Exists",defaultValue:!1},highlight_page_member:{type:"Exists",defaultValue:!1},highlight_units_edit_bar:{type:"Exists",defaultValue:!1},highlight_keyword_alerts:{type:"Exists",defaultValue:!1},queue:{type:"Enum",enumType:1},composer_prefill:{type:"String"},hide_workplace_pagelet:{type:"Bool",defaultValue:!1},permalink_add_comment_nux_shown:{type:"Bool",defaultValue:!1},badge_type:{type:"Enum",enumType:1},work_learning_entry_point:{type:"Enum",enumType:1},chained_wp:{type:"Bool",defaultValue:!1},hoist_pending_member_ids_suggested_order:{type:"FBIDKeyset"},comment_id:{type:"Int"},reply_comment_id:{type:"Int"},hashtags:{type:"Exists",defaultValue:!1},sale_post_id:{type:"FBID"},share_tracking_id:{type:"FBID"}})}),null);
__d("bs_belt_SortArray",["bs_curry","bs_belt_Array"],(function(a,b,c,d,e,f){"use strict";function g(a,b,c,d,e){while(!0){var f=c,g=b;if(f>=d)return f;var h=a[f];if(!e(h,g))return f;c=f+1|0;b=h;continue}}function h(a,b){var c=a.length;if(c===0||c===1)return c;var d=a[0],e=a[1];if(b(d,e)){var f=e,h=2;while(!0){var i=h,j=f;if(i>=c)return i;var k=a[i];if(!b(j,k))return i;h=i+1|0;f=k;continue}}else if(b(e,d))return-g(a,e,2,c,b)|0;else return 1}function a(a,c){return h(a,b("bs_curry").__2(c))}function i(a,b){var c=a.length;if(c===0)return!0;else{var d=0;c=c-1|0;while(!0){var e=d;if(e===c)return!0;if(b(a[e],a[e+1|0])>0)return!1;d=e+1|0;continue}}}function c(a,c){return i(a,b("bs_curry").__2(c))}function j(a,c,d,e,f,g,h,i,j){d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k;if(j(p,n)<=0){h[m]=p;p=q+1|0;if(p>=d)return b("bs_belt_Array").blitUnsafe(e,o,h,m+1|0,g-o|0);i=m+1|0;c=a[p];k=p;continue}h[m]=n;p=o+1|0;if(p>=g)return b("bs_belt_Array").blitUnsafe(a,q,h,m+1|0,d-q|0);i=m+1|0;f=e[p];l=p;continue}}function k(a,c,d,e,f,g,h,i,j){d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k,r=j(p,n);if(r<0){h[m]=p;var s=q+1|0,t=m+1|0;if(s<d){i=t;c=a[s];k=s;continue}b("bs_belt_Array").blitUnsafe(e,o,h,t,g-o|0);return(t+g|0)-o|0}if(r===0){h[m]=p;s=q+1|0;t=o+1|0;r=m+1|0;if(!(s<d&&t<g))if(s===d){b("bs_belt_Array").blitUnsafe(e,t,h,r,g-t|0);return(r+g|0)-t|0}else{b("bs_belt_Array").blitUnsafe(a,s,h,r,d-s|0);return(r+d|0)-s|0}i=r;f=e[t];l=t;c=a[s];k=s;continue}h[m]=n;p=o+1|0;r=m+1|0;if(p<g){i=r;f=e[p];l=p;continue}b("bs_belt_Array").blitUnsafe(a,q,h,r,d-q|0);return(r+d|0)-q|0}}function d(a,c,d,e,f,g,h,i,j){return k(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function l(a,b,c,d,e,f,g,h,i){c=b+c|0;f=e+f|0;var j=b;b=a[b];var k=e;e=d[e];h=h;while(!0){var l=h,m=e,n=k,o=b,p=j;m=i(o,m);if(m<0){var q=p+1|0;if(q>=c)return l;b=a[q];j=q;continue}if(m===0){g[l]=o;q=p+1|0;m=n+1|0;o=l+1|0;if(!(q<c&&m<f))return o;h=o;e=d[m];k=m;b=a[q];j=q;continue}p=n+1|0;if(p>=f)return l;e=d[p];k=p;continue}}function e(a,c,d,e,f,g,h,i,j){return l(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function m(a,c,d,e,f,g,h,i,j){d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k;n=j(p,n);if(n<0){h[m]=p;p=m+1|0;var r=q+1|0;if(r>=d)return p;i=p;c=a[r];k=r;continue}if(n===0){p=q+1|0;r=o+1|0;if(!(p<d&&r<g))if(p===d)return m;else{b("bs_belt_Array").blitUnsafe(a,p,h,m,d-p|0);return(m+d|0)-p|0}f=e[r];l=r;c=a[p];k=p;continue}n=o+1|0;if(n<g){f=e[n];l=n;continue}b("bs_belt_Array").blitUnsafe(a,q,h,m,d-q|0);return(m+d|0)-q|0}}function n(a,c,d,e,f,g,h,i,j){return m(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function o(a,b,c,d,e,f){for(var g=0;g<e;++g){var h=a[b+g|0],i=(d+g|0)-1|0;while(i>=d&&f(c[i],h)>0)c[i+1|0]=c[i],i=i-1|0;c[i+1|0]=h}}function p(a,b,c,d,e,f){if(e<=5)return o(a,b,c,d,e,f);var g=e/2|0;e=e-g|0;p(a,b+g|0,c,d+g|0,e,f);p(a,b,a,b+e|0,g,f);return j(a,b+e|0,g,c,d+g|0,e,c,d,f)}function q(a,b){var c=a.length;if(c<=5)return o(a,0,a,0,c,b);var d=c/2|0;c=c-d|0;var e=new Array(c);p(a,d,e,0,c,b);p(a,0,a,c,d,b);return j(a,c,d,e,0,c,a,0,b)}function r(a,c){return q(a,b("bs_curry").__2(c))}function s(a,b){a=a.slice(0);q(a,b);return a}function t(a,c){return s(a,b("bs_curry").__2(c))}function u(a,b,c){var d=a.length;if(d===0)return-1;var e=a[0];e=c(b,e);if(e<0)return-1;e=a[d-1|0];e=c(b,e);if(e>0)return-(d+1|0)|0;else{e=0;d=d-1|0;while(!0){var f=d,g=e,h=(g+f|0)/2|0,i=a[h];i=c(b,i);if(i===0)return h;if(i<0){if(f===h)if(c(a[g],b)===0)return g;else return-(f+1|0)|0;d=h;continue}if(g===h)if(c(a[f],b)===0)return f;else return-(f+1|0)|0;e=h;continue}}}function v(a,c,d){return u(a,c,b("bs_curry").__2(d))}var w,x;f.Int=w;f.$$String=x;f.strictlySortedLengthU=h;f.strictlySortedLength=a;f.isSortedU=i;f.isSorted=c;f.stableSortInPlaceByU=q;f.stableSortInPlaceBy=r;f.stableSortByU=s;f.stableSortBy=t;f.binarySearchByU=u;f.binarySearchBy=v;f.unionU=k;f.union=d;f.intersectU=l;f.intersect=e;f.diffU=m;f.diff=n}),null);
__d("bs_belt_internalAVLset",["bs_curry","bs_caml_option","bs_belt_SortArray"],(function(a,b,c,d,e,f){"use strict";function g(a){if(a!==void 0)return{v:a.v,h:a.h,l:g(a.l),r:g(a.r)};else return a}function h(a,b,c){var d=a!==void 0?a.h:0,e=c!==void 0?c.h:0;return{v:b,h:(d>=e?d:e)+1|0,l:a,r:c}}function i(a){return{v:a,h:1,l:void 0,r:void 0}}function j(a,b){if(b!==void 0)if(a!==void 0)return a.h>=b.h;else return!1;else return!0}function k(a,b,c){var d=a!==void 0?a.h:0,e=c!==void 0?c.h:0;if(d>(e+2|0)){var f=a.l,g=a.r;if(j(f,g))return h(f,a.v,h(g,b,c));else return h(h(f,a.v,g.l),g.v,h(g.r,b,c))}if(e<=(d+2|0))return{v:b,h:(d>=e?d:e)+1|0,l:a,r:c};f=c.l;g=c.r;if(j(g,f))return h(h(a,b,f),c.v,g);else return h(h(a,b,f.l),f.v,h(f.r,c.v,g))}function l(a){while(!0){var b=a,c=b.l;if(c===void 0)return b.v;a=c;continue}}function a(a){if(a!==void 0)return b("bs_caml_option").some(l(a))}function c(a){if(a!==void 0)return l(a)}function m(a){while(!0){var b=a,c=b.r;if(c===void 0)return b.v;a=c;continue}}function d(a){if(a!==void 0)return b("bs_caml_option").some(m(a))}function e(a){if(a!==void 0)return m(a)}function n(a,b){var c=a.l;if(c!==void 0)return k(n(c,b),a.v,a.r);else{b.contents=a.v;return a.r}}function o(a){return a===void 0}function p(a,b){while(!0){var c=b,d=a;if(d===void 0)return c;b={hd:d,tl:c};a=d.l;continue}}function q(a,b){while(!0){var c=a;if(c===void 0)return;q(c.l,b);b(c.v);a=c.r;continue}}function r(a,c){return q(a,b("bs_curry").__1(c))}function s(a,b,c){while(!0){var d=b,e=a;if(e===void 0)return d;b=c(s(e.l,d,c),e.v);a=e.r;continue}}function t(a,c,d){return s(a,c,b("bs_curry").__2(d))}function u(a,b){while(!0){var c=a;if(c===void 0)return!0;if(!b(c.v))return!1;if(!u(c.l,b))return!1;a=c.r;continue}}function v(a,c){return u(a,b("bs_curry").__1(c))}function w(a,b){while(!0){var c=a;if(c===void 0)return!1;if(b(c.v))return!0;if(w(c.l,b))return!0;a=c.r;continue}}function x(a,c){return w(a,b("bs_curry").__1(c))}function y(a,b){if(a!==void 0)return k(y(a.l,b),a.v,a.r);else return i(b)}function z(a,b){if(a!==void 0)return k(a.l,a.v,z(a.r,b));else return i(b)}function A(a,b,c){if(a===void 0)return y(c,b);if(c===void 0)return z(a,b);var d=a.h,e=c.h;if(d>(e+2|0))return k(a.l,a.v,A(a.r,b,c));else if(e>(d+2|0))return k(A(a,b,c.l),c.v,c.r);else return h(a,b,c)}function B(a,b){if(a===void 0)return b;if(b===void 0)return a;var c={contents:b.v};b=n(b,c);return A(a,c.contents,b)}function C(a,b){if(a===void 0)return[void 0,void 0];var c=a.v,d=C(a.l,b),e=d[1];d=d[0];var f=b(c);a=C(a.r,b);b=a[1];a=a[0];if(f)return[A(d,c,a),B(e,b)];else return[B(d,a),A(e,c,b)]}function D(a,c){return C(a,b("bs_curry").__1(c))}function E(a){var b=a.l;a=a.r;b=b!==void 0?E(b):0;a=a!==void 0?E(a):0;return(1+b|0)+a|0}function F(a){if(a!==void 0)return E(a);else return 0}function G(a,b){while(!0){var c=b,d=a;if(d===void 0)return c;b={hd:d.v,tl:G(d.r,c)};a=d.l;continue}}function H(a){return G(a,0)}function I(a){while(!0){var b=a;if(b===void 0)return;var c=b.l;b=b.r;var d=(c!==void 0?c.h:0)-(b!==void 0?b.h:0)|0;if(!(d<=2&&d>=-2))throw{RE_EXN_ID:"Assert_failure",_1:["belt_internalAVLset.ml",290,4],Error:new Error()};I(c);a=b;continue}}function J(a,b,c){while(!0){var d=b,e=a,f=e.v,g=e.l;e=e.r;g=g!==void 0?J(g,d,c):d;c[g]=f;d=g+1|0;if(e===void 0)return d;b=d;a=e;continue}}function K(a,b,c,d){while(!0){var e=a,f=e.v,g=e.l;e=e.r;g!==void 0&&K(g,b,c,d);if(d(f)){g=b.forward;c[g]=f;b.forward=g+1|0}else{g=b.backward;c[g]=f;b.backward=g-1|0}if(e===void 0)return;a=e;continue}}function L(a,b,c,d){while(!0){var e=b,f=a,g=f.v,h=f.l;f=f.r;h=h!==void 0?L(h,e,c,d):e;e=d(g)?(c[h]=g,h+1|0):h;if(f===void 0)return e;b=e;a=f;continue}}function M(b){if(b===void 0)return[];var a=E(b);a=new Array(a);J(b,0,a);return a}function N(a,b,c){switch(c){case 0:return;case 1:return i(a[b]);case 2:var d=a[b],e=a[b-1|0];return{v:e,h:2,l:i(d),r:void 0};case 3:e=a[b];d=a[b-1|0];var f=a[b-2|0];return{v:d,h:2,l:i(e),r:i(f)};default:d=c/2|0;e=N(a,b,d);f=a[b-d|0];a=N(a,(b-d|0)-1|0,(c-d|0)-1|0);return h(e,f,a)}}function O(a,b,c){switch(c){case 0:return;case 1:return i(a[b]);case 2:var d=a[b],e=a[b+1|0];return{v:e,h:2,l:i(d),r:void 0};case 3:e=a[b];d=a[b+1|0];var f=a[b+2|0];return{v:d,h:2,l:i(e),r:i(f)};default:d=c/2|0;e=O(a,b,d);f=a[b+d|0];a=O(a,(b+d|0)+1|0,(c-d|0)-1|0);return h(e,f,a)}}function P(a){return O(a,0,a.length)}function Q(a,b){if(a===void 0)return;var c=a.v,d=a.l,e=a.r,f=Q(d,b),g=b(c);b=Q(e,b);if(g)if(d===f&&e===b)return a;else return A(f,c,b);else return B(f,b)}function aa(a,c){return Q(a,b("bs_curry").__1(c))}function R(b,c){if(b===void 0)return;var a=E(b);a=new Array(a);b=L(b,0,a,c);return O(a,0,b)}function ba(a,c){return R(a,b("bs_curry").__1(c))}function S(b,c){if(b===void 0)return[void 0,void 0];var a=E(b),d=new Array(a),e=a-1|0,f={forward:0,backward:e};K(b,f,d,c);b=f.forward;return[O(d,0,b),N(d,e,a-b|0)]}function ca(a,c){return S(a,b("bs_curry").__1(c))}function da(b,c,a){while(!0){var d=b;if(d===void 0)return!1;var e=d.v;e=a(c,e);if(e===0)return!0;b=e<0?d.l:d.r;continue}}function T(a,b,c){var d=F(a),e=F(b);if(d===e){a=p(a,0);b=p(b,0);while(!0){var f=b,g=a;if(!g)return 0;if(!f)return 0;var h=f.hd,i=g.hd,j=c(i.v,h.v);if(j!==0)return j;b=p(h.r,f.tl);a=p(i.r,g.tl);continue}}else if(d<e)return-1;else return 1}function ea(a,b,c){return T(a,b,c)===0}function U(b,c,a){while(!0){var d=c,e=b;if(e===void 0)return!0;if(d===void 0)return!1;var f=e.v,g=e.l;e=e.r;var i=d.v,j=d.l;d=d.r;i=a(f,i);if(i===0){if(!U(g,j,a))return!1;c=d;b=e;continue}if(i<0){if(!U(h(g,f,void 0),j,a))return!1;b=e;continue}if(!U(h(void 0,f,e),d,a))return!1;b=g;continue}}function fa(c,d,a){while(!0){var e=c;if(e===void 0)return;var f=e.v,g=a(d,f);if(g===0)return b("bs_caml_option").some(f);c=g<0?e.l:e.r;continue}}function ga(b,c,a){while(!0){var d=b;if(d===void 0)return;var e=d.v,f=a(c,e);if(f===0)return e;b=f<0?d.l:d.r;continue}}function ha(b,c,a){while(!0){var d=b;if(d!==void 0){var e=d.v,f=a(c,e);if(f===0)return e;b=f<0?d.l:d.r;continue}throw{RE_EXN_ID:"Not_found",Error:new Error()}}}function V(a){var b=a.l;a.l=b.r;b.r=a;var c=a.l;c=c!==void 0?c.h:0;var d=a.r;d=d!==void 0?d.h:0;a.h=(c>d?c:d)+1|0;c=b.l;d=c!==void 0?c.h:0;c=a.h;b.h=(d>c?d:c)+1|0;return b}function W(a){var b=a.r;a.r=b.l;b.l=a;var c=a.l;c=c!==void 0?c.h:0;var d=a.r;d=d!==void 0?d.h:0;a.h=(c>d?c:d)+1|0;c=b.r;d=c!==void 0?c.h:0;c=a.h;b.h=(d>c?d:c)+1|0;return b}function ia(a){var b=a.l;b=W(b);a.l=b;return V(a)}function ja(a){var b=a.r;b=V(b);a.r=b;return W(a)}function X(a){var b=a.l;b=b!==void 0?b.h:0;var c=a.r;c=c!==void 0?c.h:0;a.h=(b>c?b:c)+1|0;return a}function Y(a){var b=a.l,c=a.r,d=b!==void 0?b.h:0,e=c!==void 0?c.h:0;if(d>(2+e|0)){var f=b.l;b=b.r;if(j(f,b))return X(V(a));else return X(ia(a))}if(e>(2+d|0)){f=c.l;b=c.r;if(j(b,f))return X(W(a));else return X(ja(a))}a.h=(d>e?d:e)+1|0;return a}function Z(a,b,c){if(b===void 0)return i(c);var d=b.v;d=a(c,d);if(d===0)return b;var e=b.l,f=b.r;if(d<0){d=Z(a,e,c);b.l=d}else b.r=Z(a,f,c);return Y(b)}function ka(c,a){var d=c.length;if(d===0)return;var e=b("bs_belt_SortArray").strictlySortedLengthU(c,function(b,c){return a(b,c)<0}),f;e>=0?f=O(c,0,e):(e=-e|0,f=N(c,e-1|0,e));for(var e=e;e<d;++e)f=Z(a,f,c[e]);return f}function $(a,b){var c=b.l,d=b.r;if(c!==void 0){b.l=$(a,c);return Y(b)}else{a.v=b.v;return d}}f.copy=g;f.create=h;f.bal=k;f.singleton=i;f.minimum=a;f.minUndefined=c;f.maximum=d;f.maxUndefined=e;f.removeMinAuxWithRef=n;f.isEmpty=o;f.stackAllLeft=p;f.forEachU=q;f.forEach=r;f.reduceU=s;f.reduce=t;f.everyU=u;f.every=v;f.someU=w;f.some=x;f.joinShared=A;f.concatShared=B;f.keepSharedU=Q;f.keepShared=aa;f.keepCopyU=R;f.keepCopy=ba;f.partitionSharedU=C;f.partitionShared=D;f.partitionCopyU=S;f.partitionCopy=ca;f.lengthNode=E;f.size=F;f.toList=H;f.checkInvariantInternal=I;f.fillArray=J;f.toArray=M;f.fromSortedArrayAux=O;f.fromSortedArrayRevAux=N;f.fromSortedArrayUnsafe=P;f.has=da;f.cmp=T;f.eq=ea;f.subset=U;f.get=fa;f.getUndefined=ga;f.getExn=ha;f.fromArray=ka;f.addMutate=Z;f.balMutate=Y;f.removeMinAuxWithRootMutate=$}),null);
__d("bs_belt_SetDict",["bs_belt_internalAVLset"],(function(a,b,c,d,e,f){"use strict";function g(c,d,a){if(c===void 0)return b("bs_belt_internalAVLset").singleton(d);var e=c.v,f=a(d,e);if(f===0)return c;var h=c.l,i=c.r;if(f<0){f=g(h,d,a);if(f===h)return c;else return b("bs_belt_internalAVLset").bal(f,e,i)}f=g(i,d,a);if(f===i)return c;else return b("bs_belt_internalAVLset").bal(h,e,f)}function h(c,d,a){if(c===void 0)return c;var e=c.v,f=c.l,g=c.r,i=a(d,e);if(i===0){if(f===void 0)return g;if(g===void 0)return f;var j={contents:g.v},k=b("bs_belt_internalAVLset").removeMinAuxWithRef(g,j);return b("bs_belt_internalAVLset").bal(f,j.contents,k)}if(i<0){j=h(f,d,a);if(j===f)return c;else return b("bs_belt_internalAVLset").bal(j,e,g)}k=h(g,d,a);if(k===g)return c;else return b("bs_belt_internalAVLset").bal(f,e,k)}function a(b,c,a){var d=c.length;b=b;for(var e=0;e<d;++e){var f=c[e];b=g(b,f,a)}return b}function c(b,c,a){var d=c.length;b=b;for(var e=0;e<d;++e){var f=c[e];b=h(b,f,a)}return b}function i(a,c,d){var e=c.v,f=c.l,g=c.r,h=a(d,e);if(h===0)return[f,g];if(h<0){if(f===void 0)return[void 0,c];h=i(a,f,d);return[h[0],b("bs_belt_internalAVLset").joinShared(h[1],e,g)]}if(g===void 0)return[c,void 0];h=i(a,g,d);return[b("bs_belt_internalAVLset").joinShared(f,e,h[0]),h[1]]}function j(a,c,d,e){var f=c.v,g=c.l,h=c.r,i=a(d,f);if(i===0){e.contents=!0;return[g,h]}if(i<0){if(g===void 0)return[void 0,c];i=j(a,g,d,e);return[i[0],b("bs_belt_internalAVLset").joinShared(i[1],f,h)]}if(h===void 0)return[c,void 0];i=j(a,h,d,e);return[b("bs_belt_internalAVLset").joinShared(g,f,i[0]),i[1]]}function d(b,c,a){if(b===void 0)return[[void 0,void 0],!1];var d={contents:!1};a=j(a,b,c,d);return[a,d.contents]}function k(c,d,a){if(c===void 0)return d;if(d===void 0)return c;var e=c.h,f=d.h;if(e>=f){if(f===1)return g(c,d.v,a);f=c.v;var h=c.l,j=c.r,l=i(a,d,f);return b("bs_belt_internalAVLset").joinShared(k(h,l[0],a),f,k(j,l[1],a))}if(e===1)return g(d,c.v,a);h=d.v;f=d.l;j=d.r;l=i(a,c,h);return b("bs_belt_internalAVLset").joinShared(k(l[0],f,a),h,k(l[1],j,a))}function l(c,d,a){if(c===void 0)return;if(d===void 0)return;var e=c.v,f=c.l;c=c.r;var g={contents:!1};d=j(a,d,e,g);f=l(f,d[0],a);c=l(c,d[1],a);if(g.contents)return b("bs_belt_internalAVLset").joinShared(f,e,c);else return b("bs_belt_internalAVLset").concatShared(f,c)}function m(c,d,a){if(c===void 0)return c;if(d===void 0)return c;var e=c.v,f=c.l;c=c.r;var g={contents:!1};d=j(a,d,e,g);f=m(f,d[0],a);c=m(c,d[1],a);if(g.contents)return b("bs_belt_internalAVLset").concatShared(f,c);else return b("bs_belt_internalAVLset").joinShared(f,e,c)}var n,o=(e=b("bs_belt_internalAVLset")).fromArray,p=e.fromSortedArrayUnsafe,q=e.isEmpty,r=e.has,s=e.subset,t=e.cmp,u=e.eq,v=e.forEachU,w=e.forEach,x=e.reduceU,y=e.reduce,z=e.everyU,A=e.every,B=e.someU,C=e.some,D=e.keepSharedU,E=e.keepShared,F=e.partitionSharedU,G=e.partitionShared,H=e.size,I=e.toList,J=e.toArray,K=e.minimum,L=e.minUndefined,M=e.maximum,N=e.maxUndefined,O=e.get,P=e.getUndefined,Q=e.getExn;e=e.checkInvariantInternal;f.empty=n;f.fromArray=o;f.fromSortedArrayUnsafe=p;f.isEmpty=q;f.has=r;f.add=g;f.mergeMany=a;f.remove=h;f.removeMany=c;f.union=k;f.intersect=l;f.diff=m;f.subset=s;f.cmp=t;f.eq=u;f.forEachU=v;f.forEach=w;f.reduceU=x;f.reduce=y;f.everyU=z;f.every=A;f.someU=B;f.some=C;f.keepU=D;f.keep=E;f.partitionU=F;f.partition=G;f.size=H;f.toList=I;f.toArray=J;f.minimum=K;f.minUndefined=L;f.maximum=M;f.maxUndefined=N;f.get=O;f.getUndefined=P;f.getExn=Q;f.split=d;f.checkInvariantInternal=e}),null);
__d("bs_belt_Set",["bs_curry","bs_belt_SetDict"],(function(a,b,c,d,e,f){"use strict";function a(a,c){c=c.cmp;return{cmp:c,data:b("bs_belt_SetDict").fromArray(a,c)}}function c(c,d){var e=c.data,a=c.cmp;d=b("bs_belt_SetDict").remove(e,d,a);if(d===e)return c;else return{cmp:a,data:d}}function d(c,d){var e=c.data,a=c.cmp;d=b("bs_belt_SetDict").add(e,d,a);if(d===e)return c;else return{cmp:a,data:d}}function e(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").mergeMany(c.data,d,a)}}function g(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").removeMany(c.data,d,a)}}function h(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").union(c.data,d.data,a)}}function i(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").intersect(c.data,d.data,a)}}function j(c,d){var a=c.cmp;return{cmp:a,data:b("bs_belt_SetDict").diff(c.data,d.data,a)}}function k(c,d){var a=c.cmp;return b("bs_belt_SetDict").subset(c.data,d.data,a)}function l(c,d){var a=c.cmp;c=b("bs_belt_SetDict").split(c.data,d,a);d=c[0];return[[{cmp:a,data:d[0]},{cmp:a,data:d[1]}],c[1]]}function m(a){return{cmp:a.cmp,data:void 0}}function n(a){return b("bs_belt_SetDict").isEmpty(a.data)}function o(a,c){var d=a.cmp;return b("bs_belt_SetDict").cmp(a.data,c.data,d)}function p(a,c){return b("bs_belt_SetDict").eq(a.data,c.data,a.cmp)}function q(a,c){return b("bs_belt_SetDict").forEachU(a.data,c)}function r(a,c){return b("bs_belt_SetDict").forEachU(a.data,b("bs_curry").__1(c))}function s(a,c,d){return b("bs_belt_SetDict").reduceU(a.data,c,d)}function t(a,c,d){return s(a,c,b("bs_curry").__2(d))}function u(a,c){return b("bs_belt_SetDict").everyU(a.data,c)}function v(a,c){return b("bs_belt_SetDict").everyU(a.data,b("bs_curry").__1(c))}function w(a,c){return b("bs_belt_SetDict").someU(a.data,c)}function x(a,c){return b("bs_belt_SetDict").someU(a.data,b("bs_curry").__1(c))}function y(a,c){return{cmp:a.cmp,data:b("bs_belt_SetDict").keepU(a.data,c)}}function z(a,c){return y(a,b("bs_curry").__1(c))}function A(a,c){c=b("bs_belt_SetDict").partitionU(a.data,c);a=a.cmp;return[{cmp:a,data:c[0]},{cmp:a,data:c[1]}]}function B(a,c){return A(a,b("bs_curry").__1(c))}function C(a){return b("bs_belt_SetDict").size(a.data)}function D(a){return b("bs_belt_SetDict").toList(a.data)}function E(a){return b("bs_belt_SetDict").toArray(a.data)}function F(a){return b("bs_belt_SetDict").minimum(a.data)}function G(a){return b("bs_belt_SetDict").minUndefined(a.data)}function H(a){return b("bs_belt_SetDict").maximum(a.data)}function I(a){return b("bs_belt_SetDict").maxUndefined(a.data)}function J(a,c){return b("bs_belt_SetDict").get(a.data,c,a.cmp)}function K(a,c){return b("bs_belt_SetDict").getUndefined(a.data,c,a.cmp)}function L(a,c){return b("bs_belt_SetDict").getExn(a.data,c,a.cmp)}function M(a,c){return b("bs_belt_SetDict").has(a.data,c,a.cmp)}function N(a,c){return{cmp:c.cmp,data:b("bs_belt_SetDict").fromSortedArrayUnsafe(a)}}function O(a){return a.data}function P(a){a=a.cmp;return{cmp:a}}function Q(a,b){return{cmp:a.cmp,data:b}}function R(a){return b("bs_belt_SetDict").checkInvariantInternal(a.data)}var S,T,U;f.Int=S;f.$$String=T;f.Dict=U;f.make=m;f.fromArray=a;f.fromSortedArrayUnsafe=N;f.isEmpty=n;f.has=M;f.add=d;f.mergeMany=e;f.remove=c;f.removeMany=g;f.union=h;f.intersect=i;f.diff=j;f.subset=k;f.cmp=o;f.eq=p;f.forEachU=q;f.forEach=r;f.reduceU=s;f.reduce=t;f.everyU=u;f.every=v;f.someU=w;f.some=x;f.keepU=y;f.keep=z;f.partitionU=A;f.partition=B;f.size=C;f.toArray=E;f.toList=D;f.minimum=F;f.minUndefined=G;f.maximum=H;f.maxUndefined=I;f.get=J;f.getUndefined=K;f.getExn=L;f.split=l;f.checkInvariantInternal=R;f.getData=O;f.getId=P;f.packIdData=Q}),null);
__d("MercuryServerURIs",[],(function(a,b,c,d,e,f){"use strict";a="/ajax/mercury/thread_info.php";f.THREAD_INFO=a;b="/ajax/mercury/mark_folder_as_read.php";f.MARK_FOLDER_READ=b;c="/ajax/mercury/change_read_status.php";f.CHANGE_READ_STATUS=c;d="/ajax/mercury/mark_seen.php";f.MARK_SEEN=d;e="/ajax/mercury/threadlist_info.php";f.THREADLIST_INFO=e;a="/ajax/mercury/mark_spam.php";f.MARK_SPAM=a;b="/ajax/mercury/unmark_spam.php";f.UNMARK_SPAM=b;c="/ajax/mercury/unread_threads.php";f.UNREAD_THREADS=c;d="/ajax/mercury/change_pinned_status.php";f.CHANGE_PINNED_STATUS=d;e="/ajax/mercury/change_archived_status.php";f.CHANGE_ARCHIVED_STATUS=e;a="/ajax/mercury/change_page_follow_up_status.php";f.CHANGE_PAGE_FOLLOW_UP_STATUS=a;b="/ajax/mercury/delete_thread.php";f.DELETE_THREAD=b;c="/ajax/mercury/delete_messages.php";f.DELETE_MESSAGES=c;d="/ajax/mercury/delivery_receipts.php";f.DELIVERY_RECEIPTS=d;e="/ajax/mercury/move_thread.php";f.MOVE_THREAD=e;a="/ajax/mercury/change_mute_thread.php";f.CHANGE_MUTE_THREAD=a}),null);
__d("areJSONRepresentationsEqual",[],(function(a,b,c,d,e,f){e.exports=a;function a(a,b){return JSON.stringify(a)==JSON.stringify(b)}}),null);
__d("MercuryServerDispatcher",["AsyncRequest","AsyncResponse","BanzaiLogger","Bootloader","ChatReliabilityInstrumentation","CurrentUser","FBIDCheck","LogHistory","MercuryMessagingLightswitch","MercuryServerURIs","MessagingTag","MessengerWebGraphQLTypedLogger","areJSONRepresentationsEqual","debounceAcrossTransitions","getByPath","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";var g,h={},i=b("LogHistory").getInstance("mercury_server_dispatcher"),j=50,k=[],l=!1,m={IMMEDIATE:"immediate",IDEMPOTENT:"idempotent",BATCH_SUCCESSIVE:"batch-successive",BATCH_SUCCESSIVE_UNIQUE:"batch-successive-unique",BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:"batch-successive-piggyback-retry",BATCH_DEFERRED_MULTI:"batch-deferred-multi",BATCH_CONDITIONAL:"batch-conditional",DEFAULT_ENDPOINT_ID:"mercuryServerDispatcherDefaultEndpointID",registerEndpoints:function(a){for(var c in a){var d=a[c],e=d.request_user_id||b("CurrentUser").getID(),f=d.endpoint_id||m.DEFAULT_ENDPOINT_ID;h[c]||(h[c]={});h[c][e]||(h[c][e]={});h[c][e][f]=new n(c,d)}},trySend:function(a,c,d,e,f){e=e||b("CurrentUser").getID(),f=f||m.DEFAULT_ENDPOINT_ID,h[a][e][f].trySend(c,d)},getRequestErrors:function(){return k}};function n(a,c){var d=c.mode||m.IMMEDIATE;switch(d){case m.IMMEDIATE:case m.IDEMPOTENT:case m.BATCH_SUCCESSIVE:case m.BATCH_SUCCESSIVE_UNIQUE:case m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR:case m.BATCH_DEFERRED_MULTI:case m.BATCH_CONDITIONAL:break;default:throw new Error("Invalid MercuryServerDispatcher mode "+d)}this._endpoint=a;this._mode=d;this._customHeader=c.customHeader;this._requestUserID=c.request_user_id;this._combineData=c.batch_function;this._combineDataIf=c.batch_if;this._batches=[];this._handler=c.handler;this._errorHandler=c.error_handler;this._transportErrorHandler=c.transport_error_handler||c.error_handler;this._connectionRetries=c.connection_retries||0;this._timeoutHandler=c.timeout_handler;this._timeout=c.timeout;this._serverDialogCancelHandler=c.server_dialog_cancel_handler||c.error_handler;this._deferredSend=b("debounceAcrossTransitions")(this._batchSend,0,this)}Object.assign(n.prototype,{_inFlight:0,_handler:null,_errorHandler:null,_transportErrorHandler:null,_timeoutHandler:null,_timeout:null,_serverDialogCancelHandler:null,_combineData:null,trySend:function(a,b){if(l)return;a===void 0&&(a=null);b=b||this._mode;if(b==m.IMMEDIATE)this._send(a);else if(b==m.IDEMPOTENT)this._inFlight||this._send(a);else if(b==m.BATCH_SUCCESSIVE||b==m.BATCH_SUCCESSIVE_UNIQUE)!this._inFlight?this._send(a):this._batchData(a);else if(b==m.BATCH_CONDITIONAL){var c=this._batches[0]&&this._batches[0].getData();this._inFlight&&(this._combineDataIf(this._pendingRequestData,a)||this._combineDataIf(c,a))?this._batchData(a):this._send(a)}else b==m.BATCH_DEFERRED_MULTI?(this._batchData(a),this._deferredSend()):b==m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR&&(this._batchData(a),this._inFlight||this._batchSend())},_send:function(a){var c=this;this._inFlight++;this._pendingRequestData=babelHelpers["extends"]({},a);this._requestUserID!=b("CurrentUser").getID()&&(a.request_user_id=this._requestUserID);b("MercuryMessagingLightswitch").guard(function(){i.log("send",JSON.stringify({endpoint:c._endpoint,inflight_count:c._inFlight}))});var d=(g||(g=b("performanceAbsoluteNow")))(),e=new(b("AsyncRequest"))(this._endpoint).setData(a).setOption("retries",this._connectionRetries).setAllowCrossPageTransition(!0);this._customHeader&&e.setRequestHeader(this._customHeader.name,this._customHeader.value);if(this._endpoint===b("MercuryServerURIs").THREADLIST_INFO){b("Bootloader").loadModules(["MessengerGraphQLThreadlistFetcher.bs","MercuryJewelBootloadModules"],function(f,g){var h=a.request_user_id||b("CurrentUser").getID(),d=a.request_user_id&&!b("FBIDCheck").isUser_deprecated(a.request_user_id);g=(g={},g[b("MessagingTag").INBOX]="INBOX",g[b("MessagingTag").OTHER]="OTHER",g[b("MessagingTag").ACTION_ARCHIVED]="ARCHIVED",g[b("MessagingTag").SPAM]="SPAM",g[b("MessagingTag").PENDING]="PENDING",g[b("MessagingTag").PAGE_BACKGROUND]="PAGE_BACKGROUND",g);var i=[],j=Object.keys(g);for(var k=0;k<j.length;k++){var l=j[k];if(Object.prototype.hasOwnProperty.call(a,l)){var m=a[l];i.push({limit:m.before?m.limit+1:m.limit,folder:l,tags:m.filter?[g[l],m.filter]:[g[l]],timestamp:m.before,filter:m.filter,includeDeliveryReceipts:!0,includeSeqID:!1})}}l=function(){f.fetchAll(h,i,d,"fetch_threadlist").done(function(a){a=new(b("AsyncResponse"))(e,babelHelpers["extends"]({},a,{payload_source:"server_fetch_threadlist_info"}));c._handleResponse(a)},function(a){c._handleGraphQLError("threadlist_failure",i,a,e)})};l()},"MercuryServerDispatcher");return}if(this._endpoint===b("MercuryServerURIs").THREAD_INFO){var f,h=(f=b("getByPath"))(a,["threads","user_ids"],[]),j=f(a,["threads","thread_fbids"],[]),k=f(a,["messages","user_ids"],{}),l=f(a,["messages","thread_fbids"],{}),m=a.request_user_id&&!b("FBIDCheck").isUser_deprecated(a.request_user_id);b("Bootloader").loadModules(["MessengerGraphQLThreadFetcher.bs"],function(d){var f=a.request_user_id||b("CurrentUser").getID(),g=Object.keys(k),i=g.map(function(a){var b=k[a].limit,c=k[a].timestamp;return{id:a,limit:c?b+1:b,loadReadReceipts:!0,loadDeliveryReceipts:!0,timestamp:c,isCanonical:!0}}),n=new Set(g);h.forEach(function(a){if(n.has(a))return;i.push({id:a,limit:0,loadReadReceipts:!1,loadDeliveryReceipts:!1,timestamp:null,isCanonical:!0})});g=Object.keys(l);var o=g.map(function(a){var b=l[a].limit,c=l[a].timestamp;return{id:a,limit:c?b+1:b,loadReadReceipts:!0,loadDeliveryReceipts:!0,timestamp:c,isCanonical:!1}}),p=new Set(g);j.forEach(function(a){if(p.has(a))return;o.push({id:a,limit:0,loadReadReceipts:!1,loadDeliveryReceipts:!1,timestamp:null,isCanonical:!1})});var q=[].concat(i,o);q.forEach(function(a){a.limit>21&&b("ChatReliabilityInstrumentation").logFETCHING_MANY_MESSAGES(JSON.stringify(a))});d.fetchAll(f,q,m).done(function(a){a=a.slice(0);if(a.length>0){var d={};a.forEach(function(a){return Object.assign(d,a.roger)});var f=[];a.forEach(function(a){return f.push.apply(f,a.delivery_receipts)});var g=[];a.forEach(function(a){return g=g.concat(a.actions)});g=g.filter(Boolean);a={actions:g,threads:a.map(function(a){return a.thread}).filter(Boolean),end_of_history:a.map(function(a){return a.end_of_history}).filter(Boolean),roger:d,delivery_receipts:f,payload_source:"server_fetch_thread_info"};a=new(b("AsyncResponse"))(e,a);c._handleResponse(a)}else c._handleResponse(new(b("AsyncResponse"))(e,{}))},function(a){c._handleGraphQLError("thread_failure",q,a,e)})},"MercuryServerDispatcher");return}e.setHandler(function(a){b("MercuryMessagingLightswitch").guard(function(){b("BanzaiLogger").log("ChatPerfLoggerConfig",{event:"async_request",duration:(g||(g=b("performanceAbsoluteNow")))()-d,endpoint:c._endpoint})}),c._handleResponse(a)}).setErrorHandler(this._handleError.bind(this)).setTransportErrorHandler(this._handleTransportError.bind(this)).setServerDialogCancelHandler(this._handleServerDialogCancel.bind(this));this._timeout&&this._timeoutHandler&&e.setTimeoutHandler(this._timeout,this._handleTimeout.bind(this));e.send()},_handleGraphQLError:function(a,c,d,e){var f=null,g=e.getData().retry_count;typeof d.toString==="function"&&(f=d.toString());if(typeof d.getRequest!=="function"){var h=d.errors&&d.errors[0];d=new(b("AsyncResponse"))(e,d);d.errorSummary=d.errors&&d.errors.map();d.errorDescription=h?h.message:null;f=h&&h.message?h.message:f;d.silentError=h&&h.is_silent;d.transientError=h&&h.is_transient}g||new(b("MessengerWebGraphQLTypedLogger"))().setErrorMessage(f).setEvent(a).setQueryParams(JSON.stringify(c)).log();this._handleError(d)},_batchData:function(a,c){var d=this;if(this._mode==m.BATCH_SUCCESSIVE_UNIQUE&&this._pendingRequestData!==void 0&&b("areJSONRepresentationsEqual")(a,this._pendingRequestData))return;else{var e=this._batches.length-1;e>=0?c?this._batches[e].combineWithOlder(a,this._combineData):this._batches[e].combineWith(a,this._combineData):this._batches.push(new o(a));b("MercuryMessagingLightswitch").guard(function(){i.debug("batch",JSON.stringify({endpoint:d._endpoint}))})}},_batchSend:function(){this._batches[0]&&(this._send(this._batches[0].getData()),this._batches.shift())},_handleResponse:function(a){var c=this;this._inFlight--;b("MercuryMessagingLightswitch").guard(function(){i.log("response",JSON.stringify({endpoint:c._endpoint,inflight_count:c._inFlight}))});var d=a.getPayload();l=d&&d.kill_chat;l&&b("MercuryMessagingLightswitch").guard(function(){i.log("killswitch_enabled",JSON.stringify({endpoint:c._endpoint,inflight_count:c._inFlight}))});d&&d.error_payload?this._errorHandler&&this._errorHandler(a):this._handler&&this._handler(d,a.getRequest());(this._mode==m.BATCH_SUCCESSIVE||this._mode==m.BATCH_SUCCESSIVE_UNIQUE||this._mode==m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR||this._mode==m.BATCH_CONDITIONAL)&&this._batchSend();delete this._pendingRequestData},_createErrorRecord:function(a){return a instanceof b("AsyncResponse")?{endpoint:this._endpoint,user:this._requestUserID,time:Date.now(),code:a.getError(),description:a.getErrorDescriptionString(),summary:a.getErrorSummary(),isSilent:a.isSilent,isTransient:a.isTransient(),isBlockedAction:a.isBlockedAction(),isWarning:a.getErrorIsWarning(),payload:a.getPayload()}:{endpoint:this._endpoint,user:this._requestUserID,time:Date.now(),description:a.toString()}},_postErrorHandler:function(a){var c=this;this._inFlight--;b("MercuryMessagingLightswitch").guard(function(){i.error("error",JSON.stringify({endpoint:c._endpoint,inflight_count:c._inFlight,error:a instanceof b("AsyncResponse")?a.getError()+" "+a.getErrorDescription():a instanceof Error?a.toString():"Unknown"}))});k.push(this._createErrorRecord(a));k.length>j&&(k=k.slice(-1*j));var d=this._mode;d==m.BATCH_SUCCESSIVE||d==m.BATCH_SUCCESSIVE_UNIQUE||d==m.BATCH_CONDITIONAL?this._batchSend():d==m.BATCH_SUCCESSIVE_PIGGYBACK_ON_ERROR&&(this._batches[0]?(this._batchData(this._pendingRequestData,!0),this._batchSend()):this._batchData(this._pendingRequestData,!0));delete this._pendingRequestData},_handleError:function(a){this._errorHandler&&this._errorHandler(a),this._postErrorHandler(a)},_handleTransportError:function(a){this._transportErrorHandler&&this._transportErrorHandler(a),this._postErrorHandler(a)},_handleTimeout:function(a){this._timeoutHandler&&this._timeoutHandler(a),this._postErrorHandler(new Error("Endpoint Timeout"))},_handleServerDialogCancel:function(a){this._serverDialogCancelHandler&&this._serverDialogCancelHandler(a),this._postErrorHandler(a)}});function o(a){this._data=a,this._size=1}Object.assign(o.prototype,{getData:function(){return this._data},getSize:function(){return this._size},combineWith:function(a,b){this._data=b(this._data,a),this._size++},combineWithOlder:function(a,b){this._data=b(a,this._data),this._size++}});e.exports=m}),null);
__d("MercurySyncDeltaHolder",["MercurySingletonProvider"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$2=new Map(),this.$3=[],this.$1=0}a.getForFBID=function(a){return g.getForFBID(a)};a.get=function(){return g.get()};var b=a.prototype;b.peek=function(){this.$3=this.$3.sort(function(a,b){return a-b});return this.$3[0]};b.getTop=function(){this.$3=this.$3.sort(function(a,b){return a-b});return this.$3.reverse()[0]};b.pop=function(){this.$3=this.$3.sort(function(a,b){return a-b});if(this.$3.length===0)return void 0;var a=this.$3.shift(),b=this.$2.get(a);this.$2["delete"](a);return{seqID:a,delta:b}};b.push=function(a,b){if(this.$2.has(a))return;this.$2.set(a,b);this.$3.push(a)};b.getLastSeqID=function(){return this.$1};b.updateLastSeqID=function(a){this.$1=a};b.updateLastSeqIDAndClearHistory=function(a){this.$2=new Map(),this.$3=[],this.$1=a};return a}();e.exports=a;var g=new(b("MercurySingletonProvider"))(a)}),null);
__d("MercurySyncConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({ARBITER_EVENT_INVALID_STATE:"SYNC:INVALID_STATE",ARBITER_EVENT_INVALID_STATE_RETRY:"SYNC:INVALID_STATE_RETRY",ARBITER_EVENT_INVALID_STATE_RECOVER:"SYNC:INVALID_STATE_RECOVER",ARBITER_EVENT_INVALID_STATE_STALE:"SYNC:INVALID_STATE_STALE"});e.exports=a}),null);
__d("MWChatParticipantsHook.bs",["bs_curry","React","bs_belt_Map","bs_belt_Array","bs_belt_Option","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MessengerParticipants.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){a=a.slice().sort(function(a,b){if(a>b)return-1;else if(a===b)return 0;else return 1});return a.join(",")}function i(a){if(a===void 0)return"";a=b("bs_caml_option").valFromOption(a);var c=h(a.participants);a=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.thread_type),0);return String(a)+c}function a(a){var c=b("MessengerState.bs").useHook(b("CurrentUser").getID());c=b("bs_belt_Map").get(c.threads,b("MWChatThreadId.bs").getMercuryID(a));var d=c!==void 0?b("bs_caml_option").valFromOption(c).participants:[],e=b("bs_belt_Array").keepMap(d,function(a){a=b("MessengerParticipants.bs").getNow(a);if(!(a==null))return b("bs_caml_option").some(a)});a=g.useState(function(){var a={};e.length===d.length&&e.forEach(function(b){a[b.id]=b});return a});var f=a[1];c=i(c);g.useEffect(function(){var a=b("MessengerParticipants.bs").getMulti(d,function(a){return b("bs_curry")._1(f,function(b){return a})});return function(c){if(!(a==null))return b("MessengerParticipants.bs").removeCallback(a)}},[c,f]);return a[0]}f.createHashForParticipantIds=h;f.useParticipantsPayloadHash=i;f.useParticipants=a}),null);
__d("MWMSCurrentThreadDetails.bs",["CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWThread_DEPRECATED.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MWThread_DEPRECATED.bs").useIdExn(void 0);return b("MessengerState.bs").getThreadMetaNow(b("CurrentUser").getID(),b("MWChatThreadId.bs").getMercuryID(a))}f.useHook=a}),null);
__d("MercuryParticipantListRenderer",["fbt","MercuryIDs"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){var a=this;this.$6=function(c){var d=a.$5;if(d!=null){var e=b("MercuryIDs").getUserIDFromParticipantID(c.id);if(e!=null&&d[e]!=null&&d[e]!=void 0)return d[e]}return a.$2?c.short_name:c.name};this.$1=!1;this.$2=!1;this.$3=!1;this.$4=0;this.$5=null}var c=a.prototype;c.renderParticipantList=function(a){a=a.map(this.$6);switch(a.length){case 0:return h(this.$1);case 1:return i(a);case 2:return this.$3?k(a):j(a);case 3:return this.$3?m(a):l(a);default:return this.$3?o(a,this.$4):n(a,this.$4)}};c.setIsNewThread=function(a){this.$1=a;return this};c.setNameRenderer=function(a){this.$6=a;return this};c.setUseShortName=function(a){this.$2=a;return this};c.setNickname=function(a){this.$5=a;return this};c.setUseAndSeparator=function(a){this.$3=a;return this};c.setTotalParticipantCount=function(a){this.$4=a;return this};return a}();e.exports=a;function h(a){if(a)return g._("New Message");else return g._("No Participants")}function i(a){return a[0]}function j(a){return g._("{participant1}, {participant2}",[g._param("participant1",a[0]),g._param("participant2",a[1])])}function k(a){return g._("{participant1} and {participant2}",[g._param("participant1",a[0]),g._param("participant2",a[1])])}function l(a){return g._("{participant1}, {participant2}, {participant3}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2])])}function m(a){return g._("{participant1}, {participant2} and {participant3}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2])])}function n(a,b){return g._("{participant1}, {participant2}, {participant3}, {others_link}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("participant3",a[2]),g._param("others_link",p((b||a.length)-3))])}function o(a,b){return g._("{participant1}, {participant2} and {others_link}",[g._param("participant1",a[0]),g._param("participant2",a[1]),g._param("others_link",p((b||a.length)-2))])}function p(a){if(a>1)return g._({"*":"{others_count} others"},[g._param("others_count",a,[0])]);else return g._("1 other")}}),null);
__d("MWMSThreadTitle.bs",["bs_js_dict","bs_belt_Array","MercuryIDs","bs_caml_option","CurrentUser","JsDictReadOnly.bs","MercuryParticipantListRenderer"],(function(a,b,c,d,e,f){"use strict";function g(a){var c={};b("bs_js_dict").entries(a).forEach(function(a){c[a[0]]=a[1]});return c}function h(a,c,d,e,f){if(a!=="")return a;a=g(d);return new(b("MercuryParticipantListRenderer"))().setUseShortName(f).setUseAndSeparator(e).setIsNewThread(!1).setNickname(a).renderParticipantList(c)}function i(a,c){if(a!==void 0)return[b("bs_caml_option").valFromOption(a)];else{var d=b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID());a=b("JsDictReadOnly.bs").keys(c);var e=a.length;return b("bs_belt_Array").keepMap(a,function(a){if(a===d&&e!==1)return;else{a=b("JsDictReadOnly.bs").get(c,a);if(a!==void 0)return b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(a).image_src);else return}})}}function a(a,c){return i(a,b("JsDictReadOnly.bs").from(c))}function j(a,c,d){var e=b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID()),f=b("JsDictReadOnly.bs").keys(c).length,g=b("bs_belt_Array").keepMap(b("JsDictReadOnly.bs").keys(c),function(a){if(a===e&&f>1)return;a=b("JsDictReadOnly.bs").get(c,a);if(a===void 0)return;a=b("bs_caml_option").valFromOption(a);return{id:a.id,name:a.name,short_name:a.short_name}});return h(a,g,d,!0,!0)}function c(a,c,d){return j(a,b("JsDictReadOnly.bs").from(c),d)}function k(a,c,d){c=b("JsDictReadOnly.bs").get(c,b("MercuryIDs").getParticipantIDFromUserID(a));if(c===void 0)return;a=b("bs_caml_option").valFromOption(c);return h("",[{id:a.id,name:a.name,short_name:a.short_name}],d,!1,!1)}function d(a,c,d){return k(a,b("JsDictReadOnly.bs").from(c),d)}function l(a,c){c=b("JsDictReadOnly.bs").get(c,b("MercuryIDs").getParticipantIDFromUserID(a));if(c!==void 0)return b("bs_caml_option").some(b("bs_caml_option").valFromOption(c).name)}function e(a,c){return l(a,b("JsDictReadOnly.bs").from(c))}f.getProfileImages_=i;f.getProfileImages=a;f.getTitleForGroup_=j;f.getTitleForGroup=c;f.getTitleForUser_=k;f.getTitleForUser=d;f.getTitleForPage_=l;f.getTitleForPage=e}),null);
__d("MWChatTitleHooks.bs",["bs_curry","React","bs_js_dict","bs_belt_Option","bs_caml_option","JsDictReadOnly.bs","MWMSThreadTitle.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c){return b("MWMSThreadTitle.bs").getProfileImages_(c,b("JsDictReadOnly.bs").from(a))}function c(a){var c=g.useState(function(){return b("bs_belt_Option").getWithDefault(b("bs_belt_Option").flatMap(a,function(a){return b("bs_caml_option").nullable_to_opt(a.custom_nickname)}),{})}),d=c[1],e=c[0],f=b("bs_belt_Option").flatMap(a,function(a){return b("bs_caml_option").nullable_to_opt(a.custom_nickname)});g.useEffect(function(){if(f!==void 0){var a=b("bs_caml_option").valFromOption(f);b("bs_curry")._1(d,function(b){return a})}return function(a){}},[f,d]);c=g.useCallback(function(a){return function(c){var f=b("bs_js_dict").get(e,a),g=b("bs_js_dict").map(function(a){return a},e);c!==void 0&&c!==""?g[a]=c:b("bs_js_dict").unsafeDeleteKey(g,a);b("bs_curry")._1(d,function(a){return g});return f}},[e,d]);return[e,c]}f.useImages=a;f.useNicknames=c}),null);
__d("MWMSLoadParticipants.bs",["bs_js_dict","bs_belt_Map","bs_belt_Option","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWChatTitleHooks.bs","MWChatParticipantsHook.bs"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=b("MessengerState.bs").useHook(b("CurrentUser").getID());c=b("bs_belt_Map").get(c.threads,b("MWChatThreadId.bs").getMercuryID(a));a=b("MWChatParticipantsHook.bs").useParticipants(a);c=b("MWChatTitleHooks.bs").useNicknames(c);return[a,c[0],c[1]]}function a(a){var c=b("MessengerState.bs").useHook(b("CurrentUser").getID());c=b("bs_belt_Map").get(c.threads,b("MWChatThreadId.bs").getMercuryID(a));var d=c!==void 0?b("bs_caml_option").valFromOption(c).admins:{};c=g(a);var e=c[1];a=b("bs_js_dict").values(c[0]);var f=new Map();a.forEach(function(a){var c=a.fbid,g=b("bs_js_dict").get(e,c);c=b("bs_js_dict").get(d,c);var h=a.fbid,i=b("bs_belt_Option").getWithDefault(g,a.short_name),j=a.name,k=b("bs_caml_option").nullable_to_opt(a.href),l=b("bs_caml_option").nullable_to_opt(a.image_src),m=a.is_friend;c=b("bs_belt_Option").isSome(c);h={contactId:h,name:i,actualName:j,nickname:g,profileUrl:k,profilePictureUrl:l,isContact:m,isAdmin:c};f.set(a.fbid,h)});return f}f.useMercuryParticipants=g;f.useParticipants=a}),null);
__d("MWUIThreadImage.bs",["requireCond","cr:1549085"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1549085").useHook;f.$MWLSThreadImage$OR$MWMSThreadImage$requireCond=b("cr:1549085");f.useHook=a}),null);
__d("MWMSLoadThreadPicture.bs",["bs_curry","MWUIThreadImage.bs","MWChatTitleHooks.bs","MWThread_DEPRECATED.bs","MWUILoadParticipants.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MWThread_DEPRECATED.bs").useIdExn(void 0);a=b("bs_curry")._1(b("MWUILoadParticipants.bs").useMercuryParticipants,a);var c=b("bs_curry")._1(b("MWUIThreadImage.bs").useHook,void 0);return b("MWChatTitleHooks.bs").useImages(a[0],c)}f.useHook=a}),null);
__d("MWUIThreadName.bs",["requireCond","cr:1549086"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1549086").useHook;f.$MWLSThreadName$OR$MWMSThreadName$requireCond=b("cr:1549086");f.useHook=a}),null);
__d("MWMSLoadThreadTitle.bs",["bs_curry","bs_belt_Option","MWUIThreadName.bs","MWMSThreadTitle.bs","MWThread_DEPRECATED.bs","MWUILoadParticipants.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MWThread_DEPRECATED.bs").useIdExn(void 0);var c=b("bs_curry")._1(b("MWUIThreadName.bs").useHook,void 0),d=b("bs_curry")._1(b("MWUILoadParticipants.bs").useMercuryParticipants,a),e=d[1],f=d[0],g=a.NAME;c=g==="Group"?b("MWMSThreadTitle.bs").getTitleForGroup(b("bs_belt_Option").getWithDefault(c,""),f,e):g==="Page"?b("MWMSThreadTitle.bs").getTitleForPage(a.VAL,f):b("MWMSThreadTitle.bs").getTitleForUser(a.VAL,f,e);return[c,d[2]]}f.useHook=a}),null);
__d("MWMSMarkThreadAsRead.bs",["React","FBMqttChannel","MWThread_DEPRECATED.bs","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWThread_DEPRECATED.bs").useIdExn(void 0);return g.useCallback(function(a){a=JSON.stringify({threadId:c.VAL,mark:"read",state:!0});a!==void 0?b("FBMqttChannel").publish("/mark_thread",a):b("recoverableViolation")("Failed to construct JSON to mark read","messenger_comet")},[c])}f.useHook=a}),null);
__d("MWMSMarkThreadAsUnread.bs",["React","FBMqttChannel","MWThread_DEPRECATED.bs","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWThread_DEPRECATED.bs").useIdExn(void 0);return g.useCallback(function(a){a=JSON.stringify({threadId:c.VAL,mark:"read",state:!1});a!==void 0?b("FBMqttChannel").publish("/mark_thread",a):b("recoverableViolation")("Failed to construct JSON to mark unread","messenger_comet")},[c])}f.useHook=a}),null);
__d("MWMSThreadImage.bs",["React","bs_belt_Map","bs_belt_Option","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWThread_DEPRECATED.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWThread_DEPRECATED.bs").useIdExn(void 0);a=b("MessengerState.bs").useHook(b("CurrentUser").getID());var d=a.threads;return g.useMemo(function(){var a=b("MWChatThreadId.bs").getMercuryID(c);a=b("bs_belt_Map").get(d,a);return b("bs_belt_Option").mapWithDefault(a,void 0,function(a){if(a.square_image_src!==null)return b("bs_caml_option").nullable_to_opt(a.square_image_src);else return b("bs_caml_option").nullable_to_opt(a.image_src)})},[d,c])}f.useHook=a}),null);
__d("MWThread_DEPRECATED.re",["MWThread_DEPRECATED.bs"],(function(a,b,c,d,e,f){c=(a=b("MWThread_DEPRECATED.bs")).useId;f.useId=c;d=a.useIdExn;f.useIdExn=d;e=a.toThreadKey;f.toThreadKey=e;b=a.useFBID;f.useFBID=b;c=a.key;f.key=c;(function(a){return null});d=a.make;f.make=d}),null);
__d("MessengerMuteUtils.re",["bs_curry","MessengerMuteUtils.bs"],(function(a,b,c,d,e,f){a=b("MessengerMuteUtils.bs").mutedUntilLabel;f.mutedUntilLabel=a;c=function(a,c){a=b("bs_curry")._2(b("MessengerMuteUtils.bs").muteActionLabel,a,c);return a};f.muteActionLabel=c}),null);
__d("MWChatConfig.bs",["bx"],(function(a,b,c,d,e,f){"use strict";c=(a=b("bx")).getURL(a("273022"));d=a.getURL(a("273023"));f.soundNotifMp3Url=c;f.soundNotifOggUrl=d}),null);
__d("MessengerParticipantUtils.bs",["bs_belt_Set","bs_caml_obj","MercuryIDs"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d){var e=b("MercuryIDs").getParticipantIDFromUserID(a);a=d.participants.filter(function(a){return b("bs_caml_obj").caml_notequal(a,e)});return a.filter(function(a){return b("bs_belt_Set").has(c,a)})}d=b("bs_belt_Set").has;function h(a,b,c){if(c.is_canonical)return[];else return g(a,b,c)}function a(a,b,c){return h(a,b,c).length>0}function c(a,b,c){return g(a,b,c).length>0}f.findIntersection=g;f.has=d;f.participantsInGroupThread=h;f.areParticipantsInGroupThread=a;f.areParticipantsInThread=c}),null);
__d("OnlineUserIds.bs",["bs_belt_Set","ParticipantId.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("bs_belt_Set").make(b("ParticipantId.bs"))}function c(a){return b("bs_belt_Set").fromArray(a,b("ParticipantId.bs"))}f.make=a;f.fromArray=c}),null);
__d("MWMSPresenceIsThreadActive.bs",["bs_curry","React","bs_belt_Map","MercuryIDs","bs_caml_option","CurrentUser","OnlineUserIds.bs","MWChatThreadId.bs","MessengerState.bs","requireDeferred","MWThread_DEPRECATED.bs","PresenceStatusContext","AvailableListConstants","MessengerParticipantUtils.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("requireDeferred")("MessengerMQTTPresence.bs");function a(a){var c=b("MWThread_DEPRECATED.bs").useId(void 0);a=b("MessengerState.bs").useHook(b("CurrentUser").getID());var d=g.useContext(b("PresenceStatusContext")),e;if(c!==void 0&&typeof c!=="string"){var f=c.NAME;e=f==="User"||f==="Page"||f==="Group"?b("bs_belt_Map").get(a.threads,b("MWChatThreadId.bs").getMercuryID(c)):void 0}else e=void 0;var i=g.useCallback(function(a){if(e!==void 0)return b("MessengerParticipantUtils.bs").findIntersection(b("CurrentUser").getID(),b("OnlineUserIds.bs").fromArray(b("bs_curry")._1(d.getOnlineIDs,void 0).map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a)})),b("bs_caml_option").valFromOption(e)).length!==0;else return!1},[e,d]),j=g.useCallback(function(a){if(e!==void 0&&b("bs_curry")._1(d.getChatVisibility,void 0))return b("bs_caml_option").valFromOption(e).is_business_page_active;else return!1},[e,d]);f=g.useState(function(){if(c===void 0)return!1;if(typeof c==="string")return!1;var a=c.NAME;if(a==="Group")return b("bs_curry")._1(i,void 0);if(a==="Page")return b("bs_curry")._1(j,void 0);if(a!=="User")return!1;a=b("bs_curry")._1(d.get,c.VAL);if(a==null)return!1;else return a===b("AvailableListConstants").ACTIVE});var k=f[1];g.useEffect(function(){if(c!==void 0&&typeof c!=="string"&&c.NAME==="User"){var a=c.VAL,e=b("bs_curry")._1(d.get,a);e==null&&h.onReady(function(c){return b("bs_curry")._1(c.sendAdditionalBuddyRequest,a)})}},[c,d]);g.useEffect(function(){c!==void 0&&!(typeof c==="string"||c.NAME!=="Group")&&b("bs_curry")._1(k,function(a){return b("bs_curry")._1(i,void 0)})},[c,d,i]);g.useEffect(function(){var a=b("bs_curry")._1(d.addListener,function(a){if(c===void 0)return;if(typeof c==="string")return;a=c.NAME;if(a==="Group")return b("bs_curry")._1(k,function(a){return b("bs_curry")._1(i,void 0)});if(a==="Page")return b("bs_curry")._1(k,function(a){return b("bs_curry")._1(j,void 0)});if(a!=="User")return;var e=b("bs_curry")._1(d.get,c.VAL);if(e==null)return b("bs_curry")._1(k,function(a){return!1});else return b("bs_curry")._1(k,function(a){return e===b("AvailableListConstants").ACTIVE})});return function(c){return b("bs_curry")._1(a,void 0)}},[c,d,i]);return f[0]}f.useHook=a}),null);
__d("MWUIRTCDisplayStatus.re",["MWUIRTCDisplayStatus.bs"],(function(a,b,c,d,e,f){var g={0:"RtcEnabled",1:"RtcDisabled",2:"RtcHidden"};a=function(){var a=b("MWUIRTCDisplayStatus.bs").useHook();return g[a]};f.useHook=a}),null);
__d("MWUIStartPhoneCall.re",["bs_curry","MWUIStartPhoneCall.bs"],(function(a,b,c,d,e,f){var g={0:"OngoingVideoCall",1:"OngoingAudioCall"};a=function(){var a=b("MWUIStartPhoneCall.bs").useMakeRTCCall();return[function(c,d,e){c=b("bs_curry")._3(a[0],c,d,e);return c},a[1]==null?a[1]:g[a[1]]]};f.useMakeRTCCall=a}),null);
__d("MWMSSnippetRenderer.bs",["bs_curry","MWMSCurrentThreadDetails.bs","useMWMSSnippetRenderer_DONT_USE.react"],(function(a,b,c,d,e,f){"use strict";var g=b("useMWMSSnippetRenderer_DONT_USE.react");function a(a){return b("bs_curry")._1(g,b("MWMSCurrentThreadDetails.bs").useHook(void 0))}f.useSnippetHook=g;f.useHook=a}),null);
__d("MWUIThreadProfileLink.re",["MWUIThreadProfileLink.bs"],(function(a,b,c,d,e,f){a=b("MWUIThreadProfileLink.bs").useHook;f.useHook=a}),null);
__d("MWThreadListHoverButtonDropdownMenu_DEPRECATED.react",["ix","fbt","CometLazyDialogTrigger.react","CometMenu.react","CometMenuItem.react","JSResource","MessengerMuteUtils.re","MWChatThreadId.re","MWChatUpdateMuteSettingMutation","MWThread_DEPRECATED.re","MWUIMarkThreadAsRead.re","MWUIMarkThreadAsUnread.re","MWUIThreadProfileLink.re","React","RTWebJoinOngoingCallMenuItem.react","XCometMessengerControllerRouteBuilder","fbicon","gkx","requireCond","cr:1621796","cr:1617152"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React"),j=b("JSResource")("MWChatMuteConversationDialogForJSResource.react").__setRef("MWThreadListHoverButtonDropdownMenu_DEPRECATED.react");function a(a){var c=a.callData,d=a.fbid,e=a.isUnread,f=a.mutedUntil;a=a.onCloseJewel;var k=b("MWThread_DEPRECATED.re").useIdExn();k=b("MWChatThreadId.re").isPage(k);var l=b("MWUIMarkThreadAsRead.re").useHook(),m=b("MWUIMarkThreadAsUnread.re").useHook(),n=b("MWUIThreadProfileLink.re").useHook(),o=b("MessengerMuteUtils.re").muteActionLabel(k,f!==0);k=b("cr:1617152").useMakeRTCCall();var p=k[0];k=k[1];var q=b("cr:1621796").useHook();q=q==="RtcEnabled"&&k===void 0;return i.jsxs(b("CometMenu.react"),{withArrow:!0,children:[i.jsx(b("CometMenuItem.react"),{icon:b("fbicon")._(g("477820"),20),onClick:function(){e?l():m()},primaryText:e?h._("Mark as Read"):h._("Mark as Unread")}),i.jsx(b("CometMenuItem.react"),{href:b("XCometMessengerControllerRouteBuilder").buildURL({thread_key:d}),icon:b("fbicon")._(g("505620"),20),onClick:a,primaryText:h._("Open in Messenger")}),typeof n==="string"?i.jsx(b("CometMenuItem.react"),{href:n,icon:b("fbicon")._(g("558623"),20),onClick:a,primaryText:h._("View Profile")}):null,f!==0?i.jsx(b("CometMenuItem.react"),{icon:b("fbicon")._(g("652791"),20),onClick:function(){b("MWChatUpdateMuteSettingMutation").commit({mute_duration:0,thread_fbid:d})},primaryText:o,secondaryText:b("MessengerMuteUtils.re").mutedUntilLabel(f)}):i.jsx(b("CometLazyDialogTrigger.react"),{dialogProps:{onUpdateMute:function(a){b("MWChatUpdateMuteSettingMutation").commit({mute_duration:a,thread_fbid:d})},title:o},dialogResource:j,children:function(a,c){return i.jsx(b("CometMenuItem.react"),{icon:b("fbicon")._(g("532356"),20),onClick:a,primaryText:o,ref:c})}}),b("gkx")("1611062")&&q?i.jsx(b("CometMenuItem.react"),{icon:b("fbicon")._(g("558164"),20),onClick:function(){return p(!1,d,"comet_chat_tab_call_option")},primaryText:h._("Audio Call")}):null,b("gkx")("1611062")&&q?i.jsx(b("CometMenuItem.react"),{icon:b("fbicon")._(g("493176"),20),onClick:function(){return p(!0,d,"comet_chat_tab_call_option")},primaryText:h._("Video Chat")}):null,i.jsx(b("RTWebJoinOngoingCallMenuItem.react"),{callData:c,fbid:d})]})}}),null);
__d("MWMSThreadName.bs",["React","bs_belt_Map","bs_belt_Option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWThread_DEPRECATED.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWThread_DEPRECATED.bs").useIdExn(void 0);a=b("MessengerState.bs").useHook(b("CurrentUser").getID());var d=a.threads;return g.useMemo(function(){var a=b("MWChatThreadId.bs").getMercuryID(c);a=b("bs_belt_Map").get(d,a);return b("bs_belt_Option").map(a,function(a){return a.name})},[d,c])}f.useHook=a}),null);
__d("WorkForeignEntityInfo.bs",["CurrentUser","WorkForeignEntityType"],(function(a,b,c,d,e,f){"use strict";function g(a){if(!(a==null)&&a.type!==b("WorkForeignEntityType").NOT_FOREIGN)return a.type===b("WorkForeignEntityType").LIMITED;else return!0}function h(a){if(b("CurrentUser").isWorkUser())return g(a.work_foreign_entity_info);else return!1}function a(a){if(b("CurrentUser").isWorkUser())return g(a.workForeignEntityInfo);else return!1}function c(a){if(b("CurrentUser").isWorkUser())return a.every(function(a,b,c){if(a==null)return!0;else return h(a)});else return!1}f.isNotForeign=g;f.isCoworker=h;f.isContactCoworker=a;f.areAllCoworkers=c}),null);
__d("MercuryIgnoredBlockedParticipants.bs",["bs_belt_Set","bs_caml_obj","MercuryIDs","bs_caml_option","CurrentUser","ParticipantId.bs","WorkForeignEntityInfo.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("bs_belt_Set").fromArray(a,b("ParticipantId.bs"))}function g(a,c,d){d=d.participants.filter(function(c){return c!==b("MercuryIDs").getParticipantIDFromUserID(a)});return d.filter(function(a){return b("bs_belt_Set").has(c,a)!==!1})}function c(a,b,c){if(c.is_canonical)return!1;else return g(a,b,c).length>0}function d(a,b,c){if(c.is_canonical)return[];else return g(a,b,c)}function e(a,c,d){if(!d.is_canonical)return!1;d=d.participants.filter(function(c){return b("bs_caml_obj").caml_notequal(c,b("MercuryIDs").getParticipantIDFromUserID(a))});return!d.every(function(a){return!b("bs_belt_Set").has(c,a)})}var h=b("bs_belt_Set").has;function i(a,c,d){if(!a.is_canonical||b("bs_caml_option").nullable_to_opt(a.other_user_fbid)===b("bs_caml_option").some(c))return!1;else if(!b("CurrentUser").isWorkUser()||d==null)return!0;else if(d==null)return!1;else return!b("WorkForeignEntityInfo.bs").isCoworker(d)}f.fromIds=a;f.findIntersection=g;f.isPresentInGroupThread=c;f.participantsInGroupThread=d;f.qualifiesAs=e;f.isInSet=h;f.shouldShowBlock=i}),null);
__d("MessengerReadReceipt.bs",["bs_array","Utils.bs","immutable","bs_caml_option","bs_belt_MapString","MercuryActionStatus"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d,e){c=c>=a.timestamp;var f=a.status;e=!e||d!==a.author;if(c)if(f==null)if(e)return!0;else return!1;else if(e)return f===b("MercuryActionStatus").SUCCESS;else return!1;else return!1}function a(a,c,d){if(c==null)return[];a=b("bs_belt_MapString").get(a,c.thread_id);if(a!==void 0)return b("bs_caml_option").valFromOption(a).reduce(function(a,e,f,h){if(g(c,e.watermark,f,b("Utils.bs").isTruthy(d)))return b("bs_array").append(a,[f]);else return a},[]);else return[]}function c(a,c){a=b("bs_belt_MapString").get(a,c.thread_id);if(a!==void 0)return b("bs_caml_option").valFromOption(a).reduce(function(a,b,d,e){if(a)return g(c,b.watermark,d,!1);else return!1},!0);else return!1}function d(a){return!b("bs_belt_MapString").isEmpty(a)}function e(a,c){if(b("bs_belt_MapString").isEmpty(a))return b("immutable").OrderedMap();a=b("bs_belt_MapString").get(a,c);if(a!==void 0)return b("bs_caml_option").valFromOption(a);else return b("immutable").OrderedMap()}function h(a,c,d){a=b("bs_belt_MapString").get(a,c);if(a===void 0)return null;c=b("bs_caml_option").valFromOption(a).get(d);if(c==null)return null;else return c}var i;f.emptyReadReceipts=i;f.wasSeen=g;f.getSeenBy=a;f.wasSeenByAll=c;f.hasReadReceipts=d;f.getSeenTimestamps=e;f.getSeenTimestamp=h}),null);
__d("InstantGamesPresenceProperties",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=!1}var b=a.prototype;b.addInstantGamePresence=function(){this.$1=!0};b.removeInstantGamePresence=function(){this.$1=!1};b.isActiveGamePresence=function(){return this.$1};return a}();b=new a();c=b;e.exports=c}),null);
__d("CometTextDelightAnimation_delightAsset.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"CometTextDelightAnimation_delightAsset",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"animation_uri",storageKey:null}],type:"DelightsAnimation",abstractKey:null};e.exports=a}),null);
__d("CometTextDelightAnimation.react",["BasePortal.react","CometRelay","React","ViewportAwareKeyframes.react","stylex","CometTextDelightAnimation_delightAsset.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");g!==void 0?g:g=b("CometTextDelightAnimation_delightAsset.graphql");function a(a){var c=a.delight_asset;a=a.stop;c=c;var d=c==null?void 0:c.animation_uri;c=c==null?void 0:c.id;return d==null||c==null?null:h.jsx(b("BasePortal.react"),{children:h.jsx("div",{className:"kavbgo14 be9z9djy oqcyycmt kwrap0ej poy2od1o hzruof5a j34wkznp i09qtzwb",children:h.jsx(b("ViewportAwareKeyframes.react"),{assetID:c,height:window.innerHeight-60,onRepeatEnd:a,projectName:"text_delights",repeatCount:1,source:d})})})}}),null);
__d("CubicBezier",[],(function(a,b,c,d,e,f){var g=.005;a=function(){function a(a,b){this.cx=3*a[0],this.bx=3*(b[0]-a[0])-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a[1],this.by=3*(b[1]-a[1])-this.cy,this.ay=1-this.cy-this.by}var b=a.prototype;b.sampleCurveX=function(a){return((this.ax*a+this.bx)*a+this.cx)*a};b.solve=function(a){a=this.solveCurveX(a);return((this.ay*a+this.by)*a+this.cy)*a};b.solveCurveX=function(a){var b,c,d,e;for(d=a,c=0;c<8;c++){e=this.sampleCurveX(d)-a;if(Math.abs(e)<g)return d;b=(3*this.ax*d+2*this.bx)*d+this.cx;if(Math.abs(b)<1e-6)break;d-=e/b}b=0;c=1;d=a;if(d<b)return b;if(d>c)return c;while(b<c){e=this.sampleCurveX(d);if(Math.abs(e-a)<g)return d;a>e?b=d:c=d;d=(c-b)/2+b}return d};return a}();e.exports=a}),null);
__d("BinarySearch",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.find=m;f.findIndex=n;f.findBound=o;f.leastUpperBound=p;f.greatestLowerBound=q;f.leastStrictUpperBound=r;f.greatestStrictLowerBound=s;f.nearest=t;f.findInArray=a;f.findIndexInArray=c;f.findBoundInArray=d;e={GREATEST_LOWER_BOUND:"GREATEST_LOWER_BOUND",GREATEST_STRICT_LOWER_BOUND:"GREATEST_STRICT_LOWER_BOUND",LEAST_STRICT_UPPER_BOUND:"LEAST_STRICT_UPPER_BOUND",LEAST_UPPER_BOUND:"LEAST_UPPER_BOUND",NEAREST:"NEAREST"};var g=function(a,c){if(typeof a!=="number"||typeof c!=="number")throw b("unrecoverableViolation")("The default comparator can only be used with sequences of numbers.","comet_infra");return a-c},h=e.GREATEST_LOWER_BOUND;f.GREATEST_LOWER_BOUND=h;var i=e.GREATEST_STRICT_LOWER_BOUND;f.GREATEST_STRICT_LOWER_BOUND=i;var j=e.LEAST_STRICT_UPPER_BOUND;f.LEAST_STRICT_UPPER_BOUND=j;var k=e.LEAST_UPPER_BOUND;f.LEAST_UPPER_BOUND=k;var l=e.NEAREST;f.NEAREST=l;function m(a,b,c,d,e){e===void 0&&(e=g);var f=k;f=o(a,b,c,d,e,f);if(c<=f&&f<d){c=a(f);return e(c,b)===0?c:void 0}else return void 0}function n(a,b,c,d,e){e===void 0&&(e=g);var f=k;f=o(a,b,c,d,e,f);if(c<=f&&f<d)return e(a(f),b)===0?f:-1;else return-1}function o(a,c,d,e,f,g){switch(g){case k:return p(a,c,d,e,f);case h:return q(a,c,d,e,f);case j:return r(a,c,d,e,f);case i:return s(a,c,d,e,f);case l:return t(a,c,d,e,f);default:throw b("unrecoverableViolation")("Invalid mode "+g,"comet_infra")}}function p(a,b,c,d,e){c=c;d=d;while(c+1<d){var f=c+Math.floor((d-c)/2);e(a(f),b)>=0?d=f:c=f}return c<d&&e(a(c),b)>=0?c:d}function q(a,b,c,d,e){return r(a,b,c,d,e)-1}function r(a,b,c,d,e){c=c;d=d;while(c+1<d){var f=c+Math.floor((d-c)/2);e(a(f),b)>0?d=f:c=f}return c<d&&e(a(c),b)>0?c:d}function s(a,b,c,d,e){return p(a,b,c,d,e)-1}function t(a,b,c,d,e){var f=q(a,b,c,d,e),g=Math.abs(e(a(f),b));e=Math.abs(e(a(f+1),b));return g<e?Math.max(f,c):Math.min(f+1,d-1)}function a(a,b,c){return m(function(b){return a[b]},b,0,a.length,c)}function c(a,b,c){return n(function(b){return a[b]},b,0,a.length,c)}function d(a,b,c,d){return o(function(b){return a[b]},b,0,a.length,c,d)}}),null);
__d("FunnelAction",[],(function(a,b,c,d,e,f){"use strict";var g="name",h="payload",i="relative_time",j="tag";a=function(){function a(a,b,c,d){this.$1={},this.$1[g]=a,this.$1[i]=b,c!==void 0&&(this.$1[j]=c),d!==void 0&&(this.$1[h]=JSON.stringify(d))}var b=a.prototype;b.getData=function(){return this.$1};return a}();e.exports=a}),null);
__d("FunnelRegistry",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({WWW_EXAMPLE_FUNNEL:!0,MSITE_EXAMPLE_FUNNEL:!0,WWW_FEED_SHARE_DIALOG_FUNNEL:!0,MSITE_FEED_SHARE_DIALOG_FUNNEL:!0,WWW_CHAT_QUICKCAM_FUNNEL:!0,PLATFORM_SHARE_DIALOG_FUNNEL:!0,WWW_CANVAS_EDITOR_FUNNEL:!0,MSITE_COMMENT_TYPING_FUNNEL:!0,MSITE_NOTE_READING_FUNNEL:!0,WWW_CAMPFIRE_COMPOSER_UPSELL_FUNNEL:!0,WWW_LISTS_COMPOSER_FUNNEL:!0,WWW_REACTIONS_LIKE_BUTTON_HOVER_FUNNEL:!0,WWW_REACTIONS_NUX_FUNNEL:!0,WWW_COMMENT_REACTIONS_NUX_FUNNEL:!0,MSITE_INLINE_REPLY_COMPOSER_FUNNEL:!0,WWW_LEAD_GEN_DESKTOP_AD_UNIT_FUNNEL:!0,WWW_LEAD_GEN_MSITE_AD_UNIT_FUNNEL:!0,WWW_LINK_PICKER_DIALOG_FUNNEL:!0,WWW_MEME_PICKER_DIALOG_FUNNEL:!0,WWW_SHOP_BUY_FUNNEL:!0,WWW_SNOWLIFT_ACTIONS_FUNNEL:!0,WWW_CANVAS_AD_CREATION_FUNNEL:!0,WWW_SEARCH_AWARENESS_LEARNING_NUX_FUNNEL:!0,WWW_CONSTITUENT_TITLE_UPSELL_FUNNEL:!0,WWW_PAGE_CREATION_FUNNEL:!0,WWW_RECRUITING_PRODUCTS_FUNNEL:!0,WWW_RECRUITING_SEARCH_FUNNEL:!0,WWW_RECRUITING_BULK_EMAIL_FUNNEL:!0,WWW_RECRUITING_LEAVE_HANDLER_FUNNEL:!0,WWW_PMT_FUNNEL:!0,WWW_PULSE_FUNNEL:!0,WWW_ORGTOOL_FUNNEL:!0,WWW_VIDEOS_CASTING_FUNNEL:!0,MSITE_PPD_FUNNEL:!0,WWW_CMS_SEARCH_FUNNEL:!0,SOCIAL_SEARCH_CONVERSION_WWW_FUNNEL:!0,SOCIAL_SEARCH_DASHBOARD_WWW_FUNNEL:!0,GAMES_QUICKSILVER_FUNNEL:!0,SRT_USER_FLOW_FUNNEL:!0,WWW_MEME_PIVOT_FUNNEL:!0,WWW_NOTIFICATION_FUNNEL:!0,MSITE_FEED_ALBUM_CTA_FUNNEL:!0,MTOUCH_COMMENT_STORIES_FUNNEL:!0,WWW_MESSENGER_SHARE_TO_FB_FUNNEL:!0,MISINFORMATION_RESHARE_ALERT_FUNNEL:!0,FACECAST_BROADCASTER_FUNNEL:!0,FACECAST_SCHEDULED_LIVE_FUNNEL:!0,SCHEDULED_WATCH_PARTY_VIEWER_FUNNEL:!0,COLLEGE_COMMUNITY_NUX_ONBOARDING_FUNNEL:!0,WWW_MESSENGER_SEARCH_SESSION_FUNNEL:!0,WWW_MESSENGER_CONTENT_SEARCH_FUNNEL:!0,WWW_LIVE_PRODUCER_FUNNEL:!0,WWW_AD_BREAKS_ONBOARDING_FUNNEL:!0,WWW_LAUNCHPAD_ONBOARDING_FUNNEL:!0,WWW_LEAD_GEN_FORM_EDITOR_FUNNEL:!0,WWW_AD_BREAK_HOME_ONBOARDING_FUNNEL:!0,WEB_MESSENGER_RTC_FUNNEL:!0,WEB_RTC_SCREEN_SHARING_FUNNEL:!0,MTOUCH_NUX_PROFILE_PIC_FUNNEL:!0,ADS_VIDEO_CAPTION_FUNNEL:!0,WWW_BUSINESS_ALERT_FUNNEL:!0,SOCIAL_VR_INTERACTIVE_THREE_SIXTY_FUNNEL:!0,WWW_ALT_TEXT_COMPOSER_FUNNEL:!0,WWW_DIVEBAR_RECENTS_FUNNEL:!0,UNIDASH_EDIT_WIDGET_FUNNEL:!0,MESSENGER_UNIVERSAL_SEARCH_FUNNEL:!0,WWW_BUSINESS_CREATION_FUNNEL:!0,WWW_BUSINESS_VERIFICATION_FUNNEL:!0,WWW_APP_REVIEW_BUSINESS_VERIFICATION_FUNNEL:!0,AEC_APPLICATION_FUNNEL:!0,WWW_MESSENGER_POLL_GROUP_CREATE_FUNNEL:!0,ADS_USER_REPORTING_FUNNEL:!0,MAP_WEB_FUNNEL:!0,INTERN_OOPS_FUNNEL:!0,WWW_ACCESSIBILITY_NOTIFICATIONS_JEWEL_TABBING_FUNNEL:!0,MTOUCH_FEED_MISSED_STORIES_FUNNEL:!0,WWW_STORYSET_FUNNEL:!0,POLYGLOT_MAIN_FUNNEL:!0,CREATIVE_STUDIO_CREATION_FUNNEL:!0,CREATIVE_STUDIO_HUB_FUNNEL:!0,CREATIVE_STUDIO_INVITE_JOIN_FUNNEL:!0,FX_PLATFORM_INVITE_JOIN_FUNNEL:!0,FX_PLATFORM_INVITE_SEND_FUNNEL:!0,WWW_LIVE_VIEWER_TIPJAR_FUNNEL:!0,WWW_FUNDRAISER_CREATION_FUNNEL:!0,WWW_FUNDRAISER_EDIT_FUNNEL:!0,WWW_FBL_FUNNEL:!0,WWW_CLUE_FUNNEL:!0,WWW_OFFERS_SIMPLE_COMPOSE_FUNNEL:!0,WWW_OFFERS_SIMPLE_COMPOSE_POST_LIKE_FUNNEL:!0,WWW_SEE_OFFERS_CTA_NUX_FUNNEL:!0,WWW_CHEVRON_FUNNEL:!0,MSITE_AD_BREAKS_ONBOARDING_FLOW_FUNNEL:!0,CASUAL_GROUP_PICKER_FUNNEL:!0,TOPICS_TO_FOLLOW_FUNNEL:!0,WWW_SPATIAL_REACTION_PRODUCTION_FUNNEL:!0,WWW_ADS_TARGETING_AUDIENCE_MANAGER_FUNNEL:!0,WWW_NEWSFEED_TAILLOAD_FUNNEL:!0,SEARCH_ADS_WWW_FUNNEL:!0,KEYFRAMES_FUNNEL:!0,WWW_NOTIFS_UP_NEXT_FUNNEL:!0,MSITE_PROFILE_PICTURE_EDIT_FUNNEL:!0,WWW_PROFILE_INTRO_CARD_EDIT_MEDIA_FUNNEL:!0,BUSINESS_PAYMENTS_MERCHANT_ONBOARDING_FUNNEL:!0,SELLER_EXPERIENCE_SHOP_INSIGHTS_NEW_FUNNEL:!0,SELLER_EXPERIENCE_ONBOARDING_NEW_FUNNEL:!0,SELLER_EXPERIENCE_PAYOUT_SETUP_NEW_FUNNEL:!0,SELLER_EXPERIENCE_SHOP_MANAGEMENT_FUNNEL:!0,CHANNEL_EDIT_FUNNEL:!0,PAYOUT_ONBOARDING_FUNNEL:!0,SERVICES_INSTANT_BOOKING_SETTINGS_FUNNEL:!0,SERVICES_FB_APPOINTMENTS_CTA_CREATION_FUNNEL:!0,SERVICES_FB_APPOINTMENTS_CTA_FULL_SETUP_FUNNEL:!0,MATCHED_MARKET_LIFT_INTERNAL_FUNNEL:!0,FB_NEO_ONBOARDING_FUNNEL:!0,FB_NEO_FRIENDING_FUNNEL:!0,SEARCH_FUNNEL:!0,SHADOW_SEARCH_FUNNEL:!0,SHADOW_EARLY_END_SEARCH_FUNNEL:!0,TEXT_DELIGHTS_OPT_OUT_NUX_FUNNEL:!0,TEXT_DELIGHTS_COMPOSER_FUNNEL:!0,PRIVATE_COMMENT_COMPOSER_FUNNEL:!0,CHECKOUT_EXPERIENCES_FUNNEL:!0,CHECKOUT_EXPERIENCES_SELLER_FUNNEL:!0,MESSENGER_SECONDARY_SEARCH_FUNNEL:!0,WWW_SERVICES_INSTANT_BOOKING_CONSUMER_FUNNEL:!0,WWW_PRESENCE_FUNNEL:!0,WWW_SERVICES_BOOK_APPOINTMENT_CONSUMER_FUNNEL:!0,WWW_SPHERICAL_DIRECTOR_FUNNEL:!0,SELLER_EXPERIENCE_MIGRATION_FUNNEL:!0,SELLER_EXPERIENCE_PAYOUT_SETUP_FUNNEL:!0,NATIVE_SUPPORT_FUNNEL:!0,GROUP_MALL_NAVIGATION_FUNNEL:!0,PRIVACY_SHORTCUTS_FUNNEL:!0,PRIVACY_ACCESS_HUB_FUNNEL:!0,WWW_POLITICIAN_OFFICE_SETTING_FUNNEL:!0,WWW_CIVIC_ACTION_POST_INVITE_FUNNEL:!0,WWW_CIVIC_ACTION_POST_CREATION_FUNNEL:!0,NT_NFAS_EXAMPLE_FUNNEL:!0,WWW_ONCALL_VIEW_FUNNEL:!0,WWW_ESCALATION_TOOLS_NOTIFICATIONS_PAGE_FUNNEL:!0,ALL_VOICES_FUNNEL:!0,WWW_MESSENGER_SHARE_FILE_PREVIEW_FUNNEL:!0,POST_TRANSACTION_FUNNEL:!0,INSTANT_EXPERIENCES_MINDBODY_FUNNEL:!0,WWW_CTW_WHATSAPP_VERIFICATION_FLOW_FUNNEL:!0,GIZMO_VCPANEL_CALL_START_FUNNEL:!0,PIE_MANAGER_HIRING_HUB_FUNNEL:!0,PIE_RECRUITING_MANAGER_HIRING_OUTREACH_FUNNEL:!0,PIE_RECRUITING_MANAGER_HIRING_REVIEW_FUNNEL:!0,IG_WEB_STORY_CREATION_FUNNEL:!0,IG_WEB_IGTV_CREATION_FUNNEL:!0,IG_WEB_ONE_TAP_REGISTRATION_FUNNEL:!0,IG_WEB_SHARE_FUNNEL:!0,IG_WEB_NUX_FUNNEL:!0,IG_WEB_OBA_FUNNEL:!0,WWW_FB_CHAT_NEW_SETTINGS_MENU_FUNNEL:!0,FLEXIBLE_STARS_WWW_FUNNEL:!0,PAYMENT_APP_FUNNEL:!0,WWW_MESSENGER_VIDEO_CHAT_LINKS_FUNNEL:!0,KAIOS_REG_CONTACT_IMPORTER_FUNNEL:!0,ONEVC_CALL_ROUTING_FUNNEL:!0,AR_HUB_UPLOAD_FUNNEL:!0,FHT_FUNNEL:!0,REWARDS_COMPLETE_SETUP_FUNNEL:!0,WWW_PCR_FUNNEL:!0,MARKETPLACE_GIFT_CARD_FUNNEL:!0,WORK_CHAT_SEARCH_FUNNEL:!0,DISCOVER_MIGRATION_FUNNEL:!0,ZERO_PLACEHOLDER_FUNNEL:!0,FOS_MON_PURCHASE_FLOW_FUNNEL:!0})}),null);
__d("Funnel",["BinarySearch","FunnelAction","FunnelRegistry","sprintf","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g="name",h="instance_id",i="start_time",j="tags",k="actions",l="sampling_rate",m="timeout_sec",n="beacon_id",o="beacon_session_id",p="funnel_level_beacon_id",q="funnel_level_beacon_session_id",r="is_web";a={EXPLICIT:"explicit",TIMEOUT:"timeout",SESSION_END:"session_end",RESTART:"restart",ACTIONS_FULL:"actions_full"};f.EndType=a;c={ACTION_END:"funnel_end",ACTION_WINDOW_BLUR:"window_blur",ACTION_WINDOW_FOCUS:"window_focus"};f.ActionType=c;var s=600;d=function(){function a(a,c,d,e,f){if(b("FunnelRegistry")[a]!==!0)throw b("unrecoverableViolation")("Funnel name not registered.","comet_infra");this.$1=a;this.$2=c;this.$3=[];this.$4={};this.$5=d;this.$6=f;this.timeout_sec=s;this.shouldTrackFocus=!1;this.$7=e;this.$9=-1;this.$10=-1;this.$11=-1;this.$12=-1;this.$8=null;this.devModeLogger("Started funnel")}var c=a.prototype;c.addTag=function(a){if(typeof a!=="string")throw b("unrecoverableViolation")("Funnel tag should be a String.","comet_infra");this.$4[a]=!0;this.devModeLogger("Added funnel tag %s",a);return this};c.appendAction=function(a,c,d,e){var f=this;e===void 0&&(e=Date.now());e=new(b("FunnelAction"))(a,e-this.$6,c,d);d=b("BinarySearch").leastStrictUpperBound(function(a){return f.$3[a].getData()},e.getData(),0,this.$3.length,function(a,b){if(a.name==="funnel_end")return 1;return b.name==="funnel_end"?-1:a.relative_time-b.relative_time});this.$3.splice(d,0,e);c?this.devModeLogger("Appended action %s with tag %s",a,c):this.devModeLogger("Appended action %s",a);this.$8=a;return this};c.appendActionIfNew=function(a,b,c){a!==this.$8&&this.appendAction(a,b,c);return this};c.getLogData=function(){var a={};a[g]=this.$1;this.$2!==void 0?a[h]=this.$2:a[h]=Math.floor(Math.random()*65536);a[i]=this.$6;a[l]=this.$5;a[m]=this.timeout_sec;a[j]=[];for(var b in this.$4)this.$4[b]===!0&&a[j].push(b);if(this.$3.length>0){a[k]=[];for(var c=0;c<this.$3.length;c++)a[k].push(this.$3[c].getData())}this.$10!==-1&&this.$9!==-1&&(a[o]=this.$10,a[n]=this.$9);this.$12!==-1&&this.$11!==-1&&(a[q]=this.$12,a[p]=this.$11);a[r]=1;return a};c.devModeLogger=function(){};c.getTags=function(){return this.$4};c.getFunnelName=function(){return this.$1};c.addReliabilityStats=function(a,c){if(typeof a!=="number")throw b("unrecoverableViolation")("SessionID of current funnel lib reliability stats should be a number.","comet_infra");if(typeof c!=="number")throw b("unrecoverableViolation")("Counter of current funnel lib reliability stats should be a number.","comet_infra");this.$10=a;this.$9=c;this.devModeLogger("Added funnel sessionID %d and counter %d.",a,c);return this};c.addReliabilityStatsForCurFunnel=function(a,c){if(typeof a!=="number")throw b("unrecoverableViolation")("SessionID of current funnel lib reliability stats should be a number.","comet_infra");if(typeof c!=="number")throw b("unrecoverableViolation")("Counter of current funnel lib reliability stats should be a number.","comet_infra");this.$12=a;this.$11=c;this.devModeLogger("Added funnel sessionID %d and counter %d.",a,c);return this};return a}();f.Funnel=d}),null);
__d("FunnelLoggerSampler",["FunnelLoggerConfig"],(function(a,b,c,d,e,f){"use strict";function a(a){a=g(a);return a===0?!1:Math.random()*a<1}function g(a){a=b("FunnelLoggerConfig").freq[a];a===void 0&&(a=b("FunnelLoggerConfig").freq["default"]);return a}e.exports={shouldLog:a,getSamplingRate:g}}),null);
__d("FunnelReliabilityWhitelist",[],(function(a,b,c,d,e,f){a=["SEARCH_FUNNEL"];e.exports=a}),null);
__d("FunnelReliabilityStatsCollector",["FunnelReliabilityWhitelist","MarauderLogger","WebStorage","gkx"],(function(a,b,c,d,e,f){"use strict";f.passFunnelLevelStatsRolloutGK=a;f.onFunnelStart=c;f.onFunnelCancel=d;f.onFunnelEnd=e;f.maybeFlushFunnelLevelStats=C;f.increaseAndGetLibLevelStats=D;f.maybeIncreaseAndGetLibLevelStatsForCurFunnel=E;var g,h=!1,i,j="fas_reliability_lib_stats_overall",k="fas_reliability_funnel_stats_overall",l=1800,m="funnel_analytics_data_loss",n="fas_reliability_lib_stats_wl",o="fas_reliability_funnel_stats_wl",p=0,q={};function a(){return b("gkx")("676890")?!0:!1}function r(){h||(h=!0,i=(g||(g=b("WebStorage"))).getLocalStorage());return i}function s(){var a=r();if(!a)return null;a=a.getItem(k);if(a)return JSON.parse(a);else{a=Math.floor(Date.now()/1e3);return{startCount:0,endCount:0,cancelCount:0,prevCount:0,lastFlushTimestamp:a}}}function t(a){var b=r();if(!b)return null;b=b.getItem(o);if(b)return JSON.parse(b);else{b={};b[a]={startCount:0,endCount:0,cancelCount:0,prevCount:0};return b}}function u(){var a=r();if(!a)return null;a=a.getItem(o);return a?JSON.parse(a):null}function c(a){var c=s();if(!c)return;p+=1;c.startCount?c.startCount=parseInt(c.startCount,10)+1:c.startCount=1;(g||(g=b("WebStorage"))).setItemGuarded(localStorage,k,JSON.stringify(c));v(a)}function v(a){var c=t(a);if(!c||!b("FunnelReliabilityWhitelist").includes(a))return;var d=q[a]?q[a]+1:1;q[a]=d;d=c[a];d?d.startCount?d.startCount=parseInt(d.startCount,10)+1:d.startCount=1:(d={},d.startCount=1,d.prevCount=0,d.cancelCount=0,d.endCount=0);c[a]=d;(g||(g=b("WebStorage"))).setItemGuarded(localStorage,o,JSON.stringify(c))}function d(a){var c=s();if(!c)return;p-=1;c.cancelCount?c.cancelCount=parseInt(c.cancelCount,10)+1:c.cancelCount=1;(g||(g=b("WebStorage"))).setItemGuarded(localStorage,k,JSON.stringify(c));w(a)}function w(a){var c=t(a);if(!c||!b("FunnelReliabilityWhitelist").includes(a))return;var d=q[a]?q[a]-1:0;q[a]=d;d=c[a];d?d.cancelCount?d.cancelCount=parseInt(d.cancelCount,10)+1:d.cancelCount=1:(d={},d.startCount=0,d.prevCount=0,d.cancelCount=1,d.endCount=0);c[a]=d;(g||(g=b("WebStorage"))).setItemGuarded(localStorage,o,JSON.stringify(c))}function e(a){var c=s();if(!c)return;p-=1;c.endCount?c.endCount=parseInt(c.endCount,10)+1:c.endCount=1;(g||(g=b("WebStorage"))).setItemGuarded(localStorage,k,JSON.stringify(c));x(a)}function x(a){var c=t(a);if(!c||!b("FunnelReliabilityWhitelist").includes(a))return;var d=q[a]?q[a]-1:0;q[a]=d;d=c[a];d?d.endCount?d.endCount=parseInt(d.endCount,10)+1:d.endCount=1:(d={},d.startCount=0,d.prevCount=0,d.cancelCount=0,d.endCount=1);c[a]=d;(g||(g=b("WebStorage"))).setItemGuarded(localStorage,o,JSON.stringify(c))}function y(){var a=s();if(!a)return!1;if(a.lastFlushTimestamp){var b=Math.floor(Date.now()/1e3);return b-parseInt(a.lastFlushTimestamp,10)>=l}return!1}function z(a,c){a=r();if(!a)return;var d=Math.floor(Date.now()/1e3);c={startCount:0,endCount:0,cancelCount:0,prevCount:c,lastFlushTimestamp:d};(g||(g=b("WebStorage"))).setItemGuarded(a,k,JSON.stringify(c))}function A(a,c){var d=r();if(!d||!a||Object.keys(a).length==0)return;var e={};for(var f in a){a=c[f];a={startCount:0,endCount:0,cancelCount:0,prevCount:a?a:0};e[f]=a}(g||(g=b("WebStorage"))).setItemGuarded(d,o,JSON.stringify(e))}function B(a,c,d,e){var f=a.prevCount,g=a.startCount,h=a.endCount;a=a.cancelCount;var i=f+g-h-a-c,j={};j.start=g;j.end=h;j.cancel=a;j.prev=f;j.ongoing=c;j.loss=i;g={};g.overall=j;if(d){h={};for(var k in d){a=d[k];f=a.prevCount;c=a.startCount;i=a.endCount;j=a.cancelCount;a=e[k]?e[k]:0;var l=f+c-i-j-a,n={};n.start=c;n.end=i;n.cancel=j;n.prev=f;n.ongoing=a;n.loss=l;h[k]=n}g.funnel_level_data_loss=h}b("MarauderLogger").log(m,null,g)}function C(){if(!y())return;var a=s();if(!a)return;z(a,p);var b=u();b&&A(b,q);B(a,p,b,q)}function D(){var a=r();if(!a)return null;var c=a.getItem(j);c=c?JSON.parse(c):{};var d=c.counter,e=c.session;d?(d=parseInt(d,10)+1,e=parseInt(c.session,10)):(d=1,e=Math.floor(Math.random()*65536));(g||(g=b("WebStorage"))).setItemGuarded(a,j,JSON.stringify({counter:d,session:e}));return[e,d]}function E(a){if(!b("FunnelReliabilityWhitelist").includes(a))return null;var c=r();if(!c)return null;var d=c.getItem(n),e=void 0,f={};d&&(f=JSON.parse(d),e=f[a]);var h=e?e.counter:void 0;e=e?e.session:void 0;h?(h=parseInt(h,10)+1,e=parseInt(e,10)):(h=1,e=Math.floor(Math.random()*65536));var i={};d?(f[a]={counter:h,session:e},i=f):i[a]={counter:h,session:e};(g||(g=b("WebStorage"))).setItemGuarded(c,n,JSON.stringify(i));return[e,h]}}),null);
__d("FunnelLogger",["Banzai","Funnel","FunnelLoggerSampler","FunnelRegistry","FunnelReliabilityStatsCollector","MarauderLogger","clearTimeout","gkx","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g={},h=!1,i=!0;function a(a,b){B(a,b)}function c(a,b,c){B(a,c,b)}function d(a,b){a=D(a,b);return!E(a)?null:g[a]}function f(a,b){}function j(a,b,c){c===void 0?F(a,void 0,b):c&&F(a,b,c)}function k(a,c){c=D(a,c);E(c)&&(g[c].devModeLogger("Cancelled funnel"),H(c),g[c]=void 0,b("FunnelReliabilityStatsCollector").passFunnelLevelStatsRolloutGK()&&(b("FunnelReliabilityStatsCollector").onFunnelCancel(a),b("FunnelReliabilityStatsCollector").maybeFlushFunnelLevelStats()))}function l(a,b){C(a,b)}function m(a,b,c){C(a,c,b)}function n(a,b,c){c===void 0?I(a,void 0,String(b)):I(a,Number(b),c)}function o(a,b,c){c===void 0?J(a,void 0,Boolean(b)):J(a,Number(b),c)}function p(a,b,c){c===void 0?K(a,void 0,String(b),void 0):K(a,Number(b),c,void 0)}function q(a,b,c){c===void 0?L(a,void 0,String(b),void 0):L(a,Number(b),c,void 0)}function r(a,b,c,d){d===void 0?K(a,void 0,String(c),void 0,void 0,b):K(a,Number(c),d,void 0,void 0,b)}function s(a,b,c,d){d===void 0?K(a,void 0,String(b),c):K(a,Number(b),c,d)}function t(a,b,c,d,e){e===void 0?K(a,void 0,String(c),d,void 0,b):K(a,Number(c),d,e,void 0,b)}function u(a,b,c,d){d===void 0?L(a,void 0,String(b),c):L(a,Number(b),c,d)}function v(a,b,c,d){d===void 0?K(a,void 0,String(b),void 0,c):K(a,Number(b),String(c),void 0,d)}function w(a,b,c,d,e){e===void 0?K(a,void 0,String(c),void 0,d,b):K(a,Number(c),String(d),void 0,e,b)}function x(a,b,c,d){d===void 0?L(a,void 0,String(b),void 0,c):L(a,Number(b),String(c),void 0,d)}function y(a,b,c,d,e){e===void 0?K(a,void 0,String(b),c,d):K(a,Number(b),String(c),String(d),e)}function z(a,b,c,d,e,f){f===void 0?K(a,void 0,String(c),d,e,b):K(a,Number(c),String(d),String(e),f,b)}function A(a,b,c,d,e){e===void 0?L(a,void 0,String(b),c,d):L(a,Number(b),String(c),String(d),e)}function B(a,c,d){var e=D(a,c);R();M(e);b("FunnelLoggerSampler").shouldLog(a)&&(g[e]=new(b("Funnel").Funnel)(a,c,b("FunnelLoggerSampler").getSamplingRate(a),!1,d!=null?d:Date.now()),G(e),b("FunnelReliabilityStatsCollector").passFunnelLevelStatsRolloutGK()&&(b("FunnelReliabilityStatsCollector").onFunnelStart(a),b("FunnelReliabilityStatsCollector").maybeFlushFunnelLevelStats()))}function C(a,c,d){a=D(a,c);E(a)&&(g[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.EXPLICIT,void 0,d),N(a))}function D(a,c){if(b("FunnelRegistry")[a]!==!0)throw b("unrecoverableViolation")("Funnel name not registered.","comet_infra");if(c===void 0||c===null)return a;else return a+c.toString()}function E(a){return g[a]!==void 0}function F(a,b,c){a=D(a,b);E(a)&&(g[a].timeout_sec=c,g[a].devModeLogger("Timeout set to %s sec",c),G(a))}function G(a){H(a),g[a].timeout_handle=b("setTimeout")(function(){g[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.TIMEOUT),N(a)},1e3*g[a].timeout_sec)}function H(a){g[a].timeout_handle&&b("clearTimeout")(g[a].timeout_handle)}function I(a,b,c){a=D(a,b);E(a)&&(g[a].addTag(c),G(a))}function J(a,b,c){a=D(a,b);E(a)&&(g[a].shouldTrackFocus=c,g[a].devModeLogger("Focus tracking %s",c?"on":"off"))}function K(a,b,c,d,e,f){a=D(a,b);E(a)&&(g[a].appendAction(c,d,e,f),G(a))}function L(a,b,c,d,e){a=D(a,b);E(a)&&g[a].appendActionIfNew(c,d,e)}function M(a){E(a)&&(g[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.RESTART),N(a))}function N(a){if(E(a)){if(b("gkx")("676888")){var c=b("FunnelReliabilityStatsCollector").increaseAndGetLibLevelStats();if(c){var d=c[0];c=c[1];g[a].addReliabilityStats(d,c)}}d=g[a].getFunnelName();c=g[a].getLogData();b("MarauderLogger").log("funnel_analytics",null,c);g[a].devModeLogger("Logged: %s",JSON.stringify(c));H(a);g[a]=void 0;b("FunnelReliabilityStatsCollector").passFunnelLevelStatsRolloutGK()&&(b("FunnelReliabilityStatsCollector").onFunnelEnd(d),b("FunnelReliabilityStatsCollector").maybeFlushFunnelLevelStats())}}function O(){for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&E(a)&&(g[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.SESSION_END),N(a))}function P(){if(i){i=!1;for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&E(a)&&g[a].shouldTrackFocus&&(g[a].appendAction(b("Funnel").ActionType.ACTION_WINDOW_BLUR),H(a))}}function Q(){if(!i){i=!0;for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&E(a)&&g[a].shouldTrackFocus&&(g[a].appendAction(b("Funnel").ActionType.ACTION_WINDOW_FOCUS),H(a))}}function R(){h||(h=!0,window.addEventListener&&(b("Banzai").subscribe(b("Banzai").SHUTDOWN,O),window.addEventListener("blur",P),window.addEventListener("focus",Q)))}e.exports={addFunnelTag:n,appendAction:p,appendActionAtTime:r,appendActionAtTimeWithPayload:w,appendActionAtTimeWithTag:t,appendActionAtTimeWithTagAndPayload:z,appendActionIfNew:q,appendActionWithPayload:v,appendActionWithPayloadIfNew:x,appendActionWithTag:s,appendActionWithTagAndPayload:y,appendActionWithTagAndPayloadIfNew:A,appendActionWithTagIfNew:u,cancelFunnel:k,endFunnel:l,endFunnelAtTime:m,getFunnelInstance:d,setFunnelTimeout:j,setFunnelTrackFocus:o,startFunnel:a,startFunnel_DEV_MODE:f,startFunnelAtTime:c}}),null);
__d("KeyframesPerformanceLog",["performanceNow"],(function(a,b,c,d,e,f){"use strict";var g,h=60;a=function(){function a(a,b){this.$1=0,this.$2=-1,this.$3=-1,this.$6=a,this.$5=b,this.$6=a,this.reset()}var c=a.prototype;c.onNextFrame=function(a){this.$7=a};c.start=function(){if(this.$2<0||this.$3>=0){var a=(g||(g=b("performanceNow")))();this.$2<0?this.$2=a:this.$3>=0&&(this.$2+=a-this.$3,this.$3=-1);this.$5&&this.$5("start")}};c.pause=function(){this.$3<0&&this.$2>=0&&(this.$3=(g||(g=b("performanceNow")))(),this.$5&&this.$5("pause"))};c.reset=function(){this.$1=0,this.$4={one:0,two:0,four:0,eight:0},this.$3=-1,this.$2=-1};c.addFrame=function(){this.$1+=1,this.$7&&(this.$7(),this.$7=null)};c.addFrameDrop=function(a){a>=8?this.$4.eight+=1:a>=4?this.$4.four+=1:a>=2?this.$4.two+=1:a>=1&&(this.$4.one+=1)};c.finish=function(){if(this.$2>=0){var a=(g||(g=b("performanceNow")))(),c=this.$3>=0?a-this.$3:0;a=Math.max(Math.floor(a-this.$2-c),1);c=this.$1?this.$1/a*1e3:h;this.$6({animation_duration:a,display_refresh_rate:h,eight_frame_drop_count:this.$4.eight,four_frame_drop_count:this.$4.four,frame_rate:c,one_frame_drop_count:this.$4.one,two_frame_drop_count:this.$4.two});this.reset()}};return a}();e.exports=a}),null);
__d("KeyframesPluginsLoader",["Promise","Bootloader","flatbuffers"],(function(a,b,c,d,e,f){"use strict";var g={DynamicProperties:function(a){return b("Bootloader").loadModules(["KeyframesPluginDynamicProperties","KeyframesPluginDynamicPropertiesSchema"],a,"KeyframesPluginsLoader")},LayerName:function(a){return b("Bootloader").loadModules(["KeyframesPluginLayerName","KeyframesPluginLayerNameSchema"],a,"KeyframesPluginsLoader")},LayerTags:function(a){return b("Bootloader").loadModules(["KeyframesPluginLayerTags","KeyframesPluginLayerTagsSchema"],a,"KeyframesPluginsLoader")},RandomSubdocument:function(a){return b("Bootloader").loadModules(["KeyframesPluginRandomSubdocument","KeyframesPluginRandomSubdocumentSchema"],a,"KeyframesPluginsLoader")},Sound:function(a){return b("Bootloader").loadModules(["KeyframesPluginSound","KeyframesPluginSoundSchema"],a,"KeyframesPluginsLoader")},SubdocumentSwap:function(a){return b("Bootloader").loadModules(["KeyframesPluginSubdocumentSwap","KeyframesPluginSubdocumentSwapSchema"],a,"KeyframesPluginsLoader")},TrimPath:function(a){return b("Bootloader").loadModules(["KeyframesPluginTrimPath","KeyframesPluginTrimPathSchema"],a,"KeyframesPluginsLoader")}};function h(a,b){return g[a]?g[a](b):null}function i(a){a=a.map(function(a){return new(b("Promise"))(function(b,c){var d=h(a,function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];b(c)});d||c("Unknown plugin "+a)})});return b("Promise").all(a)}a=function(){a.fromPluginTable=function(b){return i(b).then(function(c){return new a(b,c)})};a.getSupportedPlugins=function(){return g};function a(a,b){this.instances=[],this.$1={},this.$2={},this.$4=a,this.$3=b}var c=a.prototype;c.getPluginTable=function(){return this.$4};c.getPluginsForLayer=function(a){return this.$1[a]};c.maybeInstantiatePluginsForLayer=function(a){var c=a.id();if(!this.$2[c]){var d=a.pluginsLength();if(d)for(var e=0;e<d;e++){var f=a.plugins(e),g=new(b("flatbuffers").ByteBuffer)(f.contentArray());f=f.index();if(this.$3[f]){var h=this.$3[f],i=h[0];h=h[1];f="getRootAsPlugin"+this.$4[f];h=h[f](g);f=new i(h,a);this.$1[c]||(this.$1[c]=[]);this.$1[c].push(f);this.instances.push(f);f.animationDidLoad()}}this.$2[c]=!0}};return a}();e.exports=a}),null);
__d("KeyframesVersion",[],(function(a,b,c,d,e,f){"use strict";f.getCurrentVersion=a;var g="2.0.0";function a(){return g}}),null);
__d("FBKeyframesLoggedSession",["BanzaiLogger","CurrentUser","FacebookAppIDs","FunnelLogger","KeyframesPerformanceLog","KeyframesPluginsLoader","KeyframesVersion","gkx","once","performanceNow","uuid"],(function(a,b,c,d,e,f){"use strict";var g;a=!1;var h=b("gkx")("1136485"),i="KEYFRAMES_FUNNEL",j="KeyframesFramePerfLoggerConfig",k=2,l=9e18,m={appid:b("FacebookAppIDs").WWW,appversion:null,connection_class:null,country:null,deviceid:null,extras:null,isemployee:b("CurrentUser").isEmployee()?1:0,name:"keyframes_frame_perf_report",vc:null,year_class:null};function n(a){return parseInt(a.match(/[a-f0-9]+$/gi),16)}function o(){var a=(g||(g=b("performanceNow")))();return function(){return Math.floor((g||(g=b("performanceNow")))()-a)}}function p(){return{value:Date.now()}}c=function(){function a(c,d){var e=this;this.$2=!1;this.$3=0;this.$5=1;this.$11=b("KeyframesVersion").getCurrentVersion();this.$15=function(b){e.$13("play_ended");e.$3++;if(e.$3===e.$5){b=Object.assign({},b,m,{animation_duration:String(b.animation_duration),asset_id:e.$6.assetID||null,asset_name:e.$6.assetID?null:e.$6.assetName,display_refresh_rate:String(b.display_refresh_rate),keyframes_version:e.$11,project_name:e.$6.projectName,session_id:e.$9});a.performanceLoggingMethod(b);e.$5<l&&(e.$5*=k)}};this.$16=function(a){switch(a){case"start":e.$13("play_started");return;case"pause":e.$13("play_ended");return}};this.$10=d||p();this.$6=c;this.$9=b("uuid")();this.$4=n(this.$9)}a.performanceLoggingMethod=function(a){b("BanzaiLogger").log(j,a)};var c=a.prototype;c.startDecode=function(a){var c=this;if(!this.$1){this.$12();this.$13("asset_decode_started",a);var d=o();this.$1=b("once")(function(a,b){c.$13("asset_decode_ended",a,{"time_since:asset_decode_started":d(),plugins_decoded:b||[]})})}return this.$1};c.error=function(a){this.$12(),this.$1?this.$14("asset_decode_failed",a):this.$14("asset_request_failed",a)};c.getUUID=function(){return this.$9};c.getInstanceID=function(){return this.$4};c.getPerformanceLogIfEnabled=function(){var a=this;if(h){if(!this.$7){var c=this.$12(),d=new(b("KeyframesPerformanceLog"))(this.$15,this.$16);d.onNextFrame(function(){return a.$13("first_frame_rendered",p(),{"time_since:session_started":c()})});this.$7=d}return this.$7}return null};c.$12=function(){this.$8||(h&&(b("FunnelLogger").startFunnelAtTime(i,this.$10.value,this.$4),this.$13("session_started",this.$10,{supported_plugins:Object.keys(b("KeyframesPluginsLoader").getSupportedPlugins())})),this.$8=o());return this.$8};c.$13=function(a,c,d){c=c||p(),h&&(this.$2||b("FunnelLogger").appendActionAtTimeWithPayload(i,c.value,this.$4,a,Object.assign({},this.$17(),d)))};c.$14=function(a,c){c=c||p(),h&&(this.$2||(this.$13("session_failed",c,{fail_reason:a}),b("FunnelLogger").endFunnelAtTime(i,c.value,this.$4),this.$2=!0))};c.$17=function(){return{asset_id:this.$6.assetID||null,asset_name:this.$6.assetID?null:this.$6.assetName,asset_source:"network",keyframes_version:this.$11,project_name:this.$6.projectName,session_id:this.$9}};return a}();e.exports=c}),null);
__d("KeyframesSchema",[],(function(a,b,c,d,e,f){var g=g||{};g.keyframes=g.keyframes||{};g.keyframes.CommandType={MoveTo:0,LineTo:1,QuadTo:2,CubicTo:3};g.keyframes.CommandTypeName={0:"MoveTo",1:"LineTo",2:"QuadTo",3:"CubicTo"};g.keyframes.TweenType={Bezier:0,Linear:1,Hold:2};g.keyframes.TweenTypeName={0:"Bezier",1:"Linear",2:"Hold"};g.keyframes.VectorCompositeOrder={FillStroke:0,StrokeFill:1};g.keyframes.VectorCompositeOrderName={0:"FillStroke",1:"StrokeFill"};g.keyframes.StrokeLineCap={Butt:0,Round:1,Square:2};g.keyframes.StrokeLineCapName={0:"Butt",1:"Round",2:"Square"};g.keyframes.StrokeLineJoin={Miter:0,Round:1,Bevel:2};g.keyframes.StrokeLineJoinName={0:"Miter",1:"Round",2:"Bevel"};g.keyframes.TrackMatteType={None:0,Alpha:1,Alpha_Inverted:2};g.keyframes.TrackMatteTypeName={0:"None",1:"Alpha",2:"Alpha_Inverted"};g.keyframes.GradientType={Linear:0,Radial:1};g.keyframes.GradientTypeName={0:"Linear",1:"Radial"};g.keyframes.TextWeight={Thin:0,UltraLight:1,Light:2,Book:3,Medium:4,SemiBold:5,Bold:6,UltraBold:7,Heavy:8,UltraHeavy:9};g.keyframes.TextWeightName={0:"Thin",1:"UltraLight",2:"Light",3:"Book",4:"Medium",5:"SemiBold",6:"Bold",7:"UltraBold",8:"Heavy",9:"UltraHeavy"};g.keyframes.Size=function(){this.bb=null,this.bb_pos=0};g.keyframes.Size.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Size.prototype.width=function(){return this.bb.readFloat32(this.bb_pos)};g.keyframes.Size.prototype.mutate_width=function(a){var b=this.bb.__offset(this.bb_pos,0);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Size.prototype.height=function(){return this.bb.readFloat32(this.bb_pos+4)};g.keyframes.Size.prototype.mutate_height=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Size.createSize=function(a,b,c){a.prep(4,8);a.writeFloat32(c);a.writeFloat32(b);return a.offset()};g.keyframes.Point=function(){this.bb=null,this.bb_pos=0};g.keyframes.Point.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Point.getRootAsPoint=function(a,b){return(b||new g.keyframes.Point()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Point.prototype.x=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Point.prototype.mutate_x=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Point.prototype.y=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Point.prototype.mutate_y=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Point.startPoint=function(a){a.startObject(2)};g.keyframes.Point.addX=function(a,b){a.addFieldFloat32(0,b,0)};g.keyframes.Point.addY=function(a,b){a.addFieldFloat32(1,b,0)};g.keyframes.Point.endPoint=function(a){a=a.endObject();return a};g.keyframes.Point.createPoint=function(a,b,c){g.keyframes.Point.startPoint(a);g.keyframes.Point.addX(a,b);g.keyframes.Point.addY(a,c);return g.keyframes.Point.endPoint(a)};g.keyframes.Color=function(){this.bb=null,this.bb_pos=0};g.keyframes.Color.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Color.getRootAsColor=function(a,b){return(b||new g.keyframes.Color()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Color.prototype.red=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readUint8(this.bb_pos+a):0};g.keyframes.Color.prototype.mutate_red=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.prototype.green=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readUint8(this.bb_pos+a):0};g.keyframes.Color.prototype.mutate_green=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.prototype.blue=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readUint8(this.bb_pos+a):0};g.keyframes.Color.prototype.mutate_blue=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.prototype.alpha=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readUint8(this.bb_pos+a):255};g.keyframes.Color.prototype.mutate_alpha=function(a){var b=this.bb.__offset(this.bb_pos,10);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.startColor=function(a){a.startObject(4)};g.keyframes.Color.addRed=function(a,b){a.addFieldInt8(0,b,0)};g.keyframes.Color.addGreen=function(a,b){a.addFieldInt8(1,b,0)};g.keyframes.Color.addBlue=function(a,b){a.addFieldInt8(2,b,0)};g.keyframes.Color.addAlpha=function(a,b){a.addFieldInt8(3,b,255)};g.keyframes.Color.endColor=function(a){a=a.endObject();return a};g.keyframes.Color.createColor=function(a,b,c,d,e){g.keyframes.Color.startColor(a);g.keyframes.Color.addRed(a,b);g.keyframes.Color.addGreen(a,c);g.keyframes.Color.addBlue(a,d);g.keyframes.Color.addAlpha(a,e);return g.keyframes.Color.endColor(a)};g.keyframes.ColorArray=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorArray.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorArray.getRootAsColorArray=function(a,b){return(b||new g.keyframes.ColorArray()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorArray.prototype.colors=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorArray.prototype.colorsLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArray.startColorArray=function(a){a.startObject(1)};g.keyframes.ColorArray.addColors=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorArray.createColorsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorArray.startColorsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArray.endColorArray=function(a){a=a.endObject();return a};g.keyframes.ColorArray.createColorArray=function(a,b){g.keyframes.ColorArray.startColorArray(a);g.keyframes.ColorArray.addColors(a,b);return g.keyframes.ColorArray.endColorArray(a)};g.keyframes.Command=function(){this.bb=null,this.bb_pos=0};g.keyframes.Command.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Command.getRootAsCommand=function(a,b){return(b||new g.keyframes.Command()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Command.prototype.type=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.CommandType.MoveTo};g.keyframes.Command.prototype.mutate_type=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Command.prototype.point=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Command.prototype.control1=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Command.prototype.control2=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Command.startCommand=function(a){a.startObject(4)};g.keyframes.Command.addType=function(a,b){a.addFieldInt8(0,b,g.keyframes.CommandType.MoveTo)};g.keyframes.Command.addPoint=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Command.addControl1=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Command.addControl2=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Command.endCommand=function(a){a=a.endObject();return a};g.keyframes.Command.createCommand=function(a,b,c,d,e){g.keyframes.Command.startCommand(a);g.keyframes.Command.addType(a,b);g.keyframes.Command.addPoint(a,c);g.keyframes.Command.addControl1(a,d);g.keyframes.Command.addControl2(a,e);return g.keyframes.Command.endCommand(a)};g.keyframes.Path=function(){this.bb=null,this.bb_pos=0};g.keyframes.Path.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Path.getRootAsPath=function(a,b){return(b||new g.keyframes.Path()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Path.prototype.commands=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.Command()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Path.prototype.commandsLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Path.startPath=function(a){a.startObject(1)};g.keyframes.Path.addCommands=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.Path.createCommandsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Path.startCommandsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Path.endPath=function(a){a=a.endObject();return a};g.keyframes.Path.createPath=function(a,b){g.keyframes.Path.startPath(a);g.keyframes.Path.addCommands(a,b);return g.keyframes.Path.endPath(a)};g.keyframes.Tween=function(){this.bb=null,this.bb_pos=0};g.keyframes.Tween.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Tween.getRootAsTween=function(a,b){return(b||new g.keyframes.Tween()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Tween.prototype.type=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TweenType.Bezier};g.keyframes.Tween.prototype.mutate_type=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Tween.prototype.control1=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Tween.prototype.control2=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Tween.startTween=function(a){a.startObject(3)};g.keyframes.Tween.addType=function(a,b){a.addFieldInt8(0,b,g.keyframes.TweenType.Bezier)};g.keyframes.Tween.addControl1=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Tween.addControl2=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Tween.endTween=function(a){a=a.endObject();return a};g.keyframes.Tween.createTween=function(a,b,c,d){g.keyframes.Tween.startTween(a);g.keyframes.Tween.addType(a,b);g.keyframes.Tween.addControl1(a,c);g.keyframes.Tween.addControl2(a,d);return g.keyframes.Tween.endTween(a)};g.keyframes.ScalarAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarAnimation.getRootAsScalarAnimation=function(a,b){return(b||new g.keyframes.ScalarAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarAnimation.prototype.value=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.ScalarAnimation.prototype.mutate_value=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.ScalarAnimation.prototype.values=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.prototype.valuesArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.startScalarAnimation=function(a){a.startObject(4)};g.keyframes.ScalarAnimation.addValue=function(a,b){a.addFieldFloat32(0,b,0)};g.keyframes.ScalarAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ScalarAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ScalarAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ScalarAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.endScalarAnimation=function(a){a=a.endObject();return a};g.keyframes.ScalarAnimation.createScalarAnimation=function(a,b,c,d,e){g.keyframes.ScalarAnimation.startScalarAnimation(a);g.keyframes.ScalarAnimation.addValue(a,b);g.keyframes.ScalarAnimation.addValues(a,c);g.keyframes.ScalarAnimation.addKeyframes(a,d);g.keyframes.ScalarAnimation.addTweens(a,e);return g.keyframes.ScalarAnimation.endScalarAnimation(a)};g.keyframes.ScalarArray=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarArray.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarArray.getRootAsScalarArray=function(a,b){return(b||new g.keyframes.ScalarArray()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarArray.prototype.values=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarArray.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArray.prototype.valuesArray=function(){var a=this.bb.__offset(this.bb_pos,4);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarArray.startScalarArray=function(a){a.startObject(1)};g.keyframes.ScalarArray.addValues=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ScalarArray.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarArray.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArray.endScalarArray=function(a){a=a.endObject();return a};g.keyframes.ScalarArray.createScalarArray=function(a,b){g.keyframes.ScalarArray.startScalarArray(a);g.keyframes.ScalarArray.addValues(a,b);return g.keyframes.ScalarArray.endScalarArray(a)};g.keyframes.ScalarArrayAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarArrayAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarArrayAnimation.getRootAsScalarArrayAnimation=function(a,b){return(b||new g.keyframes.ScalarArrayAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarArrayAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.ScalarArray()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.ScalarArrayAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.ScalarArray()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarArrayAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarArrayAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarArrayAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarArrayAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.startScalarArrayAnimation=function(a){a.startObject(4)};g.keyframes.ScalarArrayAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ScalarArrayAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ScalarArrayAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ScalarArrayAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ScalarArrayAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.endScalarArrayAnimation=function(a){a=a.endObject();return a};g.keyframes.ScalarArrayAnimation.createScalarArrayAnimation=function(a,b,c,d,e){g.keyframes.ScalarArrayAnimation.startScalarArrayAnimation(a);g.keyframes.ScalarArrayAnimation.addValue(a,b);g.keyframes.ScalarArrayAnimation.addValues(a,c);g.keyframes.ScalarArrayAnimation.addKeyframes(a,d);g.keyframes.ScalarArrayAnimation.addTweens(a,e);return g.keyframes.ScalarArrayAnimation.endScalarArrayAnimation(a)};g.keyframes.PointAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.PointAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.PointAnimation.getRootAsPointAnimation=function(a,b){return(b||new g.keyframes.PointAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.PointAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.PointAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PointAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.PointAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.PointAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PointAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.startPointAnimation=function(a){a.startObject(4)};g.keyframes.PointAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.PointAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.PointAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PointAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PointAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.PointAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.PointAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PointAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.PointAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PointAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PointAnimation.endPointAnimation=function(a){a=a.endObject();return a};g.keyframes.PointAnimation.createPointAnimation=function(a,b,c,d,e){g.keyframes.PointAnimation.startPointAnimation(a);g.keyframes.PointAnimation.addValue(a,b);g.keyframes.PointAnimation.addValues(a,c);g.keyframes.PointAnimation.addKeyframes(a,d);g.keyframes.PointAnimation.addTweens(a,e);return g.keyframes.PointAnimation.endPointAnimation(a)};g.keyframes.ColorAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorAnimation.getRootAsColorAnimation=function(a,b){return(b||new g.keyframes.ColorAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.ColorAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ColorAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ColorAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.startColorAnimation=function(a){a.startObject(4)};g.keyframes.ColorAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ColorAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ColorAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ColorAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ColorAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorAnimation.endColorAnimation=function(a){a=a.endObject();return a};g.keyframes.ColorAnimation.createColorAnimation=function(a,b,c,d,e){g.keyframes.ColorAnimation.startColorAnimation(a);g.keyframes.ColorAnimation.addValue(a,b);g.keyframes.ColorAnimation.addValues(a,c);g.keyframes.ColorAnimation.addKeyframes(a,d);g.keyframes.ColorAnimation.addTweens(a,e);return g.keyframes.ColorAnimation.endColorAnimation(a)};g.keyframes.ColorArrayAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorArrayAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorArrayAnimation.getRootAsColorArrayAnimation=function(a,b){return(b||new g.keyframes.ColorArrayAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorArrayAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.ColorArray()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.ColorArrayAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.ColorArray()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorArrayAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ColorArrayAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ColorArrayAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorArrayAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.startColorArrayAnimation=function(a){a.startObject(4)};g.keyframes.ColorArrayAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorArrayAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ColorArrayAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ColorArrayAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ColorArrayAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.endColorArrayAnimation=function(a){a=a.endObject();return a};g.keyframes.ColorArrayAnimation.createColorArrayAnimation=function(a,b,c,d,e){g.keyframes.ColorArrayAnimation.startColorArrayAnimation(a);g.keyframes.ColorArrayAnimation.addValue(a,b);g.keyframes.ColorArrayAnimation.addValues(a,c);g.keyframes.ColorArrayAnimation.addKeyframes(a,d);g.keyframes.ColorArrayAnimation.addTweens(a,e);return g.keyframes.ColorArrayAnimation.endColorArrayAnimation(a)};g.keyframes.PathAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.PathAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.PathAnimation.getRootAsPathAnimation=function(a,b){return(b||new g.keyframes.PathAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.PathAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Path()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.PathAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Path()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PathAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.PathAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.PathAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PathAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.startPathAnimation=function(a){a.startObject(4)};g.keyframes.PathAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.PathAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.PathAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PathAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.PathAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.PathAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.PathAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PathAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.endPathAnimation=function(a){a=a.endObject();return a};g.keyframes.PathAnimation.createPathAnimation=function(a,b,c,d,e){g.keyframes.PathAnimation.startPathAnimation(a);g.keyframes.PathAnimation.addValue(a,b);g.keyframes.PathAnimation.addValues(a,c);g.keyframes.PathAnimation.addKeyframes(a,d);g.keyframes.PathAnimation.addTweens(a,e);return g.keyframes.PathAnimation.endPathAnimation(a)};g.keyframes.Gradient=function(){this.bb=null,this.bb_pos=0};g.keyframes.Gradient.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Gradient.getRootAsGradient=function(a,b){return(b||new g.keyframes.Gradient()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Gradient.prototype.colorStart=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.colorEnd=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.rampStart=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.rampEnd=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.type=function(){var a=this.bb.__offset(this.bb_pos,12);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.GradientType.Linear};g.keyframes.Gradient.prototype.mutate_type=function(a){var b=this.bb.__offset(this.bb_pos,12);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Gradient.prototype.colors=function(a){var b=this.bb.__offset(this.bb_pos,14);return b?(a||new g.keyframes.ColorArrayAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.positions=function(a){var b=this.bb.__offset(this.bb_pos,16);return b?(a||new g.keyframes.ScalarArrayAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.highlightLength=function(a){var b=this.bb.__offset(this.bb_pos,18);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.highlightAngle=function(a){var b=this.bb.__offset(this.bb_pos,20);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.startGradient=function(a){a.startObject(9)};g.keyframes.Gradient.addColorStart=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.Gradient.addColorEnd=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Gradient.addRampStart=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Gradient.addRampEnd=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Gradient.addType=function(a,b){a.addFieldInt8(4,b,g.keyframes.GradientType.Linear)};g.keyframes.Gradient.addColors=function(a,b){a.addFieldOffset(5,b,0)};g.keyframes.Gradient.addPositions=function(a,b){a.addFieldOffset(6,b,0)};g.keyframes.Gradient.addHighlightLength=function(a,b){a.addFieldOffset(7,b,0)};g.keyframes.Gradient.addHighlightAngle=function(a,b){a.addFieldOffset(8,b,0)};g.keyframes.Gradient.endGradient=function(a){a=a.endObject();return a};g.keyframes.Gradient.createGradient=function(a,b,c,d,e,f,h,i,j,k){g.keyframes.Gradient.startGradient(a);g.keyframes.Gradient.addColorStart(a,b);g.keyframes.Gradient.addColorEnd(a,c);g.keyframes.Gradient.addRampStart(a,d);g.keyframes.Gradient.addRampEnd(a,e);g.keyframes.Gradient.addType(a,f);g.keyframes.Gradient.addColors(a,h);g.keyframes.Gradient.addPositions(a,i);g.keyframes.Gradient.addHighlightLength(a,j);g.keyframes.Gradient.addHighlightAngle(a,k);return g.keyframes.Gradient.endGradient(a)};g.keyframes.Bitmap=function(){this.bb=null,this.bb_pos=0};g.keyframes.Bitmap.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Bitmap.getRootAsBitmap=function(a,b){return(b||new g.keyframes.Bitmap()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Bitmap.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Bitmap.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Bitmap.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Bitmap.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Bitmap.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Bitmap.startBitmap=function(a){a.startObject(3)};g.keyframes.Bitmap.addSize=function(a,b){a.addFieldStruct(0,b,0)};g.keyframes.Bitmap.addContent=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Bitmap.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Bitmap.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Bitmap.addName=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Bitmap.endBitmap=function(a){a=a.endObject();return a};g.keyframes.Bitmap.createBitmap=function(a,b,c,d){g.keyframes.Bitmap.startBitmap(a);g.keyframes.Bitmap.addSize(a,b);g.keyframes.Bitmap.addContent(a,c);g.keyframes.Bitmap.addName(a,d);return g.keyframes.Bitmap.endBitmap(a)};g.keyframes.Video=function(){this.bb=null,this.bb_pos=0};g.keyframes.Video.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Video.getRootAsVideo=function(a,b){return(b||new g.keyframes.Video()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Video.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Video.prototype.length=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Video.prototype.mutate_length=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Video.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Video.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Video.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Video.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Video.startVideo=function(a){a.startObject(4)};g.keyframes.Video.addSize=function(a,b){a.addFieldStruct(0,b,0)};g.keyframes.Video.addLength=function(a,b){a.addFieldInt32(1,b,0)};g.keyframes.Video.addContent=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Video.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Video.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Video.addName=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Video.endVideo=function(a){a=a.endObject();return a};g.keyframes.Video.createVideo=function(a,b,c,d,e){g.keyframes.Video.startVideo(a);g.keyframes.Video.addSize(a,b);g.keyframes.Video.addLength(a,c);g.keyframes.Video.addContent(a,d);g.keyframes.Video.addName(a,e);return g.keyframes.Video.endVideo(a)};g.keyframes.Plugin=function(){this.bb=null,this.bb_pos=0};g.keyframes.Plugin.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Plugin.getRootAsPlugin=function(a,b){return(b||new g.keyframes.Plugin()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Plugin.prototype.index=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Plugin.prototype.mutate_index=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Plugin.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Plugin.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Plugin.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Plugin.prototype.optional=function(){var a=this.bb.__offset(this.bb_pos,8);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Plugin.prototype.mutate_optional=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Plugin.startPlugin=function(a){a.startObject(3)};g.keyframes.Plugin.addIndex=function(a,b){a.addFieldInt32(0,b,0)};g.keyframes.Plugin.addContent=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Plugin.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Plugin.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Plugin.addOptional=function(a,b){a.addFieldInt8(2,+b,0)};g.keyframes.Plugin.endPlugin=function(a){a=a.endObject();return a};g.keyframes.Plugin.createPlugin=function(a,b,c,d){g.keyframes.Plugin.startPlugin(a);g.keyframes.Plugin.addIndex(a,b);g.keyframes.Plugin.addContent(a,c);g.keyframes.Plugin.addOptional(a,d);return g.keyframes.Plugin.endPlugin(a)};g.keyframes.ProgressMarker=function(){this.bb=null,this.bb_pos=0};g.keyframes.ProgressMarker.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ProgressMarker.getRootAsProgressMarker=function(a,b){return(b||new g.keyframes.ProgressMarker()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ProgressMarker.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.ProgressMarker.prototype.startProgress=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.ProgressMarker.prototype.mutate_start_progress=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.ProgressMarker.prototype.endProgress=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.ProgressMarker.prototype.mutate_end_progress=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.ProgressMarker.startProgressMarker=function(a){a.startObject(3)};g.keyframes.ProgressMarker.addName=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ProgressMarker.addStartProgress=function(a,b){a.addFieldFloat32(1,b,0)};g.keyframes.ProgressMarker.addEndProgress=function(a,b){a.addFieldFloat32(2,b,0)};g.keyframes.ProgressMarker.endProgressMarker=function(a){a=a.endObject();return a};g.keyframes.ProgressMarker.createProgressMarker=function(a,b,c,d){g.keyframes.ProgressMarker.startProgressMarker(a);g.keyframes.ProgressMarker.addName(a,b);g.keyframes.ProgressMarker.addStartProgress(a,c);g.keyframes.ProgressMarker.addEndProgress(a,d);return g.keyframes.ProgressMarker.endProgressMarker(a)};g.keyframes.Layer=function(){this.bb=null,this.bb_pos=0};g.keyframes.Layer.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Layer.getRootAsLayer=function(a,b){return(b||new g.keyframes.Layer()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Layer.prototype.id=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_id=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.sublayers=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Layer()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.sublayersLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.fromProgress=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_from_progress=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.toProgress=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readFloat32(this.bb_pos+a):1};g.keyframes.Layer.prototype.mutate_to_progress=function(a){var b=this.bb.__offset(this.bb_pos,10);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.anchorPoint=function(a){var b=this.bb.__offset(this.bb_pos,12);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.xPosition=function(a){var b=this.bb.__offset(this.bb_pos,14);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.yPosition=function(a){var b=this.bb.__offset(this.bb_pos,16);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.rotation=function(a){var b=this.bb.__offset(this.bb_pos,18);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.scale=function(a){var b=this.bb.__offset(this.bb_pos,20);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.path=function(a){var b=this.bb.__offset(this.bb_pos,22);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.opacity=function(a){var b=this.bb.__offset(this.bb_pos,24);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.fillColor=function(a){var b=this.bb.__offset(this.bb_pos,26);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeColor=function(a){var b=this.bb.__offset(this.bb_pos,28);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeWidth=function(a){var b=this.bb.__offset(this.bb_pos,30);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeLineCap=function(){var a=this.bb.__offset(this.bb_pos,32);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.StrokeLineCap.Butt};g.keyframes.Layer.prototype.mutate_stroke_line_cap=function(a){var b=this.bb.__offset(this.bb_pos,32);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.gradient=function(a){var b=this.bb.__offset(this.bb_pos,34);return b?(a||new g.keyframes.Gradient()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeLineJoin=function(){var a=this.bb.__offset(this.bb_pos,36);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.StrokeLineJoin.Miter};g.keyframes.Layer.prototype.mutate_stroke_line_join=function(a){var b=this.bb.__offset(this.bb_pos,36);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.miterLimit=function(a){var b=this.bb.__offset(this.bb_pos,38);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.bitmapIndex=function(){var a=this.bb.__offset(this.bb_pos,40);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.mutate_bitmap_index=function(a){var b=this.bb.__offset(this.bb_pos,40);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.subdocumentIndex=function(){var a=this.bb.__offset(this.bb_pos,42);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.mutate_subdocument_index=function(a){var b=this.bb.__offset(this.bb_pos,42);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.plugins=function(a,b){var c=this.bb.__offset(this.bb_pos,44);return c?(b||new g.keyframes.Plugin()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.pluginsLength=function(){var a=this.bb.__offset(this.bb_pos,44);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.progressOffset=function(){var a=this.bb.__offset(this.bb_pos,46);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_progress_offset=function(a){var b=this.bb.__offset(this.bb_pos,46);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.clippingPath=function(a){var b=this.bb.__offset(this.bb_pos,48);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.position=function(a){var b=this.bb.__offset(this.bb_pos,50);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.isTrackMatte=function(){var a=this.bb.__offset(this.bb_pos,52);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Layer.prototype.mutate_is_track_matte=function(a){var b=this.bb.__offset(this.bb_pos,52);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.trackMatteType=function(){var a=this.bb.__offset(this.bb_pos,54);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TrackMatteType.None};g.keyframes.Layer.prototype.mutate_track_matte_type=function(a){var b=this.bb.__offset(this.bb_pos,54);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.vectorCompositeOrder=function(){var a=this.bb.__offset(this.bb_pos,56);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.VectorCompositeOrder.FillStroke};g.keyframes.Layer.prototype.mutate_vector_composite_order=function(a){var b=this.bb.__offset(this.bb_pos,56);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.text=function(a){var b=this.bb.__offset(this.bb_pos,58);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Layer.prototype.textTypeface=function(a){var b=this.bb.__offset(this.bb_pos,60);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Layer.prototype.textSize=function(){var a=this.bb.__offset(this.bb_pos,62);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textSize=function(a){var b=this.bb.__offset(this.bb_pos,62);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textColor=function(a){var b=this.bb.__offset(this.bb_pos,64);return b?(a||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.textAlign=function(){var a=this.bb.__offset(this.bb_pos,66);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textAlign=function(a){var b=this.bb.__offset(this.bb_pos,66);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textVAlign=function(){var a=this.bb.__offset(this.bb_pos,68);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textVAlign=function(a){var b=this.bb.__offset(this.bb_pos,68);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textTracking=function(){var a=this.bb.__offset(this.bb_pos,70);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textTracking=function(a){var b=this.bb.__offset(this.bb_pos,70);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textLeading=function(){var a=this.bb.__offset(this.bb_pos,72);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textLeading=function(a){var b=this.bb.__offset(this.bb_pos,72);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textItalic=function(){var a=this.bb.__offset(this.bb_pos,74);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Layer.prototype.mutate_textItalic=function(a){var b=this.bb.__offset(this.bb_pos,74);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textWeight=function(){var a=this.bb.__offset(this.bb_pos,76);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TextWeight.Thin};g.keyframes.Layer.prototype.mutate_textWeight=function(a){var b=this.bb.__offset(this.bb_pos,76);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textBoxSize=function(a){var b=this.bb.__offset(this.bb_pos,78);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Layer.prototype.videoLevels=function(a,b){var c=this.bb.__offset(this.bb_pos,80);return c?(b||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.videoLevelsLength=function(){var a=this.bb.__offset(this.bb_pos,80);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.videoIndex=function(){var a=this.bb.__offset(this.bb_pos,82);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.mutate_video_index=function(a){var b=this.bb.__offset(this.bb_pos,82);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.startLayer=function(a){a.startObject(40)};g.keyframes.Layer.addId=function(a,b){a.addFieldInt32(0,b,0)};g.keyframes.Layer.addSublayers=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Layer.createSublayersVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startSublayersVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addFromProgress=function(a,b){a.addFieldFloat32(2,b,0)};g.keyframes.Layer.addToProgress=function(a,b){a.addFieldFloat32(3,b,1)};g.keyframes.Layer.addAnchorPoint=function(a,b){a.addFieldOffset(4,b,0)};g.keyframes.Layer.addXPosition=function(a,b){a.addFieldOffset(5,b,0)};g.keyframes.Layer.addYPosition=function(a,b){a.addFieldOffset(6,b,0)};g.keyframes.Layer.addRotation=function(a,b){a.addFieldOffset(7,b,0)};g.keyframes.Layer.addScale=function(a,b){a.addFieldOffset(8,b,0)};g.keyframes.Layer.addPath=function(a,b){a.addFieldOffset(9,b,0)};g.keyframes.Layer.addOpacity=function(a,b){a.addFieldOffset(10,b,0)};g.keyframes.Layer.addFillColor=function(a,b){a.addFieldOffset(11,b,0)};g.keyframes.Layer.addStrokeColor=function(a,b){a.addFieldOffset(12,b,0)};g.keyframes.Layer.addStrokeWidth=function(a,b){a.addFieldOffset(13,b,0)};g.keyframes.Layer.addStrokeLineCap=function(a,b){a.addFieldInt8(14,b,g.keyframes.StrokeLineCap.Butt)};g.keyframes.Layer.addGradient=function(a,b){a.addFieldOffset(15,b,0)};g.keyframes.Layer.addStrokeLineJoin=function(a,b){a.addFieldInt8(16,b,g.keyframes.StrokeLineJoin.Miter)};g.keyframes.Layer.addMiterLimit=function(a,b){a.addFieldOffset(17,b,0)};g.keyframes.Layer.addBitmapIndex=function(a,b){a.addFieldInt32(18,b,-1)};g.keyframes.Layer.addSubdocumentIndex=function(a,b){a.addFieldInt32(19,b,-1)};g.keyframes.Layer.addPlugins=function(a,b){a.addFieldOffset(20,b,0)};g.keyframes.Layer.createPluginsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startPluginsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addProgressOffset=function(a,b){a.addFieldFloat32(21,b,0)};g.keyframes.Layer.addClippingPath=function(a,b){a.addFieldOffset(22,b,0)};g.keyframes.Layer.addPosition=function(a,b){a.addFieldOffset(23,b,0)};g.keyframes.Layer.addIsTrackMatte=function(a,b){a.addFieldInt8(24,+b,0)};g.keyframes.Layer.addTrackMatteType=function(a,b){a.addFieldInt8(25,b,g.keyframes.TrackMatteType.None)};g.keyframes.Layer.addVectorCompositeOrder=function(a,b){a.addFieldInt8(26,b,g.keyframes.VectorCompositeOrder.FillStroke)};g.keyframes.Layer.addText=function(a,b){a.addFieldOffset(27,b,0)};g.keyframes.Layer.addTextTypeface=function(a,b){a.addFieldOffset(28,b,0)};g.keyframes.Layer.addTextSize=function(a,b){a.addFieldFloat32(29,b,0)};g.keyframes.Layer.addTextColor=function(a,b){a.addFieldOffset(30,b,0)};g.keyframes.Layer.addTextAlign=function(a,b){a.addFieldFloat32(31,b,0)};g.keyframes.Layer.addTextVAlign=function(a,b){a.addFieldFloat32(32,b,0)};g.keyframes.Layer.addTextTracking=function(a,b){a.addFieldFloat32(33,b,0)};g.keyframes.Layer.addTextLeading=function(a,b){a.addFieldFloat32(34,b,0)};g.keyframes.Layer.addTextItalic=function(a,b){a.addFieldInt8(35,+b,0)};g.keyframes.Layer.addTextWeight=function(a,b){a.addFieldInt8(36,b,g.keyframes.TextWeight.Thin)};g.keyframes.Layer.addTextBoxSize=function(a,b){a.addFieldStruct(37,b,0)};g.keyframes.Layer.addVideoLevels=function(a,b){a.addFieldOffset(38,b,0)};g.keyframes.Layer.createVideoLevelsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startVideoLevelsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addVideoIndex=function(a,b){a.addFieldInt32(39,b,-1)};g.keyframes.Layer.endLayer=function(a){a=a.endObject();return a};g.keyframes.Layer.createLayer=function(a,b,c,d,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P){g.keyframes.Layer.startLayer(a);g.keyframes.Layer.addId(a,b);g.keyframes.Layer.addSublayers(a,c);g.keyframes.Layer.addFromProgress(a,d);g.keyframes.Layer.addToProgress(a,e);g.keyframes.Layer.addAnchorPoint(a,f);g.keyframes.Layer.addXPosition(a,h);g.keyframes.Layer.addYPosition(a,i);g.keyframes.Layer.addRotation(a,j);g.keyframes.Layer.addScale(a,k);g.keyframes.Layer.addPath(a,l);g.keyframes.Layer.addOpacity(a,m);g.keyframes.Layer.addFillColor(a,n);g.keyframes.Layer.addStrokeColor(a,o);g.keyframes.Layer.addStrokeWidth(a,p);g.keyframes.Layer.addStrokeLineCap(a,q);g.keyframes.Layer.addGradient(a,r);g.keyframes.Layer.addStrokeLineJoin(a,s);g.keyframes.Layer.addMiterLimit(a,t);g.keyframes.Layer.addBitmapIndex(a,u);g.keyframes.Layer.addSubdocumentIndex(a,v);g.keyframes.Layer.addPlugins(a,w);g.keyframes.Layer.addProgressOffset(a,x);g.keyframes.Layer.addClippingPath(a,y);g.keyframes.Layer.addPosition(a,z);g.keyframes.Layer.addIsTrackMatte(a,A);g.keyframes.Layer.addTrackMatteType(a,B);g.keyframes.Layer.addVectorCompositeOrder(a,C);g.keyframes.Layer.addText(a,D);g.keyframes.Layer.addTextTypeface(a,E);g.keyframes.Layer.addTextSize(a,F);g.keyframes.Layer.addTextColor(a,G);g.keyframes.Layer.addTextAlign(a,H);g.keyframes.Layer.addTextVAlign(a,I);g.keyframes.Layer.addTextTracking(a,J);g.keyframes.Layer.addTextLeading(a,K);g.keyframes.Layer.addTextItalic(a,L);g.keyframes.Layer.addTextWeight(a,M);g.keyframes.Layer.addTextBoxSize(a,N);g.keyframes.Layer.addVideoLevels(a,O);g.keyframes.Layer.addVideoIndex(a,P);return g.keyframes.Layer.endLayer(a)};g.keyframes.Document=function(){this.bb=null,this.bb_pos=0};g.keyframes.Document.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Document.getRootAsDocument=function(a,b){return(b||new g.keyframes.Document()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Document.bufferHasIdentifier=function(a){return a.__has_identifier("KEYF")};g.keyframes.Document.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Document.prototype.frameRate=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_frame_rate=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.duration=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_duration=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.version=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_version=function(a){var b=this.bb.__offset(this.bb_pos,10);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.rootLayer=function(a){var b=this.bb.__offset(this.bb_pos,12);return b?(a||new g.keyframes.Layer()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Document.prototype.bitmaps=function(a,b){var c=this.bb.__offset(this.bb_pos,14);return c?(b||new g.keyframes.Bitmap()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.bitmapsLength=function(){var a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.subdocuments=function(a,b){var c=this.bb.__offset(this.bb_pos,16);return c?(b||new g.keyframes.Document()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.subdocumentsLength=function(){var a=this.bb.__offset(this.bb_pos,16);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.plugins=function(a,b){var c=this.bb.__offset(this.bb_pos,18);return c?this.bb.__string(this.bb.__vector(this.bb_pos+c)+a*4,b):null};g.keyframes.Document.prototype.pluginsLength=function(){var a=this.bb.__offset(this.bb_pos,18);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.id=function(){var a=this.bb.__offset(this.bb_pos,20);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_id=function(a){var b=this.bb.__offset(this.bb_pos,20);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.manifest=function(a){var b=this.bb.__offset(this.bb_pos,22);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Document.prototype.manifestLength=function(){var a=this.bb.__offset(this.bb_pos,22);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.manifestArray=function(){var a=this.bb.__offset(this.bb_pos,22);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Document.prototype.progressMarkers=function(a,b){var c=this.bb.__offset(this.bb_pos,24);return c?(b||new g.keyframes.ProgressMarker()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.progressMarkersLength=function(){var a=this.bb.__offset(this.bb_pos,24);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.videos=function(a,b){var c=this.bb.__offset(this.bb_pos,26);return c?(b||new g.keyframes.Video()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.videosLength=function(){var a=this.bb.__offset(this.bb_pos,26);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.startDocument=function(a){a.startObject(12)};g.keyframes.Document.addSize=function(a,b){a.addFieldStruct(0,b,0)};g.keyframes.Document.addFrameRate=function(a,b){a.addFieldFloat32(1,b,0)};g.keyframes.Document.addDuration=function(a,b){a.addFieldFloat32(2,b,0)};g.keyframes.Document.addVersion=function(a,b){a.addFieldInt32(3,b,0)};g.keyframes.Document.addRootLayer=function(a,b){a.addFieldOffset(4,b,0)};g.keyframes.Document.addBitmaps=function(a,b){a.addFieldOffset(5,b,0)};g.keyframes.Document.createBitmapsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startBitmapsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addSubdocuments=function(a,b){a.addFieldOffset(6,b,0)};g.keyframes.Document.createSubdocumentsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startSubdocumentsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addPlugins=function(a,b){a.addFieldOffset(7,b,0)};g.keyframes.Document.createPluginsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startPluginsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addId=function(a,b){a.addFieldInt32(8,b,0)};g.keyframes.Document.addManifest=function(a,b){a.addFieldOffset(9,b,0)};g.keyframes.Document.createManifestVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Document.startManifestVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Document.addProgressMarkers=function(a,b){a.addFieldOffset(10,b,0)};g.keyframes.Document.createProgressMarkersVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startProgressMarkersVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addVideos=function(a,b){a.addFieldOffset(11,b,0)};g.keyframes.Document.createVideosVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startVideosVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.endDocument=function(a){a=a.endObject();return a};g.keyframes.Document.finishDocumentBuffer=function(a,b){a.finish(b,"KEYF")};g.keyframes.Document.createDocument=function(a,b,c,d,e,f,h,i,j,k,l,m,n){g.keyframes.Document.startDocument(a);g.keyframes.Document.addSize(a,b);g.keyframes.Document.addFrameRate(a,c);g.keyframes.Document.addDuration(a,d);g.keyframes.Document.addVersion(a,e);g.keyframes.Document.addRootLayer(a,f);g.keyframes.Document.addBitmaps(a,h);g.keyframes.Document.addSubdocuments(a,i);g.keyframes.Document.addPlugins(a,j);g.keyframes.Document.addId(a,k);g.keyframes.Document.addManifest(a,l);g.keyframes.Document.addProgressMarkers(a,m);g.keyframes.Document.addVideos(a,n);return g.keyframes.Document.endDocument(a)};e.exports=g.keyframes}),null);
__d("KeyframesVideoUtils",["Promise"],(function(a,b,c,d,e,f){"use strict";f.createVideo=a;f.loadVideo=c;var g=window.setTimeout,h=4;function a(a){var b=document.createElement("video");b.setAttribute("webkit-playsinline","");b.setAttribute("playsinline","");b.autoplay=!1;b.src=a;b.currentTime=0;a.startsWith("blob:")||(b.crossOrigin="anonymous");return b}function c(a,c){return new(b("Promise"))(function(b,d){var e=function b(){a.pause(),a.currentTime=c,a.removeEventListener("canplaythrough",b),f()},f=function c(){a.readyState===h?b(a):g(c,10)},i=function b(c){a.removeEventListener("error",b),d(c)};a.currentTime=c;a.addEventListener("error",i);a.readyState===h?b(a):a.addEventListener("canplaythrough",e)})}}),null);
__d("KeyframesAssetDecoder",["Promise","BlobFactory","KeyframesPluginsLoader","KeyframesSchema","KeyframesVideoUtils","flatbuffers","promiseDone","requestIdleCallback"],(function(a,b,c,d,e,f){"use strict";var g=b("KeyframesSchema").Document,h="medium",i=a.URL||a.webkitURL||{};function j(a){a=new(b("flatbuffers").ByteBuffer)(a);return g.bufferHasIdentifier(a)?g.getRootAsDocument(a):null}function k(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onload=function(){return b(d)};d.onerror=function(b){return c("Decode: error requesting image uri "+a)};d.src=a})}function l(a){a=b("KeyframesVideoUtils").createVideo(a);return b("KeyframesVideoUtils").loadVideo(a,0)}function m(b,c,d){return a.createImageBitmap?b.width<c||b.height<d?o(b,c,d).then(function(b){return a.createImageBitmap(b,0,0,c,d)["catch"](function(a){return b})}):a.createImageBitmap(b,0,0,b.width,b.height,{resizeWidth:c,resizeHeight:d,rezizeQuality:h})["catch"](function(a){return o(b,c,d)}):o(b,c,d)}function n(a,c,d){a.width=c;a.height=d;return b("Promise").resolve(a)}function o(a,c,d){return new(b("Promise"))(function(b){var e=document.createElement("canvas");e.width=c;e.height=d;var f=e.getContext("2d");f.drawImage(a,0,0,c,d);b(e)})}function p(a,b){var c=[];for(var d=0;d<a.length;d++){var e=a[d],f=b[d].size().width(),g=b[d].size().height();if(f!==e.width||g!==e.height){var h=document.createElement("canvas");h.width=f;h.height=g;var i=h.getContext("2d");i.drawImage(e,0,0,f,g);c.push(h)}else c.push(e)}return c}function q(a,c,d){if(!i.createObjectURL)return b("Promise").reject("URL API not supported");var e=i.createObjectURL(a);c=k(e);b("promiseDone")(c,function(){return b("requestIdleCallback")(function(){return i.revokeObjectURL(e)})});return c}function r(c){if(b("BlobFactory").isSupported()){var d=c.contentArray();if(!d)return b("Promise").reject("Decode: tried to decode a null bitmap");var e=b("BlobFactory").getBlob([d]),f=c.size().width(),g=c.size().height();return a.createImageBitmap?a.createImageBitmap(e,0,0,f,g)["catch"](function(a){return q(e,f,g)}):q(e,f,g)}return b("Promise").reject("Decode: browser does not support bitmap creation")}function s(a){if(b("BlobFactory").isSupported()){var c=a.size();a=a.contentArray();if(!a)return b("Promise").reject("Decode: tried to decode a null video");a=b("BlobFactory").getBlob([a]);if(!i.createObjectURL)return b("Promise").reject("URL API not supported");var d=i.createObjectURL(a);a=l(d).then(function(a){return n(a,c.width(),c.height())});b("promiseDone")(a,function(){b("requestIdleCallback")(function(){return i.revokeObjectURL(d)})});return a}return b("Promise").reject("Decode: browser does not support video creation")}function t(a){var b=[];for(var c=a.pluginsLength()-1;c>=0;c--)b.unshift(a.plugins(c));return b.length?b:null}function u(a){var b=[];for(var c=a.bitmapsLength()-1;c>=0;c--)b.unshift(a.bitmaps(c));return b}function v(a){var b=[];for(var c=a.videosLength()-1;c>=0;c--)b.unshift(a.videos(c));return b}function w(a){var b={};for(var c=0;c<a.length;c++){var d=a[c].name();d&&(b[d]={index:c,width:a[c].size().width(),height:a[c].size().height()})}return b}function x(a){var b={};for(var c=0;c<a.length;c++){var d=a[c].name();d&&(b[d]={index:c,width:a[c].size().width(),height:a[c].size().height()})}return b}function y(a){var b=[];for(var c,d=a.subdocumentsLength()-1;d>=0;d--)c=a.subdocuments(d),b.unshift(c);return b}function z(a){a=j(a);return!a?b("Promise").reject("Decode: could not create flatbuffer doc"):A(a)}function A(a){var c=u(a),d=x(c),e=v(a),f=w(e),g=c.filter(function(a){return a.contentLength()||!a.name()}).map(r);e=e.filter(function(a){return a.contentLength()||!a.name()}).map(s);var h=y(a).map(A),i=t(a);i=i?b("KeyframesPluginsLoader").fromPluginTable(i):b("Promise").resolve(null);return b("Promise").all([b("Promise").all(g),b("Promise").all(e),i,b("Promise").all(h)]).then(function(b){var e=b[0],g=b[1],h=b[2];b=b[3];return{bitmaps:p(e,c),bitmapNames:d,videos:g,videoNames:f,doc:a,pluginsLoader:h,subassets:b}})}function B(a){return!Uint8Array?b("Promise").reject("Decode: typed arrays not supported"):b("Promise").resolve(new Uint8Array(a))}function C(a,c){var d={},e=[],f=Object.entries(a);a=function(){var a=f[g],h=a[0];a=a[1];a=c(a,h);e.push(a);b("promiseDone")(a,function(a){return d[h]=a})};for(var g=0;g<f.length;g++)a();return b("Promise").all(e).then(function(){return d})}function D(a,c,d){if(!a.bitmapNames[c]){var e=Object.keys(a.bitmapNames).join(",");return b("Promise").reject("Decode: missing replacement bitmap name "+c+", available names: "+e)}e=a.bitmapNames[c];var f=e.index;c=e.width;e=e.height;return m(d,c,e).then(function(b){a.bitmaps[f]=b})}function E(a,c,d){if(!a.videoNames[c]){var e=Object.keys(a.videoNames).join(",");return b("Promise").reject("Decode: missing replacement video name "+c+", available names: "+e)}e=a.videoNames[c];var f=e.index;c=e.width;e=e.height;return n(d,c,e).then(function(b){a.videos[f]=b})}function F(a){var b=babelHelpers["extends"]({},a);b.bitmaps=a.bitmaps.slice();return b}var G={fromDocumentBytes:function(a){if(a instanceof ArrayBuffer)return B(a).then(z);else if(a instanceof Uint8Array)return z(a);return b("Promise").reject("Decode: unsupported byte container passed")},replaceBitmapsWithURIs:function(a,b){return C(b,function(a){return k(a)}).then(function(b){return G.replaceBitmapsWithImageSources(a,b)})},replaceBitmapsWithImageSources:function(a,b){var c=F(a);return C(b,function(a,b){return D(c,b,a)}).then(function(){return c})},replaceVideosWithURIs:function(a,b){return C(b,l).then(function(b){return G.replaceVideosWithVideoSources(a,b)})},replaceVideosWithVideoSources:function(a,b){var c=F(a);return C(b,function(a,b){return E(c,b,a)}).then(function(){return c})}};e.exports=G}),null);
__d("KeyframesCanvasPolyfills",[],(function(a,b,c,d,e,f){"use strict";f.addGetTransformPolyfill=a;function a(a){if(a.getTransform!==void 0)return;else a.currentTransform?a.getTransform=function(){var b=a.currentTransform;return{a:b.a,b:b.b,c:b.c,d:b.d,e:b.e,f:b.f}}:a.mozCurrentTransform!==void 0?a.getTransform=function(){var b=a.mozCurrentTransform;return{a:b[0],b:b[1],c:b[2],d:b[3],e:b[4],f:b[5]}}:a.getTransform=function(){return g}}var g={a:1,b:0,c:0,d:1,e:0,f:0}}),null);
__d("KeyframesCanvasPool",["KeyframesCanvasPolyfills","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var b=this;this.$4=function(a){a.canvas.width=b.$1.width.physical,a.canvas.height=b.$1.height.physical,a.canvas.style.width=b.$1.width.logical+"px",a.canvas.style.height=b.$1.height.logical+"px"};this.$1=a;this.$2=[];this.$3=[]}var c=a.prototype;c.getCanvas=function(){if(this.$2.length){var a=this.$2.pop();this.$3.push(a);return a}else{a=document.createElement("canvas");var c=b("nullthrows")(a.getContext("2d"));b("KeyframesCanvasPolyfills").addGetTransformPolyfill(c);a={canvas:a,ctx:c};this.$4(a);this.$3.push(a);return a}};c.clearAllAllocated=function(){var a=this;this.$3.forEach(function(b){b.ctx.clearRect(0,0,Math.max(a.$1.width.physical,a.$1.width.intrinsic),Math.max(a.$1.height.physical,a.$1.height.intrinsic))},this)};c.freeAll=function(){this.$2=[].concat(this.$3,this.$2),this.$3=[]};c.resizeAll=function(){this.$2.forEach(this.$4,this),this.$3.forEach(this.$4,this)};return a}();e.exports=a}),null);
__d("KeyframesDimensions",["invariant","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";var h=b("WebPixelRatio").get(),i=function(){function a(a){this.overridden=!1,this.intrinsic=a,this.$1(a)}var b=a.prototype;b.$1=function(a){this.logical=a,this.physical=Math.floor(this.logical*h)};b.scale=function(a,b){this.overridden&&g(0,1136),this.$1(a*b)};b.override=function(a){this.overridden=!0,this.$1(a)};b.reset=function(){this.overridden=!1,this.$1(this.intrinsic)};b.getPhysicalChangeRatio=function(){return this.physical/this.intrinsic};return a}();a=function(){function a(a,b){this.ratio=b?a/b:0,this.width=new i(a),this.height=new i(b)}var b=a.prototype;b.setWidth=function(a){this.width.override(a),this.height.overridden||this.height.scale(a,this.ratio?1/this.ratio:0)};b.setHeight=function(a){this.height.override(a),this.width.overridden||this.width.scale(a,this.ratio)};b.reset=function(){this.height.reset(),this.width.reset()};return a}();e.exports=a}),null);
__d("KeyframesLoop",["Run","TimeSlice","emptyFunction","gkx","performanceNow","requestAnimationFramePolyfill"],(function(a,b,c,d,e,f){"use strict";var g,h=1e3,i=new Set();function j(a){var c=(g||(g=b("performanceNow")))();a.callback(Math.min(c-(a.previousTime||c),h));a.previousTime=c;a.framesRemaining-=1;a.framesRemaining<=0&&a.cancel()}function k(a){i.size>0&&(i.forEach(j),b("requestAnimationFramePolyfill")(k))}b("gkx")("708253")||b("Run").onLeave(function(){i.forEach(function(a){return a.cancel()})});window.addEventListener("focus",function(){i.forEach(function(a){return a.previousTime=(g||(g=b("performanceNow")))()-16.67})});a=function(){function a(a){this.framesRemaining=Infinity,this.callback=a,this.previousTime=0}var c=a.prototype;c.start=function(a){a===void 0&&(a=Infinity),this.framesRemaining=a,this.$1||(i.size===0&&b("requestAnimationFramePolyfill")(k),i.add(this),this.previousTime=(g||(g=b("performanceNow")))(),this.$1=b("TimeSlice").getGuardedContinuation("KeyframesLoop"))};c.cancel=function(){this.$1&&(this.$1(b("emptyFunction")),this.$1=null,i["delete"](this))};c.isRunning=function(){return!!this.$1};return a}();e.exports=a}),null);
__d("KeyframesCanvasUtils",["invariant","KeyframesSchema"],(function(a,b,c,d,e,f,g){"use strict";var h=b("KeyframesSchema").StrokeLineCap,i=b("KeyframesSchema").CommandType;f=["miter","round","bevel"];function a(a){return"rgba("+Math.floor(a.red)+","+Math.floor(a.green)+","+Math.floor(a.blue)+","+Math.floor(a.alpha)/255+")"}function c(a){switch(a){case h.Square:return"square";case h.Round:return"round";case h.Butt:default:return"butt"}}function d(a,b){a.beginPath();for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;switch(e.type){case i.MoveTo:a.moveTo(e.point.x,e.point.y);break;case i.CubicTo:e.control1&&e.control2||g(0,2935);a.bezierCurveTo(e.control1.x,e.control1.y,e.control2.x,e.control2.y,e.point.x,e.point.y);break;case i.QuadTo:e.control1||g(0,2936);a.quadraticCurveTo(e.control1.x,e.control1.y,e.point.x,e.point.y);break;case i.LineTo:a.lineTo(e.point.x,e.point.y);break;default:throw new Error("Unrecognized path command "+e.type)}}}e.exports={drawPath:d,getCanvasStyle:a,getCanvasLineCap:c,LINE_JOINS:f}}),null);
__d("KeyframesTrackMattes",[],(function(a,b,c,d,e,f){"use strict";a={1:"destination-in",2:"destination-out"};e.exports=a}),null);
__d("KeyframesPathUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return(c-b)*a+b}function b(a,b,c,d,e,f,g){return e*d+2*c*a*f+b*g}function c(a,b,c,d,e,f,g,h){return e*d*c+f*3*d*a+g*3*c*b+h*b*a}e.exports={interpolateLinear:a,interpolateQuad:b,interpolateCubic:c,lerp:a}}),null);
__d("KeyframesTween",["invariant","CubicBezier","KeyframesPathUtils","KeyframesSchema"],(function(a,b,c,d,e,f,g){"use strict";var h=b("KeyframesPathUtils").interpolateCubic,i=b("KeyframesPathUtils").interpolateLinear,j=b("KeyframesPathUtils").interpolateQuad;(d=b("KeyframesSchema")).Color;d.ColorAnimation;d.ColorArrayAnimation;d.ColorArray;d.Command;var k=d.CommandType;d.Path;d.PathAnimation;d.Point;d.PointAnimation;d.ScalarAnimation;d.ScalarArrayAnimation;var l=d.TweenType;d.ScalarArray;function m(a){return a}function n(a){return{x:a.x(),y:a.y()}}function o(a){return{red:a.red(),green:a.green(),blue:a.blue(),alpha:a.alpha()}}function p(a){var b=a.valuesLength(),c=[];for(var d=0;d<b;d++)c.push(a.values(d));return c}function q(a){var b=a.colorsLength(),c=[];for(var d=0;d<b;d++)c.push(o(a.colors(d)));return c}function r(a){var b=a.control1(),c=a.control2();return{type:a.type(),point:n(a.point()),control1:b?n(b):null,control2:c?n(c):null}}function s(a){var b=[];for(var c=0;c<a.commandsLength();c++)b.push(r(a.commands(c)));return b}function t(a,b){if(a>=b.keyframes(b.keyframesLength()-1))return 1;else if(a<b.keyframes(0))return-1;return 0}function u(a,b){if(t(a,b)!==0)return null;var c=0,d=b.keyframesLength()-1;while(c+1<d){var e=Math.floor((d-c)/2+c);b.keyframes(e)<a?c=e:d=e}return c}function v(a,c,d){var e=c.tweens(d),f=e.type();if(f===l.Hold)return 0;a=(a-c.keyframes(d))/(c.keyframes(d+1)-c.keyframes(d));switch(f){case l.Linear:return a;case l.Bezier:default:return new(b("CubicBezier"))([e.control1().x(),e.control1().y()],[e.control2().x(),e.control2().y()]).solve(a)}}var w=function(a,b,c){return a*(c-b)+b};f=function(a,b,c){var d=b.valuesLength(),e=[];for(var f=0;f<d;f++)e.push(w(a,b.values(f),c.values(f)));return e};var x=function(a,b,c){return{x:w(a,b.x(),c.x()),y:w(a,b.y(),c.y())}},y=function(a,b,c){return b&&c?x(a,b,c):null},z=function(a,b,c){return{red:w(a,b.red(),c.red()),green:w(a,b.green(),c.green()),blue:w(a,b.blue(),c.blue()),alpha:w(a,b.alpha(),c.alpha())}};d=function(a,b,c){var d=b.colorsLength(),e=[];for(var f=0;f<d;f++)e.push(z(a,b.colors(f),c.colors(f)));return e};var A=function(a,b,c){var d=[];for(var e=0;e<b.commandsLength();e++){var f=b.commands(e),g=c.commands(e);d.push({type:f.type(),point:x(a,f.point(),g.point()),control1:y(a,f.control1(),g.control1()),control2:y(a,f.control2(),g.control2())})}return d};function a(a,b,c,d){var e=u(c,d);e!=null||g(0,2829);c=v(c,d,e);switch(c){case 0:return b(d.values(e));case 1:return b(d.values(e+1));default:return a(c,d.values(e),d.values(e+1))}}var B=a.bind(null,w,m),C=a.bind(null,f,p),D=a.bind(null,x,n),E=a.bind(null,z,o),F=a.bind(null,d,q),G=a.bind(null,A,s);function H(a,b,c,d){if(b.keyframesLength())switch(t(a,b)){case-1:return d(b.values(0));case 1:return d(b.values(b.valuesLength()-1));case 0:return c(a,b)}return d(b.value())}f=function(a,b){return H(a,b,B,m)};d=function(a,b){return H(a,b,C,p)};a=function(a,b){return H(a,b,D,n)};A=function(a,b){return H(a,b,E,o)};var I=function(a,b){return H(a,b,F,q)},J=function(a,b){return H(a,b,G,s)};function K(a,b,c){return{x:i(a,b.x,c.x),y:i(a,b.y,c.y)}}function L(a,b,c,d){var e=a*a,f=1-a,g=f*f;return{x:j(a,e,f,g,b.x,d.x,c.x),y:j(a,e,f,g,b.y,d.y,c.y)}}function M(a,b,c,d,e){var f=a*a,g=1-a,i=g*g;return{x:h(a,f,g,i,b.x,d.x,e.x,c.x),y:h(a,f,g,i,b.y,d.y,e.y,c.y)}}function N(a,b,c){a=v(a,b,c);b=b.value();var d=n(b.commands(c).point());b=r(b.commands(c+1));switch(b.type){case k.LineTo:return K(a,d,b.point);case k.QuadTo:b.control1||g(0,2830);return L(a,d,b.point,b.control1);case k.CubicTo:b.control1&&b.control2||g(0,2831);return M(a,d,b.point,b.control1,b.control2);default:throw new Error("Unrecognized segment type "+b.type)}}function c(a,b){switch(t(a,b)){case-1:return n(b.value().commands(0).point());case 1:var c=b.value();return n(c.commands(c.commandsLength()-1).point());default:c=u(a,b);c!=null||g(0,2832);return N(a,b,c)}}a={maybeTweenPoint2:a,maybeTweenColor:A,maybeTweenColorArray:I,maybeTweenScalar:f,maybeTweenScalarArray:d,maybeTweenPath:J,tweenPointOnPath:c};e.exports=a}),null);
__d("KeyframesVideoManager",["regeneratorRuntime","Promise","KeyframesVideoUtils"],(function(a,b,c,d,e,f){"use strict";var g=.2,h=100,i=[.85,1.15];e.exports=function(){function a(a){this.$1=a,this.$3=1/a.doc.frameRate(),this.$2=l(a.doc.rootLayer(),a),this.$4=this.$5()}var c=a.prototype;c.getVideos=function(){return this.$1.videos};c.getTimeWindows=function(){return this.$2};c.forEach=function(a){this.getVideos().forEach(a)};c.pause=function(){this.forEach(function(a){a.pause()})};c.mute=function(){this.forEach(function(a){a.muted=!0})};c.unMute=function(){this.forEach(function(a){a.muted=!1})};c.renderProgress=function(a){var b=this;this.$2.forEach(function(c,d){var e=c.video,f=k(c,a),h=j(c,a);h=b.$1.doc.duration()*h;var l=Math.abs(h-e.currentTime);c=b.$1.doc.duration()*(c.toProgress-c.fromProgress);if(l>g&&e.currentTime<c&&h<c){l=(c-e.currentTime)/(c-h);l>=i[0]&&l<=i[1]&&b.changeVideoPlaybackRate(d,l)}f&&e.paused?e.play():f==!1&&e.paused==!1&&(e.pause(),e.currentTime=0)})};c.$5=function(){return this.$2.map(function(a){var b=a.video;return n(function(a){b.playbackRate=a},h,!0)})};c.changeVideoPlaybackRate=function(a,b){this.$4[a](b)};c.seekToProgress=function(a){var c=this,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d=this.$2.map(function(d){var e,f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:e=d.video;f=0;k(d,a)&&(g=j(d,a),f=m(c.$1.doc.duration()*g));e.pause();e.currentTime=f;h.next=7;return b("regeneratorRuntime").awrap(b("KeyframesVideoUtils").loadVideo(e,f));case 7:case"end":return h.stop()}},null,this)});e.next=3;return b("regeneratorRuntime").awrap(b("Promise").all(d));case 3:case"end":return e.stop()}},null,this)};return a}();function j(a,b){return b-a.fromProgress}function k(a,b){return b>=a.fromProgress&&b<=a.toProgress}function l(a,b){var c=[],d=a.videoIndex();if(d!=-1){var e=b.videos[d];d=b.doc.videos(d);e!=null&&c.push({fromProgress:a.fromProgress(),toProgress:a.toProgress(),name:d!=null?d.name():null,video:e})}for(var d=0;d<a.sublayersLength();d++)c=c.concat(l(a.sublayers(d),b));return c}function m(a){return Math.round(a*100)/100}function n(a,b,c){b===void 0&&(b=100);c===void 0&&(c=!1);var d;return function(){for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];var h=function(){d=null,c||a.apply(void 0,f)},i=c&&!d;clearTimeout(d);d=setTimeout(h,b);i&&a.apply(void 0,f)}}}),null);
__d("KeyframesRenderer",["invariant","Promise","regeneratorRuntime","ErrorGuard","KeyframesCanvasPolyfills","KeyframesCanvasPool","KeyframesCanvasUtils","KeyframesDimensions","KeyframesLoop","KeyframesTrackMattes","KeyframesTween","KeyframesVideoManager","gkx","nullthrows","performanceNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("KeyframesCanvasPolyfills").addGetTransformPolyfill,k=(a=b("KeyframesCanvasUtils")).drawPath,l=a.getCanvasLineCap,m=a.getCanvasStyle,n=a.LINE_JOINS,o=(c=b("KeyframesTween")).maybeTweenColor,p=c.maybeTweenColorArray,q=c.maybeTweenPath,r=c.maybeTweenPoint2,s=c.maybeTweenScalar,t=c.maybeTweenScalarArray,u=c.tweenPointOnPath,v=1,w={ERROR_FRAMEDROP:"ERROR_FRAMEDROP"};d=60;var x=1e3/d,y=1,z="source-over";function A(a,c){return b("gkx")("801076")?(h||(h=b("ErrorGuard"))).guard(a,{name:c}):a}var B=function(){function a(a,b){b===void 0&&(b=100),this.$3=!1,this.$4=0,this.$1=a,this.$2=b}var c=a.prototype;c.callOrIgnoreThrottled=function(){if((i||(i=b("performanceNow")))()>=this.$4){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];this.$5(c)}else this.$3=!0};c.callIfIgnored=function(){if(this.$3){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$5(b)}};c.callImmediately=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$5(b)};c.resetThrottling=function(){this.$4=0};c.$5=function(a){this.$3=!1,this.$4=(i||(i=b("performanceNow")))()+this.$2,this.$1.apply(null,a)};return a}();function C(a,b){if(a.pluginsLoader){a.pluginsLoader.instances.forEach(b);for(var c=a.subassets.length-1;0<=c;c--)C(a.subassets[c],b)}}function D(a,b,c,d){if(a.pluginsLoader){for(var e=a.pluginsLoader.instances.length-1;0<=e;e--)a.pluginsLoader.instances[e].animationWillRenderLayer(b,c,d);for(var e=a.subassets.length-1;0<=e;e--)D(a.subassets[e],b,c,d)}}function E(a,b,c,d){a.save(),a.beginPath(),a.arc(b,c,d,0,2*Math.PI,!0),a.closePath(),a.clip(),a.clearRect(b-d,c-d,d*2,d*2),a.restore()}function F(a,b,c,d){d=r(a,b.rampStart());var e=r(a,b.rampEnd()),f=b.colors(),g=b.positions();f&&g?(f=p(a,f),g=t(a,g)):(f=[o(a,b.colorStart()),o(a,b.colorEnd())],g=[0,1]);if(b.type()===v){var h=b.highlightLength();h=h!==null?s(a,h):0;var i=b.highlightAngle();i=i!==null?s(a,b.highlightAngle()):0;a=d.x;b=d.y;var j=Math.sqrt(Math.pow(d.x-e.x,2)+Math.pow(d.y-e.y,2)),k=Math.acos((e.x-a)/j),l=a+j*h*Math.cos(k-i);k=b-j*h*Math.sin(k-i);i=0;h!==0&&(c.clip(),c.fillStyle=m(f[f.length-1]),c.fill(),E(c,a,b,j));h=c.createRadialGradient(l,k,i,a,b,j)}else h=c.createLinearGradient(d.x,d.y,e.x,e.y);for(var l=0,k=f.length;l<k;l++)h.addColorStop(g[l],m(f[l]));return h}function G(a,c,d,e,f,g,h,i,j){j===void 0&&(j=y);if(h<Math.max(g.fromProgress(),0)||h>Math.min(g.toProgress(),1))return;try{i&&i.maybeInstantiatePluginsForLayer(g)}catch(a){}a=a;var p,t=g.isTrackMatte(),v=g.trackMatteType();if(t||v!==0){var w=a.getTransform();p=c.getCanvas();p.ctx.setTransform(w.a,w.b,w.c,w.d,w.e,w.f);p.isTrackMatte=t;p.trackMatteType=v;p.ctx.globalCompositeOperation=z;a=p.ctx}a.save();w=g.position();if(w){t=u(h,w);v=t.x;w=t.y;a.translate(v,w)}else{t=g.xPosition();t&&a.translate(s(h,t),0);v=g.yPosition();v&&a.translate(0,s(h,v))}w=g.rotation();w&&a.rotate(s(h,w));t=g.scale();if(t){v=r(h,t);w=v.x;t=v.y;a.scale(w,t)}v=g.anchorPoint();if(v){w=r(h,v);t=w.x;v=w.y;a.translate(-t,-v)}w=g.opacity();w=w!=null?s(h,w):1;a.globalAlpha=w*j;t=!1;if(i){v=i.getPluginsForLayer(g.id());if(v)for(var x=0;x<v.length;x++)v[x].render(a,h),t=t||v[x].rendersLayer}g.clippingPath()&&(k(a,q(h,g.clippingPath())),a.clip());if(!t&&g.path()){k(a,q(h,g.path()));x=g.gradient();v=g.fillColor();t=!1;var A=!1;x?(a.fillStyle=F(h,x,a),t=!0):v&&(a.fillStyle=m(o(h,v)),t=!0);if(g.strokeWidth()){x=s(h,g.strokeWidth());x>0&&(a.strokeStyle=m(o(h,g.strokeColor())),a.lineJoin=n[g.strokeLineJoin()],a.lineCap=l(g.strokeLineCap()),a.lineWidth=x,A=!0)}g.vectorCompositeOrder()===0?(t&&a.fill(),A&&a.stroke()):(A&&a.stroke(),t&&a.fill())}v=g.bitmapIndex();x=d[v];x&&x.width!==0&&x.height!==0&&a.drawImage(x,0,0);A=g.videoIndex();t=e[A];t!=null&&a.drawImage(t,0,0,t.width,t.height);v=g.subdocumentIndex();if(f[v]){x=f[v].doc.size();a.save();a.beginPath();a.rect(0,0,x.width(),x.height());a.clip();G(a,c,f[v].bitmaps,f[v].videos,f[v].subassets,f[v].doc.rootLayer(),h-g.progressOffset(),f[v].pluginsLoader,w*j);a.restore()}var B;for(var A=0;A<g.sublayersLength();A++){t=G(a,c,d,e,f,g.sublayers(A),h,i,w*j);if(!B&&t&&t.trackMatteType!==void 0)B=t;else if(B&&t&&t.isTrackMatte!==void 0){x=a.getTransform();a.setTransform(1,0,0,1,0,0);B.ctx.setTransform(1,0,0,1,0,0);v=t;B.ctx.globalCompositeOperation=b("KeyframesTrackMattes")[B.trackMatteType===void 0?1:B.trackMatteType];B.ctx.drawImage(v.canvas,0,0);a.drawImage(B.canvas,0,0);a.setTransform(x.a,x.b,x.c,x.d,x.e,x.f);B=void 0;v=void 0}else B&&!t?(a.drawImage(B.canvas,0,0),B=void 0,v=void 0):t&&t.isTrackMatte!==void 0&&(B=void 0,v=void 0)}a.restore();return p}f=function(){function a(a,c){var d=this;this.$5=0;this.$6=0;this.$8=!1;this.$9=!1;this.$10=!1;this.$11=0;this.$16=!1;this.$17=0;this.$18=1;this.$19=1;this.$21=1;this.$22=0;this.$26=function(a){(d.$12||d.$15)&&d.$34(a),!d.$16?d.redrawIfNeeded():(d.$10&&d.$32(),d.$24.renderProgress(d.$11),d.$33(d.$11),d.$11+=a/d.$5,d.$14&&d.$14.callOrIgnoreThrottled(d.$17),d.$11>=d.$21&&(d.$11%=d.$21,d.$19=Math.max(0,d.$19-1),d.$15&&d.$15.finish(),d.$19===0?d.pause():(d.$24.seekToProgress(0),d.$15&&d.$15.start(),d.$11+=d.$22),d.$13&&d.$13(d.$19),d.$30()))};this.$33=A(function(a){a>=0&&a<=1||g(0,750,a),this.$3.clearRect(0,0,this.$23.width.intrinsic,this.$23.height.intrinsic),this.$1.pluginsLoader&&D(this.$1,a,this.$16,this.$8),this.$4.clearAllAllocated(),this.$4.freeAll(),G(this.$3,this.$4,this.$1.bitmaps,this.$1.videos,this.$1.subassets,this.$20,a,this.$1.pluginsLoader),this.$17=a,this.$9=!1,this.$15&&this.$15.addFrame()},"KeyframesRenderer: _renderProgress()");this.$32=A(function(){this.$2.width=this.$23.width.physical,this.$2.height=this.$23.height.physical,this.$2.style.width=this.$23.width.logical+"px",this.$2.style.height=this.$23.height.logical+"px",this.$3.setTransform(1,0,0,1,0,0),this.$3.scale(this.$23.width.getPhysicalChangeRatio(),this.$23.height.getPhysicalChangeRatio()),this.$4.resizeAll(),this.$10=!1,this.$9=!0},"KeyframesRenderer: _resize()");this.$23=new(b("KeyframesDimensions"))(a.doc.size().width(),a.doc.size().height());this.$4=new(b("KeyframesCanvasPool"))(this.$23);this.$2=document.createElement("canvas");this.$3=b("nullthrows")(this.$2.getContext("2d"));j(this.$3);this.$7=new(b("KeyframesLoop"))(this.$26);this.$15=c;this.$24=new(b("KeyframesVideoManager"))(a);this.setDecodedAsset(a);this.$27();this.$25=b("Promise").resolve()}var c=a.prototype;c.play=function(){this.$16||(this.$16=!0,this.isFinished()&&(this.$19=this.$18,this.$11=this.$22),this.$15&&this.$15.start(),this.$7.start());return this};c.pause=function(){this.$16&&(this.$16=!1,this.$15&&this.$15.pause(),this.$9?this.$28():(this.$7.cancel(),this.$14&&this.$14.callIfIgnored(this.$17)));this.$24.pause();this.$29(this.$24.seekToProgress(this.$17));D(this.$1,this.$17,this.$16,this.$8);return this};c.isPlaying=function(){return this.$16};c.isFinished=function(){return this.$19===0};c.isMuted=function(){return this.$8};c.mute=function(){this.$8=!0,this.$24.mute()};c.unMute=function(){this.$8=!1,this.$24.unMute()};c.repeatCount=function(a){this.$18=this.$19=Math.max(1,a);return this};c.repeatForever=function(){return this.repeatCount(Infinity)};c.getRepeatsRemaining=function(){return this.$19};c.seekToProgress=function(a){var b=this;a>=0&&a<=1||g(0,749,a);this.$14&&this.$14.resetThrottling();this.$17=this.$11=a;this.$29(this.$24.seekToProgress(a).then(function(){return b.$28()}));a===0&&this.$30();this.$28();return this};c.setStartAndEndAt=function(a,b){if(a>=b)throw new Error("Cannot set the start time before the end time.");else if(b<=a)throw new Error("Cannot set the end time before the start time.");this.$22=a;this.$21=b;return this};c.setStartAt=function(a){if(a>=this.$21)throw new Error("Cannot set the start time before the end time.");this.$22=a;return this};c.setEndAt=function(a){if(a<=this.$22)throw new Error("Cannot set the end time before the start time.");this.$21=a;return this};c.getDuration=function(){return this.$5};c.getFrameRate=function(){return this.$6};c.getIntrinsicSize=function(){return[this.$23.width.intrinsic,this.$23.height.intrinsic]};c.getWidth=function(){return this.$23.width.logical};c.getHeight=function(){return this.$23.height.logical};c.setWidth=function(a){this.$23.setWidth(a);this.$27();return this};c.setHeight=function(a){this.$23.setHeight(a);this.$27();return this};c.getDecodedAsset=function(){return babelHelpers["extends"]({},this.$1)};c.setDecodedAsset=function(a){this.$1=a;this.$5=a.doc.duration()*1e3;this.$6=a.doc.frameRate();this.$20=a.doc.rootLayer();this.$24=new(b("KeyframesVideoManager"))(a);this.$28();this.$31();return this};c.resetDimensions=function(){this.$23.reset();this.$27();return this};c.onError=function(a){this.$12=a;return this};c.onRepeatEnd=function(a){this.$13=a;return this};c.onProgress=function(a,b){this.$14=a&&new B(a,b);return this};c.getProgress=function(){return this.$17};c.getElement=function(){return this.$2};c.hasPerformanceLogging=function(){return!!this.$15};c.redrawIfNeeded=function(){(this.$10||this.$9)&&(this.$10&&this.$32(),this.$9&&this.$33(this.$17),this.$14&&this.$14.callImmediately(this.$17));return this};c.waitForVideoUpdate=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(this.$25);case 2:case"end":return a.stop()}},null,this)};c.$29=function(a){this.$25=a,b("promiseDone")(a)};c.$27=function(){this.$10=!0,this.$28()};c.$28=function(){this.$9=!0,this.$7.isRunning()||this.$7.start(1)};c.$31=function(){C(this.$1,function(a){return a.animationDidLoad()})};c.$30=function(){var a=this;C(this.$1,function(b){return b.animationWillRepeat(a.$11,a.$19)})};c.$34=function(a){a=Math.round(a/x-1);a>0&&(this.$15&&this.$15.addFrameDrop(a),this.$12&&this.$12(w.ERROR_FRAMEDROP,a))};return a}();e.exports=f}),null);
__d("getEditorStateFromContentEditableState",["ContentState","EditorState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){switch(a.__type){case"plain-text":var d=a.hasFocus,e=a.selectionOffsets,f=a.text;f=b("ContentState").createFromText(f.replace(/\n\n$/,"\n"));var g=b("EditorState").createWithContent(f);if(e){var h,i,j,k=f.getFirstBlock(),l=0;while(k){var m=k.getKey(),n=k.getLength(),o=l;l+=n;l>=e.start&&e.start-o>=0&&(h={key:m,offset:e.start-o});l>=e.end&&e.end-o>=0&&(i={key:m,offset:e.end-o});j==null&&(i&&!h?j=!0:h&&!i?j=!1:i&&h&&(j=h.offset>i.offset));k=f.getBlockAfter(m)}if(h&&i){n=g.getSelection().merge({anchorKey:h.key,anchorOffset:h.offset,focusKey:i.key,focusOffset:i.offset,isBackward:!!j});g=b("EditorState").forceSelection(g,n)}}else d&&(g=b("EditorState").moveFocusToEnd(g));return g;case"editor-state-based":default:return c!=null?b("EditorState").set(a.draftEditorState,{decorator:c}):a.draftEditorState}}}),null);
__d("DraftEffectsPerSite",["fbt","Bootloader"],(function(a,b,c,d,e,f,g){"use strict";f.handleExtensionCausedError=a;function a(){b("Bootloader").loadModules(["SimpleXUIDialog"],function(a){a.show(g._("An extension installed in your web browser is preventing text entry from working correctly. Please disable any extensions and reload the page."),g._("Text Editing Is Limited"),null,{width:600})},"DraftEffectsPerSite")}}),null);
__d("getActiveElement",[],(function(a,b,c,d,e,f){e.exports=a;function a(a){a===void 0&&(a=document);if(a===void 0)return null;try{return a.activeElement||a.body}catch(b){return a.body}}}),null);
__d("getScrollPosition",["getDocumentScrollElement","getUnboundedScrollPosition"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c=b("getDocumentScrollElement")(a.ownerDocument||a.document);a.Window&&a instanceof a.Window&&(a=c);var d=b("getUnboundedScrollPosition")(a);c=a===c?a.ownerDocument.documentElement:a;var e=a.scrollWidth-c.clientWidth;a=a.scrollHeight-c.clientHeight;d.x=Math.max(0,Math.min(d.x,e));d.y=Math.max(0,Math.min(d.y,a));return d}}),null);
__d("DataTransfer",["Promise","PhotosMimeType","createArrayFromMixed","emptyFunction","promiseDone"],(function(a,b,c,d,e,f){var g=new RegExp("\r\n","g"),h="\n",i={"text/rtf":1,"text/html":1};function j(a){if(a.kind=="file")return a.getAsFile()}function k(a){return new(b("Promise"))(function(b){a.file(function(a){b([a])})})}function l(a){return typeof a.webkitGetAsEntry==="function"?a.webkitGetAsEntry():null}function m(a,c){return new(b("Promise"))(function(d){b("promiseDone")(b("Promise").all(a.map(function(a){var b=l(a);if(b&&b.createReader!=null){c();return n(b)}else{return(b=j(a))!=null?b:[]}})),function(a){d(a.flatMap(b("emptyFunction").thatReturnsArgument))})})}function n(a){return new(b("Promise"))(function(c){var d=a.createReader(),e=[],f=function(){b("promiseDone")(b("Promise").all(e.map(function(a){if(a.isDirectory)return n(a);else return k(a)})),function(a){c(a.flatMap(b("emptyFunction").thatReturnsArgument))})},g=function a(){d.readEntries(function(b){b.length?(e=e.concat(b),a()):f()},f)};g()})}a=function(){"use strict";function a(a){this.data=a,this.types=a.types?b("createArrayFromMixed")(a.types):[]}var c=a.prototype;c.isRichText=function(){if(this.getHTML()&&this.getText())return!0;return this.isImage()?!1:this.types.some(function(a){return i[a]})};c.getText=function(){var a;!this.types.length?a=this.data.getData("Text"):this.types.indexOf("text/plain")!=-1&&(a=this.data.getData("text/plain"));return a?a.replace(g,h):null};c.getHTML=function(){if(this.data.getData)if(!this.types.length)return this.data.getData("Text");else if(this.types.indexOf("text/html")!=-1)return this.data.getData("text/html")};c.isLink=function(){return this.types.some(function(a){return a.indexOf("Url")!=-1||a.indexOf("text/uri-list")!=-1||a.indexOf("text/x-moz-url")!=-1})};c.getLink=function(){if(this.data.getData){if(this.types.indexOf("text/x-moz-url")!=-1){var a=this.data.getData("text/x-moz-url").split("\n");return a[0]}return this.types.indexOf("text/uri-list")!=-1?this.data.getData("text/uri-list"):this.data.getData("url")}return null};c.isImage=function(){var a=this.types.some(function(a){return a.indexOf("application/x-moz-file")!=-1});if(a)return!0;a=this.getFiles();for(var c=0;c<a.length;c++){var d=a[c].type;if(!b("PhotosMimeType").isImage(d))return!1}return!0};c.getCount=function(){if(Object.prototype.hasOwnProperty.call(this.data,"items"))return this.data.items.length;else if(Object.prototype.hasOwnProperty.call(this.data,"mozItemCount"))return this.data.mozItemCount;else if(this.data.files)return this.data.files.length;return null};c.getFiles=function(){if(this.data.items)return Array.prototype.slice.call(this.data.items).map(j).filter(b("emptyFunction").thatReturnsArgument);else if(this.data.files)return Array.prototype.slice.call(this.data.files);else return[]};c.getRecursiveFiles=function(a){if(this.data.items)return m(Array.prototype.slice.call(this.data.items),a);else if(this.data.files)return new(b("Promise"))(Array.prototype.slice.call(this.data.files))};c.hasFiles=function(){return this.getFiles().length>0};return a}();e.exports=a}),null);
__d("DraftEditorContents.react",["requireCond","cr:1264924"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1264924");e.exports=a}),null);
__d("fbjs/lib/CSSCore",["CSSCore"],(function(a,b,c,d,e,f){"use strict";e.exports=b("CSSCore")}),null);
__d("DraftEffects",["cx","CurrentUser","DraftEffectsPerSite","ODS","fbjs/lib/CSSCore","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=b("CurrentUser").isEmployee()?".employee":"",i=!1;a={initODS:function(){document.addEventListener("input",function(a){a.target.nodeType===1&&b("fbjs/lib/CSSCore").hasClass(a.target,"_5rpu")&&b("ODS").bumpEntityKey(2966,"draft_js","input_events"+h)})},handleExtensionCausedError:function(){b("ODS").bumpEntityKey(2966,"draft_js","extension_caused_errors"+h);if(i||!b("gkx")("676843"))return;i=!0;b("DraftEffectsPerSite").handleExtensionCausedError()}};e.exports=a}),null);
__d("DraftJsEventsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:DraftJsEventsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:DraftJsEventsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:DraftJsEventsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAnonymizedDom=function(a){this.$1.anonymized_dom=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExtraParams=function(a){this.$1.extra_params=a;return this};c.setScriptPath=function(a){this.$1.script_path=a;return this};c.setSelectionState=function(a){this.$1.selection_state=a;return this};return a}();c={anonymized_dom:!0,event:!0,extra_params:!0,script_path:!0,selection_state:!0};e.exports=a}),null);
__d("DraftJsDebugLogging",["CurrentUser","DraftJsEventsTypedLogger","ScriptPath"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=a.anonymizedDom,d=a.extraParams;a=a.selectionState;new(b("DraftJsEventsTypedLogger"))().setEvent("blocked_selection_event").setAnonymizedDom(c).setExtraParams(d).setScriptPath(b("ScriptPath").getScriptPath()).setSelectionState(a).log()};f.logBlockedSelectionEvent=a;c=function(a){var c=a.anonymizedDom,d=a.extraParams;a=a.selectionState;b("CurrentUser").isEmployee()&&new(b("DraftJsEventsTypedLogger"))().setEvent("selection_state_failure").setAnonymizedDom(c).setExtraParams(d).setScriptPath(b("ScriptPath").getScriptPath()).setSelectionState(a).log()};f.logSelectionStateFailure=c}),null);
__d("DefaultDraftBlockRenderMap",["cx","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");c=b("immutable").Map;d=a.jsx("ul",{className:"_1bv0"});f=a.jsx("ol",{className:"_1bv1"});g=a.jsx("pre",{className:"_1bv2"});b=c({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:d},"ordered-list-item":{element:"li",wrapper:f},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:g},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=b}),null);
__d("DefaultDraftInlineStyle",[],(function(a,b,c,d,e,f){"use strict";e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}}),null);
__d("getCorrectDocumentFromNode",[],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument?document:a.ownerDocument}e.exports=a}),null);
__d("isElement",[],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument?!1:a.nodeType===Node.ELEMENT_NODE}e.exports=a}),null);
__d("getSelectionOffsetKeyForNode",["isElement"],(function(a,b,c,d,e,f){"use strict";function g(a){if(b("isElement")(a)){a=a;var c=a.getAttribute("data-offset-key");if(c)return c;for(var c=0;c<a.childNodes.length;c++){var d=g(a.childNodes[c]);if(d)return d}}return null}e.exports=g}),null);
__d("findAncestorOffsetKey",["getCorrectDocumentFromNode","getSelectionOffsetKeyForNode"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a;while(c&&c!==b("getCorrectDocumentFromNode")(a).documentElement){var d=b("getSelectionOffsetKeyForNode")(c);if(d!=null)return d;c=c.parentNode}return null}e.exports=a}),null);
__d("getWindowForNode",[],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument||!a.ownerDocument.defaultView?window:a.ownerDocument.defaultView}e.exports=a}),null);
__d("DOMObserver",["invariant","UserAgent","findAncestorOffsetKey","getWindowForNode","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").Map,i={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},j=b("UserAgent").isBrowser("IE <= 11");a=function(){function a(a){var c=this;this.container=a;this.mutations=h();a=b("getWindowForNode")(a);a.MutationObserver&&!j?this.observer=new a.MutationObserver(function(a){return c.registerMutations(a)}):this.onCharData=function(a){a.target instanceof Node||g(0,16525),c.registerMutation({type:"characterData",target:a.target})}}var c=a.prototype;c.start=function(){this.observer?this.observer.observe(this.container,i):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)};c.stopAndFlushMutations=function(){var a=this.observer;a?(this.registerMutations(a.takeRecords()),a.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);a=this.mutations;this.mutations=h();return a};c.registerMutations=function(a){for(var b=0;b<a.length;b++)this.registerMutation(a[b])};c.getMutationTextContent=function(a){var b=a.type,c=a.target;a=a.removedNodes;if(b==="characterData"){if(c.textContent!=="")return j?c.textContent.replace("\n",""):c.textContent}else if(b==="childList")if(a&&a.length)return"";else if(c.textContent!=="")return c.textContent;return null};c.registerMutation=function(a){var c=this.getMutationTextContent(a);if(c!=null){a=b("nullthrows")(b("findAncestorOffsetKey")(a.target));this.mutations=this.mutations.set(a,c)}};return a}();e.exports=a}),null);
__d("DraftOffsetKey",[],(function(a,b,c,d,e,f){"use strict";var g="-";a={encode:function(a,b,c){return a+g+b+g+c},decode:function(a){a=a.split(g).reverse();var b=a[0],c=a[1];a=a.slice(2);return{blockKey:a.reverse().join(g),decoratorKey:parseInt(c,10),leafKey:parseInt(b,10)}}};e.exports=a}),null);
__d("isHTMLElement",[],(function(a,b,c,d,e,f){function a(a){if(!a||!a.ownerDocument)return!1;if(!a.ownerDocument.defaultView)return a instanceof HTMLElement;return a instanceof a.ownerDocument.defaultView.HTMLElement?!0:!1}e.exports=a}),null);
__d("getContentEditableContainer",["invariant","isHTMLElement"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.editorContainer;a||g(0,4998);b("isHTMLElement")(a.firstChild)||g(0,4999);a=a.firstChild;return a}e.exports=a}),null);
__d("getUpdatedSelectionState",["DraftOffsetKey","nullthrows"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){var g=b("nullthrows")(a.getSelection());if(!c||!e)return g;c=b("DraftOffsetKey").decode(c);var h=c.blockKey,i=a.getBlockTree(h);i=i&&i.getIn([c.decoratorKey,"leaves",c.leafKey]);c=b("DraftOffsetKey").decode(e);var j=c.blockKey;e=a.getBlockTree(j);e=e&&e.getIn([c.decoratorKey,"leaves",c.leafKey]);if(!i||!e)return g;c=i.get("start");var k=e.get("start"),l=i?c+d:null,m=e?k+f:null,n=g.getAnchorKey()===h&&g.getAnchorOffset()===l&&g.getFocusKey()===j&&g.getFocusOffset()===m;if(n)return g;if(h===j){n=i.get("end");i=e.get("end");k===c&&i===n?e=f<d:e=k<c}else{i=a.getCurrentContent().getBlockMap().keySeq().skipUntil(function(a){return a===h||a===j}).first();e=i===j}return g.merge({anchorKey:h,anchorOffset:l,focusKey:j,focusOffset:m,isBackward:e})}e.exports=a}),null);
__d("getDraftEditorSelectionWithNodes",["invariant","findAncestorOffsetKey","getSelectionOffsetKeyForNode","getUpdatedSelectionState","isElement","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,d,e,f,g){var h=d.nodeType===Node.TEXT_NODE,i=f.nodeType===Node.TEXT_NODE;if(h&&i)return{selectionState:b("getUpdatedSelectionState")(a,b("nullthrows")(b("findAncestorOffsetKey")(d)),e,b("nullthrows")(b("findAncestorOffsetKey")(f)),g),needsRecovery:!1};var k=null,l=null,m=!0;h?(k={key:b("nullthrows")(b("findAncestorOffsetKey")(d)),offset:e},l=j(c,f,g)):i?(l={key:b("nullthrows")(b("findAncestorOffsetKey")(f)),offset:g},k=j(c,d,e)):(k=j(c,d,e),l=j(c,f,g),d===f&&e===g&&(m=!!d.firstChild&&d.firstChild.nodeName!=="BR"));return{selectionState:b("getUpdatedSelectionState")(a,k.key,k.offset,l.key,l.offset),needsRecovery:m}}function h(a){while(a.firstChild&&(b("isElement")(a.firstChild)&&a.firstChild.getAttribute("data-blocks")==="true"||b("getSelectionOffsetKeyForNode")(a.firstChild)))a=a.firstChild;return a}function i(a){while(a.lastChild&&(b("isElement")(a.lastChild)&&a.lastChild.getAttribute("data-blocks")==="true"||b("getSelectionOffsetKeyForNode")(a.lastChild)))a=a.lastChild;return a}function j(a,c,d){c=c;var e=b("findAncestorOffsetKey")(c);e!=null||a&&(a===c||a.firstChild===c)||g(0,6007);if(a===c){c=c.firstChild;b("isElement")(c)||g(0,26030,[(a=c)==null?void 0:a.nodeType]);a=c;c=a;c.getAttribute("data-contents")==="true"||g(0,6008);d>0&&(d=c.childNodes.length)}if(d===0){if(e!=null)a=e;else{var f=h(c);a=b("nullthrows")(b("getSelectionOffsetKeyForNode")(f))}return{key:a,offset:0}}f=c.childNodes[d-1];a=null;if(!b("getSelectionOffsetKeyForNode")(f))a=b("nullthrows")(e),c=k(f);else{d=i(f);a=b("nullthrows")(b("getSelectionOffsetKeyForNode")(d));c=k(d)}return{key:a,offset:c}}function k(a){a=a.textContent;return a==="\n"?0:a.length}e.exports=a}),null);
__d("getDraftEditorSelection",["getDraftEditorSelectionWithNodes"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=c.ownerDocument.defaultView.getSelection(),e=d.anchorNode,f=d.anchorOffset,g=d.focusNode,h=d.focusOffset;d=d.rangeCount;return d===0||e==null||g==null?{selectionState:a.getSelection().set("hasFocus",!1),needsRecovery:!1}:b("getDraftEditorSelectionWithNodes")(a,c,e,f,g,h)}e.exports=a}),null);
__d("editOnSelect",["DraftJsDebugLogging","EditorState","getContentEditableContainer","getDraftEditorSelection"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a._blockSelectEvents||a._latestEditorState!==a.props.editorState){if(a._blockSelectEvents){var c=a.props.editorState;c=c.getSelection();b("DraftJsDebugLogging").logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:new Error().stack}),selectionState:JSON.stringify(c.toJS())})}return}c=a.props.editorState;var d=b("getDraftEditorSelection")(c,b("getContentEditableContainer")(a)),e=d.selectionState;e!==c.getSelection()&&(d.needsRecovery?c=b("EditorState").forceSelection(c,e):c=b("EditorState").acceptSelection(c,e),a.update(c))}e.exports=a}),null);
__d("draftKeyUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null&&a!=""}e.exports={notEmptyKey:a}}),null);
__d("getEntityKeyForSelection",["draftKeyUtils"],(function(a,b,c,d,e,f){"use strict";var g=b("draftKeyUtils").notEmptyKey;function a(a,b){var c;if(b.isCollapsed()){var d=b.getAnchorKey(),e=b.getAnchorOffset();if(e>0){c=a.getBlockForKey(d).getEntityAt(e-1);return c!==a.getBlockForKey(d).getEntityAt(e)?null:h(a,c)}return null}d=b.getStartKey();e=b.getStartOffset();b=a.getBlockForKey(d);c=e===b.getLength()?null:b.getEntityAt(e);return h(a,c)}function h(a,b){if(g(b)){a=a.getEntity(b);return a.getMutability()==="MUTABLE"?b:null}return null}e.exports=a}),null);
__d("DraftEditorCompositionHandler",["DOMObserver","DraftModifier","DraftOffsetKey","EditorState","Keys","UserAgent","editOnSelect","getContentEditableContainer","getDraftEditorSelection","getEntityKeyForSelection","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("UserAgent").isBrowser("IE"),h=20,i=!1,j=!1,k=null;function l(a){k||(k=new(b("DOMObserver"))(b("getContentEditableContainer")(a)),k.start())}var m={onCompositionStart:function(a){j=!0,l(a)},onCompositionEnd:function(a){i=!1,j=!1,setTimeout(function(){i||m.resolveComposition(a)},h)},onSelect:b("editOnSelect"),onKeyDown:function(a,c){if(!j){i||m.resolveComposition(a);a._onKeyDown(c);return}(c.which===b("Keys").RIGHT||c.which===b("Keys").LEFT)&&c.preventDefault()},onKeyPress:function(a,c){c.which===b("Keys").RETURN&&c.preventDefault()},resolveComposition:function(a){if(j)return;var c=a._latestEditorState,d=b("nullthrows")(k).stopAndFlushMutations();k=null;i=!0;var e=b("EditorState").set(c,{inCompositionMode:!1});a.exitCurrentMode();if(!d.size){a.update(e);return}var f=e.getCurrentContent();d.forEach(function(a,c){c=b("DraftOffsetKey").decode(c);var d=c.blockKey,g=c.decoratorKey;c=c.leafKey;g=e.getBlockTree(d).getIn([g,"leaves",c]);c=g.start;g=g.end;g=e.getSelection().merge({anchorKey:d,focusKey:d,anchorOffset:c,focusOffset:g,isBackward:!1});var h=b("getEntityKeyForSelection")(f,g);d=f.getBlockForKey(d).getInlineStyleAt(c);f=b("DraftModifier").replaceText(f,g,a,d,h);e=b("EditorState").set(e,{currentContent:f})});d=b("getDraftEditorSelection")(c,b("getContentEditableContainer")(a));c=d.selectionState;a.restoreEditorDOM();d=g?b("EditorState").forceSelection(e,c):b("EditorState").acceptSelection(e,c);a.update(b("EditorState").push(d,f,"insert-characters"))}};e.exports=m}),null);
__d("getTextContentFromFiles",["invariant"],(function(a,b,c,d,e,f,g){"use strict";var h=/\.textClipping$/,i={"text/plain":!0,"text/html":!0,"text/rtf":!0},j=5e3;function b(a,b){var c=0,d=[];a.forEach(function(e){k(e,function(e){c++,e&&d.push(e.slice(0,j)),c==a.length&&b(d.join("\r"))})})}function k(b,c){if(!a.FileReader||b.type&&!(b.type in i)){c("");return}if(b.type===""){var d="";h.test(b.name)&&(d=b.name.replace(h,""));c(d);return}var e=new FileReader();e.onload=function(){var a=e.result;typeof a==="string"||g(0,1637);c(a)};e.onerror=function(){c("")};e.readAsText(b)}e.exports=b}),null);
__d("isEventHandled",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a==="handled"||a===!0}e.exports=a}),null);
__d("DraftEditorDragHandler",["DataTransfer","DraftModifier","EditorState","findAncestorOffsetKey","getCorrectDocumentFromNode","getTextContentFromFiles","getUpdatedSelectionState","getWindowForNode","isEventHandled","nullthrows"],(function(a,b,c,d,e,f){"use strict";function g(a,c){var d=null,e=null,f=b("getCorrectDocumentFromNode")(a.currentTarget);if(typeof f.caretRangeFromPoint==="function"){f=f.caretRangeFromPoint(a.x,a.y);d=f.startContainer;e=f.startOffset}else if(a.rangeParent)d=a.rangeParent,e=a.rangeOffset;else return null;d=b("nullthrows")(d);e=b("nullthrows")(e);f=b("nullthrows")(b("findAncestorOffsetKey")(d));return b("getUpdatedSelectionState")(c,f,e,f,e)}a={onDragEnd:function(a){a.exitCurrentMode(),h(a)},onDrop:function(a,c){var d=new(b("DataTransfer"))(c.nativeEvent.dataTransfer),e=a._latestEditorState,f=g(c.nativeEvent,e);c.preventDefault();a._dragCount=0;a.exitCurrentMode();if(f==null)return;c=d.getFiles();if(c.length>0){if(a.props.handleDroppedFiles&&b("isEventHandled")(a.props.handleDroppedFiles(f,c)))return;b("getTextContentFromFiles")(c,function(b){b&&a.update(j(e,f,b))});return}c=a._internalDrag?"internal":"external";a.props.handleDrop&&b("isEventHandled")(a.props.handleDrop(f,d,c))||(a._internalDrag?a.update(i(e,f)):a.update(j(e,f,d.getText())));h(a)}};function h(a){a._internalDrag=!1;a=a.editorContainer;if(a){var c=new MouseEvent("mouseup",{view:b("getWindowForNode")(a),bubbles:!0,cancelable:!0});a.dispatchEvent(c)}}function i(a,c){c=b("DraftModifier").moveText(a.getCurrentContent(),a.getSelection(),c);return b("EditorState").push(a,c,"insert-fragment")}function j(a,c,d){c=b("DraftModifier").insertText(a.getCurrentContent(),c,d,a.getCurrentInlineStyle());return b("EditorState").push(a,c,"insert-fragment")}e.exports=a}),null);
__d("moveSelectionBackward",["warning"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=a.getSelection();b("warning")(d.isCollapsed(),"moveSelectionBackward should only be called with a collapsed SelectionState");a=a.getCurrentContent();var e=d.getStartKey(),f=d.getStartOffset(),g=e,h=0;if(c>f){var i=a.getKeyBefore(e);if(i==null)g=e;else{g=i;e=a.getBlockForKey(i);h=e.getText().length}}else h=f-c;return d.merge({focusKey:g,focusOffset:h,isBackward:!0})}e.exports=a}),null);
__d("removeTextWithStrategy",["DraftModifier","gkx"],(function(a,b,c,d,e,f){"use strict";var g=b("gkx")("676842");function a(a,c,d){var e=a.getSelection(),f=a.getCurrentContent(),h=e,i=e.getAnchorKey(),j=e.getFocusKey(),k=f.getBlockForKey(i);if(g&&(d==="forward"&&i!==j))return f;if(e.isCollapsed()){if(d==="forward"){if(a.isSelectionAtEndOfContent())return f;if(g){j=e.getAnchorOffset()===f.getBlockForKey(i).getLength();if(j){i=f.getBlockForKey(k.nextSibling);if(!i||i.getLength()===0)return f}}}else if(a.isSelectionAtStartOfContent())return f;h=c(a);if(h===e)return f}return b("DraftModifier").removeRange(f,h,d)}e.exports=a}),null);
__d("keyCommandPlainBackspace",["EditorState","UnicodeUtils","moveSelectionBackward","removeTextWithStrategy"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){var c=b("removeTextWithStrategy")(a,function(c){var a=c.getSelection(),d=c.getCurrentContent(),e=a.getAnchorKey();a=a.getAnchorOffset();d=d.getBlockForKey(e).getText()[a-1];return b("moveSelectionBackward")(c,d?(g||(g=b("UnicodeUtils"))).getUTF16Length(d,0):1)},"backward");if(c===a.getCurrentContent())return a;var d=a.getSelection();return b("EditorState").push(a,c.setSelectionBefore(d),d.isCollapsed()?"backspace-character":"remove-range")}e.exports=a}),null);
__d("editOnInput",["DraftModifier","DraftOffsetKey","EditorState","UserAgent","draftKeyUtils","findAncestorOffsetKey","keyCommandPlainBackspace","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("draftKeyUtils").notEmptyKey,h=b("UserAgent").isEngine("Gecko");b("UserAgent").isBrowser("IE");var i="\n\n";function j(a,c){switch(a){case"deleteContentBackward":return b("keyCommandPlainBackspace")(c)}return c}function a(a,c){a._pendingStateFromBeforeInput!==void 0&&(a.update(a._pendingStateFromBeforeInput),a._pendingStateFromBeforeInput=void 0);var d=a.editor;d=d.ownerDocument.defaultView.getSelection();var e=d.anchorNode,f=d.isCollapsed,k=(e==null?void 0:e.nodeType)!==Node.TEXT_NODE&&(e==null?void 0:e.nodeType)!==Node.ELEMENT_NODE;if(e==null||k)return;if(e.nodeType===Node.TEXT_NODE&&(e.previousSibling!==null||e.nextSibling!==null)){k=e.parentNode;if(k==null)return;e.nodeValue=k.textContent;for(var l=k.firstChild;l!=null;l=l.nextSibling)l!==e&&k.removeChild(l)}l=e.textContent;k=a._latestEditorState;e=b("nullthrows")(b("findAncestorOffsetKey")(e));e=b("DraftOffsetKey").decode(e);var m=e.blockKey,n=e.decoratorKey;e=e.leafKey;n=k.getBlockTree(m).getIn([n,"leaves",e]);e=n.start;n=n.end;var o=k.getCurrentContent();m=o.getBlockForKey(m);var p=m.getText().slice(e,n);l.endsWith(i)&&(l=l.slice(0,-1));if(l===p){c=c?c.nativeEvent.inputType:void 0;if(c){c=j(c,k);if(c!==k){a.restoreEditorDOM();a.update(c);return}}return}c=k.getSelection();n=c.merge({anchorOffset:e,focusOffset:n,isBackward:!1});var q=m.getEntityAt(e);q=g(q)?o.getEntity(q):null;q=q!=null?q.getMutability():null;q=q==="MUTABLE";var r=q?"spellcheck-change":"apply-entity";n=b("DraftModifier").replaceText(o,n,l,m.getInlineStyleAt(e),q?m.getEntityAt(e):null);if(h)q=d.anchorOffset,m=d.focusOffset,d=e+Math.min(q,m),e=d+Math.abs(q-m),q=d,m=e;else{l=l.length-p.length;d=c.getStartOffset();e=c.getEndOffset();q=f?e+l:d;m=e+l}p=n.merge({selectionBefore:o.getSelectionAfter(),selectionAfter:c.merge({anchorOffset:q,focusOffset:m})});a.update(b("EditorState").push(k,p,r))}e.exports=a}),null);
__d("isSelectionAtLeafStart",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.getSelection(),c=b.getAnchorKey();a=a.getBlockTree(c);var d=b.getStartOffset();c=!1;a.some(function(a){if(d===a.get("start")){c=!0;return!0}return d<a.get("end")?a.get("leaves").some(function(a){a=a.get("start");if(d===a){c=!0;return!0}return!1}):!1});return c}e.exports=a}),null);
__d("editOnBeforeInput",["DraftModifier","EditorState","UserAgent","editOnInput","getEntityKeyForSelection","isEventHandled","isSelectionAtLeafStart","nullthrows","setImmediate"],(function(a,b,c,d,e,f){"use strict";var g="'",h="/",i=b("UserAgent").isBrowser("Firefox"),j=b("UserAgent").isBrowser("IE");function k(a){return i&&(a==g||a==h)}function l(a,c,d,e,f){c=b("DraftModifier").replaceText(a.getCurrentContent(),a.getSelection(),c,d,e);return b("EditorState").push(a,c,"insert-characters",f)}function a(a,c){j&&(a._pendingStateFromBeforeInput!==void 0&&(a.update(a._pendingStateFromBeforeInput),a._pendingStateFromBeforeInput=void 0));var d=a._latestEditorState,e=c.data;if(!e)return;if(a.props.handleBeforeInput&&b("isEventHandled")(a.props.handleBeforeInput(e,d,c.timeStamp))){c.preventDefault();return}var f=d.getSelection(),g=f.getStartOffset(),h=f.getAnchorKey();if(!f.isCollapsed()){c.preventDefault();a.update(l(d,e,d.getCurrentInlineStyle(),b("getEntityKeyForSelection")(d.getCurrentContent(),d.getSelection()),!0));return}f=l(d,e,d.getCurrentInlineStyle(),b("getEntityKeyForSelection")(d.getCurrentContent(),d.getSelection()),!1);var i=!1;i||(i=b("isSelectionAtLeafStart")(a._latestCommittedEditorState));if(!i){var m=d.getBlockTree(h),n=f.getBlockTree(h);i=m.size!==n.size||m.zip(n).some(function(a){var b=a[0];a=a[1];var c=b.get("start"),d=c+(c>=g?e.length:0),f=b.get("end"),h=f+(f>=g?e.length:0),i=a.get("start"),j=a.get("end"),k=a.get("decoratorKey");return b.get("decoratorKey")!==k||b.get("leaves").size!==a.get("leaves").size||d!==i||h!==j||k!=null&&j-i!==f-c})}i||(i=k(e));i||(i=b("nullthrows")(f.getDirectionMap()).get(h)!==b("nullthrows")(d.getDirectionMap()).get(h));if(i){c.preventDefault();f=b("EditorState").set(f,{forceSelection:!0});a.update(f);return}f=b("EditorState").set(f,{nativelyRenderedContent:f.getCurrentContent()});a._pendingStateFromBeforeInput=f;j&&b("setImmediate")(function(){b("editOnInput")(a,null)})}e.exports=a}),null);
__d("editOnBlur",["EditorState","containsNode","getActiveElement"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=c.currentTarget.ownerDocument;if(!Boolean(a.props.preserveSelectionOnBlur)&&b("getActiveElement")(d)===d.body){d=d.defaultView.getSelection();var e=a.editor;d.rangeCount===1&&b("containsNode")(e,d.anchorNode)&&b("containsNode")(e,d.focusNode)&&d.removeAllRanges()}e=a._latestEditorState;d=e.getSelection();if(!d.getHasFocus())return;d=d.set("hasFocus",!1);a.props.onBlur&&a.props.onBlur(c);a.update(b("EditorState").acceptSelection(e,d))}e.exports=a}),null);
__d("editOnCompositionStart",["EditorState"],(function(a,b,c,d,e,f){"use strict";function a(a,c){a.setMode("composite"),a.update(b("EditorState").set(a._latestEditorState,{inCompositionMode:!0})),a._onCompositionStart(c)}e.exports=a}),null);
__d("getFragmentFromSelection",["getContentStateFragment"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.getSelection();return c.isCollapsed()?null:b("getContentStateFragment")(a.getCurrentContent(),c)}e.exports=a}),null);
__d("editOnCopy",["getFragmentFromSelection"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=a._latestEditorState;d=d.getSelection();if(d.isCollapsed()){c.preventDefault();return}a.setClipboard(b("getFragmentFromSelection")(a._latestEditorState))}e.exports=a}),null);
__d("isInstanceOfNode",[],(function(a,b,c,d,e,f){function a(a){if(!a||!("ownerDocument"in a))return!1;if("ownerDocument"in a){a=a;if(!a.ownerDocument.defaultView)return a instanceof Node;if(a instanceof a.ownerDocument.defaultView.Node)return!0}return!1}e.exports=a}),null);
__d("editOnCut",["DraftModifier","EditorState","Style","getFragmentFromSelection","getScrollPosition","isInstanceOfNode"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=a._latestEditorState,e=d.getSelection(),f=c.target,h;if(e.isCollapsed()){c.preventDefault();return}if(b("isInstanceOfNode")(f)){e=f;h=b("getScrollPosition")(b("Style").getScrollParent(e))}c=b("getFragmentFromSelection")(d);a.setClipboard(c);a.setMode("cut");setTimeout(function(){a.restoreEditorDOM(h),a.exitCurrentMode(),a.update(g(d))},0)}function g(a){var c=b("DraftModifier").removeRange(a.getCurrentContent(),a.getSelection(),"forward");return b("EditorState").push(a,c,"remove-range")}e.exports=a}),null);
__d("editOnDragOver",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a.setMode("drag"),b.preventDefault()}e.exports=a}),null);
__d("editOnDragStart",[],(function(a,b,c,d,e,f){"use strict";function a(a){a._internalDrag=!0,a.setMode("drag")}e.exports=a}),null);
__d("editOnFocus",["EditorState","UserAgent"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=a._latestEditorState,e=d.getSelection();if(e.getHasFocus())return;e=e.set("hasFocus",!0);a.props.onFocus&&a.props.onFocus(c);b("UserAgent").isBrowser("Chrome < 60.0.3081.0")?a.update(b("EditorState").forceSelection(d,e)):a.update(b("EditorState").acceptSelection(d,e))}e.exports=a}),null);
__d("SecondaryClipboard",["DraftModifier","EditorState","getContentStateFragment","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=null;a={cut:function(a){var c=a.getCurrentContent(),d=a.getSelection(),e=null;if(d.isCollapsed()){var f=d.getAnchorKey(),h=c.getBlockForKey(f).getLength();if(h===d.getAnchorOffset()){f=c.getKeyAfter(f);if(f==null)return a;e=d.set("focusKey",f).set("focusOffset",0)}else e=d.set("focusOffset",h)}else e=d;e=b("nullthrows")(e);g=b("getContentStateFragment")(c,e);f=b("DraftModifier").removeRange(c,e,"forward");return f===c?a:b("EditorState").push(a,f,"remove-range")},paste:function(a){if(!g)return a;var c=b("DraftModifier").replaceWithFragment(a.getCurrentContent(),a.getSelection(),g);return b("EditorState").push(a,c,"insert-fragment")}};e.exports=a}),null);
__d("getRangeClientRects",["invariant","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";c=b("UserAgent").isBrowser("Chrome");function a(a){var b=a.cloneRange(),c=[];for(var d=a.endContainer;d!=null;d=d.parentNode){var e=d===a.commonAncestorContainer;e?b.setStart(a.startContainer,a.startOffset):b.setStart(b.endContainer,0);var f=Array.from(b.getClientRects());c.push(f);if(e){c.reverse();return(f=[]).concat.apply(f,c)}b.setEndBefore(d)}g(0,578)}d=c?a:function(a){return Array.from(a.getClientRects())};e.exports=d}),null);
__d("expandRangeToStartOfLine",["invariant","UnicodeUtils","getCorrectDocumentFromNode","getRangeClientRects"],(function(a,b,c,d,e,f,g){var h;function i(a){var c=getComputedStyle(a);a=b("getCorrectDocumentFromNode")(a);var d=a.createElement("div");d.style.fontFamily=c.fontFamily;d.style.fontSize=c.fontSize;d.style.fontStyle=c.fontStyle;d.style.fontWeight=c.fontWeight;d.style.lineHeight=c.lineHeight;d.style.position="absolute";d.textContent="M";c=a.body;c||g(0,5725);c.appendChild(d);a=d.getBoundingClientRect();c.removeChild(d);return a.height}function j(a,b){var c=Infinity,d=Infinity,e=-Infinity,f=-Infinity;for(var g=0;g<a.length;g++){var h=a[g];if(h.width===0||h.width===1)continue;c=Math.min(c,h.top);d=Math.min(d,h.bottom);e=Math.max(e,h.top);f=Math.max(f,h.bottom)}return e<=d&&e-c<b&&f-d<b}function k(a){switch(a.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return a.length;default:return a.childNodes.length}}function a(a){a.collapsed||g(0,5726);a=a.cloneRange();var c=a.startContainer;c.nodeType!==1&&(c=c.parentNode);c=i(c);var d=a.endContainer,e=a.endOffset;a.setStart(a.startContainer,0);while(j(b("getRangeClientRects")(a),c)){d=a.startContainer;e=a.startOffset;d.parentNode||g(0,5727);a.setStartBefore(d);if(d.nodeType===1&&getComputedStyle(d).display!=="inline")break}var f=d,l=e-1;do{var m=f.nodeValue,n=l;for(;n>=0;n--){if(m!=null&&n>0&&(h||(h=b("UnicodeUtils"))).isSurrogatePair(m,n-1))continue;a.setStart(f,n);if(j(b("getRangeClientRects")(a),c))d=f,e=n;else break}if(n===-1||f.childNodes.length===0)break;f=f.childNodes[n];l=k(f)}while(!0);a.setStart(d,e);return a}e.exports=a}),null);
__d("keyCommandBackspaceToStartOfLine",["EditorState","expandRangeToStartOfLine","getDraftEditorSelectionWithNodes","moveSelectionBackward","removeTextWithStrategy"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=b("removeTextWithStrategy")(a,function(a){var d=a.getSelection();if(d.isCollapsed()&&d.getAnchorOffset()===0)return b("moveSelectionBackward")(a,1);d=c.currentTarget.ownerDocument;d=d.defaultView.getSelection();d=d.getRangeAt(0);d=b("expandRangeToStartOfLine")(d);return b("getDraftEditorSelectionWithNodes")(a,null,d.endContainer,d.endOffset,d.startContainer,d.startOffset).selectionState},"backward");return d===a.getCurrentContent()?a:b("EditorState").push(a,d,"remove-range")}e.exports=a}),null);
__d("DraftRemovableWord",["TokenizeUtil"],(function(a,b,c,d,e,f){"use strict";a=b("TokenizeUtil").getPunctuation();c="['\u2018\u2019]";d="\\s|(?![_])"+a;f="^(?:"+d+")*(?:"+c+"|(?!"+d+").)*(?:(?!"+d+").)";var g=new RegExp(f);b="(?:(?!"+d+").)(?:"+c+"|(?!"+d+").)*(?:"+d+")*$";var h=new RegExp(b);function i(a,b){b=b?h.exec(a):g.exec(a);return b?b[0]:a}a={getBackward:function(a){return i(a,!0)},getForward:function(a){return i(a,!1)}};e.exports=a}),null);
__d("keyCommandBackspaceWord",["DraftRemovableWord","EditorState","moveSelectionBackward","removeTextWithStrategy"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("removeTextWithStrategy")(a,function(a){var c=a.getSelection(),d=c.getStartOffset();if(d===0)return b("moveSelectionBackward")(a,1);c=c.getStartKey();var e=a.getCurrentContent();e=e.getBlockForKey(c).getText().slice(0,d);c=b("DraftRemovableWord").getBackward(e);return b("moveSelectionBackward")(a,c.length||1)},"backward");return c===a.getCurrentContent()?a:b("EditorState").push(a,c,"remove-range")}e.exports=a}),null);
__d("moveSelectionForward",["warning"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=a.getSelection();b("warning")(d.isCollapsed(),"moveSelectionForward should only be called with a collapsed SelectionState");var e=d.getStartKey(),f=d.getStartOffset();a=a.getCurrentContent();var g=e,h=a.getBlockForKey(e);c>h.getText().length-f?(g=a.getKeyAfter(e),h=0):h=f+c;return d.merge({focusKey:g,focusOffset:h})}e.exports=a}),null);
__d("keyCommandDeleteWord",["DraftRemovableWord","EditorState","moveSelectionForward","removeTextWithStrategy"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("removeTextWithStrategy")(a,function(a){var c=a.getSelection(),d=c.getStartOffset();c=c.getStartKey();var e=a.getCurrentContent();e=e.getBlockForKey(c).getText().slice(d);c=b("DraftRemovableWord").getForward(e);return b("moveSelectionForward")(a,c.length||1)},"forward");return c===a.getCurrentContent()?a:b("EditorState").push(a,c,"remove-range")}e.exports=a}),null);
__d("keyCommandInsertNewline",["DraftModifier","EditorState"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=b("DraftModifier").splitBlock(a.getCurrentContent(),a.getSelection());return b("EditorState").push(a,c,"split-block")}e.exports=a}),null);
__d("keyCommandMoveSelectionToEndOfBlock",["EditorState"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.getSelection(),d=c.getEndKey(),e=a.getCurrentContent();e=e.getBlockForKey(d).getLength();return b("EditorState").set(a,{selection:c.merge({anchorKey:d,anchorOffset:e,focusKey:d,focusOffset:e,isBackward:!1}),forceSelection:!0})}e.exports=a}),null);
__d("keyCommandMoveSelectionToStartOfBlock",["EditorState"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.getSelection(),d=c.getStartKey();return b("EditorState").set(a,{selection:c.merge({anchorKey:d,anchorOffset:0,focusKey:d,focusOffset:0,isBackward:!1}),forceSelection:!0})}e.exports=a}),null);
__d("keyCommandPlainDelete",["EditorState","UnicodeUtils","moveSelectionForward","removeTextWithStrategy"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){var c=b("removeTextWithStrategy")(a,function(c){var a=c.getSelection(),d=c.getCurrentContent(),e=a.getAnchorKey();a=a.getAnchorOffset();d=d.getBlockForKey(e).getText()[a];return b("moveSelectionForward")(c,d?(g||(g=b("UnicodeUtils"))).getUTF16Length(d,0):1)},"forward");if(c===a.getCurrentContent())return a;var d=a.getSelection();return b("EditorState").push(a,c.setSelectionBefore(d),d.isCollapsed()?"delete-character":"remove-range")}e.exports=a}),null);
__d("keyCommandTransposeCharacters",["DraftModifier","EditorState","getContentStateFragment"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.getSelection();if(!c.isCollapsed())return a;var d=c.getAnchorOffset();if(d===0)return a;var e=c.getAnchorKey(),f=a.getCurrentContent();e=f.getBlockForKey(e);e=e.getLength();if(e<=1)return a;var g;d===e?(e=c.set("anchorOffset",d-1),g=c):(e=c.set("focusOffset",d+1),g=e.set("anchorOffset",d+1));c=b("getContentStateFragment")(f,e);d=b("DraftModifier").removeRange(f,e,"backward");f=d.getSelectionAfter();e=f.getAnchorOffset()-1;f=f.merge({anchorOffset:e,focusOffset:e});e=b("DraftModifier").replaceWithFragment(d,f,c);d=b("EditorState").push(a,e,"insert-fragment");return b("EditorState").acceptSelection(d,g)}e.exports=a}),null);
__d("keyCommandUndo",["EditorState"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e=b("EditorState").undo(c);if(c.getLastChangeType()==="spellcheck-change"){var f=e.getCurrentContent();d(b("EditorState").set(e,{nativelyRenderedContent:f}));return}a.preventDefault();if(!c.getNativelyRenderedContent()){d(e);return}d(b("EditorState").set(c,{nativelyRenderedContent:null}));setTimeout(function(){d(e)},0)}e.exports=a}),null);
__d("editOnKeyDown",["DraftModifier","EditorState","KeyBindingUtil","Keys","SecondaryClipboard","UserAgent","isEventHandled","keyCommandBackspaceToStartOfLine","keyCommandBackspaceWord","keyCommandDeleteWord","keyCommandInsertNewline","keyCommandMoveSelectionToEndOfBlock","keyCommandMoveSelectionToStartOfBlock","keyCommandPlainBackspace","keyCommandPlainDelete","keyCommandTransposeCharacters","keyCommandUndo"],(function(a,b,c,d,e,f){"use strict";var g=b("KeyBindingUtil").isOptionKeyCommand,h=b("UserAgent").isBrowser("Chrome");function i(a,c,d){switch(a){case"redo":return b("EditorState").redo(c);case"delete":return b("keyCommandPlainDelete")(c);case"delete-word":return b("keyCommandDeleteWord")(c);case"backspace":return b("keyCommandPlainBackspace")(c);case"backspace-word":return b("keyCommandBackspaceWord")(c);case"backspace-to-start-of-line":return b("keyCommandBackspaceToStartOfLine")(c,d);case"split-block":return b("keyCommandInsertNewline")(c);case"transpose-characters":return b("keyCommandTransposeCharacters")(c);case"move-selection-to-start-of-block":return b("keyCommandMoveSelectionToStartOfBlock")(c);case"move-selection-to-end-of-block":return b("keyCommandMoveSelectionToEndOfBlock")(c);case"secondary-cut":return b("SecondaryClipboard").cut(c);case"secondary-paste":return b("SecondaryClipboard").paste(c);default:return c}}function a(a,c){var d=c.which,e=a._latestEditorState;function f(b){b=a.props[b];if(b){b(c);return!0}else return!1}switch(d){case b("Keys").RETURN:c.preventDefault();if(a.props.handleReturn&&b("isEventHandled")(a.props.handleReturn(c,e)))return;break;case b("Keys").ESC:c.preventDefault();if(f("onEscape"))return;break;case b("Keys").TAB:if(f("onTab"))return;break;case b("Keys").UP:if(f("onUpArrow"))return;break;case b("Keys").RIGHT:if(f("onRightArrow"))return;break;case b("Keys").DOWN:if(f("onDownArrow"))return;break;case b("Keys").LEFT:if(f("onLeftArrow"))return;break;case b("Keys").SPACE:h&&g(c)&&c.preventDefault()}f=a.props.keyBindingFn(c);if(f==null||f===""){if(d===b("Keys").SPACE&&h&&g(c)){d=b("DraftModifier").replaceText(e.getCurrentContent(),e.getSelection(),"\xa0");a.update(b("EditorState").push(e,d,"insert-characters"))}return}if(f==="undo"){b("keyCommandUndo")(c,e,a.update);return}c.preventDefault();if(a.props.handleKeyCommand&&b("isEventHandled")(a.props.handleKeyCommand(f,e,c.timeStamp)))return;d=i(f,e,c);d!==e&&a.update(d)}e.exports=a}),null);
__d("getSafeBodyFromHTML",["invariant","UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h=b("UserAgent").isBrowser("IE <= 9");function a(a){var b,c=null;!h&&document.implementation&&document.implementation.createHTMLDocument&&(b=document.implementation.createHTMLDocument("foo"),b.documentElement||g(0,1805),b.documentElement.innerHTML=a,c=b.getElementsByTagName("body")[0]);return c}e.exports=a}),null);
__d("isHTMLAnchorElement",["isElement"],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument?!1:b("isElement")(a)&&a.nodeName==="A"}e.exports=a}),null);
__d("isHTMLBRElement",["isElement"],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument?!1:b("isElement")(a)&&a.nodeName==="BR"}e.exports=a}),null);
__d("isHTMLImageElement",["isElement"],(function(a,b,c,d,e,f){function a(a){return!a||!a.ownerDocument?!1:b("isElement")(a)&&a.nodeName==="IMG"}e.exports=a}),null);
__d("convertFromHTMLToContentBlocks",["cx","CharacterMetadata","ContentBlock","ContentBlockNode","ContentState","DefaultDraftBlockRenderMap","URI","generateRandomKey","getSafeBodyFromHTML","gkx","immutable","isHTMLAnchorElement","isHTMLBRElement","isHTMLElement","isHTMLImageElement"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("immutable").List,j=b("immutable").Map,k=b("immutable").OrderedSet,l=b("gkx")("676842");a="&nbsp;";var m=" ",n=new RegExp("\r","g"),o=new RegExp("\n","g"),p=new RegExp("^\n","g"),q=new RegExp(a,"g"),r=new RegExp("&#13;?","g"),s=new RegExp("&#8203;?","g"),t=["bold","bolder","500","600","700","800","900"],u=["light","lighter","normal","100","200","300","400"],v=["className","href","rel","target","title"],w=["alt","className","height","src","width"],x=(c={},c._3kq1=0,c._3kq2=1,c._3kq3=2,c._3kq4=3,c._3kq5=4,c),y=j({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),z=function(a){var b={};a.mapKeys(function(a,c){var d=[c.element];c.aliasedElements!==void 0&&d.push.apply(d,c.aliasedElements);d.forEach(function(c){b[c]===void 0?b[c]=a:typeof b[c]==="string"?b[c]=[b[c],a]:b[c].push(a)})});return j(b)},A=function(a){if(b("isHTMLElement")(a)){a=a;if(a.style.fontFamily.includes("monospace"))return"CODE"}return null},B=function(a,b){b===void 0&&(b=0);Object.keys(x).some(function(c){a.classList.contains(c)&&(b=x[c])});return b},C=function(a){if(!b("isHTMLAnchorElement")(a))return!1;a=a;if(!a.href||a.protocol!=="http:"&&a.protocol!=="https:"&&a.protocol!=="mailto:"&&a.protocol!=="tel:")return!1;try{new(h||(h=b("URI")))(a.href);return!0}catch(a){return!1}},D=function(a){if(!b("isHTMLImageElement")(a))return!1;a=a;return!!(a.attributes.getNamedItem("src")&&a.attributes.getNamedItem("src").value)},E=function(a,c){if(!b("isHTMLElement")(a))return c;a=a;var d=a.style.fontWeight,e=a.style.fontStyle,f=a.style.textDecoration;return c.withMutations(function(a){t.indexOf(d)>=0?a.add("BOLD"):u.indexOf(d)>=0&&a.remove("BOLD"),e==="italic"?a.add("ITALIC"):e==="normal"&&a.remove("ITALIC"),f==="underline"&&a.add("UNDERLINE"),f==="line-through"&&a.add("STRIKETHROUGH"),f==="none"&&(a.remove("UNDERLINE"),a.remove("STRIKETHROUGH"))})},F=function(a){return a==="ul"||a==="ol"},G=function(){function a(a,c){this.characterList=i(),this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.wrapper=null,this.blockConfigs=[],this.contentBlocks=[],this.contentState=b("ContentState").createFromText(""),this.clear(),this.blockTypeMap=a,this.disambiguate=c}var c=a.prototype;c.clear=function(){this.characterList=i(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.contentState=b("ContentState").createFromText(""),this.wrapper=null,this.contentBlocks=[]};c.addDOMNode=function(a){var b;this.contentBlocks=[];this.currentDepth=0;(b=this.blockConfigs).push.apply(b,this.$1([a],k()));this.$2();this.currentText!==""&&this.blockConfigs.push(this.$3());return this};c.getContentBlocks=function(){this.contentBlocks.length===0&&(l?this.$4(this.blockConfigs):this.$5(this.blockConfigs));return{contentBlocks:this.contentBlocks,entityMap:this.contentState.getEntityMap()}};c.$3=function(a){a===void 0&&(a={});var c=a.key||b("generateRandomKey")();c=babelHelpers["extends"]({key:c,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:i(),prevSibling:null,nextSibling:null,childConfigs:[]},a);this.characterList=i();this.currentBlockType="unstyled";this.currentText="";return c};c.$1=function(a,c){var d=[];for(var e=0;e<a.length;e++){var f=a[e],g=f.nodeName.toLowerCase();if(g==="body"||F(g)){this.$2();this.currentText!==""&&d.push(this.$3());var h=this.currentDepth,i=this.wrapper;F(g)&&(this.wrapper=g,F(i)&&this.currentDepth++);d.push.apply(d,this.$1(Array.from(f.childNodes),c));this.currentDepth=h;this.wrapper=i;continue}h=this.blockTypeMap.get(g);if(h!==void 0){this.$2();this.currentText!==""&&d.push(this.$3());i=this.currentDepth;var j=this.wrapper;this.wrapper=g==="pre"?"pre":this.wrapper;typeof h!=="string"&&(h=this.disambiguate(g,this.wrapper)||h[0]||"unstyled");if(!l&&b("isHTMLElement")(f)&&(h==="unordered-list-item"||h==="ordered-list-item")){var k=f;this.currentDepth=B(k,this.currentDepth)}k=b("generateRandomKey")();var m=this.$1(Array.from(f.childNodes),c);this.$2();d.push(this.$3({key:k,childConfigs:m,type:h}));this.currentDepth=i;this.wrapper=j;continue}if(g==="#text"){this.$6(f,c);continue}if(g==="br"){this.$7(f,c);continue}if(D(f)){this.$8(f,c);continue}if(C(f)){this.$9(f,d,c);continue}k=c;y.has(g)&&(k=k.add(y.get(g)));k=E(f,k);m=A(f);m!=null&&(k=k.add(m));d.push.apply(d,this.$1(Array.from(f.childNodes),k))}return d};c.$10=function(a,c){var d;this.currentText+=a;c=b("CharacterMetadata").create({style:c,entity:this.currentEntity});this.characterList=(d=this.characterList).push.apply(d,Array(a.length).fill(c))};c.$2=function(){var a=this.currentText.length,b=a-this.currentText.trimLeft().length,c=this.currentText.trimRight().length,d=this.characterList.findEntry(function(a){return a.getEntity()!==null});b=d!==void 0?Math.min(b,d[0]):b;d=this.characterList.reverse().findEntry(function(a){return a.getEntity()!==null});c=d!==void 0?Math.max(c,a-d[0]):c;b>c?(this.currentText="",this.characterList=i()):(this.currentText=this.currentText.slice(b,c),this.characterList=this.characterList.slice(b,c))};c.$6=function(a,b){a=a.textContent;var c=a.trim();c===""&&this.wrapper!=="pre"&&(a=" ");this.wrapper!=="pre"&&(a=a.replace(p,""),a=a.replace(o,m));this.$10(a,b)};c.$7=function(a,c){if(!b("isHTMLBRElement")(a))return;this.$10("\n",c)};c.$8=function(a,c){if(!b("isHTMLImageElement")(a))return;var d=a,e={};w.forEach(function(a){var b=d.getAttribute(a);b&&(e[a]=b)});this.contentState=this.contentState.createEntity("IMAGE","IMMUTABLE",e);this.currentEntity=this.contentState.getLastCreatedEntityKey();this.$10("\ud83d\udcf7",c);this.currentEntity=null};c.$9=function(a,c,d){if(!b("isHTMLAnchorElement")(a))return;var e=a,f={};v.forEach(function(a){var b=e.getAttribute(a);b&&(f[a]=b)});f.url=new(h||(h=b("URI")))(e.href).toString();this.contentState=this.contentState.createEntity("LINK","MUTABLE",f||{});this.currentEntity=this.contentState.getLastCreatedEntityKey();c.push.apply(c,this.$1(Array.from(a.childNodes),d));this.currentEntity=null};c.$4=function(a,c){c===void 0&&(c=null);var d=a.length-1;for(var e=0;e<=d;e++){var f=a[e];f.parent=c;f.prevSibling=e>0?a[e-1].key:null;f.nextSibling=e<d?a[e+1].key:null;f.children=i(f.childConfigs.map(function(a){return a.key}));this.contentBlocks.push(new(b("ContentBlockNode"))(babelHelpers["extends"]({},f)));this.$4(f.childConfigs,f.key)}};c.$11=function(a){var b=this;a=i(a).flatMap(function(a){return a.type!=="unstyled"||a.text!==""?[a]:b.$11(a.childConfigs)});return a};c.$5=function(a){var c=this;a=this.$11(a);a.forEach(function(a){var d=c.$12(a.childConfigs),e=d.text;d=d.characterList;c.contentBlocks.push(new(b("ContentBlock"))(babelHelpers["extends"]({},a,{text:a.text+e,characterList:a.characterList.concat(d)})))})};c.$12=function(a){var b=a.length-1,c="",d=i();for(var e=0;e<=b;e++){var f=a[e];c+=f.text;d=d.concat(f.characterList);c!==""&&f.type!=="unstyled"&&(c+="\n",d=d.push(d.last()));f=this.$12(f.childConfigs);c+=f.text;d=d.concat(f.characterList)}return{text:c,characterList:d}};return a}();d=function(a,c,d){c===void 0&&(c=b("getSafeBodyFromHTML"));d===void 0&&(d=b("DefaultDraftBlockRenderMap"));a=a.trim().replace(n,"").replace(q,m).replace(r,"").replace(s,"");c=c(a);if(!c)return null;a=z(d);d=function(a,b){return a==="li"?b==="ol"?"ordered-list-item":"unordered-list-item":null};return new G(a,d).addDOMNode(c).getContentBlocks()};e.exports=d}),null);
__d("DraftPasteProcessor",["ContentBlock","ContentBlockNode","convertFromHTMLToContentBlocks","generateRandomKey","getSafeBodyFromHTML","gkx","immutable","sanitizeDraftText"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List,h=b("immutable").Repeat,i=b("gkx")("676842"),j=i?b("ContentBlockNode"):b("ContentBlock");a={processHTML:function(a,c){return b("convertFromHTMLToContentBlocks")(a,b("getSafeBodyFromHTML"),c)},processText:function(a,c,d){return a.reduce(function(a,e,f){e=b("sanitizeDraftText")(e);var k=b("generateRandomKey")();e={key:k,type:d,text:e,characterList:g(h(c,e.length))};if(i&&f!==0){f=f-1;f=a[f]=a[f].merge({nextSibling:k});e=babelHelpers["extends"]({},e,{prevSibling:f.getKey()})}a.push(new j(e));return a},[])}};e.exports=a}),null);
__d("adjustBlockDepthForContentState",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){var e=b.getStartKey(),f=b.getEndKey(),g=a.getBlockMap(),h=g.toSeq().skipUntil(function(a,b){return b===e}).takeUntil(function(a,b){return b===f}).concat([[f,g.get(f)]]).map(function(a){var b=a.getDepth()+c;b=Math.max(0,b);d!=null&&(b=Math.min(b,d));return a.set("depth",b)});g=g.merge(h);return a.merge({blockMap:g,selectionBefore:b,selectionAfter:b})}e.exports=a}),null);
__d("RichTextEditorUtil",["DraftModifier","EditorState","adjustBlockDepthForContentState","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g={currentBlockContainsLink:function(a){var b=a.getSelection(),c=a.getCurrentContent();return c.getBlockForKey(b.getAnchorKey()).getCharacterList().slice(b.getStartOffset(),b.getEndOffset()).some(function(a){a=a.getEntity();return!!a&&c.getEntity(a).getType()==="LINK"})},getCurrentBlockType:function(a){var b=a.getSelection();return a.getCurrentContent().getBlockForKey(b.getStartKey()).getType()},getDataObjectForLinkURL:function(a){return{url:a.toString()}},handleKeyCommand:function(a,b,c){switch(b){case"bold":return g.toggleInlineStyle(a,"BOLD");case"italic":return g.toggleInlineStyle(a,"ITALIC");case"underline":return g.toggleInlineStyle(a,"UNDERLINE");case"strikethrough":return g.toggleInlineStyle(a,"STRIKETHROUGH");case"code":return g.toggleCode(a);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return g.onBackspace(a);case"delete":case"delete-word":case"delete-to-end-of-block":return g.onDelete(a);default:return null}},insertSoftNewline:function(a){var c=b("DraftModifier").insertText(a.getCurrentContent(),a.getSelection(),"\n",a.getCurrentInlineStyle(),null);a=b("EditorState").push(a,c,"insert-characters");return b("EditorState").forceSelection(a,c.getSelectionAfter())},onBackspace:function(a){var c=a.getSelection();if(!c.isCollapsed()||c.getAnchorOffset()||c.getFocusOffset())return null;var d=a.getCurrentContent(),e=c.getStartKey();e=d.getBlockBefore(e);if(e&&e.getType()==="atomic"){e=d.getBlockMap()["delete"](e.getKey());e=d.merge({blockMap:e,selectionAfter:c});if(e!==d)return b("EditorState").push(a,e,"remove-range")}c=g.tryToRemoveBlockStyle(a);return c?b("EditorState").push(a,c,"change-block-type"):null},onDelete:function(a){var c=a.getSelection();if(!c.isCollapsed())return null;var d=a.getCurrentContent(),e=c.getStartKey(),f=d.getBlockForKey(e);f=f.getLength();if(c.getStartOffset()<f)return null;f=d.getBlockAfter(e);if(!f||f.getType()!=="atomic")return null;e=c.merge({focusKey:f.getKey(),focusOffset:f.getLength()});c=b("DraftModifier").removeRange(d,e,"forward");return c!==d?b("EditorState").push(a,c,"remove-range"):null},onTab:function(a,c){var d=c.getSelection(),e=d.getAnchorKey(),f=c.getCurrentContent();e=f.getBlockForKey(e);e=e.getType();if(e!=="unordered-list-item"&&e!=="ordered-list-item")return c;a.preventDefault();e=b("adjustBlockDepthForContentState")(f,d,a.shiftKey?-1:1);return b("EditorState").push(c,e,"adjust-depth")},toggleBlockType:function(a,c){var d=a.getSelection(),e=d.getStartKey(),f=d.getEndKey(),g=a.getCurrentContent(),h=d;if(e!==f&&d.getEndOffset()===0){var i=b("nullthrows")(g.getBlockBefore(f));f=i.getKey();h=h.merge({anchorKey:e,anchorOffset:d.getStartOffset(),focusKey:f,focusOffset:i.getLength(),isBackward:!1})}d=g.getBlockMap().skipWhile(function(a,b){return b!==e}).reverse().skipWhile(function(a,b){return b!==f}).some(function(a){return a.getType()==="atomic"});if(d)return a;i=g.getBlockForKey(e).getType()===c?"unstyled":c;return b("EditorState").push(a,b("DraftModifier").setBlockType(g,h,i),"change-block-type")},toggleCode:function(a){var b=a.getSelection(),c=b.getAnchorKey(),d=b.getFocusKey();return b.isCollapsed()||c!==d?g.toggleBlockType(a,"code-block"):g.toggleInlineStyle(a,"CODE")},toggleInlineStyle:function(a,c){var d=a.getSelection(),e=a.getCurrentInlineStyle();if(d.isCollapsed())return b("EditorState").setInlineStyleOverride(a,e.has(c)?e.remove(c):e.add(c));var f=a.getCurrentContent();e.has(c)?e=b("DraftModifier").removeInlineStyle(f,d,c):e=b("DraftModifier").applyInlineStyle(f,d,c);return b("EditorState").push(a,e,"change-inline-style")},toggleLink:function(a,c,d){c=b("DraftModifier").applyEntity(a.getCurrentContent(),c,d);return b("EditorState").push(a,c,"apply-entity")},tryToRemoveBlockStyle:function(a){var c=a.getSelection(),d=c.getAnchorOffset();if(c.isCollapsed()&&d===0){d=c.getAnchorKey();a=a.getCurrentContent();var e=a.getBlockForKey(d);e=e.getType();d=a.getBlockBefore(d);if(e==="code-block"&&d&&d.getType()==="code-block"&&d.getLength()!==0)return null;if(e!=="unstyled")return b("DraftModifier").setBlockType(a,c,"unstyled")}return null}};e.exports=g}),null);
__d("splitTextIntoTextBlocks",[],(function(a,b,c,d,e,f){"use strict";var g=/\r\n?|\n/g;function a(a){return a.split(g)}e.exports=a}),null);
__d("editOnPaste",["BlockMapBuilder","CharacterMetadata","DataTransfer","DraftModifier","DraftPasteProcessor","EditorState","RichTextEditorUtil","getEntityKeyForSelection","getTextContentFromFiles","isEventHandled","splitTextIntoTextBlocks"],(function(a,b,c,d,e,f){"use strict";function a(a,c){c.preventDefault();c=new(b("DataTransfer"))(c.clipboardData);if(!c.isRichText()){var d=c.getFiles(),e=c.getText();if(d.length>0){if(a.props.handlePastedFiles&&b("isEventHandled")(a.props.handlePastedFiles(d)))return;b("getTextContentFromFiles")(d,function(d){d=d||e;if(!d)return;var c=a._latestEditorState;d=b("splitTextIntoTextBlocks")(d);var f=b("CharacterMetadata").create({style:c.getCurrentInlineStyle(),entity:b("getEntityKeyForSelection")(c.getCurrentContent(),c.getSelection())}),g=b("RichTextEditorUtil").getCurrentBlockType(c);d=b("DraftPasteProcessor").processText(d,f,g);f=b("BlockMapBuilder").createFromArray(d);g=b("DraftModifier").replaceWithFragment(c.getCurrentContent(),c.getSelection(),f);a.update(b("EditorState").push(c,g,"insert-fragment"))});return}}d=[];var f=c.getText(),i=c.getHTML(),j=a._latestEditorState;if(a.props.formatPastedText){var k=a.props.formatPastedText(f,i),l=k.text;k=k.html;f=l;i=k}if(a.props.handlePastedText&&b("isEventHandled")(a.props.handlePastedText(f,i,j)))return;f&&(d=b("splitTextIntoTextBlocks")(f));if(!a.props.stripPastedStyles){l=a.getClipboard();if(!a.props.formatPastedText&&c.isRichText()&&l){if(((k=i)==null?void 0:k.indexOf(a.getEditorKey()))!==-1||d.length===1&&l.size===1&&l.first().getText()===f){a.update(g(a._latestEditorState,l));return}}else if(l&&c.types.includes("com.apple.webarchive")&&!c.types.includes("text/html")&&h(d,l)){a.update(g(a._latestEditorState,l));return}if(i){k=b("DraftPasteProcessor").processHTML(i,a.props.blockRenderMap);if(k){f=k.contentBlocks;c=k.entityMap;if(f){l=b("BlockMapBuilder").createFromArray(f);a.update(g(a._latestEditorState,l,c));return}}}a.setClipboard(null)}if(d.length){i=b("CharacterMetadata").create({style:j.getCurrentInlineStyle(),entity:b("getEntityKeyForSelection")(j.getCurrentContent(),j.getSelection())});k=b("RichTextEditorUtil").getCurrentBlockType(j);f=b("DraftPasteProcessor").processText(d,i,k);l=b("BlockMapBuilder").createFromArray(f);a.update(g(a._latestEditorState,l))}}function g(a,c,d){c=b("DraftModifier").replaceWithFragment(a.getCurrentContent(),a.getSelection(),c);return b("EditorState").push(a,c.set("entityMap",d),"insert-fragment")}function h(a,b){return a.length===b.size&&b.valueSeq().every(function(b,c){return b.getText()===a[c]})}e.exports=a}),null);
__d("DraftEditorEditHandler",["UserAgent","editOnBeforeInput","editOnBlur","editOnCompositionStart","editOnCopy","editOnCut","editOnDragOver","editOnDragStart","editOnFocus","editOnInput","editOnKeyDown","editOnPaste","editOnSelect"],(function(a,b,c,d,e,f){"use strict";a=b("UserAgent").isBrowser("Chrome");c=b("UserAgent").isBrowser("Firefox");d=a||c?b("editOnSelect"):function(a){};f={onBeforeInput:b("editOnBeforeInput"),onBlur:b("editOnBlur"),onCompositionStart:b("editOnCompositionStart"),onCopy:b("editOnCopy"),onCut:b("editOnCut"),onDragOver:b("editOnDragOver"),onDragStart:b("editOnDragStart"),onFocus:b("editOnFocus"),onInput:b("editOnInput"),onKeyDown:b("editOnKeyDown"),onPaste:b("editOnPaste"),onSelect:b("editOnSelect"),onMouseUp:d,onKeyUp:d};e.exports=f}),null);
__d("DraftEditorPlaceholder.react",["cx","React","shallowEqual"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){var c=this.props,d=c.editorState;c=babelHelpers.objectWithoutPropertiesLoose(c,["editorState"]);var e=a.editorState;a=babelHelpers.objectWithoutPropertiesLoose(a,["editorState"]);return d.getSelection().getHasFocus()!==e.getSelection().getHasFocus()||!b("shallowEqual")(c,a)};d.render=function(){var a="_1p1v"+(this.props.className!=null?" "+this.props.className:"");return h.jsx("div",{className:"_1p1t"+(this.props.editorState.getSelection().getHasFocus()?" _1p1u":""),children:h.jsx("div",{className:a,id:this.props.accessibilityID,style:{whiteSpace:"pre-wrap"},children:this.props.text})})};return c}(h.Component);e.exports=a}),null);
__d("DraftEditor.react",["cx","invariant","DefaultDraftBlockRenderMap","DefaultDraftInlineStyle","DraftEditorCompositionHandler","DraftEditorContents.react","DraftEditorDragHandler","DraftEditorEditHandler","DraftEditorFlushControlled","DraftEditorPlaceholder.react","DraftEffects","EditorState","React","Scroll","Style","UserAgent","generateRandomKey","getDefaultKeyBinding","getScrollPosition","gkx","isHTMLElement","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=b("UserAgent").isBrowser("IE"),k=!j,l={edit:b("DraftEditorEditHandler"),composite:b("DraftEditorCompositionHandler"),drag:b("DraftEditorDragHandler"),cut:null,render:null},m=!1,n=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.render=function(){return null};c.componentDidMount=function(){this._update()};c.componentDidUpdate=function(){this._update()};c._update=function(){var a=this.props.editor;a._latestEditorState=this.props.editorState;a._blockSelectEvents=!0};return a}(i.Component);c=function(c){babelHelpers.inheritsLoose(d,c);function d(a){var d;d=c.call(this,a)||this;d._internalDrag=!1;d.state={contentsKey:0};d._handleEditorContainerRef=function(a){d.editorContainer=a,d.editor=a!==null?a.firstChild:null};d.focus=function(a){var c=d.props.editorState,e=c.getSelection().getHasFocus(),f=d.editor;if(!f)return;var g=b("Style").getScrollParent(f);a=a||b("getScrollPosition")(g);var i=a.x;a=a.y;b("isHTMLElement")(f)||h(0,2355);f.focus();g===window?window.scrollTo(i,a):b("Scroll").setTop(g,a);e||d.update(b("EditorState").forceSelection(c,c.getSelection()))};d.blur=function(){var a=d.editor;if(!a)return;b("isHTMLElement")(a)||h(0,2355);a.blur()};d.setMode=function(a){var b=d.props,c=b.onPaste,e=b.onCut;b=b.onCopy;var f=babelHelpers["extends"]({},l.edit);c&&(f.onPaste=c);e&&(f.onCut=e);b&&(f.onCopy=b);c=babelHelpers["extends"]({},l,{edit:f});d._handler=c[a]};d.exitCurrentMode=function(){d.setMode("edit")};d.restoreEditorDOM=function(a){b("DraftEditorFlushControlled")?b("DraftEditorFlushControlled")(function(){return d.setState({contentsKey:d.state.contentsKey+1},function(){d.focus(a)})}):d.setState({contentsKey:d.state.contentsKey+1},function(){d.focus(a)})};d.setClipboard=function(a){d._clipboard=a};d.getClipboard=function(){return d._clipboard};d.update=function(a){var c=d.props.onChange;d._latestEditorState=a;b("DraftEditorFlushControlled")?b("DraftEditorFlushControlled")(function(){return c(a)}):c(a)};d.onDragEnter=function(){d._dragCount++};d.onDragLeave=function(){d._dragCount--,d._dragCount===0&&d.exitCurrentMode()};d._blockSelectEvents=!1;d._clipboard=null;d._handler=null;d._dragCount=0;d._editorKey=a.editorKey||b("generateRandomKey")();d._placeholderAccessibilityID="placeholder-"+d._editorKey;d._latestEditorState=a.editorState;d._latestCommittedEditorState=a.editorState;d._onBeforeInput=d._buildHandler("onBeforeInput");d._onBlur=d._buildHandler("onBlur");d._onCharacterData=d._buildHandler("onCharacterData");d._onCompositionEnd=d._buildHandler("onCompositionEnd");d._onCompositionStart=d._buildHandler("onCompositionStart");d._onCopy=d._buildHandler("onCopy");d._onCut=d._buildHandler("onCut");d._onDragEnd=d._buildHandler("onDragEnd");d._onDragOver=d._buildHandler("onDragOver");d._onDragStart=d._buildHandler("onDragStart");d._onDrop=d._buildHandler("onDrop");d._onInput=d._buildHandler("onInput");d._onFocus=d._buildHandler("onFocus");d._onKeyDown=d._buildHandler("onKeyDown");d._onKeyPress=d._buildHandler("onKeyPress");d._onKeyUp=d._buildHandler("onKeyUp");d._onMouseDown=d._buildHandler("onMouseDown");d._onMouseUp=d._buildHandler("onMouseUp");d._onPaste=d._buildHandler("onPaste");d._onSelect=d._buildHandler("onSelect");d.getEditorKey=function(){return d._editorKey};return d}var e=d.prototype;e._buildHandler=function(a){var c=this;return function(d){if(!c.props.readOnly){var e=c._handler&&c._handler[a];e&&(b("DraftEditorFlushControlled")?b("DraftEditorFlushControlled")(function(){return e(c,d)}):e(c,d))}}};e._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()};e._renderPlaceholder=function(){if(this._showPlaceholder()){var a={accessibilityID:this._placeholderAccessibilityID,className:this.props.placeholderClassName,editorState:this.props.editorState,text:b("nullthrows")(this.props.placeholder),textAlignment:this.props.textAlignment};return i.jsx(b("DraftEditorPlaceholder.react"),babelHelpers["extends"]({},a))}return null};e._renderARIADescribedBy=function(){var a=this.props.ariaDescribedBy||"",b=this._showPlaceholder()?this._placeholderAccessibilityID:"";return a.replace("{{editor_id_placeholder}}",b)||void 0};e.render=function(){var a=this.props,c=a.blockRenderMap,d=a.blockRendererFn,e=a.blockStyleFn,f=a.customStyleFn,g=a.customStyleMap,h=a.editorState,j=a.preventScroll,l=a.readOnly,m=a.textAlignment;a=a.textDirectionality;m="_5rp7"+(m==="left"?" _5rp8":"")+(m==="right"?" _5rp9":"")+(m==="center"?" _5rpa":"");var o={outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},p=this.props.role||"textbox",q=p==="combobox"?!!this.props.ariaExpanded:null;c={blockRenderMap:c,blockRendererFn:d,blockStyleFn:e,customStyleMap:babelHelpers["extends"]({},b("DefaultDraftInlineStyle"),g),customStyleFn:f,editorKey:this._editorKey,editorState:h,preventScroll:j,textDirectionality:a};d=this.props.contentClassName!=null?this.props.contentClassName+" ":"";return i.jsxs("div",{className:m,children:[this._renderPlaceholder(),i.jsx("div",{className:"_5rpb",ref:this._handleEditorContainerRef,children:i.jsxs("div",{"aria-activedescendant":l?null:this.props.ariaActiveDescendantID,"aria-autocomplete":l?null:this.props.ariaAutoComplete,"aria-controls":l?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":l?null:q,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":l?null:this.props.ariaOwneeID,"aria-required":this.props.ariaRequired,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:d+((l?"":"notranslate")+" _5rpu"),contentEditable:!l,"data-testid":void 0,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseDown:this._onMouseDown,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:l?null:p,spellCheck:k&&this.props.spellCheck,style:o,suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex,children:[i.jsx(n,{editor:this,editorState:h}),i.createElement(b("DraftEditorContents.react"),babelHelpers["extends"]({},c,{key:"contents"+this.state.contentsKey}))]})})]})};e.componentDidMount=function(){this._blockSelectEvents=!1,!m&&b("gkx")("676845")&&(m=!0,b("DraftEffects").initODS()),this.setMode("edit"),j&&(!this.editor?a.execCommand("AutoUrlDetect",!1,!1):this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1))};e.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState};return d}(i.Component);c.defaultProps={ariaDescribedBy:"{{editor_id_placeholder}}",blockRenderMap:b("DefaultDraftBlockRenderMap"),blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:b("getDefaultKeyBinding"),readOnly:!1,spellCheck:!1,stripPastedStyles:!1};e.exports=c}),null);
__d("DraftEditorTextNode.react",["invariant","React","UserAgent","isElement"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("UserAgent").isBrowser("IE <= 11");function j(a){return i?a.textContent==="\n":a.tagName==="BR"}var k=function(a){return i?h.jsx("span",{"data-text":"true",ref:a,children:"\n"},"A"):h.jsx("br",{"data-text":"true",ref:a},"A")},l=function(a){return i?h.jsx("span",{"data-text":"true",ref:a,children:"\n"},"B"):h.jsx("br",{"data-text":"true",ref:a},"B")};a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.$1=!1;return b}var d=c.prototype;d.shouldComponentUpdate=function(a){var c=this.$2,d=a.children==="";b("isElement")(c)||g(0,6158);c=c;return d?!j(c):c.textContent!==a.children};d.componentDidMount=function(){this.$1=!this.$1};d.componentDidUpdate=function(){this.$1=!this.$1};d.render=function(){var a=this;return this.props.children===""?this.$1?k(function(b){return a.$2=b}):l(function(b){return a.$2=b}):h.jsx("span",{"data-text":"true",ref:function(b){return a.$2=b},children:this.props.children},this.$1?"A":"B")};return c}(h.Component);e.exports=a}),null);
__d("setDraftEditorSelection",["invariant","DraftEffects","DraftJsDebugLogging","UserAgent","containsNode","getActiveElement","getCorrectDocumentFromNode","isElement"],(function(a,b,c,d,e,f,g){"use strict";var h=b("UserAgent").isBrowser("IE");function i(a,c){if(!a)return"[empty]";a=j(a,c);if(a.nodeType===Node.TEXT_NODE)return a.textContent;b("isElement")(a)||g(0,3425);c=a;return c.outerHTML}function j(a,c){var d=c!==void 0?c(a):[];if(a.nodeType===Node.TEXT_NODE){var e=a.textContent.length;return b("getCorrectDocumentFromNode")(a).createTextNode("[text "+e+(d.length?" | "+d.join(", "):"")+"]")}e=a.cloneNode();e.nodeType===1&&d.length&&e.setAttribute("data-labels",d.join(", "));d=a.childNodes;for(var a=0;a<d.length;a++)e.appendChild(j(d[a],c));return e}function k(a,c){a=a;var d=a;while(a)if(b("isElement")(a)&&d.hasAttribute("contenteditable"))return i(a,c);else a=a.parentNode,d=a;return"Could not find contentEditable parent of node"}function l(a){return a.nodeValue===null?a.childNodes.length:a.nodeValue.length}function a(a,c,d,e,f){var g=b("getCorrectDocumentFromNode")(c);if(!b("containsNode")(g.documentElement,c))return;g=g.defaultView.getSelection();var h=a.getAnchorKey(),i=a.getAnchorOffset(),j=a.getFocusKey(),k=a.getFocusOffset(),l=a.getIsBackward();if(!g.extend&&l){var o=h,p=i;h=j;i=k;j=o;k=p;l=!1}o=h===d&&e<=i&&f>=i;p=j===d&&e<=k&&f>=k;if(o&&p){g.removeAllRanges();n(g,c,i-e,a);m(g,c,k-e,a);return}if(!l)o&&(g.removeAllRanges(),n(g,c,i-e,a)),p&&m(g,c,k-e,a);else{p&&(g.removeAllRanges(),n(g,c,k-e,a));if(o){h=g.focusNode;j=g.focusOffset;g.removeAllRanges();n(g,c,i-e,a);m(g,h,j,a)}}}function m(a,c,d,e){var f=b("getActiveElement")(),g=a.extend;if(g&&c!=null&&b("containsNode")(f,c)){d>l(c)&&b("DraftJsDebugLogging").logSelectionStateFailure({anonymizedDom:k(c),extraParams:JSON.stringify({offset:d}),selectionState:JSON.stringify(e.toJS())});g=c===a.focusNode;try{a.rangeCount>0&&a.extend&&a.extend(c,d)}catch(h){b("DraftJsDebugLogging").logSelectionStateFailure({anonymizedDom:k(c,function(b){var c=[];b===f&&c.push("active element");b===a.anchorNode&&c.push("selection anchor node");b===a.focusNode&&c.push("selection focus node");return c}),extraParams:JSON.stringify({activeElementName:f?f.nodeName:null,nodeIsFocus:c===a.focusNode,nodeWasFocus:g,selectionRangeCount:a.rangeCount,selectionAnchorNodeName:a.anchorNode?a.anchorNode.nodeName:null,selectionAnchorOffset:a.anchorOffset,selectionFocusNodeName:a.focusNode?a.focusNode.nodeName:null,selectionFocusOffset:a.focusOffset,message:h?""+h:null,offset:d},null,2),selectionState:JSON.stringify(e.toJS(),null,2)});throw h}}else if(c&&a.rangeCount>0){g=a.getRangeAt(0);g.setEnd(c,d);a.addRange(g.cloneRange())}}function n(a,c,d,e){var f=b("getCorrectDocumentFromNode")(c).createRange();d>l(c)&&(b("DraftJsDebugLogging").logSelectionStateFailure({anonymizedDom:k(c),extraParams:JSON.stringify({offset:d}),selectionState:JSON.stringify(e.toJS())}),b("DraftEffects").handleExtensionCausedError());f.setStart(c,d);if(h)try{a.addRange(f)}catch(a){}else a.addRange(f)}e.exports={setDraftEditorSelection:a,addFocusToSelection:m}}),null);
__d("DraftEditorLeaf.react",["invariant","DraftEditorTextNode.react","React","isHTMLBRElement","setDraftEditorSelection"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("setDraftEditorSelection").setDraftEditorSelection;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.$1=function(){var a=this.props.selection;if(a==null||!a.getHasFocus())return;var c=this.props,d=c.block,e=c.start;c=c.text;d=d.getKey();c=e+c.length;if(!a.hasEdgeWithin(d,e,c))return;var f=this.leaf;f||g(0,5590);var h=f.firstChild;h||g(0,5591);var j;h.nodeType===Node.TEXT_NODE?j=h:b("isHTMLBRElement")(h)?j=f:(j=h.firstChild,j||g(0,5592));i(a,j,d,e,c)};d.shouldComponentUpdate=function(a){var b=this.leaf;b||g(0,5593);b=b.textContent!==a.text||a.styleSet!==this.props.styleSet||a.forceSelection;return b};d.componentDidUpdate=function(){this.$1()};d.componentDidMount=function(){this.$1()};d.render=function(){var a=this,c=this.props.block,d=this.props.text;d.endsWith("\n")&&this.props.isLast&&(d+="\n");var e=this.props,f=e.customStyleMap,g=e.customStyleFn,i=e.offsetKey;e=e.styleSet;var j=e.reduce(function(a,b){var c={};b=f[b];b!==void 0&&a.textDecoration!==b.textDecoration&&(c.textDecoration=[a.textDecoration,b.textDecoration].join(" ").trim());return Object.assign(a,b,c)},{});if(g){g=g(e,c);j=Object.assign(j,g)}return h.jsx("span",{"data-offset-key":i,ref:function(b){return a.leaf=b},style:j,children:h.jsx(b("DraftEditorTextNode.react"),{children:d})})};return c}(h.Component);e.exports=a}),null);
__d("DraftEditorBlock.react",["cx","invariant","DraftEditorLeaf.react","DraftOffsetKey","React","Scroll","Style","UnicodeBidi","UnicodeBidiDirection","getElementPosition","getScrollPosition","getViewportDimensions","isHTMLElement","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React"),j=10,k=function(a,b){return a.getAnchorKey()===b||a.getFocusKey()===b};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){return this.props.block!==a.block||this.props.tree!==a.tree||this.props.direction!==a.direction||k(a.selection,a.block.getKey())&&a.forceSelection};d.componentDidMount=function(){if(this.props.preventScroll)return;var a=this.props.selection,c=a.getEndKey();if(!a.getHasFocus()||c!==this.props.block.getKey())return;a=this.$1;if(a==null)return;c=b("Style").getScrollParent(a);var d=b("getScrollPosition")(c);if(c===window){var e=b("getElementPosition")(a);e=e.y+e.height;var f=b("getViewportDimensions")().height;e=e-f;e>0&&window.scrollTo(d.x,d.y+e+j)}else{b("isHTMLElement")(a)||h(0,4852);f=a.offsetHeight+a.offsetTop;a=c.offsetTop+c.offsetHeight;a=a+d.y;e=f-a;e>0&&b("Scroll").setTop(c,b("Scroll").getTop(c)+e+j)}};d.$2=function(){var a=this,c=this.props.block,d=c.getKey(),e=c.getText(),f=this.props.tree.size-1,g=k(this.props.selection,d);return this.props.tree.map(function(h,j){var k=h.get("leaves");if(k.size===0)return null;var l=k.size-1,m=k.map(function(k,m){var n=b("DraftOffsetKey").encode(d,j,m),h=k.get("start");k=k.get("end");return i.jsx(b("DraftEditorLeaf.react"),{offsetKey:n,block:c,start:h,selection:g?a.props.selection:null,forceSelection:a.props.forceSelection,text:e.slice(h,k),styleSet:c.getInlineStyleAt(h),customStyleMap:a.props.customStyleMap,customStyleFn:a.props.customStyleFn,isLast:j===f&&m===l},n)}).toArray(),n=h.get("decoratorKey");if(n==null)return m;if(!a.props.decorator)return m;var o=b("nullthrows")(a.props.decorator),p=o.getComponentForKey(n);if(!p)return m;o=o.getPropsForKey(n);n=b("DraftOffsetKey").encode(d,j,0);var q=k.first().get("start");k=k.last().get("end");var r=e.slice(q,k);h=c.getEntityAt(h.get("start"));var s=b("UnicodeBidiDirection").getHTMLDirIfDifferent(b("UnicodeBidi").getDirection(r),a.props.direction);r={contentState:a.props.contentState,decoratedText:r,dir:s,start:q,end:k,blockKey:d,entityKey:h,offsetKey:n};return i.createElement(p,babelHelpers["extends"]({},o,r,{key:n}),m)}).toArray()};d.render=function(){var a=this,b=this.props,c=b.direction;b=b.offsetKey;c="_1mf"+(c==="LTR"?" _1mj":"")+(c==="RTL"?" _1mk":"");return i.jsx("div",{"data-offset-key":b,className:c,ref:function(b){return a.$1=b},children:this.$2()})};return c}(i.Component);e.exports=a}),null);
__d("DraftEditorContents-core.react",["cx","DraftEditorBlock.react","DraftOffsetKey","React","joinClasses","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=function(a,b,c,d){return(a==="unordered-list-item"?"_3kpz":"")+(a==="ordered-list-item"?" _3kp_":"")+(c?" _3kq0":"")+(b===0?" _3kq1":"")+(b===1?" _3kq2":"")+(b===2?" _3kq3":"")+(b===3?" _3kq4":"")+(b>=4?" _3kq5":"")+(d==="LTR"?" _3kq6":"")+(d==="RTL"?" _3kq7":"")};a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a){var b=this.props.editorState;a=a.editorState;var c=b.getDirectionMap(),d=a.getDirectionMap();if(c!==d)return!0;c=b.getSelection().getHasFocus();d=a.getSelection().getHasFocus();if(c!==d)return!0;c=a.getNativelyRenderedContent();d=b.isInCompositionMode();var e=a.isInCompositionMode();if(b===a||c!==null&&a.getCurrentContent()===c||d&&e)return!1;c=b.getCurrentContent();var f=a.getCurrentContent();b=b.getDecorator();var g=a.getDecorator();return d!==e||c!==f||b!==g||a.mustForceSelection()};d.render=function(){var a=this.props,c=a.blockRenderMap,d=a.blockRendererFn,e=a.blockStyleFn,f=a.customStyleMap,g=a.customStyleFn,j=a.editorState,k=a.editorKey,l=a.preventScroll;a=a.textDirectionality;var m=j.getCurrentContent(),n=j.getSelection(),o=j.mustForceSelection(),p=j.getDecorator(),q=b("nullthrows")(j.getDirectionMap()),r=m.getBlocksAsArray(),s=[],t=new Set(),u=null,v=null;for(var w=0;w<r.length;w++){var x=r[w],y=x.getKey(),z=x.getType(),A=d(x),B=void 0,C=void 0,D=void 0;A&&(B=A.component,C=A.props,D=A.editable);A=a?a:q.get(y);var E=b("DraftOffsetKey").encode(y,0,0);C={contentState:m,block:x,blockProps:C,blockStyleFn:e,customStyleMap:f,customStyleFn:g,decorator:p,direction:A,forceSelection:o,offsetKey:E,preventScroll:l,selection:n,tree:j.getBlockTree(y)};var F=c.get(z)||c.get("unstyled"),G=F.wrapper;F=F.element||c.get("unstyled").element;var H=x.getDepth(),I="";e&&(I=e(x));if(F==="li"){var J=v!==G||u===null||H>u||H<u&&!t.has(H);I=b("joinClasses")(I,i(z,H,J,A))}t.add(H);z=B||b("DraftEditorBlock.react");J={className:I,"data-block":!0,"data-editor":k,"data-offset-key":E,key:y};D!==void 0&&(J=babelHelpers["extends"]({},J,{contentEditable:D,suppressContentEditableWarning:!0}));A=h.createElement(F,J,h.createElement(z,babelHelpers["extends"]({},C,{key:y})));s.push({block:A,wrapperTemplate:G,key:y,offsetKey:E});G?u=x.getDepth():u=null;v=G}H=[];for(var B=0;B<s.length;){I=s[B];if(I.wrapperTemplate){D=[];do D.push(s[B].block),B++;while(B<s.length&&s[B].wrapperTemplate===I.wrapperTemplate);F=h.cloneElement(I.wrapperTemplate,{key:I.key+"-wrap","data-offset-key":I.offsetKey},D);H.push(F)}else H.push(I.block),B++}return h.jsx("div",{"data-contents":"true",children:H})};return c}(h.Component);e.exports=a}),null);
__d("CompositeDraftDecorator",["immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List,h=".";a=function(){function a(a){this.$1=a.slice()}var b=a.prototype;b.isCompositionOfDecorators=function(a){if(this.$1.length!==a.length)return!1;for(var b=0;b<a.length;b++)if(this.$1[b]!==a[b])return!1;return!0};b.getDecorations=function(a,b){var c=Array(a.getText().length).fill(null);this.$1.forEach(function(d,e){var f=0;d=d.strategy;function g(a,b){i(c,a,b)&&(j(c,a,b,e+h+f),f++)}d(a,g,b)});return g(c)};b.getComponentForKey=function(a){a=parseInt(a.split(h)[0],10);return this.$1[a].component};b.getPropsForKey=function(a){a=parseInt(a.split(h)[0],10);return this.$1[a].props};return a}();function i(a,b,c){for(var b=b;b<c;b++)if(a[b]!=null)return!1;return!0}function j(a,b,c,d){for(var b=b;b<c;b++)a[b]=d}e.exports=a}),null);
__d("CometUFICommentActorConstituentBadge_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentActorConstituentBadge_comment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_see_constituent_badge_upsell",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_token",storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"share_fbid",storageKey:null},{alias:null,args:null,concreteType:"PoliticalFigureData",kind:"LinkedField",name:"political_figure_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"PoliticalOffice",kind:"LinkedField",name:"political_office",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"generic_title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"best_profile",plural:!1,selections:[a],storageKey:null}],storageKey:null}],storageKey:null}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentActorGroupMemberAuthorBadge_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"feedLocation"}],kind:"Fragment",metadata:null,name:"CometUFICommentActorGroupMemberAuthorBadge_comment",selections:[{alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[{alias:"author_badge",args:[{kind:"Variable",name:"feed_location",variableName:"feedLocation"},{kind:"Literal",name:"is_comet",value:!0},{kind:"Literal",name:"whitelist",value:"ORIGINAL_POST_AUTHOR"}],concreteType:"GroupCommentInfoCommentMemberBadgesConnection",kind:"LinkedField",name:"comment_member_badges",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommentInfoCommentMemberBadgesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"RenderableGroupMemberTag",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"badge_name",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"GroupsCometMemberAuthorBadgeHovercardPopover_comment"}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentActorGroupMemberBadge_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"feedLocation"}],kind:"Fragment",metadata:null,name:"CometUFICommentActorGroupMemberBadge_comment",selections:[{alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupMembership",kind:"LinkedField",name:"author_membership",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"feed_location",variableName:"feedLocation"}],concreteType:"RenderableGroupMemberTag",kind:"LinkedField",name:"top_member_tag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"tag_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"member_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"group_id",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"small_icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentErrorFooter_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentErrorFooter_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error_code",storageKey:null}]}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFIPinCommentMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"PinnedCommentEventCreateResponsePayload",kind:"LinkedField",name:"pinned_comment_event_create",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIPinCommentMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIPinCommentMutation",selections:b},params:{id:"3123643284364920",metadata:{},name:"CometUFIPinCommentMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFIUnpinCommentMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"UnpinnedCommentEventCreateResponsePayload",kind:"LinkedField",name:"unpinned_comment_event_create",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIUnpinCommentMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIUnpinCommentMutation",selections:b},params:{id:"3405642312783245",metadata:{},name:"CometUFIUnpinCommentMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("UFI2BanActorMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FeedbackPageBanResponsePayload",kind:"LinkedField",name:"feedback_page_ban",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"UFI2BanActorMutation",selections:b,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"UFI2BanActorMutation",selections:b},params:{id:"2353097554735989",metadata:{},name:"UFI2BanActorMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("UFI2CreateCommentMutation.graphql",[],(function(a,aa,ba,ca,da,ea){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"UFI2CommentsProvider_commentsKey"},aa={defaultValue:!0,kind:"LocalArgument",name:"containerIsFeedStory"},ba={defaultValue:!1,kind:"LocalArgument",name:"containerIsLiveStory"},ca={defaultValue:!1,kind:"LocalArgument",name:"containerIsTahoe"},da={defaultValue:!1,kind:"LocalArgument",name:"containerIsWorkplace"},ea={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextEnableComment"},fa={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAdPreview"},ga={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAggregatedShare"},ha={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsStorySet"},ia={defaultValue:null,kind:"LocalArgument",name:"displayCommentsFeedbackContext"},ja={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},ka={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},la={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},ma={defaultValue:!1,kind:"LocalArgument",name:"includeNestedComments"},na={defaultValue:null,kind:"LocalArgument",name:"input"},oa={defaultValue:null,kind:"LocalArgument",name:"isComet"},pa={defaultValue:null,kind:"LocalArgument",name:"scale"},qa={defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"},ra=[{kind:"Variable",name:"data",variableName:"input"}],sa={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c=[b],ta={alias:null,args:null,concreteType:"LivingRoomContentItem",kind:"LinkedField",name:"living_room_content_item",plural:!1,selections:c,storageKey:null},ua=[{kind:"Literal",name:"if_style",value:"photo"}],va={alias:"threading_depth",args:null,kind:"ScalarField",name:"depth",storageKey:null},wa={alias:null,args:null,kind:"ScalarField",name:"detection_analytics_enabled",storageKey:null},xa={alias:null,args:null,concreteType:"PrimerAttributes",kind:"LinkedField",name:"survey_primer_attributes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ajaxify",storageKey:null}],storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},ya={alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},e={kind:"Variable",name:"scale",variableName:"scale"},za=[e],f={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},Aa=[f,g,h],i={kind:"InlineFragment",selections:c,type:"Node",abstractKey:"__isNode"},Ba={kind:"InlineFragment",selections:c,type:"ComposerMediaTemplatePreview",abstractKey:null},Ca={kind:"InlineFragment",selections:c,type:"GenericAttachmentMedia",abstractKey:null},Da={kind:"InlineFragment",selections:c,type:"MontageImage",abstractKey:null},Ea={kind:"InlineFragment",selections:c,type:"MontageVideo",abstractKey:null},j={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},Fa={kind:"TypeDiscriminator",abstractKey:"__isActor"},k=[f],Ga={alias:"profile_picture_depth_0",args:[{kind:"Literal",name:"height",value:32},e,{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:k,storageKey:null},Ha=[{kind:"Literal",name:"height",value:20},e,{kind:"Literal",name:"width",value:20}],Ia={alias:"profile_picture_depth_1_legacy",args:Ha,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:k,storageKey:null},Ja={alias:"www_url",args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},l=[Ja],Ka={kind:"InlineFragment",selections:l,type:"Application",abstractKey:null},La={kind:"InlineFragment",selections:l,type:"Event",abstractKey:null},Ma={kind:"InlineFragment",selections:l,type:"Group",abstractKey:null},Na={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},Oa={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null},Pa={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},Qa={alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},n=[m],Ra={kind:"InlineFragment",selections:n,type:"Entity",abstractKey:"__isEntity"},Sa={alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},Ta={alias:null,args:null,kind:"ScalarField",name:"can_viewer_disable_preview",storageKey:null},Ua={alias:null,args:null,kind:"ScalarField",name:"is_hidden_by_content_owner",storageKey:null},Va={alias:null,args:null,kind:"ScalarField",name:"is_author_banned_by_content_owner",storageKey:null},Wa={alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null},Xa={alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},Ya={alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null},o=[d,b],Za={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:o,storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},$a={alias:null,args:null,kind:"ScalarField",name:"count_reduced",storageKey:null},ab={alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null},bb={alias:null,args:null,kind:"ScalarField",name:"should_show_top_reactions",storageKey:null},q={kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"},r=[q],s={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},cb={alias:null,args:r,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[s,b],storageKey:null},db={alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[s,b,{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'},eb={kind:"InlineFragment",selections:l,type:"Page",abstractKey:null},fb={kind:"InlineFragment",selections:l,type:"User",abstractKey:null},gb={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:c,storageKey:null};s={alias:null,args:null,concreteType:"FeedbackReaction",kind:"LinkedField",name:"supported_reactions",plural:!0,selections:[s],storageKey:null};var hb={alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:c,storageKey:null};q={alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},q],kind:"ScalarField",name:"can_viewer_comment",storageKey:null};var ib={alias:null,args:r,kind:"ScalarField",name:"can_viewer_react",storageKey:null},jb={alias:null,args:r,kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},kb={alias:null,args:null,concreteType:"PublicConversationsExperimentContext",kind:"LinkedField",name:"public_conversations_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"comment_vote_ui_version",storageKey:null}],storageKey:null},lb={alias:"comment_count",args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null},t=[p],mb={alias:"toplevel_comment_count",args:[{kind:"Literal",name:"orderby",value:"toplevel"}],concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:t,storageKey:'top_level_comments(orderby:"toplevel")'},nb={alias:null,args:null,kind:"ScalarField",name:"subscription_target_id",storageKey:null},ob={kind:"Variable",name:"feed_context_enable_comment",variableName:"displayCommentsContextEnableComment"},u={kind:"Variable",name:"feed_context_fb_feed_location",variableName:"feedLocation"},pb={kind:"Variable",name:"feed_context_is_ad_preview",variableName:"displayCommentsContextIsAdPreview"},v={kind:"Variable",name:"feed_context_is_aggregated_share",variableName:"displayCommentsContextIsAggregatedShare"},qb={kind:"Variable",name:"feed_context_is_story_set",variableName:"displayCommentsContextIsStorySet"},w={kind:"Variable",name:"feedback_context",variableName:"displayCommentsFeedbackContext"},rb={kind:"Variable",name:"feedback_source",variableName:"feedbackSource"},sb={kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID"},tb={kind:"Literal",name:"is_initial_fetch",value:!0},ub=[ob,u,pb,v,qb,w,rb,sb,tb,{kind:"Variable",name:"is_top_level",variableName:"includeNestedComments"}],vb={alias:null,args:null,kind:"ScalarField",name:"after_count",storageKey:null},wb={alias:null,args:null,kind:"ScalarField",name:"before_count",storageKey:null},xb={alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},yb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[d,b,j,Fa,Ga,Ia,Ka,La,Ma,eb,fb,Ra],storageKey:null},zb={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[Ya],storageKey:null},Ab={alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[p,$a],storageKey:null},Bb={alias:null,args:r,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:o,storageKey:null};ob=[ob,u,pb,v,qb,w,rb,sb,tb,{kind:"Literal",name:"is_top_level",value:!1}];u={kind:"Variable",name:"feed_location",variableName:"feedLocation"};pb={alias:"is_author_with_member_profile_legacy",args:[u,{kind:"Variable",name:"is_comet",variableName:"isComet"}],kind:"ScalarField",name:"is_author_with_member_profile",storageKey:null};v={alias:null,args:null,kind:"ScalarField",name:"group_id",storageKey:null};qb={alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[pb,v],storageKey:null};w=[{kind:"Literal",name:"translation_type",value:"ORIGINAL"}];rb={alias:null,args:null,kind:"ScalarField",name:"translation_type",storageKey:null};sb=[{kind:"Literal",name:"delight_surface",value:"COMMENT"}];tb={alias:null,args:sb,concreteType:"TextDelightStylePair",kind:"LinkedField",name:"delight_styles",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:'delight_styles(delight_surface:"COMMENT")'};var x={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},Cb={alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'};l={condition:"isComet",kind:"Condition",passingValue:!1,selections:l};var Db={alias:null,args:null,kind:"ScalarField",name:"can_skip_redirect",storageKey:null},Eb={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:c,storageKey:null}],type:"VideoTimeIndex",abstractKey:null},Fb={alias:null,args:null,kind:"ScalarField",name:"entity_is_weak_reference",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},Gb={alias:null,args:w,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[d,rb,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DelightAtRange",kind:"LinkedField",name:"delight_ranges",plural:!0,selections:[d,{alias:null,args:null,concreteType:"TextDelightCampaign",kind:"LinkedField",name:"campaign",plural:!1,selections:[tb,b],storageKey:null},x,y],storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[d,{condition:"isComet",kind:"Condition",passingValue:!0,selections:[Cb]},l,i,{kind:"InlineFragment",selections:[Db],type:"ExternalUrl",abstractKey:null},Eb],storageKey:null},Fb,x,y],storageKey:null},z],type:"TextWithEntities",abstractKey:null}],storageKey:'preferred_body(translation_type:"ORIGINAL")'},Hb={alias:null,args:[{kind:"Literal",name:"supported",value:["WWWCommentVerticalSideVotingLayoutRenderer"]}],concreteType:null,kind:"LinkedField",name:"www_layout_renderer",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{documentName:"UFI2Comment_comment",fragmentName:"UFI2CommentVerticalSideVotingLayout_layoutRenderer",fragmentPropName:"layoutRenderer",kind:"ModuleImport"}],type:"WWWCommentVerticalSideVotingLayoutRenderer",abstractKey:null}],storageKey:'www_layout_renderer(supported:["WWWCommentVerticalSideVotingLayoutRenderer"])'},Ib={alias:"sub_reply_parent_above_comment_author_context",args:[{kind:"Literal",name:"type",value:"AUTHOR_CONTEXT_ABOVE_COMMENT"}],concreteType:null,kind:"LinkedField",name:"sub_reply_parent_context",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{documentName:"UFI2CommentRow_comment",fragmentName:"UFI2SubReplyParentAboveCommentAuthorContext_subReplyParentContext",fragmentPropName:"subReplyParentContext",kind:"ModuleImport"}],type:"CommentSubReplyParentAboveCommentAuthorContext",abstractKey:null}],storageKey:'sub_reply_parent_context(type:"AUTHOR_CONTEXT_ABOVE_COMMENT")'},A=[{kind:"Literal",name:"type",value:"REPLY_PREVIEW_CONTEXT"}],Jb={alias:"sub_reply_parent_preview_context",args:A,concreteType:null,kind:"LinkedField",name:"sub_reply_parent_context",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{documentName:"UFI2CommentRow_comment__sub_reply_parent_preview_context",fragmentName:"UFI2CommentReplyParentPreview_subReplyParentContext",fragmentPropName:"subReplyParentContext",kind:"ModuleImport"}],type:"CommentSubReplyParentPreviewContext",abstractKey:null}],storageKey:'sub_reply_parent_context(type:"REPLY_PREVIEW_CONTEXT")'},Kb={alias:null,args:null,concreteType:"WorkAMAUFIAnsweredEventCommentModuleRenderer",kind:"LinkedField",name:"work_answered_event_comment_renderer",plural:!1,selections:[{documentName:"UFI2Comment_comment_work_answered_event_comment_renderer",fragmentName:"CometUFIAMABroadcastAnswerEventRow_data",fragmentPropName:"data",kind:"ModuleImport"}],storageKey:null},Lb={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[z,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[d,i],storageKey:null},Fb,x,y],storageKey:null}],storageKey:null},Mb={alias:null,args:null,kind:"ScalarField",name:"is_markdown_enabled",storageKey:null},Nb={alias:"can_comment",args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[q,b],storageKey:null},Ob=[h,{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},f,g],Pb={alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[{alias:null,args:za,concreteType:"Image",kind:"LinkedField",name:"favicon",plural:!1,selections:Ob,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followup_choices",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followup_question",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"main_choices",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"main_question",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"session_blob",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thankyou_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tessa_survey_config_id",storageKey:null}],storageKey:null},Qb={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"reply_parent_comment",plural:!1,selections:c,storageKey:null},Rb={alias:null,args:null,kind:"ScalarField",name:"is_created_from_subscription",storageKey:null},Sb={alias:null,args:null,kind:"ScalarField",name:"is_locally_composed",storageKey:null},Tb={alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},Ub={alias:null,args:null,kind:"ScalarField",name:"optimistic_error_code",storageKey:null},Vb={alias:null,args:null,kind:"ScalarField",name:"client_id",storageKey:null},Wb={alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null},Xb={kind:"ClientExtension",selections:[Rb,Sb,Tb,Ub,Vb,Wb,{alias:null,args:null,kind:"ScalarField",name:"reply_comment_parent_fbid",storageKey:null}]},Yb=[z],Zb={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"source",plural:!1,selections:Yb,storageKey:null},B={kind:"Literal",name:"height",value:396},C={kind:"Literal",name:"width",value:396};f=[h,f,g];var D={alias:null,args:null,kind:"ScalarField",name:"animated_image_attribution",storageKey:null},E={alias:null,args:null,concreteType:"ObjectionableContentInfo",kind:"LinkedField",name:"objectionable_content_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"categories",storageKey:null},{alias:null,args:null,concreteType:"ObjectionableContentWarningScreenText",kind:"LinkedField",name:"strings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blur_subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blur_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cover_media_link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"learn_more_desc",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"learn_more_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_media_desc",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uncover_media_link",storageKey:null}],storageKey:null}],storageKey:null};B={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[d,{alias:"gifAnimatedImage_396",args:[B,{kind:"Literal",name:"media_type",value:"image/gif"},e,C],concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:f,storageKey:null},{alias:"image_396",args:[B,e,{kind:"Literal",name:"sizing",value:"contain-fit"},C],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:f,storageKey:null},{alias:"webPAnimatedImage_396",args:[B,{kind:"Literal",name:"media_type",value:"image/webp"},e,C],concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:f,storageKey:null},{alias:"fallback_image",args:[{kind:"Literal",name:"height",value:98},e,{kind:"Literal",name:"width",value:98}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:f,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},{kind:"InlineFragment",selections:[b,D,E,g,h,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:k,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{condition:"isComet",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null}]}],type:"Video",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"media_id",args:null,kind:"ScalarField",name:"id",storageKey:null},D,b],type:"GenericAttachmentMedia",abstractKey:null},i,Ba,Da,Ea,{kind:"InlineFragment",selections:[E,ya,{alias:"massive_image",args:za,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[g,h],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:210},e,{kind:"Literal",name:"width",value:260}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:Aa,storageKey:null}],type:"Photo",abstractKey:null}],storageKey:null};C=[{alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"single_line_full_address",storageKey:null}],storageKey:null},b,j,{alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"latitude",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"longitude",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"overall_rating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price_range_description",storageKey:null},{alias:null,args:[{kind:"Literal",name:"size__height",value:60},{kind:"Literal",name:"size__width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:k,storageKey:"profile_picture(size__height:60,size__width:60)"},{alias:null,args:null,kind:"ScalarField",name:"top_category_name",storageKey:null},m];f={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[d,b,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_add_to_attachment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_remove_from_attachment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_add_suggested_to_attachment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_remove_suggested_from_attachment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_curate_attachment",storageKey:null},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"pending_places_for_attachment",plural:!0,selections:C,storageKey:null},{alias:null,args:null,concreteType:"CommentPlaceInfoToPlaceListItemsConnection",kind:"LinkedField",name:"place_list_items",plural:!1,selections:[{alias:null,args:null,concreteType:"PlaceListItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"recommendation_page",plural:!1,selections:C,storageKey:null},{alias:null,args:null,concreteType:"PageCtaPayload",kind:"LinkedField",name:"page_cta",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cta_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cta_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cta_icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web_destination_type",storageKey:null}],storageKey:null},b],storageKey:null}],storageKey:null}],type:"CommentPlaceInfo",abstractKey:null},{kind:"InlineFragment",selections:n,type:"ExternalUrl",abstractKey:null}],storageKey:null};D={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"style_infos",plural:!0,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"donation_comment_text",plural:!1,selections:[{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[d,m,i],storageKey:null},x,y],storageKey:null},z],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_donation_v2",storageKey:null}],type:"FundraiserForStoryDonationAttachmentStyleInfo",abstractKey:null},i],storageKey:null};E={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:Yb,storageKey:null};g={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"object_id",storageKey:null}],type:"ArticleContextActionLink",abstractKey:null}],storageKey:null};h={alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null};C={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null};n=[j,b];var F=[{kind:"Literal",name:"height",value:80},e,{kind:"Literal",name:"width",value:80}];F={alias:"sticker",args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},C,{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:n,storageKey:null},{alias:null,args:F,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:k,storageKey:null},{alias:"sticker_image",args:F,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:Aa,storageKey:null},{alias:"larger_sticker_image",args:[{kind:"Literal",name:"height",value:120},e,{kind:"Literal",name:"width",value:120}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:Aa,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sticker_type",storageKey:null}],type:"Sticker",abstractKey:null},i,Ba,Ca,Da,Ea],storageKey:null};var G={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[m,Zb,B,f,D,E,g,h,F,{alias:"style_type_renderer_blue",args:[{kind:"Literal",name:"supported",value:["StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer"]}],concreteType:null,kind:"LinkedField",name:"style_type_renderer",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{documentName:"UFI2CommentLazyLoadAttachmentContainer_attachment",fragmentName:"UFI2CommentTipJarPaymentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTipJarPaymentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"UFI2CommentLazyLoadAttachmentContainer_attachment",fragmentName:"UFI2CommentChatCommandAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentChatCommandStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"UFI2CommentLazyLoadAttachmentContainer_attachment",fragmentName:"UFI2CommentInstantGamesTournamentActivityAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesTournamentActivityStyleRenderer",abstractKey:null}],storageKey:'style_type_renderer(supported:["StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer"])'}],storageKey:null},H={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[{kind:"InlineFragment",selections:[Na,Pa],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[Na],type:"Page",abstractKey:null}],storageKey:null},I={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"parent_post_story",plural:!1,selections:c,storageKey:null},$b={alias:null,args:null,kind:"ScalarField",name:"upvote_downvote_total",storageKey:null},ac={alias:null,args:null,kind:"ScalarField",name:"viewer_comment_vote_state",storageKey:null},bc={alias:null,args:null,kind:"ScalarField",name:"work_ama_answer_status",storageKey:null},cc={alias:null,args:null,kind:"ScalarField",name:"can_viewer_share",storageKey:null},dc={alias:null,args:null,kind:"ScalarField",name:"can_viewer_upvote_downvote",storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"chat_to_buy",storageKey:null};t={alias:null,args:null,concreteType:"EditHistoryConnection",kind:"LinkedField",name:"edit_history",plural:!1,selections:t,storageKey:null};var K={alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[ab],storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},ec={alias:null,args:null,concreteType:"PageReplyableActivity",kind:"LinkedField",name:"activity",plural:!1,selections:[b,L],storageKey:null},fc={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},gc={alias:null,args:null,kind:"ScalarField",name:"permalink",storageKey:null},hc={alias:null,args:null,kind:"ScalarField",name:"has_reply_permission",storageKey:null},ic={alias:null,args:null,kind:"ScalarField",name:"should_show_private_reply_nux",storageKey:null},jc={alias:null,args:null,kind:"ScalarField",name:"user_can_private_reply",storageKey:null},kc={alias:null,args:null,kind:"ScalarField",name:"prefilled_content",storageKey:null},lc={alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},mc={alias:null,args:null,concreteType:"PageAdminActorInfo",kind:"LinkedField",name:"page_admin_actor_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"creator_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creator_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_uri",storageKey:null}],storageKey:null},nc={alias:null,args:null,kind:"ScalarField",name:"can_viewer_ban_user",storageKey:null},oc={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"viewer_acts_as_page",plural:!1,selections:c,storageKey:null},M={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[nc,b,oc],storageKey:null},pc={alias:null,args:null,concreteType:"PostTranslatability",kind:"LinkedField",name:"translatability_for_viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"source_dialect_name",storageKey:null}],storageKey:null},qc={alias:null,args:null,kind:"ScalarField",name:"translation_available_for_viewer",storageKey:null},N=[u],rc={alias:null,args:null,kind:"ScalarField",name:"badge_asset",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"badge_color",storageKey:null},sc={alias:null,args:null,kind:"ScalarField",name:"identity_badge_type",storageKey:null},tc={alias:null,args:null,kind:"ScalarField",name:"multiple_badge_asset",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"multiple_badge_asset_colored",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"serialized",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"badge_color_variant",storageKey:null},uc={documentName:"FeedStoryUFICommentBody_comment",fragmentName:"UFI2CommentIdentityBadges_identityBadge",fragmentPropName:"identityBadge",kind:"ModuleImport"},vc={alias:null,args:null,kind:"ScalarField",name:"can_see_constituent_badge_upsell",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"legacy_token",storageKey:null},wc={kind:"Literal",name:"is_comet",value:!0},xc={alias:null,args:null,kind:"ScalarField",name:"tag_type",storageKey:null},yc={alias:null,args:null,kind:"ScalarField",name:"member_id",storageKey:null},zc={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"small_icon",plural:!1,selections:k,storageKey:null},T={alias:"member_badges",args:[{kind:"Literal",name:"blacklist",value:"ORIGINAL_POST_AUTHOR"},u,wc],concreteType:"GroupCommentInfoCommentMemberBadgesConnection",kind:"LinkedField",name:"comment_member_badges",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommentInfoCommentMemberBadgesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"RenderableGroupMemberTag",kind:"LinkedField",name:"node",plural:!1,selections:[xc,yc,v,{alias:null,args:null,kind:"ScalarField",name:"argb_background_color",storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"dialog_url",storageKey:null},zc],storageKey:null}],storageKey:null}],storageKey:null},Ac=[u,wc,{kind:"Literal",name:"whitelist",value:"ORIGINAL_POST_AUTHOR"}],Bc={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"badge_name",plural:!1,selections:Yb,storageKey:null},U={alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[T,{alias:"author_badge",args:Ac,concreteType:"GroupCommentInfoCommentMemberBadgesConnection",kind:"LinkedField",name:"comment_member_badges",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommentInfoCommentMemberBadgesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"RenderableGroupMemberTag",kind:"LinkedField",name:"node",plural:!1,selections:[Bc],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Cc={alias:null,args:null,kind:"ScalarField",name:"has_constituent_badge",storageKey:null};A={alias:"sub_reply_parent_preview_context",args:A,concreteType:null,kind:"LinkedField",name:"sub_reply_parent_context",plural:!1,selections:[d],storageKey:'sub_reply_parent_context(type:"REPLY_PREVIEW_CONTEXT")'};var Dc={alias:null,args:null,kind:"ScalarField",name:"is_author_non_coworker",storageKey:null},Ec={alias:null,args:null,kind:"ScalarField",name:"is_author_bot",storageKey:null},Fc={alias:null,args:null,kind:"ScalarField",name:"is_author_original_poster",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"is_the_comment_on_work_knowledge",storageKey:null};n={alias:null,args:null,concreteType:"InternQASyncedAnswerData",kind:"LinkedField",name:"synced_intern_qa_answer",plural:!1,selections:[fc,{alias:null,args:null,kind:"ScalarField",name:"activity_uri",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"last_editor",plural:!1,selections:n,storageKey:null}],storageKey:null};var W={condition:"containerIsWorkplace",kind:"Condition",passingValue:!0,selections:[Dc,Ec,Fc,V,n]},Gc={condition:"containerIsFeedStory",kind:"Condition",passingValue:!0,selections:[G,H,I,$b,ac,bc,cc,dc,J,t,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[s,hb,K,{alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"page_private_reply",plural:!1,selections:[ec,fc,gb,gc,hc,ic,jc,kc,lc],storageKey:null},ib,kb,nb],storageKey:null},mc,M,{alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"private_reply_context",plural:!1,selections:[gb,fc],storageKey:null},pc,qc,m,{alias:null,args:N,concreteType:"IdentityBadge",kind:"LinkedField",name:"identity_badges_web",plural:!0,selections:[rc,O,sc,tc,P,z,Q,R,uc],storageKey:null},vc,S,U,Cc,A,W]},Hc={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"first_name",storageKey:null}],type:"User",abstractKey:null},Ic={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[d,j,b,Hc],storageKey:null},Jc={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[s,hb,K,ib,nb],storageKey:null},Kc={alias:null,args:null,kind:"ScalarField",name:"written_while_video_was_live",storageKey:null},Lc={alias:null,args:null,kind:"ScalarField",name:"timestamp_in_video",storageKey:null},Mc={documentName:"LiveFeedStoryUFICommentBody_comment",fragmentName:"UFI2CommentIdentityBadges_identityBadge",fragmentPropName:"identityBadge",kind:"ModuleImport"},Nc={condition:"containerIsLiveStory",kind:"Condition",passingValue:!0,selections:[G,H,I,J,{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:[b,Ic],storageKey:null},t,Jc,mc,M,pc,qc,m,Kc,Lc,{alias:null,args:N,concreteType:"IdentityBadge",kind:"LinkedField",name:"identity_badges_web",plural:!0,selections:[rc,O,sc,tc,P,z,Q,R,Mc],storageKey:null},vc,S,U,Cc,W]},Oc={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:c,storageKey:null},Pc={documentName:"TahoeUFICommentBody_comment",fragmentName:"UFI2CommentIdentityBadges_identityBadge",fragmentPropName:"identityBadge",kind:"ModuleImport"};Ic={condition:"containerIsTahoe",kind:"Condition",passingValue:!0,selections:[G,H,I,J,{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:[b,Ic,Oc],storageKey:null},t,Jc,mc,M,pc,qc,m,Kc,Lc,{alias:null,args:N,concreteType:"IdentityBadge",kind:"LinkedField",name:"identity_badges_web",plural:!0,selections:[rc,O,sc,tc,P,z,Q,R,Pc],storageKey:null},vc,S,U,Cc,W]};Jc={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[m,Zb,B,f,D,E,g,h,F],storageKey:null};M={alias:null,args:w,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fb_workplace_commonmark_ast_serialized",storageKey:null}],type:"FBMarkdownCommentBody",abstractKey:null}],storageKey:'preferred_body(translation_type:"ORIGINAL")'};W={alias:null,args:null,concreteType:"WorkApprovalRequestInfoModuleRenderer",kind:"LinkedField",name:"work_approval_request_info",plural:!1,selections:[{documentName:"WorkplaceFeedStoryUFICommentActionLinks_comment",fragmentName:"WorkApprovalsUFICommentActions_data",fragmentPropName:"data",kind:"ModuleImport"}],storageKey:null};Zb={alias:null,args:null,kind:"ScalarField",name:"insights_data_point",storageKey:null};B={alias:null,args:null,concreteType:"FileMarker",kind:"LinkedField",name:"file_marker",plural:!1,selections:[C,{alias:null,args:null,kind:"ScalarField",name:"page_number",storageKey:null}],storageKey:null};f={alias:null,args:null,kind:"ScalarField",name:"used_writing_help_to_compose",storageKey:null};D={condition:"containerIsWorkplace",kind:"Condition",passingValue:!0,selections:[Jc,H,I,$b,ac,bc,dc,t,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[s,hb,K,ib],storageKey:null},M,pc,qc,m,W,vc,S,U,Cc,Zb,B,A,Dc,Ec,Fc,V,n,{kind:"ClientExtension",selections:[f]}]};E={alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_author_muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_report_comment_to_admin_with_tags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_block_author",storageKey:null}],storageKey:null};g={alias:null,args:null,kind:"ScalarField",name:"comment_menu_tooltip",storageKey:null};h={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comment_menu_items",plural:!0,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"show_remove_content_options",storageKey:null}],type:"CommentMenuItemDeleteAndRemoveMember",abstractKey:null}],storageKey:null};F={alias:null,args:null,kind:"ScalarField",name:"create_detailed_report_uri",storageKey:null};C={alias:null,args:null,kind:"ScalarField",name:"us_structured_reporting_enabled",storageKey:null};H={condition:"isComet",kind:"Condition",passingValue:!1,selections:[E,S,g,h,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[b,oc],storageKey:null},F,C]};K={alias:null,args:N,kind:"ScalarField",name:"should_show_comment_menu",storageKey:null};U={condition:"isComet",kind:"Condition",passingValue:!0,selections:[K]};Ha={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"highlighted_comments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[d,j,{alias:null,args:Ha,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:k,storageKey:null},b,{kind:"InlineFragment",selections:[Qa],type:"User",abstractKey:null}],storageKey:null},Xa,b],storageKey:null};var Qc={alias:null,args:null,kind:"ScalarField",name:"is_initially_expanded",storageKey:null},Rc={alias:null,args:null,kind:"ScalarField",name:"page_size",storageKey:null},Sc={alias:null,args:null,kind:"ScalarField",name:"reply_comment_order",storageKey:null},Tc={alias:null,args:null,kind:"ScalarField",name:"should_render_composer_preemptively",storageKey:null},Uc={alias:null,args:null,kind:"ScalarField",name:"comment_order",storageKey:null},Vc={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null}],storageKey:null},Wc={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"ufi2_connection_generation",storageKey:null}]},Xc=["feedback_source","focus_comment_id","comment_order"],Yc={kind:"Variable",name:"__dynamicKey",variableName:"UFI2CommentsProvider_commentsKey"},X={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:c,storageKey:null},Zc={alias:null,args:null,kind:"ScalarField",name:"share_fbid",storageKey:null};o={alias:null,args:null,concreteType:"PoliticalFigureData",kind:"LinkedField",name:"political_figure_data",plural:!1,selections:[j,{alias:null,args:null,concreteType:"PoliticalOffice",kind:"LinkedField",name:"political_office",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"generic_title",storageKey:null},b],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"best_profile",plural:!1,selections:o,storageKey:null},b],storageKey:null};var Y=[Zc,o],Z={condition:"containerIsFeedStory",kind:"Condition",passingValue:!0,selections:Y},$={condition:"containerIsLiveStory",kind:"Condition",passingValue:!0,selections:Y};Y={condition:"containerIsTahoe",kind:"Condition",passingValue:!0,selections:Y};var $c={condition:"containerIsFeedStory",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comment_share_context",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"tooltip_nux_text",storageKey:null}],storageKey:null},X,Z,$,Y]},ad=[hb,X,Z,$,Y],bd={condition:"containerIsWorkplace",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_marker",storageKey:null},X,Z,$,Y]};X=[X,Z,$,Y];Z={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[L],storageKey:null};$={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[Ra],storageKey:null};Y={alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[T],storageKey:null};L={kind:"ClientExtension",selections:[Rb,Tb,Ub,Wb,Sb]};T={condition:"containerIsWorkplace",kind:"Condition",passingValue:!0,selections:[V,n]};V={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[Hc],storageKey:null};return{fragment:{argumentDefinitions:[a,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa],kind:"Fragment",metadata:null,name:"UFI2CreateCommentMutation",selections:[{alias:null,args:ra,concreteType:"CommentCreateResponsePayload",kind:"LinkedField",name:"comment_create",plural:!1,selections:[{alias:null,args:null,concreteType:"CommentsEdge",kind:"LinkedField",name:"feedback_comment_edge",plural:!1,selections:[sa,{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[b,ta,{alias:"photo",args:ua,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"QuiltsCometCard_media"}],storageKey:null}],storageKey:'attachments(if_style:"photo")'},va,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{args:[{kind:"Variable",name:"includeNestedComments",variableName:"includeNestedComments"}],kind:"FragmentSpread",name:"UFI2CommentsList_feedback"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"UFI2Comment_comment"},{args:null,kind:"FragmentSpread",name:"CometUFIComment_comment"},{args:null,kind:"FragmentSpread",name:"UFI2CommentEditor_comment"}],storageKey:null}],storageKey:null},wa,xa],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[ia,ea,fa,ga,ha,ja,ka,la,ma,na,aa,ba,da,ca,pa,oa,qa,a],kind:"Operation",name:"UFI2CreateCommentMutation",selections:[{alias:null,args:ra,concreteType:"CommentCreateResponsePayload",kind:"LinkedField",name:"comment_create",plural:!1,selections:[{alias:null,args:null,concreteType:"CommentsEdge",kind:"LinkedField",name:"feedback_comment_edge",plural:!1,selections:[sa,{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[b,ta,{alias:"photo",args:ua,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[d,{kind:"TypeDiscriminator",abstractKey:"__isMedia"},{alias:null,args:null,concreteType:"ComputerVisionInfo",kind:"LinkedField",name:"computer_vision_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[ya,b],storageKey:null},b],storageKey:null},{alias:"backgroundImage",args:za,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:Aa,storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"color_choice_algorithm",value:"PLACEHOLDER_V1"}],kind:"ScalarField",name:"accent_color",storageKey:'accent_color(color_choice_algorithm:"PLACEHOLDER_V1")'}],type:"Photo",abstractKey:null},i,Ba,Ca,Da,Ea],storageKey:null}],storageKey:'attachments(if_style:"photo")'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[d,b,j,Fa,Ga,Ia,{alias:"profile_picture_depth_1",args:[{kind:"Literal",name:"height",value:24},e,{kind:"Literal",name:"width",value:24}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:k,storageKey:null},Ka,La,Ma,{kind:"InlineFragment",selections:[Ja,Na,m],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[Ja,Oa,Na,Pa,m,Qa,{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},Ra],storageKey:null},Sa,Ta,Ua,Va,Wa,Xa,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[Ya,{alias:null,args:[{kind:"Literal",name:"supported",value:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentQuiltImageStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentStickerAvatarStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentPageInCommentStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer","StoryAttachmentInstantGamesUpdateCommentStyleRenderer","StoryAttachmentSubscriptionGiftStyleRenderer"]}],concreteType:null,kind:"LinkedField",name:"style_type_renderer",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentAnimatedImageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnimatedImageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDonationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentFallbackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFallbackStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentQuiltImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentQuiltImageStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAvatarAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerAvatarStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAutoplayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoAutoplayStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentTipJarPaymentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTipJarPaymentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPlaceInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommentPlaceInfoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentChatCommandAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentChatCommandStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPageInCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageInCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesTournamentActivityAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesTournamentActivityStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesUpdateCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesUpdateCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFISubscriptionGiftingAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSubscriptionGiftStyleRenderer",abstractKey:null}],storageKey:'style_type_renderer(supported:["StoryAttachmentAnimatedImageShareStyleRenderer","StoryAttachmentDonationStyleRenderer","StoryAttachmentFallbackStyleRenderer","StoryAttachmentPhotoStyleRenderer","StoryAttachmentQuiltImageStyleRenderer","StoryAttachmentStickerStyleRenderer","StoryAttachmentStickerAvatarStyleRenderer","StoryAttachmentVideoAutoplayStyleRenderer","StoryAttachmentVideoStyleRenderer","StoryAttachmentTipJarPaymentStyleRenderer","StoryAttachmentCommentPlaceInfoStyleRenderer","StoryAttachmentChatCommandStyleRenderer","StoryAttachmentPageInCommentStyleRenderer","StoryAttachmentInstantGamesTournamentActivityStyleRenderer","StoryAttachmentInstantGamesUpdateCommentStyleRenderer","StoryAttachmentSubscriptionGiftStyleRenderer"])'}],storageKey:null},Za,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[b,{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[p,$a,ab],storageKey:null},bb,cb,db,{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[d,b,Fa,j,Ga,Ia,Ra,Ka,La,Ma,eb,fb],storageKey:null},{alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"page_private_reply",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"private_reply_render",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{documentName:"CometUFICommentPrivateReplyLink_feedback",fragmentName:"CometUFICommentPrivateReplyLinkRenderer_privateReplyCometRenderer",fragmentPropName:"privateReplyCometRenderer",kind:"ModuleImport"}],type:"PagesMessagingPrivateReplyCometRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentPrivateReplyLink_feedback",fragmentName:"BizInboxCommentPrivateReplyLinkRenderer_privateReplyBizRenderer",fragmentPropName:"privateReplyBizRenderer",kind:"ModuleImport"}],type:"BizMessagingPrivateReplyRenderer",abstractKey:null}],storageKey:null},gb],storageKey:null},s,hb,q,ib,jb,kb,lb,mb,nb,{alias:null,args:ub,concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[vb,wb,p,{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[Xa,b,xb,yb,Sa,Wa,Ta,Ua,Va,zb,Za,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[b,Ab,bb,cb,db,Bb,jb,{condition:"includeNestedComments",kind:"Condition",passingValue:!0,selections:[q,lb,{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[Fa,j,Ga,Ia,Ra,Ka,La,Ma,eb,fb],storageKey:null},mb,nb,{alias:null,args:ob,concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[vb,wb,p,{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[Xa,b,xb,yb,Sa,Wa,Ta,Ua,Va,zb,Za,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[b,Ab,bb,cb,db,Bb,jb],storageKey:null},qb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Pb,Qb,va,d,Xb,Gc,Nc,Ic,D,H,U],storageKey:null},sa],storageKey:null},Ha,Qc,Rc,Sc,Tc,Uc,Vc,Wc],storageKey:null},{alias:null,args:ob,filters:Xc,handle:"ufi2_comments",key:"UFI2CommentsProvider_feedback_display_comments",kind:"LinkedHandle",name:"display_comments",dynamicKey:Yc},$c,{condition:"containerIsLiveStory",kind:"Condition",passingValue:!0,selections:ad},bd,{condition:"containerIsTahoe",kind:"Condition",passingValue:!0,selections:ad}]}],storageKey:null},qb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Pb,Qb,va,d,Xb,Gc,Nc,Ic,D,H,U],storageKey:null},sa],storageKey:null},Qc,Rc,Sc,Tc,Uc,Vc,{condition:"includeNestedComments",kind:"Condition",passingValue:!1,selections:[Ha]},Wc],storageKey:null},{alias:null,args:ub,filters:Xc,handle:"ufi2_comments",key:"UFI2CommentsProvider_feedback_display_comments",kind:"LinkedHandle",name:"display_comments",dynamicKey:Yc},$c,{condition:"containerIsLiveStory",kind:"Condition",passingValue:!0,selections:X},bd,{condition:"containerIsTahoe",kind:"Condition",passingValue:!0,selections:X}],storageKey:null},{alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[pb,v,{alias:null,args:null,concreteType:"GroupMembership",kind:"LinkedField",name:"author_membership",plural:!1,selections:[{alias:null,args:N,concreteType:"RenderableGroupMemberTag",kind:"LinkedField",name:"top_member_tag",plural:!1,selections:[xc,yc,v,zc],storageKey:null},b],storageKey:null},{alias:"author_badge",args:Ac,concreteType:"GroupCommentInfoCommentMemberBadgesConnection",kind:"LinkedField",name:"comment_member_badges",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommentInfoCommentMemberBadgesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"RenderableGroupMemberTag",kind:"LinkedField",name:"node",plural:!1,selections:[Bc,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"badge_description",plural:!1,selections:Yb,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:c,storageKey:null},{alias:null,args:[u,wc],kind:"ScalarField",name:"is_author_with_member_profile",storageKey:null},{documentName:"CometUFICommentActorLink_comment",fragmentName:"CometUFIGroupCommentActorLink_groupCommentInfo",fragmentPropName:"groupCommentInfo",kind:"ModuleImport"}],storageKey:null},{alias:null,args:w,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[d,rb,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DelightAtRange",kind:"LinkedField",name:"delight_ranges",plural:!0,selections:[d,{alias:null,args:null,concreteType:"TextDelightCampaign",kind:"LinkedField",name:"campaign",plural:!1,selections:[tb,b,d,{alias:null,args:sb,concreteType:"DelightsAnimation",kind:"LinkedField",name:"delight_asset",plural:!1,selections:[b,{alias:null,args:null,kind:"ScalarField",name:"animation_uri",storageKey:null}],storageKey:'delight_asset(delight_surface:"COMMENT")'}],storageKey:null},x,y],storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[d,{kind:"TypeDiscriminator",abstractKey:"__isEntity"},Cb,{alias:"mobileUrl",args:[{kind:"Literal",name:"site",value:"mobile"}],kind:"ScalarField",name:"url",storageKey:'url(site:"mobile")'},l,i,{kind:"InlineFragment",selections:[Db,{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl",abstractKey:null},Eb,{kind:"InlineFragment",selections:[b,{kind:"InlineFragment",selections:[{alias:"profile_url",args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"Actor",abstractKey:"__isActor"},{kind:"InlineFragment",selections:[{documentName:"CometTextWithEntitiesRelay_textWithEntities",fragmentName:"GroupsCometHashtagsStoryMessageHashtagLink_hashtag",fragmentPropName:"hashtag",kind:"ModuleImport"}],type:"GroupHashtag",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null},b,Na,{documentName:"CometTextWithEntitiesRelay_textWithEntities",fragmentName:"PagesCometPageLink_page",fragmentPropName:"page",kind:"ModuleImport"}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"web_link",plural:!1,selections:[d,m,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fbclid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lynx_mode",storageKey:null}],type:"ExternalWebLink",abstractKey:null}],storageKey:null}],type:"WebLinkable",abstractKey:"__isWebLinkable"},{kind:"InlineFragment",selections:[Z,Oa],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[Z,{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null}],storageKey:null},Fb,x,y],storageKey:null},z,{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[x,y,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[d,{alias:null,args:za,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:Ob,storageKey:null},i],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[x,y,{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedEntitiesAtRange",kind:"LinkedField",name:"aggregated_ranges",plural:!0,selections:[x,y,p,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sample_entities",plural:!0,selections:[d,{kind:"InlineFragment",selections:[b,j],type:"User",abstractKey:null},i],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ColorAtRange",kind:"LinkedField",name:"color_ranges",plural:!0,selections:[x,y,{alias:null,args:null,kind:"ScalarField",name:"hex_rgb_color_with_pound_key",storageKey:null}],storageKey:null}],type:"TextWithEntities",abstractKey:null}],storageKey:'preferred_body(translation_type:"ORIGINAL")'},Hb,Ib,Jb,Kb,K,{alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"private_reply_context",plural:!1,selections:[fc],storageKey:null},$b,ac,bc,mc,dc,{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:[b,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[d,j,b,{kind:"InlineFragment",selections:[Pa,Qa],type:"User",abstractKey:null}],storageKey:null}],storageKey:null},t,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[nc,q,b,oc,Zc,o],storageKey:null},pc,qc,m,{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_share",plural:!1,selections:[b,{documentName:"CometUFICommentActionLinks_comment__if_viewer_can_share",fragmentName:"CometUFICommentShareActionLink_comment",fragmentPropName:"comment",kind:"ModuleImport"}],storageKey:null},{alias:"body_renderer",args:w,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{documentName:"CometUFICommentBody_comment",fragmentName:"CometUFICommentBodyTextWithEntities_textWithEntities",fragmentPropName:"textWithEntities",kind:"ModuleImport"}],type:"TextWithEntities",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"CometUFICommentBody_comment",fragmentName:"CometUFICommentBodyComposedTextWithEntities_composedTextWithEntities",fragmentPropName:"composedTextWithEntities",kind:"ModuleImport"}],type:"FBMarkdownCommentBody",abstractKey:null}],storageKey:'preferred_body(translation_type:"ORIGINAL")'},Lc,Kc,{alias:null,args:N,concreteType:null,kind:"LinkedField",name:"author_user_signals_renderer",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{documentName:"CometUFICommentBody_comment_author_user_signals_renderer",fragmentName:"CometUFICommentActorMultipleUserSignalsRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentActorMultipleUserSignalsRenderer",abstractKey:null}],storageKey:null},Cc,vc,S,{alias:null,args:null,kind:"ScalarField",name:"question_and_answer_type",storageKey:null},Fc,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_comment_poster",storageKey:null},Ec,Dc,{alias:null,args:[u,{kind:"Literal",name:"supported",value:["CometUFICommentActorConstituentBadge","CometUFICommentActorVerifiedBadge","CometUFICommentActorGroupMemberBadge","CometUFICommentActorGroupMemberAuthorBadge","CometUFICommentActorSingleUserSignalRenderer","CometUFICommentActorAMAQuestionAnswerBadge","GeminiUFICommentActorDeactivatedAccountBadge","GeminiUFICommentActorBotBadge","GeminiUFICommentActorNonCoworkerBadge","CometUFICommentPostAuthorBadge"]}],concreteType:null,kind:"LinkedField",name:"author_badge_renderers",plural:!0,selections:[d,{kind:"InlineFragment",selections:[{documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorConstituentBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorConstituentBadge",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorVerifiedBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorVerifiedBadge",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorGroupMemberBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorGroupMemberBadge",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorGroupMemberAuthorBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorGroupMemberAuthorBadge",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorSingleUserSignalRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentActorSingleUserSignalRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorAMAQuestionAnswerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorAMAQuestionAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorDeactivatedAccountBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorDeactivatedAccountBadge",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorBotBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorBotBadge",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorNonCoworkerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorNonCoworkerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentPostAuthorBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentPostAuthorBadge",abstractKey:null}],storageKey:null},{alias:null,args:N,concreteType:"IdentityBadge",kind:"LinkedField",name:"identity_badges_web",plural:!0,selections:[rc,tc,z,{alias:null,args:null,kind:"ScalarField",name:"information_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"information_asset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"information_description",storageKey:null},sc],storageKey:null},{alias:null,args:N,kind:"ScalarField",name:"can_show_multiple_identity_badges",storageKey:null},{alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[{documentName:"CometUFIComment_comment",fragmentName:"CometUFICommentQualitySurvey_inlineSurveyConfig",fragmentPropName:"inlineSurveyConfig",kind:"ModuleImport"}],storageKey:null},xb,{alias:null,args:null,concreteType:"WorkAMAUFIAnsweredEventCommentModuleRenderer",kind:"LinkedField",name:"work_answered_event_comment_renderer",plural:!1,selections:[{documentName:"CometUFIComment_comment_work_answered_event_comment_renderer",fragmentName:"CometUFIAMABroadcastAnswerEventRow_data",fragmentPropName:"data",kind:"ModuleImport"}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:["StarsElevatedCommentData"]}],concreteType:null,kind:"LinkedField",name:"elevated_comment_data",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIStarsElevatedCommentContent_starsElevatedCommentData",fragmentPropName:"starsElevatedCommentData",kind:"ModuleImport"}],type:"StarsElevatedCommentData",abstractKey:null}],storageKey:'elevated_comment_data(supported:["StarsElevatedCommentData"])'},Lb,Mb,va,{condition:"containerIsFeedStory",kind:"Condition",passingValue:!0,selections:[G,$,I,cc,J,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"page_private_reply",plural:!1,selections:[ec,fc,gc,hc,ic,jc,kc,lc],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PrivateReplyContext",kind:"LinkedField",name:"private_reply_context",plural:!1,selections:[gb],storageKey:null},m,{alias:null,args:N,concreteType:"IdentityBadge",kind:"LinkedField",name:"identity_badges_web",plural:!0,selections:[O,P,Q,R,uc],storageKey:null},d,Y,A,L,T]},{condition:"containerIsLiveStory",kind:"Condition",passingValue:!0,selections:[G,$,I,J,{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:[V],storageKey:null},m,{alias:null,args:N,concreteType:"IdentityBadge",kind:"LinkedField",name:"identity_badges_web",plural:!0,selections:[O,P,Q,R,Mc],storageKey:null},d,Y,L,T]},{condition:"containerIsTahoe",kind:"Condition",passingValue:!0,selections:[G,$,I,J,{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:[V,Oc],storageKey:null},m,{alias:null,args:N,concreteType:"IdentityBadge",kind:"LinkedField",name:"identity_badges_web",plural:!0,selections:[O,P,Q,R,Pc],storageKey:null},d,Y,L,T]},{condition:"containerIsWorkplace",kind:"Condition",passingValue:!0,selections:[Jc,$,I,M,m,W,d,Y,Zb,B,A,{kind:"ClientExtension",selections:[Rb,Tb,Ub,Wb,Sb,f]},T]},{kind:"ClientExtension",selections:[Tb,Ub,Rb,Sb,Vb,Wb]},{condition:"isComet",kind:"Condition",passingValue:!1,selections:[E,g,h,F,C]}],storageKey:null}],storageKey:null},wa,xa],storageKey:null}]},params:{id:"4041448522535920",metadata:{},name:"UFI2CreateCommentMutation",operationKind:"mutation",text:null}}}();da.exports=a}),null);
__d("GroupsCometMemberAuthorBadgeHovercardPopover.entrypoint",["JSResource"],(function(a,b,c,d,e,f){"use strict";a={getPreloadProps:function(){return{}},root:b("JSResource")("GroupsCometMemberAuthorBadgeHovercardPopover.react").__setRef("GroupsCometMemberAuthorBadgeHovercardPopover.entrypoint")};e.exports=a}),null);
__d("ConstituentTitleTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:ConstituentTitleLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:ConstituentTitleLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:ConstituentTitleLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAddress=function(a){this.$1.address=a;return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setBadgeUpsellType=function(a){this.$1.badge_upsell_type=a;return this};c.setCancelStep=function(a){this.$1.cancel_step=a;return this};c.setCommentID=function(a){this.$1.comment_id=a;return this};c.setCommentRankingQeIdentifier=function(a){this.$1.comment_ranking_qe_identifier=a;return this};c.setDialogSource=function(a){this.$1.dialog_source=a;return this};c.setDialogType=function(a){this.$1.dialog_type=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setHasCivicEngagementAddress=function(a){this.$1.has_civic_engagement_address=a;return this};c.setPostID=function(a){this.$1.post_id=a;return this};c.setProfileIds=function(a){this.$1.profile_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};return a}();c={address:!0,appid:!0,badge_upsell_type:!0,cancel_step:!0,comment_id:!0,comment_ranking_qe_identifier:!0,dialog_source:!0,dialog_type:!0,event:!0,has_civic_engagement_address:!0,post_id:!0,profile_ids:!0,sessionid:!0};e.exports=a}),null);
__d("XConstituentBadgeDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/constituent_badge/dialog/",{comment_id:{type:"String"},ft_id:{type:"FBID"},__asyncDialog:{type:"Int"}})}),null);
__d("CometUFICommentActorConstituentBadge.react",["ix","fbt","Actor","CometCompatModalDialogResource","CometLazyDialogTrigger.react","CometRelay","CometTooltip.react","ConstituentTitleTypedLogger","React","TetraIcon.react","XConstituentBadgeDialogController","fbicon","recoverableViolation","stylex","useVisibilityObserver","CometUFICommentActorConstituentBadge_comment.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React");function a(a){var c;a=b("CometRelay").useFragment(i!==void 0?i:i=b("CometUFICommentActorConstituentBadge_comment.graphql"),a.comment);var d=a.legacy_token,e=a.parent_feedback,f=j.useRef(!1),k=b("useVisibilityObserver")({onVisible:function(){if(f.current)return;f.current=!0;new(b("ConstituentTitleTypedLogger"))().setEvent("comment_vpv").setPostID(o).setCommentID(d).log()}}),l=b("Actor").useActor();l=l[0];var m=j.useMemo(function(){return b("XConstituentBadgeDialogController").getURIBuilder().setString("comment_id",d).getURI().toString()},[d]);if(!a.author||((c=a.author)==null?void 0:c.id)==null)return b("recoverableViolation")("missing politician","politician_tools");var n=a.author.short_name,o=e==null?void 0:e.share_fbid,p=l===a.author.id,q=e==null?void 0:(c=e.political_figure_data)==null?void 0:(c=c.political_office)==null?void 0:c.generic_title,r=e==null?void 0:(c=e.political_figure_data)==null?void 0:c.name;e=a.can_see_constituent_badge_upsell;function s(){if(!n||!q||!r)return null;return p?h._("Your constituent badge is on. {representative_name} is your {office_title}.",[h._param("representative_name",r),h._param("office_title",q)]):h._("{representative_name} is {comment_author_name}'s {politician_office_title}.",[h._param("representative_name",r),h._param("comment_author_name",n),h._param("politician_office_title",q)])}function t(){return h._("{comment_author_name} has a badge showing that they are a constituent of {representative_name}",[h._param("comment_author_name",n),h._param("representative_name",r)])}function u(a){return j.jsx(b("TetraIcon.react"),{alt:t(),color:"secondary",icon:b("fbicon")._(g("506962"),12),onPress:a})}c=e===!0?j.jsx(b("CometLazyDialogTrigger.react"),{dialogProps:{params:{rel:"dialog-post",uri:m}},dialogResource:b("CometCompatModalDialogResource"),children:function(a){return u(function(){a(),new(b("ConstituentTitleTypedLogger"))().setEvent("constituent_badge_click").setPostID(o).setCommentID(d).log()})}}):u();return j.jsx(b("Actor").ActorProvider,{initialActorID:l,children:j.jsx("span",{className:"l59n7fsa l9j0dhe7 kkf49tns",ref:k,children:j.jsx(b("CometTooltip.react"),{tooltip:s(),children:j.jsx("span",{className:"pcp91wgn iuny7tx3 p8fzw8mz ipjc6fyt",children:c})})})})}}),null);
__d("CometUFICommentActorGroupMemberAuthorBadge.react",["CometHovercardTrigger.react","CometRelay","GroupsCometMemberAuthorBadgeHovercardPopover.entrypoint","React","TetraText.react","recoverableViolation","stylex","CometUFICommentActorGroupMemberAuthorBadge_comment.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=g!==void 0?g:g=b("CometUFICommentActorGroupMemberAuthorBadge_comment.graphql");function a(a){var c;a=a.comment$key;a=b("CometRelay").useFragment(i,a);c=a==null?void 0:(c=a.group_comment_info)==null?void 0:(c=c.author_badge)==null?void 0:(c=c.edges[0])==null?void 0:c.node;if(c==null)return null;var d=(c=c.badge_name)==null?void 0:c.text;return d==null?b("recoverableViolation")("missing name for author badge","groups_comet"):h.jsx(b("CometHovercardTrigger.react"),{align:"middle",display:"inline-block",popoverEntryPoint:b("GroupsCometMemberAuthorBadgeHovercardPopover.entrypoint"),popoverOtherProps:{comment$key:a},popoverProps:{},children:function(a){return h.jsx("div",{className:"b3onmgus e5nlhep0 ph5uu5jm ecm0bbzt hytbnt81 q9uorilb bnpdmtie qttc61fc ihh4hy1g kdgqqoy6 jk6sbkaj tdjehn4e",ref:a,children:h.jsx(b("TetraText.react"),{color:"secondary",type:"bodyLink4",children:d})})}})}}),null);
__d("GroupMemberTagType",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTIVE_MEMBER:"ACTIVE_MEMBER",ADMIN:"ADMIN",GROUPVERSARY:"GROUPVERSARY",MODERATOR:"MODERATOR",NEW_MEMBER:"NEW_MEMBER",COLLEGE_COMMUNITY_YEAR_CLASS:"COLLEGE_COMMUNITY_YEAR_CLASS",CUSTOM:"CUSTOM",KEY_PLAYER_STAT:"KEY_PLAYER_STAT",FOUNDING_MEMBER:"FOUNDING_MEMBER",WOODHENGE_SUPPORTER:"WOODHENGE_SUPPORTER",CONVERSATION_BOOSTER:"CONVERSATION_BOOSTER",VISUAL_STORYTELLER:"VISUAL_STORYTELLER",RESPONDER:"RESPONDER",RISING_STAR:"RISING_STAR",TOP_FAN:"TOP_FAN",SUPER_SELLER:"SUPER_SELLER",HIGHLY_RATED:"HIGHLY_RATED",VERY_RESPONSIVE:"VERY_RESPONSIVE",LEARNING_FACILITATOR:"LEARNING_FACILITATOR",TREEHENGE_SUPPORTER:"TREEHENGE_SUPPORTER",ORIGINAL_POST_AUTHOR:"ORIGINAL_POST_AUTHOR",COMMERCE_ID_VERIFIED:"COMMERCE_ID_VERIFIED",COMMUNITY_REPUTATION:"COMMUNITY_REPUTATION",COMMUNITY_QNA_VALUED_RESPONDER:"COMMUNITY_QNA_VALUED_RESPONDER",PARENTING_EXPECTING:"PARENTING_EXPECTING",PARENT_OF_YOUNG_KIDS:"PARENT_OF_YOUNG_KIDS",CONSIDERING_PARENTING:"CONSIDERING_PARENTING",PARENT_OF_MULTIPLE_CHILDREN:"PARENT_OF_MULTIPLE_CHILDREN",PARENT_OF_OLDER_KIDS:"PARENT_OF_OLDER_KIDS",PARENT_OF_YOUNG_ADULTS:"PARENT_OF_YOUNG_ADULTS",NEW_PARENT:"NEW_PARENT",EXPERIENCED_PARENT:"EXPERIENCED_PARENT"});e.exports=a}),null);
__d("CometUFICommentActorGroupMemberBadge.react",["fbt","CometRelay","GroupMemberTagType","ImageIconSource","MemberBadgeHovercard.react","React","TetraIcon.react","recoverableViolation","stylex","CometUFICommentActorGroupMemberBadge_comment.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React");function j(a){return a==null?null:b("GroupMemberTagType")[a]}function a(a){var c;a=b("CometRelay").useFragment(h!==void 0?h:h=b("CometUFICommentActorGroupMemberBadge_comment.graphql"),a.comment$key);a=a==null?void 0:(a=a.group_comment_info)==null?void 0:(a=a.author_membership)==null?void 0:a.top_member_tag;if(a==null)return null;var d=j(a.tag_type);if(d==null)return b("recoverableViolation")("invalid badge type: "+(a.tag_type!=null?a.tag_type:"null"),"groups_comet");var e=(c=a.small_icon)==null?void 0:c.uri;return a.group_id==null||a.member_id==null||e==null?b("recoverableViolation")("missing required badge fields","groups_comet"):i.jsx(b("MemberBadgeHovercard.react"),{badgeType:d,groupID:a.group_id,memberID:a.member_id,children:function(a){return i.jsx("span",{className:"e9o6kcyi pq6dq46d bp9cbjyn","data-testid":void 0,ref:a,children:i.jsx(b("TetraIcon.react"),{alt:g._("badge icon"),icon:new(b("ImageIconSource"))(e,12,12)})})}})}}),null);
__d("CometUFICommentActorVerifiedBadge.react",["CometProfileVerificationBadge.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){a=babelHelpers["extends"]({},a);return g.jsxs("span",{className:"e9o6kcyi pq6dq46d bp9cbjyn",children:[g.jsx(b("CometProfileVerificationBadge.react"),babelHelpers["extends"]({},a,{size:"small"}))," "]})}}),null);
__d("getRenderableBodyFromCommentMessage",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){if(a==null)return a;var c=a.ranges==null?[]:a.ranges.filter(Boolean);return{__typename:"TextWithEntities",aggregated_ranges:[],color_ranges:[],delight_ranges:[],image_ranges:[],inline_style_ranges:[],ranges:c.map(function(a){var c=b[a.entity.id];if(c){c=c.getData();var d=c.isWeak,e=c.type;c=c.uri;return{__typename:"EntityAtRange",entity:babelHelpers["extends"]({},a.entity,{__isActor:e==null,__isEntity:!0,__isNode:!0,__isWebLinkable:!0,__typename:e==null?"Actor":e.replace(/([A-Z])/g," $1").replace(/(\s+\w)/g,function(a,b){return b.toUpperCase()}).replace(/^./,function(a){return a.toUpperCase()}),mobileUrl:c,profile_url:c,url:c,web_link:null,www_url:null}),entity_is_weak_reference:!!d,length:a.length,offset:a.offset}}return null}).filter(Boolean),text:a.text,translation_type:null}}}),null);
__d("UFI2CreateCommentMutation",["fbt","invariant","Bootloader","ChannelClientID","FBLogger","FeedbackSourceType","JSEnumValueToGraphQLKey","RelayModern","RelayRuntime","requireCond","ServerTime","SiteData","displayCommentsConnectionCountUpdater","forEachUFI2DisplayCommentsConnection","getBodyRendererFromCommentMessage","getRenderableBodyFromCommentMessage","cr:1088250","UFI2CreateCommentMutation.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";f.commit=o;f.getRetryFn=a;var i,j=b("RelayRuntime").ConnectionHandler,k=b("RelayRuntime").applyOptimisticMutation,l=b("SiteData").pr,m=i!==void 0?i:i=b("UFI2CreateCommentMutation.graphql"),n={};function o(a){var c=a.actorID,d=a.clientID,e=a.containerMapping,f=a.environment,i=a.entitiesByID,r=a.feedbackSource,s=a.feedLocation,t=a.focusCommentID,u=a.input,v=a.isComet,w=a.onCompleted,x=a.onError,y=a.topLevelFeedbackId,z=a.triggerAccessibilityAlert,A=a.updater,B=a.useDefaultActor,C=a.usedWritingHelpToCompose,D=a.UFI2CommentsProvider_commentsKey,E=a.viewOption,F=a.retryID||d;e=babelHelpers["extends"]({},e,{UFI2CommentsProvider_commentsKey:D,feedLocation:s,feedbackSource:r,focusCommentID:t,input:babelHelpers["extends"]({},u,{actor_id:c,feedback_source:b("JSEnumValueToGraphQLKey")(b("FeedbackSourceType"),r),idempotence_token:F,session_id:b("ChannelClientID").getID()}),isComet:v,scale:l,useDefaultActor:B});var G=function(a){return function(e){var f=e.getRootField("comment_create");if(f){var g=f.getLinkedRecord("feedback_comment_edge");if(g){f=e.get(u.feedback_id);if(f!=null){E!=="LIVE_STREAMING"&&b("forEachUFI2DisplayCommentsConnection")(e,f,function(a){j.insertEdgeBefore(a,g)});if(A){var i=y==null||y===f.getDataID()?null:e.get(y);A(f,g,i)}}}}f=e.get(c);f||h(0,455,c);i=e.get(F);i||h(0,456,F);i.setLinkedRecord(f,"author");i.setValue("ADD","optimistic_action");if(a&&a.toString){i.setValue(a.toString(),"optimistic_error");f=a.code;typeof f==="number"&&i.setValue(f,"optimistic_error_code")}else i.setValue(!0,"is_locally_composed");i.setValue(d,"client_id");i.setValue(u.reply_comment_parent_fbid,"reply_comment_parent_fbid");f=u.reply_comment_parent_fbid!=null?e.get(u.reply_comment_parent_fbid):null;f=f!=null?f.getValue("depth"):null;typeof f==="number"&&i.setValue(f+1,"depth");b("displayCommentsConnectionCountUpdater").increment({feedbackId:u.feedback_id,store:e,topLevelFeedbackId:y})}},H={mutation:m,optimisticResponse:q(u,F,i),optimisticUpdater:G(),variables:e},I=null,J=b("RelayModern").commitMutation(f,babelHelpers["extends"]({},H,{onCompleted:function(a){p(a),w&&w(a),b("cr:1088250")!=null&&b("cr:1088250")(u),z&&z(g._("Your comment was submitted"))},onError:function(c){n[F]=function(){if(!n[F]){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",F).warn("Tried to call a create comment mutation retry handle that was already removed.");return}J&&J.dispose();J=null;o(babelHelpers["extends"]({},a,{retryID:F}));delete n[F]},J=k(f,babelHelpers["extends"]({},H,{optimisticResponse:q(u,F,i),optimisticUpdater:G(c)})),x&&x(c)},updater:function(a){var c=a.getRootField("comment_create");c||h(0,457);var e=c.getLinkedRecord("feedback_comment_edge");e||h(0,458);c=e.getLinkedRecord("node");c||h(0,459);c.setValue(!0,"is_locally_composed");c.setValue(d,"client_id");c.setValue(C===!0,"used_writing_help_to_compose");b("displayCommentsConnectionCountUpdater").increment({feedbackId:u.feedback_id,store:a,topLevelFeedbackId:y});c=a.get(u.feedback_id);if(c!=null){E!=="LIVE_STREAMING"&&b("forEachUFI2DisplayCommentsConnection")(a,c,function(a){j.insertEdgeBefore(a,e)});if(A){a=y==null||y===c.getDataID()?null:a.get(y);A(c,e,a)}}}}));return{dispose:function(){I&&I.remove(),I=null,J&&J.dispose(),J=null,delete n[F]}}}function p(a){var c=(a=a.comment_create)==null?void 0:(a=a.survey_primer_attributes)==null?void 0:a.ajaxify;c&&b("Bootloader").loadModules(["AsyncRequest"],function(a){new a(c).send()},"UFI2CreateCommentMutation")}function q(a,c,d){var e;return{comment_create:{detection_analytics_enabled:null,feedback_comment_edge:{cursor:null,node:{__typename:"Comment",attached_story:null,attachments:[],author:null,author_badge_renderers:[],author_user_signals_renderer:null,body:{ranges:[],text:a==null?void 0:(e=a.message)==null?void 0:e.text},body_renderer:b("getBodyRendererFromCommentMessage")(a.message,d),can_see_constituent_badge_upsell:null,can_show_multiple_identity_badges:!1,can_viewer_disable_preview:null,can_viewer_share:null,can_viewer_upvote_downvote:null,chat_to_buy:null,comment_menu_items:[],comment_menu_tooltip:null,comment_parent:null,create_detailed_report_uri:null,created_time:Math.round(b("ServerTime").getMillis()/1e3),edit_history:null,elevated_comment_data:null,feedback:{associated_group:null,associated_video:null,can_viewer_comment:null,can_viewer_comment_with_marker:null,can_viewer_react:!0,comment_composer_placeholder:null,comment_count:null,comment_share_context:null,display_comments:null,id:null,page_private_reply:null,political_figure_data:null,public_conversations_context:null,reactors:null,share_fbid:null,should_show_top_reactions:null,subscription_target_id:null,supported_reactions:[],top_reactions:null,toplevel_comment_count:null,viewer_actor:null,viewer_feedback_reaction_info:null},file_marker:null,threading_depth:null,group_comment_info:null,has_constituent_badge:null,id:c,identity_badges_web:[],if_viewer_can_share:null,inline_survey_config:null,insights_data_point:null,is_author_banned_by_content_owner:null,is_author_bot:null,is_author_non_coworker:null,is_author_original_poster:null,is_author_weak_reference:null,is_hidden_by_content_owner:null,is_markdown_enabled:null,is_the_comment_on_work_knowledge:null,is_viewer_comment_poster:null,legacy_fbid:void 0,legacy_token:null,living_room_content_item:a.living_room_content_item_id?{id:a.living_room_content_item_id}:null,page_admin_actor_info:null,parent_feedback:null,parent_post_story:null,photo:[],preferred_body:b("getRenderableBodyFromCommentMessage")(a.message,d),private_reply_context:null,question_and_answer_type:null,should_show_comment_menu:!1,spam_display_mode:"none",sub_reply_parent_above_comment_author_context:null,sub_reply_parent_preview_context:null,synced_intern_qa_answer:null,timestamp_in_video:a==null?void 0:a.vod_video_timestamp,translatability_for_viewer:null,translation_available_for_viewer:null,upvote_downvote_total:null,url:null,us_structured_reporting_enabled:null,viewer_comment_vote_state:null,work_ama_answer_status:null,work_answered_event_comment_renderer:null,work_approval_request_info:null,written_while_video_was_live:void 0,www_layout_renderer:null}},survey_primer_attributes:null}}}function a(a){var c=n[a];if(!c){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",a).warn("No comment create mutation retry handler found.");return null}return c}}),null);
__d("CometUFICommentErrorFooter.react",["errorCode","fbt","CometLink.react","CometRelay","FBLogger","React","UFI2CreateCommentMutation","ifRequired","recoverableViolation","stylex","CometUFICommentErrorFooter_comment.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React");function k(a){return a===1446013?!1:!0}function a(a){a=a.comment;a=b("CometRelay").useFragment(i!==void 0?i:i=b("CometUFICommentErrorFooter_comment.graphql"),a);var c=a.id;if(c==null){b("recoverableViolation")("CometUFICommentErrorFooter tried to render without a comment ID","ufi2");return null}var d=h._("Unable to post comment."),e=null;switch(a.optimistic_action){case"ADD":e=b("UFI2CreateCommentMutation").getRetryFn(c);break;case"EDIT":d=h._("Unable to edit comment.");b("ifRequired")("UFI2EditCommentMutation",function(a){e=a.getRetryFn(c)},function(){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",c||"UNKNOWN").mustfix("Edit mutation not present on edit error")});break;case"DELETE":d=h._("Unable to delete comment.");break;default:d=h._("Something went wrong."),b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",c||"UNKNOWN").warn("CometUFICommentErrorFooter no specified behavior for action `%s`.",a.optimistic_action)}e||b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",c||"UNKNOWN").warn("No mutation retry handler for action `%s`.",a.optimistic_action);return j.jsx("div",{className:"m9osqain","data-testid":void 0,children:e!=null&&k(a.optimistic_error_code)?h._("{errorMessage} {retryLink}",[h._param("errorMessage",d),h._param("retryLink",j.jsx(b("CometLink.react"),{color:"highlight",onClick:e,children:h._("Try again")}))]):d})}}),null);
__d("CometUFICreatorInfo.react",["ix","fbt","CometTooltip.react","CometUFIProfileLink.react","React","TetraIcon.react","fbicon","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c;d=d();switch(a.labelType){case"commented":c=h._("Commented on by {creator}",[h._param("creator",d)]);break;case"edited_comment":c=h._("Edited by {creator}",[h._param("creator",d)]);break;case"sent_message":c=h._("Sent by {creator}",[h._param("creator",d)]);break;case"page_admin_note":c=h._("Noted by {creator}",[h._param("creator",d)]);break;default:return i.jsx("span",{})}d=i.jsxs(i.Fragment,{children:[c,i.jsx("span",{className:"ormqv51v l9j0dhe7 kkf49tns",children:i.jsx(b("CometTooltip.react"),{tooltip:m(),children:i.jsx(b("TetraIcon.react"),{color:"tertiary",icon:b("fbicon")._(g("479175"),12)})})})]});function d(){switch(a.creatorType){case"application":case"gray_account":case"indirect_admin":return i.jsx(b("CometTooltip.react"),{tooltip:e(),children:i.jsx("b",{children:a.creatorName})});case"business_admin":return i.jsx(b("CometUFIProfileLink.react"),{kind:"link",uid:a.creatorID,children:a.creatorName});case"direct_admin":return f();case"former_admin":return i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"ormqv51v l9j0dhe7 cgat1ltu",children:i.jsx(b("TetraIcon.react"),{color:"tertiary",icon:b("fbicon")._(g("648667"),12)})}),f()]});default:return i.jsx("span",{children:a.creatorName})}}function e(){switch(a.creatorType){case"application":return j();case"gray_account":return l();case"indirect_admin":return k()}return null}function f(){return a.profileURI==null||a.profileURI===""?i.jsx("span",{children:a.creatorName}):i.jsx(b("CometUFIProfileLink.react"),{kind:"link",uid:a.creatorID,children:a.creatorName})}function j(){switch(a.labelType){case"commented":return h._("This was commented on by someone using {application}.",[h._param("application",a.creatorName)]);case"edited_comment":return h._("This was edited by someone using {application}.",[h._param("application",a.creatorName)]);case"sent_message":return h._("This was sent by someone using {application}.",[h._param("application",a.creatorName)]);case"page_admin_note":return h._("This was noted by someone using {application}.",[h._param("application",a.creatorName)])}return null}function k(){switch(a.labelType){case"commented":return h._("This was commented on by someone from {page}.",[h._param("page",a.creatorName)]);case"edited_comment":return h._("This was edited by someone from {page}.",[h._param("page",a.creatorName)]);case"sent_message":return h._("This was sent by someone from {page}.",[h._param("page",a.creatorName)]);case"page_admin_note":return h._("This was noted by someone from {page}.",[h._param("page",a.creatorName)])}return null}function l(){switch(a.labelType){case"commented":return h._("This was commented on by someone who doesn't have a personal Facebook account.");case"edited_comment":return h._("This was edited by someone who doesn't have a personal Facebook account.");case"sent_message":return h._("This was sent by someone who doesn't have a personal Facebook account.");case"page_admin_note":return h._("This was noted by someone who doesn't have a personal Facebook account.")}return null}function m(){switch(a.labelType){case"commented":return h._("Only people who manage this Page can see who posted a comment.");case"edited_comment":return h._("Only people who manage this Page can see who edited a comment");case"sent_message":return h._("Only people who manage this Page can see who sent a message.");case"page_admin_note":return h._("Only people who manage this Page can see who created a note")}return null}return d}}),null);
__d("CometUFIPinCommentMutation",["Promise","CometRelay","CometUFIPinCommentMutation.graphql"],(function(a,b,c,d,e,f){"use strict";f.commit=a;var g,h=g!==void 0?g:g=b("CometUFIPinCommentMutation.graphql");function i(a,b,c){c=b.get(c);if(c==null)return;b=b.get(a);if(b==null)return;a=c.getOrCreateLinkedRecord("latest_pinned_comment_event","BroadcastPinnedCommentEvent");a.setLinkedRecord(b,"pinned_comment")}function a(a,c){return new(b("Promise"))(function(d,e){b("CometRelay").commitMutation(a,{mutation:h,onCompleted:function(a,b){if(b!=null){e(b);return}d(a)},onError:e,optimisticUpdater:function(a){return i(c.commentID,a,c.feedbackID)},updater:function(a){return i(c.commentID,a,c.feedbackID)},variables:{input:{comment_id:c.commentID,video_id:c.videoID,video_time_offset:0}}})})}}),null);
__d("CometUFIUnpinCommentMutation",["Promise","CometRelay","CometUFIUnpinCommentMutation.graphql"],(function(a,b,c,d,e,f){"use strict";f.commit=a;var g,h=g!==void 0?g:g=b("CometUFIUnpinCommentMutation.graphql");function i(a,b){a=a.get(b);if(a==null)return;a.setValue(null,"latest_pinned_comment_event")}function a(a,c){return new(b("Promise"))(function(d,e){b("CometRelay").commitMutation(a,{mutation:h,onCompleted:function(a,b){if(b!=null){e(b);return}d(a)},onError:e,optimisticUpdater:function(a){return i(a,c.feedbackID)},updater:function(a){return i(a,c.feedbackID)},variables:{input:{video_id:c.videoID,video_time_offset:0}}})})}}),null);
__d("UFI2RichComposerInput.react",["cx","CometVisualCompletionAttributes","DraftEditor.react","Keys","requireCond","cr:1600421","React","getDefaultKeyBinding","getEditorStateFromUFI2ComposerState","isSoftNewlineEvent","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";var h=b("Keys").RETURN,i=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.props.onComposerStateChange(function(b){return babelHelpers["extends"]({},b,{inputState:b.inputState.__type==="editor-state-based"?babelHelpers["extends"]({},b.inputState,{editorState:a}):{__type:"editor-state-based",editorState:a}})})},d.$2=function(a,b){return d.props.handleBeforeInput?d.props.handleBeforeInput(a,b):"not-handled"},d.$3=function(a,b){if(d.props.handleKeyCommand&&d.props.handleKeyCommand(a,b)==="handled")return"handled";if(a==="ufi-commit"){d.props.onCommit();return"handled"}return"not-handled"},d.$4=function(a){if(d.props.keyBindingFn){var c=d.props.keyBindingFn(a);if(c!=null)return c}return a.keyCode===h&&!b("isSoftNewlineEvent")(a)?"ufi-commit":b("getDefaultKeyBinding")(a)},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.execCommand=function(a){this.props.handleCommand&&this.props.handleCommand(a)};d.componentWillUnmount=function(){var a=this.lastEditorRef;a&&b("cr:1600421")&&b("cr:1600421").unregister(a)};d.render=function(){var a=this,c=this.props.composerState.ariaInputs;return i.jsx("div",babelHelpers["extends"]({className:b("joinClasses")((this.props.composerState.isLocked?"_3d2p":"")+" _3d2q",this.props.className)},b("CometVisualCompletionAttributes").IGNORE,{onClick:this.props.onClick,children:i.jsx(b("DraftEditor.react"),{ariaActiveDescendantID:c?c["aria-activedescendant"]:void 0,ariaControls:c?c["aria-controls"]:void 0,ariaDescribedBy:this.props.ariaDescribedBy,ariaLabel:String((c=this.props.ariaLabel)!=null?c:this.props.placeholder),editorRef:function(c){var d=a.props.onInputRefUpdated;d&&d(c);if(b("cr:1600421")===null)return;d=a.lastEditorRef;if(d===c||c===null)return;c!==null&&!b("cr:1600421").isRegistered(c)&&(d&&b("cr:1600421").unregister(d),a.lastEditorRef=c,b("cr:1600421").registerForMeasurement(c,"UFI2RichComposerInput"))},editorState:b("getEditorStateFromUFI2ComposerState")(this.props.composerState),handleBeforeInput:this.$2,handleKeyCommand:this.$3,handlePastedFiles:this.props.handlePastedFiles,keyBindingFn:this.$4,onBlur:this.props.onBlur,onChange:this.$1,onFocus:this.props.onFocus,placeholder:String(this.props.placeholder),placeholderClassName:this.props.placeholderClassName,preventScroll:!0,readOnly:this.props.composerState.isLocked,spellCheck:!0,stripPastedStyles:!0,webDriverTestID:this.props.webDriverTestID})}))};return c}(i.Component);e.exports=a}),null);
__d("removeEmojiFromEditorState",["keyCommandBackspaceEmoji","keyCommandDeleteEmoji"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){switch(a){case"backspace":return b("keyCommandBackspaceEmoji")(c)||c;case"delete":return b("keyCommandDeleteEmoji")(c)||c;default:return c}}}),null);
__d("getUpgradedUFI2EmojiComposerPlugin",["EmojiRenderer","EmojiSpan.react","installUFI2ComposerInputDecorators","removeEmojiFromEditorState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){var c={component:b("EmojiSpan.react"),props:a,strategy:function(a,c){b("EmojiRenderer").parse(a.getText()).forEach(function(a){var b=a.length;a=a.offset;c(a,a+b)})}};return{handleKeyCommand:function(a,c,d){var e=a.composerState.inputState;if(e.__type==="editor-state-based"){var f;switch(c){case"backspace":f="backspace";break;case"delete":f="delete";break}if(f){var g=b("removeEmojiFromEditorState")(f,d);if(e.editorState!==g){a.onComposerStateChange(function(a){return babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},e,{editorState:g})})});return"handled"}}}return a.handleKeyCommand?a.handleKeyCommand(c,d):"not-handled"},installEmojiInputDecorator:function(a){return b("installUFI2ComposerInputDecorators")(a,c)}}}}),null);
__d("replaceEmoticonsWithEntitiesInEditorState",["invariant","CharacterMetadata","EditorState","EmoticonsList","immutable"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("immutable").List;function a(a){var c=a.getSelection();if(!c.isCollapsed())return a;var d=c.getAnchorKey(),e=a.getCurrentContent(),f=e.getBlockMap().reduce(function(a,e){var f=e.getText(),i=f.split(b("EmoticonsList").regexp);if(i.length===1)return a;var j=i.splice(0,1).join(""),k=[];while(i.length){var l=i.splice(0,2);if(i.length<2&&l[0].length+(l[1]?l[1].length:0)===0)continue;l.length===2||g(0,5882,l.join(", "));k.push(l)}var m=e.getKey()===d,n=j.length,o=e.getCharacterList(),p=f;k.forEach(function(d,f){var g=d[0],i=d[1];if(!b("EmoticonsList").emotes[i]||e===a.getLastBlock()&&f===k.length-1||m&&c.anchorOffset>=n+g.length&&c.anchorOffset<=n+g.length+i.length||function(){for(var a=0;a<i.length;a++)if(e.getEntityAt(n+g.length+a)!=null)return!0;return!1}())n+=d[0].length+d[1].length;else{f=a.createEntity("EMOTICON","IMMUTABLE",{originalEmoticon:i,type:b("EmoticonsList").emotes[i]});d=f.getLastCreatedEntityKey();f=n+g.length;p=p.slice(0,f)+"\u3000"+p.slice(f+i.length);o=o.slice(0,f).concat(h.of(b("CharacterMetadata").applyEntity(o.get(f),d)),o.slice(f+i.length));n=f+1}});if(f!==p){l=e.merge({characterList:o,text:p});var q;if(m){i=c.getAnchorOffset()-(e.getLength()-l.getLength());q={selectionAfter:c.merge({anchorOffset:i,focusOffset:i}),selectionBefore:c}}return a.merge(babelHelpers["extends"]({blockMap:a.getBlockMap().set(e.getKey(),l)},q))}return a},e);if(f===e)return a;else return b("EditorState").push(a,f,"insert-characters")}}),null);
__d("getUpgradedUFI2EmoticonsComposerPlugin",["EmoticonSpan.react","React","getEntityMatcher","installUFI2ComposerInputDecorators","replaceEmoticonsWithEntitiesInEditorState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function h(a,c){a.inputProps.onComposerStateChange(function(a){a=babelHelpers["extends"]({},a,c(a));var d=a.inputState;switch(d.__type){case"editor-state-based":var e=b("replaceEmoticonsWithEntitiesInEditorState")(d.editorState);if(e!==d.editorState)return babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},d,{editorState:e})});else return a;default:return a}})}function a(a){var c={component:b("EmoticonSpan.react"),props:a,strategy:b("getEntityMatcher")(function(a){return a.getType()==="EMOTICON"})};return{installPlugin:function(a){a.onInstallContentBlockToTextWithEntitiesInputMessageMappers(function(a,b,c,d){d=a.getEntityAt(c);if(d==null)return null;a=b.getEntity(d);if(a.getType()==="EMOTICON"){c=a.getData();b=c.originalEmoticon;return{message:{text:b}}}return null})},render:function(a,d){a.subscriptionsHandler;var e=babelHelpers.objectWithoutPropertiesLoose(a,["subscriptionsHandler"]);return g.jsx(d,babelHelpers["extends"]({},e,{inputProps:babelHelpers["extends"]({},e.inputProps,{composerState:b("installUFI2ComposerInputDecorators")(e.inputProps.composerState,c),onComposerStateChange:function(b){return h(a,b)}})}))}}}}),null);
__d("getUpgradedUFI2HashtagComposerPlugin",["HashtagSpan.react","getHashtagMatches","installUFI2ComposerInputDecorators"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){var a={component:b("HashtagSpan.react"),props:{},strategy:b("getHashtagMatches")};return{installHashtagInputDecorator:function(c){return b("installUFI2ComposerInputDecorators")(c,a)}}}}),null);
__d("getUpgradedUFI2PrefillMentionComposerPlugin",["DraftModifier","EditorState","FBLogger","SelectionState","createMentionEntityForContentState","getPlainTextFromUFI2InputState","replaceSelectionWithMention"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function g(a,c){var d=a.inputState,e,f,g;switch(d.__type){case"editor-state-based":e=b("getPlainTextFromUFI2InputState")(d);f=d.editorState;g=!1;if(e.length>0&&f.getCurrentContent().getBlocksAsArray().length===1){g=!0;var h=null,i=f.getCurrentContent().getFirstBlock(),j=i.getText().trim();for(var k=0;k<j.length;k++){var l=i.getEntityAt(k);l=l!=null?f.getCurrentContent().getEntity(l):null;if(l==null||l.getType()!=="MENTION"||k>0&&l.getData().id!==h){g=!1;break}h=l.getData().id}}if(e.trim()===""||g){l=b("replaceSelectionWithMention")(c,f,new(b("SelectionState"))({anchorKey:f.getCurrentContent().getFirstBlock().getKey(),anchorOffset:0,focusKey:f.getCurrentContent().getLastBlock().getKey(),focusOffset:f.getCurrentContent().getLastBlock().getLength()}),b("createMentionEntityForContentState")).getCurrentContent();i=c.getTitle().length;f=b("EditorState").push(f,b("DraftModifier").insertText(l,b("SelectionState").createEmpty(f.getCurrentContent().getLastBlock().getKey()).merge({anchorOffset:i,focusOffset:i})," "),"insert-fragment");return babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},d,{editorState:b("EditorState").moveFocusToEnd(f)})})}else return null;case"plain-text":d.text.trim()===""&&b("FBLogger")("ufi2").warn("Someone called for the composer to be prefilled with a mention but the composer state was of the `plain-text` type. Adding mentions to a plain-text composer is not yet implemented (T29402486).");return null;default:return d.__type}}function a(){return{handleCommand:function(a,b){a.__type==="PrefillMention"&&b.onComposerStateChange(function(b){return g(b,a.mentionableEntity)}),b.handleCommand&&b.handleCommand(a)}}}}),null);
__d("UFI2BanActorMutation",["RelayModern","forEachUFI2DisplayCommentsConnection","UFI2BanActorMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=g!==void 0?g:g=b("UFI2BanActorMutation.graphql");a=function(a,c){var d=c.actorId,e=c.feedbackId,f=c.pageId,g=c.targetUserId,i=c.undoBan;c.feedbackSource;c=function(a){if(e==null)return;var c=a.get(e);if(!c)return;b("forEachUFI2DisplayCommentsConnection")(a,c,function(a){a=a.getLinkedRecords("edges");if(!a)return;a.forEach(function(a){if(!a)return;a=a.getLinkedRecord("node");if(!a)return;var b=a.getLinkedRecord("author");if(!b)return;if(b.getValue("id")===g){b=a.getValue("is_hidden_by_content_owner");a.setValue(i&&b!==!0?"none":"spam","spam_display_mode");a.setValue(!i,"is_author_banned_by_content_owner")}})})};return b("RelayModern").commitMutation(a,{mutation:h,optimisticResponse:{feedback_page_ban:{__typename:"FeedbackPageBanResponsePayload"}},optimisticUpdater:c,updater:c,variables:{input:{actor_id:d,ban_action:i?"UNDO_BAN":"BAN",page_id:f,target_user_id:g}}})};f.commit=a}),null);
__d("URLMatcherConfig",[],(function(a,b,c,d,e,f){e.exports={tlds:"(?:\\.(com|\ud55c\uad6d|\uc0bc\uc131|\ub2f7\ucef4|\ub2f7\ub137|\u9999\u6e2f|\u9999\u683c\u91cc\u62c9|\u9910\u5385|\u98df\u54c1|\u98de\u5229\u6d66|\u96fb\u8a0a\u76c8\u79d1|\u96c6\u56e2|\u901a\u8ca9|\u8d2d\u7269|\u8c37\u6b4c|\u8bfa\u57fa\u4e9a|\u8054\u901a|\u7f51\u7edc|\u7f51\u7ad9|\u7f51\u5e97|\u7f51\u5740|\u7ec4\u7ec7\u673a\u6784|\u79fb\u52a8|\u73e0\u5b9d|\u70b9\u770b|\u6fb3\u9580|\u6e38\u620f|\u6de1\u9a6c\u9521|\u673a\u6784|\u66f8\u7c4d|\u65f6\u5c1a|\u65b0\u95fb|\u65b0\u52a0\u5761|\u653f\u5e9c|\u653f\u52a1|\u624b\u8868|\u624b\u673a|\u6211\u7231\u4f60|\u6148\u5584|\u5fae\u535a|\u5e7f\u4e1c|\u5de5\u884c|\u5bb6\u96fb|\u5a31\u4e50|\u5929\u4e3b\u6559|\u5927\u62ff|\u5927\u4f17\u6c7d\u8f66|\u5728\u7ebf|\u5609\u91cc\u5927\u9152\u5e97|\u5609\u91cc|\u5546\u6807|\u5546\u5e97|\u5546\u57ce|\u53f0\u7063|\u53f0\u6e7e|\u516c\u76ca|\u516c\u53f8|\u516b\u5366|\u5065\u5eb7|\u4fe1\u606f|\u4f5b\u5c71|\u4f01\u4e1a|\u4e2d\u6587\u7f51|\u4e2d\u570b|\u4e2d\u56fd|\u4e2d\u4fe1|\u4e16\u754c|\u30dd\u30a4\u30f3\u30c8|\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3|\u30bb\u30fc\u30eb|\u30b9\u30c8\u30a2|\u30b3\u30e0|\u30b0\u30fc\u30b0\u30eb|\u30af\u30e9\u30a6\u30c9|\u307f\u3093\u306a|\u10d2\u10d4|\u0e44\u0e17\u0e22|\u0e04\u0e2d\u0e21|\u0dbd\u0d82\u0d9a\u0dcf|\u0d2d\u0d3e\u0d30\u0d24\u0d02|\u0cad\u0cbe\u0cb0\u0ca4|\u0c2d\u0c3e\u0c30\u0c24\u0c4d|\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd|\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8|\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe|\u0b2d\u0b3e\u0b30\u0b24|\u0aad\u0abe\u0ab0\u0aa4|\u0a2d\u0a3e\u0a30\u0a24|\u09ad\u09be\u09f0\u09a4|\u09ad\u09be\u09b0\u09a4|\u09ac\u09be\u0982\u09b2\u09be|\u0938\u0902\u0917\u0920\u0928|\u092d\u093e\u0930\u094b\u0924|\u092d\u093e\u0930\u0924\u092e\u094d|\u092d\u093e\u0930\u0924|\u0928\u0947\u091f|\u0915\u0949\u092e|\u0680\u0627\u0631\u062a|\u067e\u0627\u06a9\u0633\u062a\u0627\u0646|\u0647\u0645\u0631\u0627\u0647|\u0645\u0648\u0642\u0639|\u0645\u0648\u0628\u0627\u064a\u0644\u064a|\u0645\u0644\u064a\u0633\u064a\u0627|\u0645\u0635\u0631|\u0643\u0648\u0645|\u0643\u0627\u062b\u0648\u0644\u064a\u0643|\u0642\u0637\u0631|\u0641\u0644\u0633\u0637\u064a\u0646|\u0639\u0645\u0627\u0646|\u0639\u0631\u0628|\u0639\u0631\u0627\u0642|\u0634\u0628\u0643\u0629|\u0633\u0648\u0631\u064a\u0629|\u0633\u0648\u062f\u0627\u0646|\u062a\u0648\u0646\u0633|\u0628\u06be\u0627\u0631\u062a|\u0628\u064a\u062a\u0643|\u0628\u0627\u0632\u0627\u0631|\u0628\u0627\u0631\u062a|\u0627\u06cc\u0631\u0627\u0646|\u0627\u0645\u0627\u0631\u0627\u062a|\u0627\u0644\u0645\u063a\u0631\u0628|\u0627\u0644\u0639\u0644\u064a\u0627\u0646|\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629|\u0627\u0644\u062c\u0632\u0627\u0626\u0631|\u0627\u0644\u0627\u0631\u062f\u0646|\u0627\u0631\u0627\u0645\u0643\u0648|\u0627\u062a\u0635\u0627\u0644\u0627\u062a|\u0627\u0628\u0648\u0638\u0628\u064a|\u05e7\u05d5\u05dd|\u0570\u0561\u0575|\u049b\u0430\u0437|\u0443\u043a\u0440|\u0441\u0440\u0431|\u0441\u0430\u0439\u0442|\u0440\u0444|\u0440\u0443\u0441|\u043e\u0440\u0433|\u043e\u043d\u043b\u0430\u0439\u043d|\u043c\u043e\u0441\u043a\u0432\u0430|\u043c\u043e\u043d|\u043c\u043a\u0434|\u043a\u043e\u043c|\u043a\u0430\u0442\u043e\u043b\u0438\u043a|\u0435\u044e|\u0434\u0435\u0442\u0438|\u0431\u0435\u043b|\u0431\u0433|\u03b5\u03bb|zw|zuerich|zone|zm|zippo|zip|zero|zara|zappos|za|yun|yt|youtube|you|yokohama|yoga|yodobashi|ye|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xn--zfr164b|xn--ygbi2ammx|xn--yfro4i67o|xn--y9a3aq|xn--xkc2dl3a5ee0h|xn--xkc2al3hye2a|xn--xhq521b|xn--wgbl6a|xn--wgbh1c|xn--w4rs40l|xn--w4r85el8fhu5dnra|xn--vuq861b|xn--vhquv|xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--unup4y|xn--tiq49xqyj|xn--tckwe|xn--t60b56a|xn--ses554g|xn--s9brj9c|xn--rvc1e0am3e|xn--rovu88b|xn--rhqv96g|xn--qxam|xn--qcka1pmc|xn--q9jyb4c|xn--pssy2u|xn--pgbs0dh|xn--pbt977c|xn--p1ai|xn--p1acf|xn--ogbpf8fl|xn--o3cw4h|xn--nyqy26a|xn--nqv7fs00ema|xn--nqv7f|xn--node|xn--ngbrx|xn--ngbe9e0a|xn--ngbc5azd|xn--mxtq1m|xn--mk1bu44c|xn--mix891f|xn--mgbx4cd0ab|xn--mgbtx2b|xn--mgbt3dhd|xn--mgbpl2fh|xn--mgbi4ecexp|xn--mgbgu82a|xn--mgberp4a5d4ar|xn--mgbca7dzdo|xn--mgbc0a9azcg|xn--mgbbh1a71e|xn--mgbbh1a|xn--mgbb9fbpob|xn--mgbayh7gpa|xn--mgbai9azgqp6j|xn--mgbab2bd|xn--mgbaam7a8h|xn--mgbaakc7dvf|xn--mgba7c0bbn0a|xn--mgba3a4f16a|xn--mgba3a3ejt|xn--mgb9awbf|xn--lgbbat1ad8j|xn--l1acc|xn--kput3i|xn--kpu716f|xn--kpry57d|xn--kprw13d|xn--kcrx77d1x4a|xn--jvr189m|xn--jlq61u9w7b|xn--j6w193g|xn--j1amh|xn--j1aef|xn--io0a7i|xn--imr513n|xn--i1b6b1a6a2e|xn--hxt814e|xn--h2brj9c8c|xn--h2brj9c|xn--h2breg3eve|xn--gk3at1e|xn--gecrj9c|xn--gckr3f0f|xn--g2xx48c|xn--fzys8d69uvgm|xn--fzc2c9e2c|xn--fpcrj9c3d|xn--flw351e|xn--fjq720a|xn--fiqz9s|xn--fiqs8s|xn--fiq64b|xn--fiq228c5hs|xn--fhbei|xn--fct429k|xn--estv75g|xn--efvy88h|xn--eckvdtc9d|xn--e1a4c|xn--d1alf|xn--d1acj3b|xn--czru2d|xn--czrs0t|xn--czr694b|xn--clchc0ea0b2g2a9gcd|xn--cg4bki|xn--cck2b3b|xn--c2br7g|xn--c1avg|xn--bck1b9a5dre4c|xn--b4w605ferd|xn--9krt00a|xn--9et52u|xn--9dbq2a|xn--90ais|xn--90ae|xn--90a3ac|xn--8y0a063a|xn--80aswg|xn--80asehdb|xn--80aqecdr1a|xn--80ao21a|xn--80adxhks|xn--6qq986b3xl|xn--6frz82g|xn--5tzm5g|xn--5su34j936bgsg|xn--55qx5d|xn--55qw42g|xn--54b7fta0cc|xn--4gbrim|xn--45q11c|xn--45brj9c|xn--45br5cyl|xn--42c2d9a|xn--3pxu8k|xn--3oq18vl8pn36a|xn--3hcrj9c|xn--3e0b707e|xn--3ds443g|xn--3bst00m|xn--30rr7y|xn--2scrj9c|xn--1qqw23a|xn--1ck2e1b|xn--11b4c3d|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|ws|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|wf|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|vu|voyage|voto|voting|vote|volvo|volkswagen|vodka|vn|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vi|vg|vet|versicherung|verm\xf6gensberatung|verm\xf6gensberater|verisign|ventures|vegas|ve|vc|vanguard|vana|vacations|va|uz|uy|us|ups|uol|uno|university|unicom|uk|ug|uconnect|ubs|ubank|ua|tz|tw|tvs|tv|tushu|tunes|tui|tube|tt|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|tr|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|to|tn|tmall|tm|tl|tkmaxx|tk|tjx|tjmaxx|tj|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|th|tg|tf|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|td|tci|tc|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|sz|systems|symantec|sydney|sy|sx|swiss|swiftcover|swatch|sv|suzuki|surgery|surf|support|supply|supplies|sucks|su|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|st|srt|srl|sr|spreadbetting|spot|sport|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|so|sncf|sn|smile|smart|sm|sling|sl|skype|sky|skin|ski|sk|sj|site|singles|sina|silk|si|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sh|sg|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|se|sd|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sc|sbs|sbi|sb|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|sa|ryukyu|rwe|rw|run|ruhr|rugby|ru|rsvp|rs|room|rogers|rodeo|rocks|rocher|ro|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|re|raid|radio|racing|qvc|quest|quebec|qpon|qa|py|pwc|pw|pub|pt|ps|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|pr|post|porn|politie|poker|pohl|pnc|pn|pm|plus|plumbing|playstation|play|place|pl|pk|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|ph|pg|pfizer|pf|pet|pe|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|page|pa|ovh|ott|otsuka|osaka|origins|organic|org|orange|oracle|open|ooo|onyourside|online|onl|onion|ong|one|omega|om|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nz|nyc|nu|ntt|nrw|nra|nr|np|nowtv|nowruz|now|norton|northwesternmutual|nokia|no|nl|nissay|nissan|ninja|nikon|nike|nico|ni|nhk|ngo|ng|nfl|nf|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|ne|nc|nba|navy|natura|nationwide|name|nagoya|nadex|nab|na|mz|my|mx|mw|mv|mutual|museum|mu|mtr|mtn|mt|msd|ms|mr|mq|mp|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mo|mn|mma|mm|mls|mlb|ml|mk|mitsubishi|mit|mint|mini|mil|microsoft|miami|mh|mg|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|me|md|mckinsey|mc|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|ma|ly|lv|luxury|luxe|lupin|lundbeck|lu|ltda|ltd|lt|ls|lr|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|lk|llc|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|li|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lc|lb|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|la|kz|kyoto|ky|kw|kuokgroup|kred|krd|kr|kpn|kpmg|kp|kosher|komatsu|koeln|kn|km|kiwi|kitchen|kindle|kinder|kim|kia|ki|kh|kg|kfh|kerryproperties|kerrylogistics|kerryhotels|ke|kddi|kaufen|juniper|juegos|jprs|jpmorgan|jp|joy|jot|joburg|jobs|jo|jnj|jmp|jm|jll|jlc|jio|jewelry|jetzt|jeep|je|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|it|istanbul|ist|ismaili|iselect|is|irish|ir|iq|ipiranga|io|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|inc|in|immobilien|immo|imdb|imamat|im|il|ikano|ifm|ieee|ie|id|icu|ice|icbc|ibm|hyundai|hyatt|hughes|hu|ht|hsbc|hr|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hn|hm|hkt|hk|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|gy|gw|guru|guitars|guide|guge|gucci|guardian|gu|gt|gs|group|grocery|gripe|green|gratis|graphics|grainger|gr|gq|gp|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gn|gmx|gmo|gmbh|gmail|gm|globo|global|gle|glass|glade|gl|giving|gives|gifts|gift|gi|gh|ggee|gg|gf|george|genting|gent|gea|ge|gdn|gd|gbiz|gb|garden|gap|games|game|gallup|gallo|gallery|gal|ga|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fr|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fo|fm|fly|flowers|florist|flir|flights|flickr|fk|fj|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|fi|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|eu|etisalat|et|esurance|estate|esq|es|erni|ericsson|er|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|eg|ee|education|edu|edeka|eco|ec|eat|earth|dz|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|domains|doha|dog|dodge|doctor|docs|do|dnp|dm|dk|dj|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|de|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cz|cyou|cymru|cy|cx|cw|cv|cuisinella|cu|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cr|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|co|cn|cm|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cl|ck|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|ci|church|chrysler|chrome|christmas|chintai|cheap|chat|chase|channel|chanel|ch|cg|cfd|cfa|cf|cern|ceo|center|ceb|cd|cc|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|ca|bzh|bz|by|bw|bv|buzz|buy|business|builders|build|bugatti|budapest|bt|bs|brussels|brother|broker|broadway|bridgestone|bradesco|br|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bo|bnpparibas|bnl|bn|bmw|bms|bm|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|bj|biz|bio|bingo|bing|bike|bid|bible|bi|bharti|bh|bg|bf|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|be|bd|bcn|bcg|bbva|bbt|bbc|bb|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|ba|azure|az|axa|ax|aws|aw|avianca|autos|auto|author|auspost|audio|audible|audi|auction|au|attorney|athleta|at|associates|asia|asda|as|arte|art|arpa|army|archi|aramco|arab|ar|aquarelle|aq|apple|app|apartments|aol|ao|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|am|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|al|akdn|airtel|airforce|airbus|aigo|aig|ai|agency|agakhan|ag|africa|afl|afamilycompany|af|aetna|aero|aeg|ae|adult|ads|adac|ad|actor|active|aco|accountants|accountant|accenture|academy|ac|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa))"}}),null);
__d("CometOnBeforeUnload.react",["useOnBeforeUnload"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){a=a.onBeforeUnload;b("useOnBeforeUnload")(a);return null}}),null);
__d("CometComposerFormRefContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext({current:null});e.exports=c}),null);
__d("CometComposerPluginsContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext({decorators:new Map(),handlers:new Map()});e.exports=c}),null);
__d("CometComposerPluginsDispatchContext",["React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(b("emptyFunction"));e.exports=c}),null);
__d("CometComposerPreSubmitHooksContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext({current:new Map()});e.exports=c}),null);
__d("cometComposerPluginsReducers",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function g(a,b){var c=a.get(b);if(c!=null){a.set(b,c+1);return a}else{c=new Map(a);c.set(b,1);return c}}function h(a,b){var c=a.get(b);if(c!=null)if(c>1)a.set(b,c-1);else{c=new Map(a);c["delete"](b);return c}return a}function a(a,b){switch(b.type){case"install_decorator":case"uninstall_decorator":var c=b.type==="install_decorator"?g(a.decorators,b.decorator):h(a.decorators,b.decorator);if(c!==a.decorators)return babelHelpers["extends"]({},a,{decorators:c});break;case"install_handler":case"uninstall_handler":c=b.type==="install_handler"?g(a.handlers,b.handler):h(a.handlers,b.handler);if(c!==a.handlers)return babelHelpers["extends"]({},a,{handlers:c});break}return a}}),null);
__d("getComposerPluginEligibility",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){var c=new Set();for(var d in a){var e=a[d];e=e(b);e!=null&&e.forEach(function(a){return c.add(a)})}return c}}),null);
__d("getComposerValidationErrors",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){var c={};for(var d in a){var e=a[d];e=e(b);e!=null&&(c[d]=e)}return c}}),null);
__d("reduceComposerViewState",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b,c,d,e){var f=c;c=a.current.keys();for(var a=c,c=Array.isArray(a),g=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(c){if(g>=a.length)break;h=a[g++]}else{g=a.next();if(g.done)break;h=g.value}h=h;f=h(f,e)}return babelHelpers["extends"]({},f,{isDirty:Array.from(b.current.keys()).some(function(a){return a(d,f)})})}}),null);
__d("CometComposer.react",["Promise","CometComposerFormRefContext","CometComposerIneligibilityContext","CometComposerLoggerDispatcherContext","CometComposerPluginsContext","CometComposerPluginsDispatchContext","CometComposerPreSubmitHooksContext","CometComposerValidationErrorsContext","CometComposerViewStateAlteredContext","CometComposerViewStateContext","CometComposerViewStateDispatcherContext","CometComposerViewStateReducersContext","CometOnBeforeUnload.react","React","cometComposerPluginsReducers","createEmptyCometComposerViewState","getComposerPluginEligibility","getComposerUnsavedChangesAlert","getComposerValidationErrors","recoverableViolation","reduceComposerViewState","shallowEqual"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c){var d=a.beginningViewState,e=a.children,f=a.eligibilityCheckers,h=a.loggers,i=a.onBeforeViewStateChange,j=a.onSubmitCommit,k=a.onSubmitHalt,l=a.onSubmitStart,m=a.onValidationErrors,n=a.registerOnBeforeUnload;n=n===void 0?!0:n;var o=a.target,p=a.unalteredBeginningViewState,q=a.validators,r=g.useRef(new Map()),s=g.useRef(new Map()),t=g.useRef({}),u=g.useRef(new Set()),v=g.useRef(new Map()),w=g.useRef(null);a=g.useRef(null);d=g.useReducer(function(a,c){c=b("reduceComposerViewState")(r,s,a,p,c);w.current=c;i&&i(c,a);return c},d,b("createEmptyCometComposerViewState"));var x=d[0];d=d[1];var y=function(){if(!Boolean(x==null?void 0:x.ignoreDirtyFlag))return b("getComposerUnsavedChangesAlert")(x==null?void 0:x.isDirty)};g.useImperativeHandle(c,function(){return{getViewState:function(){return x}}},[x]);c=g.useReducer(b("cometComposerPluginsReducers"),{decorators:new Map(),handlers:new Map()});var z=c[0];c=c[1];var A=g.useMemo(function(){return q!=null?b("getComposerValidationErrors")(q,x):{}},[q,x]);b("shallowEqual")(t.current,A)||(t.current=A);A=g.useMemo(function(){return f!=null?b("getComposerPluginEligibility")(f,x):new Set()},[f,x]);u.current.size===A.size&&Array.from(A).every(function(a){return u.current.has(a)})||(u.current=A);var B=g.useCallback(function(a){a!=null&&a.type!=="press"&&a.preventDefault();if(Object.keys(t.current).length>0){m&&m(t.current);return}var c=w.current;if(c==null)return;l&&l();a=v.current;if(a){a=Array.from(a.keys()).reduce(function(a,d){return a.then(function(){return new(b("Promise"))(function(a,b){d({onContinue:a,onHalt:b},c)})})},b("Promise").resolve());a.then(function(){j(c)})["catch"](function(){k&&k()})}else j(c)},[j,k,l,m]),C=x.creationSessionID;A=g.useMemo(function(){return function(a){var c;C==null?b("recoverableViolation")("creationSessionID should be defined in composer of type "+String(o==null?void 0:o.type),"comet_composer"):((c=h)!=null?c:[]).map(function(b){return b(a,C,{target:o})})}},[C,o,h]);return g.jsx(b("CometComposerPluginsDispatchContext").Provider,{value:c,children:g.jsx(b("CometComposerPluginsContext").Provider,{value:z,children:g.jsx(b("CometComposerViewStateReducersContext").Provider,{value:r,children:g.jsx(b("CometComposerViewStateAlteredContext").Provider,{value:s,children:g.jsx(b("CometComposerViewStateContext").Provider,{value:x,children:g.jsx(b("CometComposerViewStateDispatcherContext").Provider,{value:d,children:g.jsx(b("CometComposerValidationErrorsContext").Provider,{value:t.current,children:g.jsx(b("CometComposerIneligibilityContext").Provider,{value:u.current,children:g.jsx(b("CometComposerLoggerDispatcherContext").Provider,{value:A,children:g.jsx(b("CometComposerPreSubmitHooksContext").Provider,{value:v,children:g.jsxs(b("CometComposerFormRefContext").Provider,{value:a,children:[g.jsxs("form",{"data-testid":void 0,method:"POST",onSubmit:B,ref:a,children:[g.useMemo(function(){return e(B)},[e,B]),g.jsx("input",{style:{display:"none"},type:"submit"})]}),n?g.jsx(b("CometOnBeforeUnload.react"),{onBeforeUnload:y}):null]})})})})})})})})})})})}c=g.forwardRef(a);e.exports=c}),null);
__d("useCometComposerDecorator",["CometComposerPluginsDispatchContext","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=g.useContext(b("CometComposerPluginsDispatchContext"));g.useEffect(function(){c({decorator:a,type:"install_decorator"});return function(){return c({decorator:a,type:"uninstall_decorator"})}},[a,c])}}),null);
__d("useCometComposerFormRef",["CometComposerFormRefContext","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=g.useContext(b("CometComposerFormRefContext"));return a.current}}),null);
__d("useCometComposerHandler",["CometComposerPluginsDispatchContext","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=g.useContext(b("CometComposerPluginsDispatchContext"));g.useEffect(function(){c({handler:a,type:"install_handler"});return function(){return c({handler:a,type:"uninstall_handler"})}},[c,a])}}),null);
__d("getSelectionOffsets",[],(function(a,b,c,d,e,f){"use strict";e.exports=b;function b(b){var c=a.getSelection();if(c==null||c.rangeCount===0)return null;var d=c.anchorNode,e=c.anchorOffset,f=c.focusNode;c=c.focusOffset;if(d==null||f==null)return null;var g=0,h=-1,i=-1,j=0,k=0,l=b,m=null;outer:while(!0){var n=null;while(!0){var o;l!=null&&l===d&&(e===0||l.nodeType===Node.TEXT_NODE)&&(h=g+e);l!=null&&l===f&&(c===0||l.nodeType===Node.TEXT_NODE)&&(i=g+c);l!=null&&l.nodeType===Node.TEXT_NODE&&(g+=l.nodeValue.length);if((n=(o=l)==null?void 0:o.firstChild)===null)break;m=l;l=n}while(!0){if(l===b)break outer;m===d&&++j===e&&(h=g);m===f&&++k===c&&(i=g);if((n=(o=l)==null?void 0:o.nextSibling)!==null)break;l=m;m=(o=l)==null?void 0:o.parentNode}l=n}return h===-1||i===-1?null:{end:i,isCollapsed:d===f&&c===e,start:h}}}),null);
__d("setSelectionOffsets",[],(function(a,b,c,d,e,f){"use strict";e.exports=b;function g(a){a=a;while(a!=null&&a.firstChild!=null)a=a.firstChild;return a}function h(a){a=a;while(a!=null){if(a.nextSibling!=null)return a.nextSibling;a=a.parentNode}return null}function i(a,b){var c=g(a),d=0,e;while(c!=null){if(c.nodeType===Node.TEXT_NODE){e=d+c.textContent.length;if(d<=b&&e>=b)return{node:c,offset:b-d};d=e}e=h(c);c=e!=null?g(e):null;if(c!=null&&c.contains(a))return null}return null}function b(b,c){var d=a.getSelection(),e=b.textContent.length,f=Math.min(c.start,e);c=Math.min(c.end,e);if(!d.extend==null&&f>c){e=c;c=f;f=e}e=i(b,f);b=i(b,c);if(e!=null&&b!=null){var g=document.createRange();g.setStart(e.node,e.offset);d.removeAllRanges();f>c?(d.addRange(g),d.extend(b.node,b.offset)):(g.setEnd(b.node,b.offset),d.addRange(g))}}}),null);
__d("CometPlaintextEditor.react",["FBLogger","React","ReactDOMComet","clearTimeout","getSelectionOffsets","setSelectionOffsets","setTimeout","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=8,i=46,j=13;c=function(c){babelHelpers.inheritsLoose(d,c);function d(){var d,e;for(var f=arguments.length,k=new Array(f),l=0;l<f;l++)k[l]=arguments[l];return(d=e=c.call.apply(c,[this].concat(k))||this,e.$1=g.createRef(),e.$4=function(a){e.$1.current=a,e.props.onInputRefUpdate&&e.props.onInputRefUpdate(a)},e.$8=function(a){e.props.onBeforeInput&&e.props.onBeforeInput(a),e.$9()},e.$11=function(a){e.props.onBlur&&e.props.onBlur(a),e.props.editorState.hasFocus&&e.notify(babelHelpers["extends"]({},e.props.editorState,{hasFocus:!1,isPendingSelection:!1}))},e.$12=function(a){e.props.onCompositionEnd&&e.props.onCompositionEnd(a),e.props.editorState.isComposing&&e.notify(babelHelpers["extends"]({},e.props.editorState,{isComposing:!1}))},e.$13=function(a){e.props.onCompositionStart&&e.props.onCompositionStart(a),e.props.editorState.isComposing||e.notify(babelHelpers["extends"]({},e.props.editorState,{isComposing:!0}))},e.$14=function(a){e.props.onCut&&e.props.onCut(a),a.isDefaultPrevented()||e.$9()},e.$15=function(a){e.$10();e.props.onInput&&e.props.onInput(a);if(!a.isDefaultPrevented()){a=e.$6();a!==null&&e.props.editorState.text!==a&&e.notify(babelHelpers["extends"]({},e.props.editorState,{text:a}))}},e.$16=function(a){var b=e.props.onReturn;if(b!=null&&a.keyCode===j&&!(a.getModifierState("Shift")||a.getModifierState("Alt")||a.getModifierState("Control"))){b(a);return}e.props.onKeyDown&&e.props.onKeyDown(a);!a.isDefaultPrevented()&&(a.keyCode===h||a.keyCode===i)&&e.$9()},e.$17=function(a){e.props.onFocus&&e.props.onFocus(a),!a.isDefaultPrevented()&&!e.props.editorState.hasFocus&&e.notify(babelHelpers["extends"]({},e.props.editorState,{hasFocus:!0}))},e.$18=function(){e.notify(babelHelpers["extends"]({},e.props.editorState,{isPendingSelection:!0})),e.$2=b("setTimeout")(function(){b("FBLogger")("CometPlaintextEditor").warn("_onMouseDown had no corresonding mouseup event for 30s."),e.notify(babelHelpers["extends"]({},e.props.editorState,{isPendingSelection:!1}))},3e4),document.addEventListener("mouseup",function(){var a=e.$1.current;a===document.activeElement&&e.notify(babelHelpers["extends"]({},e.props.editorState,{isPendingSelection:!1}))},{once:!0})},e.$19=function(b){e.props.onPaste&&e.props.onPaste(b);if(!b.isDefaultPrevented()){b.preventDefault();try{b=b.clipboardData.getData("text/plain")}catch(d){var c;typeof ((c=a.clipboardData)==null?void 0:c.getData)==="function"&&(b=a.clipboardData.getData("Text"))}if(b!=null&&!document.execCommand("insertText",!1,b)&&!document.execCommand("insertHTML",!1,b)){c=a.getSelection();if(c!=null){var d=c.getRangeAt(0);if(d!=null){d.deleteContents();b=document.createTextNode(b);d.insertNode(b);d=d.cloneRange();d.setStartAfter(b);d.collapse(!0);c.removeAllRanges();c.addRange(d);e.$9();return}}}b=e.$6();b!==null&&e.props.editorState.text!==b&&e.notify(babelHelpers["extends"]({},e.props.editorState,{text:b}))}},e.$20=function(a){e.props.onSelect&&e.props.onSelect(a);var c=e.$1.current;if(!a.isDefaultPrevented()&&c!=null){a=b("getSelectionOffsets")(c);e.notify(babelHelpers["extends"]({},e.props.editorState,{isPendingSelection:!1,selectionOffsets:a}))}},d)||babelHelpers.assertThisInitialized(e)}var e=d.prototype;e.componentDidMount=function(){this.$5()};e.componentDidUpdate=function(a){(a.editorState.text!==this.props.editorState.text||a.editorState.selectionOffsets!==this.props.editorState.selectionOffsets)&&this.$5()};e.componentWillUnmount=function(){b("clearTimeout")(this.$2),delete this.$2,b("clearTimeout")(this.$3),delete this.$3};e.notify=function(a){var c=this,d=b("ReactDOMComet").unstable_flushControlled,e=function(){!a.isPendingSelection&&c.$2!=null&&(b("clearTimeout")(c.$2),delete c.$2),c.props.onStateChange(a)};d!=null?d(function(){return e()}):e()};e.$6=function(){var a=this.$1.current;if(a==null)return null;var b=a.innerText||"";return a.textContent!==""?b:""};e.$5=function(){var a=this.$1.current;if(a===null||this.$7())return;var c=this.props.editorState.text,d=this.props.editorState.selectionOffsets;document.activeElement===a&&d==null&&(d=b("getSelectionOffsets")(a));var e=this.$6();e!==null&&c!==e&&(a.innerText=c,d!=null&&(c===""?(a.innerText="\xa0",b("setSelectionOffsets")(a,{end:0,start:0}),document.execCommand("delete",!1,null)):b("setSelectionOffsets")(a,{end:d.end,start:d.start})))};e.$7=function(){return this.$3!=null};e.$10=function(){b("clearTimeout")(this.$3),delete this.$3};e.$9=function(){var a=this;this.$7()&&this.$10();this.$3=b("setTimeout")(function(){var c=a.$1.current;if(c==null||!a.$7())return;a.$10();var d=a.$6();if(d!==null&&a.props.editorState.text!==d){c=b("getSelectionOffsets")(c);a.notify(babelHelpers["extends"]({},a.props.editorState,{selectionOffsets:c,text:d}))}},0)};e.focus=function(){this.$1.current&&this.$1.current.focus()};e.focusEnd=function(){var a=this.$1.current;if(a&&window.getSelection&&document.createRange){var b=document.createRange();b.selectNodeContents(a);b.collapse(!1);a=window.getSelection();a.removeAllRanges();a.addRange(b)}};e.render=function(){var a=this.props,b=a.editorState,c=a.onClick;a.onStateChange;var d=a.placeholder,e=a.readOnly;e=e===void 0?!1:e;var f=a.testid;f=babelHelpers.objectWithoutPropertiesLoose(a,["editorState","onClick","onStateChange","placeholder","readOnly","testid"]);f.onInputRefUpdate;f.onReturn;a=babelHelpers.objectWithoutPropertiesLoose(f,["onInputRefUpdate","onReturn"]);f=b.text.trim().length>0;b=g.jsxs("div",{className:"k4urcfbm l9j0dhe7 datstx6m","data-testid":void 0,children:[g.jsx("div",babelHelpers["extends"]({},a,{className:"tkr6xdv7 qv66sw1b ieid39z1 l9j0dhe7 lzcic4wl datstx6m r7d6kgcz e9989ue4 esr5mh6w qu0x051f g5ia77u1",contentEditable:!e,onBeforeInput:this.$8,onBlur:this.$11,onCompositionEnd:this.$12,onCompositionStart:this.$13,onCut:this.$14,onFocus:this.$17,onInput:this.$15,onKeyDown:this.$16,onMouseDown:this.$18,onPaste:this.$19,onSelect:this.$20,ref:this.$4})),f||d==null?null:g.jsx("div",{className:"du4w35lb abiwlrkh kr520xx4 ltmttdrg j9ispegn pmk7jnqg hzruof5a stjgntxs ni8dbmo4 n7fi1qx3 pipptul6 i09qtzwb",children:d})]});return c!=null?g.jsx("div",{onClick:c,role:"none",children:b}):b};return d}(g.PureComponent);e.exports=c}),null);
__d("DeferredDraftEditor.react",["CometPlaintextEditor.react","React","SubscriptionsHandler","requireCond","requireDeferred","stylex","cr:1600421"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=b("requireDeferred")("DraftEditor.react"),j=b("requireDeferred")("EditorState"),k=b("requireDeferred")("getEditorStateFromContentEditableState"),l={root:{boxSizing:"rq0escxv",height:"datstx6m",width:"k4urcfbm"}};function m(){return{DraftEditor:i.getModuleIfRequireable(),EditorState:j.getModuleIfRequireable(),getEditorStateFromContentEditableState:k.getModuleIfRequireable()}}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var d,e;for(var f=arguments.length,g=new Array(f),i=0;i<f;i++)g[i]=arguments[i];return(d=e=a.call.apply(a,[this].concat(g))||this,e.$1=h.createRef(),e.$2=null,e.$3=h.createRef(),e.$4=new(b("SubscriptionsHandler"))(),e.$5=function(a){var b=e.props.handlePastedFiles;if(b){var c=a.clipboardData;c=c.items!=null?Array.from(c.items):[];c=c.map(function(a){return a.getAsFile()}).filter(Boolean);c.length&&(b(c)==="handled"&&a.preventDefault())}},e.$7=function(a){if(b("cr:1600421")===null)return;if(a!=null&&!b("cr:1600421").isRegistered(a)){e.$2&&b("cr:1600421").unregister(e.$2);e.$2=a;b("cr:1600421").registerForMeasurement(a,(a=e.props.typingPerformanceID)!=null?a:"DeferredDraftEditor")}},e.$8=function(a){e.$1.current=a;a=a==null?void 0:a.editor;var b=e.props.onInputRefUpdate;b!=null&&b(a instanceof HTMLDivElement?a:null)},e.$6=function(){var a=e.props.editorState;if(a.__type!==c.PLAIN_TEXT||a.isPendingSelection||a.isComposing||!c.richDependenciesAreMet())return;var b=m();b=b.getEditorStateFromContentEditableState;if(b==null)return;var d=e.props,f=d.decorator;d=d.onStateChange;d&&d({__type:c.EDITOR_STATE,draftEditorState:b(a,f)})},e.onEditorStateChange=function(a){if(e.props.onStateChange!=null){var b=e.props.editorState;b.draftEditorState!==a&&e.props.onStateChange(b.__type===c.EDITOR_STATE?babelHelpers["extends"]({},b,{draftEditorState:a}):{__type:c.EDITOR_STATE,draftEditorState:a})}},e.onPlainTextChange=function(a){e.props.onStateChange&&e.props.onStateChange(a)},e.onPlaintextReturn=function(a){e.props.handleReturn&&e.props.handleReturn(a)},d)||babelHelpers.assertThisInitialized(e)}c.richDependenciesAreMet=function(){var a=m();for(var b in a)if(a[b]==null)return!1;return!0};c.createEmptyComposerState=function(){var a=m();a=a==null?void 0:a.EditorState;return a!=null&&c.richDependenciesAreMet()?{__type:c.EDITOR_STATE,draftEditorState:a.createEmpty()}:{__type:c.PLAIN_TEXT,hasFocus:!1,isComposing:!1,isPendingSelection:!1,selectionOffsets:null,text:""}};var d=c.prototype;d.componentDidMount=function(){var a=this.props.autoFocus;!c.richDependenciesAreMet()?this.$4.addSubscriptions(i.onReady(this.$6),j.onReady(this.$6),k.onReady(this.$6)):this.$6();a===!0&&this.focusEnd()};d.focus=function(){this.$3.current!=null?this.$3.current.focus():this.$1.current!=null&&this.$1.current.focus()};d.focusEnd=function(){if(this.$3.current!=null)this.$3.current.focusEnd();else if(this.$1.current!=null){var a=j.getModuleIfRequired(),b=this.props.onStateChange;if(a!=null&&b!=null){var c=this.props.editorState;c.draftEditorState&&b({__type:"editor-state-based",draftEditorState:a.moveFocusToEnd(c.draftEditorState)})}}};d.componentDidUpdate=function(){this.$6()};d.componentWillUnmount=function(){this.$4.release();var a=this.$2;a&&b("cr:1600421")&&b("cr:1600421").unregister(a)};d.render=function(){var a=m();a=a==null?void 0:a.DraftEditor;var d=this.props,e=d.editorState;d=babelHelpers.objectWithoutPropertiesLoose(d,["editorState"]);if(a&&e.__type===c.EDITOR_STATE)return h.jsx("div",{className:(g||(g=b("stylex")))(l.root,this.props.xstyle),children:h.jsx(a,babelHelpers["extends"]({},d,{editorRef:this.$7,editorState:e.draftEditorState,onChange:this.onEditorStateChange,onClick:this.props.onClick,placeholder:this.props.placeholder,ref:this.$8,tabIndex:0,webDriverTestID:this.props.testid!==void 0?this.props.testid+":rich-input":void 0}))});else if(e.__type===c.EDITOR_STATE)throw i.load();else if(e.__type===c.PLAIN_TEXT)return h.jsx("div",{className:(g||(g=b("stylex")))(l.root,this.props.xstyle),children:h.jsx(b("CometPlaintextEditor.react"),{editorState:e,onClick:this.props.onClick,onInputRefUpdate:this.props.onInputRefUpdate,onPaste:this.$5,onReturn:this.onPlaintextReturn,onStateChange:this.onPlainTextChange,placeholder:this.props.placeholder,ref:this.$3,testid:void 0})})};return c}(h.PureComponent);e.exports=a;a.EDITOR_STATE="editor-state-based";a.PLAIN_TEXT="plain-text"}),null);
__d("createComposerDeferredPlugin",["React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");c=b("React");var h=c.useEffect,i=c.useRef,j=c.useState;function a(a){function b(b){var c=i(a.getModuleIfRequireable()),d=j(c.current!=null);d[0];var e=d[1];h(function(){var b=a.onReady(function(a){c.current=a,e(!0)});b=b.remove;return b},[]);if(c.current!=null){d=c.current;return g.jsx(d,babelHelpers["extends"]({},b))}return null}return g.memo(b)}e.exports=a}),null);
__d("getDeferredComposerTransformer",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return function(b,c,d){a.loadImmediately(function(a){a(b,c,d)})}}}),null);
__d("reduceComposerViewStateToCreationData",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b,c,d){function e(c,f){var g=b[f];if(g!=null){var h=function(a){e(a,f+1)};g(a,c,h)}else d(c)}e(c,0)}}),null);
__d("CometMentionsA11yContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(function(){});e.exports=c}),null);
__d("composerEditorRefViewStateReducer",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){switch(b.type){case"update_editor_ref":if(b.editorRef!==a.editorRef)return babelHelpers["extends"]({},a,{editorRef:b.editorRef});break}return a}}),null);
__d("composerEditorStateViewStateReducer",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){switch(b.type){case"update_editor_state":if(b.editorState!==a.editorState)return babelHelpers["extends"]({},a,{editorState:b.editorState});break;case"update_draft_editor_state":var c=a.editorState;if(c!=null&&c.__type==="editor-state-based"&&c.draftEditorState!==b.draftEditorState)return babelHelpers["extends"]({},a,{editorState:babelHelpers["extends"]({},c,{draftEditorState:b.draftEditorState})});break}return a}}),null);
__d("composerTextStateChecker",["getPlainTextFromDeferredDraftEditorState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){a=(a==null?void 0:a.editorState)?b("getPlainTextFromDeferredDraftEditorState")(a==null?void 0:a.editorState):"";c=(c==null?void 0:c.editorState)?b("getPlainTextFromDeferredDraftEditorState")(c==null?void 0:c.editorState):"";return a!==c}}),null);
__d("useCometMentionsARIAProperties",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=g.useState(),b=a[0],c=a[1];a=g.useState();var d=a[0],e=a[1];a=g.useCallback(function(a,b){e(a),c(b)},[]);return[{ariaActiveDescendantID:d,ariaControls:b},a]}}),null);
__d("useMemoCompositeDecorator",["CometComposerPluginsContext","React","requireDeferred"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=b("requireDeferred")("CompositeDraftDecorator");function a(){var a=g.useContext(b("CometComposerPluginsContext")),c=a.decorators,d=h.getModuleIfRequired();a=g.useState(d!=null);a[0];var e=a[1];g.useEffect(function(){var a=h.onReady(function(){e(!0)});return a.remove},[]);return g.useMemo(function(){if(d==null)return null;if(c.size===0)return null;var a=Array.from(c.keys());a.sort(function(a,b){return a.priority-b.priority});return new d(a)},[c,d])}}),null);
__d("CometComposerEditor.react",["CometComposerPluginsContext","CometMentionsA11yContext","DeferredDraftEditor.react","DraftEditorFlushControlled","Keys","React","composerEditorRefViewStateReducer","composerEditorStateViewStateReducer","composerTextStateChecker","getDefaultKeyBinding","isSoftNewlineEvent","requireDeferred","stylex","useCometComposerFormRef","useCometMentionsARIAProperties","useComposerViewStateDispatcher","useComposerViewStateReducer","useMemoCompositeDecorator","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("requireDeferred")("EditorState"),i={root:{boxSizing:"rq0escxv",display:"a8c37x1j",height:"datstx6m",width:"k4urcfbm"}};function j(a,b){if(a==null)return b;return b==null?a:function(){var c=a.apply(void 0,arguments);return c==="handled"?c:b.apply(void 0,arguments)}}function k(a,b){if(a==null)return b;return b==null?a:function(c){var d=b(c);d==null&&(d=a(c));return d}}function l(a,b,c){switch(a){case"ComposerEditor/submit":return"handled"}return"not-handled"}function m(a){var c=g.useContext(b("CometComposerPluginsContext")),d=c.handlers;return g.useMemo(function(){var b=Array.from(d.keys());b.sort(function(a,b){return a.priority-b.priority});return b.reduce(function(a,b){return{handleBeforeInput:j(a.handleBeforeInput,b.handleBeforeInput),handleDrop:j(a.handleDrop,b.handleDrop),handleDroppedFiles:j(a.handleDroppedFiles,b.handleDroppedFiles),handleKeyCommand:j(a.handleKeyCommand,b.handleKeyCommand),handlePastedFiles:j(a.handlePastedFiles,b.handlePastedFiles),handlePastedText:j(a.handlePastedText,b.handlePastedText),handleReturn:j(a.handleReturn,b.handleReturn),keyBindingFn:k(a.keyBindingFn,b.keyBindingFn)}},a)},[d,a.handleBeforeInput,a.handleDrop,a.handleDroppedFiles,a.handleKeyCommand,a.handlePastedFiles,a.handlePastedText,a.handleReturn,a.keyBindingFn])}function a(a,c){var d=a.autoFocus;d=d===void 0?!0:d;var e=a.draftEditorRendering,f=a.editorState,j=a.onChange,n=a.onEscape,o=a.readOnly;o=o===void 0?!1:o;var p=a.spellCheck;p=p===void 0?!0:p;var q=a.stripPastedStyles;q=q===void 0?!0:q;var r=a.submitOnEnter,s=r===void 0?!1:r;r=a.testid;r=a.textAlignment;var t=a.textDirectionality,u=a.typingPerformanceID;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoFocus","draftEditorRendering","editorState","onChange","onEscape","readOnly","spellCheck","stripPastedStyles","submitOnEnter","testid","textAlignment","textDirectionality","typingPerformanceID"]);var v=g.useRef(!1),w=g.useRef(!1),x=b("useCometComposerFormRef")();b("useComposerViewStateReducer")(b("composerEditorStateViewStateReducer"),b("composerTextStateChecker"));b("useComposerViewStateReducer")(b("composerEditorRefViewStateReducer"));var y=f!=null&&f.__type==="editor-state-based"?f.draftEditorState.isInCompositionMode():!1;g.useEffect(function(){if(v.current&&!y&&w.current){w.current=!1;if(x!=null){var a=new Event("submit",{bubbles:!0,cancelable:!0});x.dispatchEvent(a)}}v.current=y},[y,x]);var z=g.useCallback(function(a){if(x!=null&&x instanceof HTMLFormElement){a.preventDefault();if(v.current)w.current=!0;else{typeof window.Event==="function"?a=new Event("submit",{bubbles:!0,cancelable:!0}):(a=document.createEvent("Event"),a.initEvent("submit",!0,!0));x.dispatchEvent(a)}return"ComposerEditor/submit"}},[x]),A=g.useCallback(function(a){return a.keyCode===b("Keys").RETURN&&!b("isSoftNewlineEvent")(a)?z(a):void 0},[z]),B=g.useCallback(function(a){return a.keyCode===b("Keys").RETURN&&(a.metaKey||a.ctrlKey)?z(a):void 0},[z]),C=g.useCallback(function(a){return a.keyCode===b("Keys").ESC&&n!=null?n():void 0},[n]),D=a.handleBeforeInput,E=a.handleDrop,F=a.handleDroppedFiles,G=a.handleKeyCommand,H=a.handlePastedFiles,I=a.handlePastedText,J=a.handleReturn,K=a.keyBindingFn,L=a.placeholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["handleBeforeInput","handleDrop","handleDroppedFiles","handleKeyCommand","handlePastedFiles","handlePastedText","handleReturn","keyBindingFn","placeholder"]);var M=m({handleBeforeInput:D,handleDrop:E,handleDroppedFiles:F,handleKeyCommand:G,handlePastedFiles:H,handlePastedText:I,handleReturn:J,keyBindingFn:k(b("getDefaultKeyBinding"),K)}),N=g.useCallback(function(a){var b=M.keyBindingFn&&M.keyBindingFn(a),c=b!=="MentionsAutocomplete/cancel"?k(M.keyBindingFn,C):M.keyBindingFn;c=k(c,B);if(s&&b!=="MentionsAutocomplete/select-mention"){b=k(c,A);return b&&b(a)}return c&&c(a)},[C,B,A,M,s]),O=g.useCallback(function(a,b,c){if((M.handleKeyCommand==null?void 0:M.handleKeyCommand(a,b,c))==="handled")return"handled";return s?l(a,b,c):"not-handled"},[M,s]);D=g.useMemo(function(){return babelHelpers["extends"]({},M,{handleKeyCommand:O,keyBindingFn:N})},[M,O,N]);E=h.getModuleIfRequired();F=b("useMemoCompositeDecorator")();var P=b("useComposerViewStateDispatcher")();G=f==null?b("DeferredDraftEditor.react").createEmptyComposerState():f;H=g.useCallback(function(a){P({editorRef:a,type:"update_editor_ref"})},[P]);I=g.useCallback(function(a){b("DraftEditorFlushControlled")?b("DraftEditorFlushControlled")(function(){return P({editorState:j!=null?j(a):a,type:"update_editor_state"})}):P({editorState:j!=null?j(a):a,type:"update_editor_state"})},[P,j]);G.__type===b("DeferredDraftEditor.react").EDITOR_STATE&&G.draftEditorState.getDecorator()!==F&&E!=null&&(G=babelHelpers["extends"]({},G,{draftEditorState:E.set(G.draftEditorState,{decorator:F})}));J=G.__type===b("DeferredDraftEditor.react").EDITOR_STATE&&G.draftEditorState.getCurrentContent().getBlockMap().first().getType()!=="unstyled"?void 0:L;K=b("useCometMentionsARIAProperties")();f=K[0];E=K[1];return g.jsx(b("CometMentionsA11yContext").Provider,{value:E,children:g.jsx(b("DeferredDraftEditor.react"),babelHelpers["extends"]({},a,D,e,f,{autoFocus:d,decorator:F,editorState:G,onInputRefUpdate:H,onStateChange:I,placeholder:J,readOnly:o,ref:c,spellCheck:p,stripPastedStyles:q,testid:void 0,textAlignment:r,textDirectionality:t,typingPerformanceID:(L=u)!=null?L:"CometComposerEditor",xstyle:i.root}))})}c=b("withComposerViewStatePart")(g.forwardRef(a),function(a){return{editorState:a.editorState}});e.exports=c}),null);
__d("CometComposerHashtagsPlugin.react",["React","useCometComposerDecorator","useCometComposerHashtagsDecorator","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";b("React");function a(a){a=a.hasFormattedText;b("useCometComposerDecorator")(b("useCometComposerHashtagsDecorator")({hasFormattedText:a}));return null}c=b("withComposerViewStatePart")(a,function(a){return{hasFormattedText:((a=a.formattedText)==null?void 0:a.currentFormattedTextPreset)!=null}});e.exports=c}),null);
__d("CometComposerHashtagsPluginDeferred.react",["createComposerDeferredPlugin","requireDeferred"],(function(a,b,c,d,e,f){"use strict";a=b("createComposerDeferredPlugin")(b("requireDeferred")("CometComposerHashtagsPlugin.react"));e.exports=a}),null);
__d("CometMediaViewerMentionsTypeaheadEmptyState.react",["fbt","React","TetraText.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(){return h.jsx("div",{className:"taijpn5t tv7at329 j83agx80 bp9cbjyn",children:h.jsx(b("TetraText.react"),{color:"tertiary",type:"body2",children:g._("No people found")})})}}),null);
__d("CometSearchTypeaheadBaseLayoutMentionsStrategy.react",["fbt","CometMediaViewerMentionsTypeaheadEmptyState.react","CometMentionsA11yContext","CometSearchTypeaheadBaseProgressGlimmer.react","CometSearchTypeaheadBaseViewListStrategy.react","React","useSearchCometTypeaheadBaseLayoutStrategyARIAProps"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.isLoading;a=babelHelpers.objectWithoutPropertiesLoose(a,["isLoading"]);var d=b("useSearchCometTypeaheadBaseLayoutStrategyARIAProps")({activeEntries:a.entries,helperText:"",highlightedEntry:a.highlightedEntry,inputLabel:"",isOpened:!0,viewLabel:g._("Suggested mentions")}),e=d.ariaInputProps;d=d.ariaViewProps;var f=h.useContext(b("CometMentionsA11yContext"));f!=null&&f(e["aria-activedescendant"],e["aria-controls"]);return h.jsxs("div",babelHelpers["extends"]({},d,{children:[h.jsx(b("CometSearchTypeaheadBaseViewListStrategy.react"),babelHelpers["extends"]({},a)),c?h.jsx(b("CometSearchTypeaheadBaseProgressGlimmer.react"),{}):null,!c&&a.entries.length===0?h.jsx(b("CometMediaViewerMentionsTypeaheadEmptyState.react"),{}):null]}))}}),null);
__d("CometMentions.react",["CometContextualLayer.react","CometPopover.react","CometSearchTypeaheadBaseLayoutMentionsStrategy.react","React","cometSearchTypeaheadBaseKeyboardNavigationUtils","useCometSearchTypeaheadBaseDataSourceFetch"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c){var d=a.context,e=a.dataSource,f=a.onHighlightEntry,i=a.onResultsUpdated,j=a.onSelectedEntry,k=a.position;k=k===void 0?"above":k;var l=a.query,m=a.viewItemStrategyRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,["context","dataSource","onHighlightEntry","onResultsUpdated","onSelectedEntry","position","query","viewItemStrategyRenderer"]);var n=g.useState([]),o=n[0],p=n[1];n=g.useState(null);var q=n[0],r=n[1],s=g.useRef(null);g.useImperativeHandle(c,function(){return{getNode:function(){return s.current},hasSelection:function(){return h(o,q)},moveDown:function(){b("cometSearchTypeaheadBaseKeyboardNavigationUtils").moveDown(o,q!=null?q.getKey():null,r)},moveUp:function(){b("cometSearchTypeaheadBaseKeyboardNavigationUtils").moveUp(o,q!=null?q.getKey():null,r)},select:function(){j&&q!=null&&h(o,q)&&j(q,l)}}},[q,j,l,o]);n=b("useCometSearchTypeaheadBaseDataSourceFetch")({dataSource:e,onResolvePayload:g.useCallback(function(a){a=a.entries;p(a);i&&i(a.length>0)},[i])});n[0];var t=n[1];g.useEffect(function(){t({query:l})},[t,l]);c=g.useCallback(function(a){f&&f(a);r((a=a)!=null?a:null)},[f]);e=g.useCallback(function(a){j&&h(o,a)&&j(a,l)},[j,l,o]);g.useEffect(function(){!h(o,q)&&o.length>0&&r(o[0])},[q,o]);return o.length===0?null:g.jsx(b("CometContextualLayer.react"),{align:"start",context_DEPRECATED:d,position:k,children:g.jsx(b("CometPopover.react"),{onBlur:a.onBlur,onFocus:a.onFocus,ref:s,children:g.jsx(b("CometSearchTypeaheadBaseLayoutMentionsStrategy.react"),{entries:o,highlightedEntry:q,isLoading:!1,onHighlightEntry:c,onPressEntry:e,queryString:l,viewItemStrategyRenderer:m})})})}function h(a,b){if(b==null)return!1;var c=b.getKey();return a.find(function(a){return a.getKey()===c})!=null}c=g.forwardRef(a);e.exports=c}),null);
__d("cometReplaceMentionedTextInEditorState",["DraftModifier","EditorState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function g(a,c,d,e,f){f=f(c.getCurrentContent(),a);a=f.getLastCreatedEntityKey();f=b("DraftModifier").replaceText(f,d,e,c.getCurrentInlineStyle(),a);return b("EditorState").push(c,f,"insert-fragment")}function a(a,b,c,d,e){var f=b.getSelection(),j=b.getCurrentContent(),k=f.getAnchorKey(),l=f.getAnchorOffset();j=j.getBlockMap().get(k);k=f.getStartOffset();k=j.getText().substr(k-c,c);k=h(a,k);j=l-i(j.getText().substr(0,l),k,c);return g(a,b,f.set("anchorOffset",j),e(a),d)}function h(a,b){return a.getLabel()}function i(a,b,c){c=c;for(var d=c;d<=b.length;d++)a.substr(-d)===b.substr(0,d)&&(c=d);return c}}),null);
__d("CometMentionsBridge.react",["CometMentions.react","CometMentionsA11yContext","FBLogger","Keys","React","usePrevious","cometReplaceMentionedTextInEditorState","debounce","recoverableViolation","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g=(c=b("Keys")).DOWN,h=c.ESC,i=c.RETURN,j=c.TAB,k=c.UP,l=b("React");function a(a){var c=a.editorRef,d=a.editorState,e=a.getAnchorRef,f=a.getReplacementString,m=a.getSearchText,n=a.onEditorStateChange,o=a.onMentionCreateContentState,p=a.pluginsDispatcher,q=a.position;q=q===void 0?"below":q;var r=a.priority,s=a.strategyResolver;a=a.viewItemStrategyRenderer;e=e();var t=l.useContext(b("CometMentionsA11yContext")),u=b("usePrevious")(d),v=l.useRef(null),w=l.useRef(null),x=l.useRef(!1),y=l.useRef(!1),z=l.useState(!1),A=z[0],B=z[1];z=l.useState(!1);var C=z[0],D=z[1];z=l.useState(null);var E=z[0],F=z[1],G=l.useCallback(function(a){var b=w.current;switch(a){case"MentionsAutocomplete/cancel":F(null);break;case"MentionsAutocomplete/select-mention":b&&b.select();break;case"MentionsAutocomplete/previous-mention":b&&b.moveUp();break;case"MentionsAutocomplete/next-mention":b&&b.moveDown();break}return"not-handled"},[]),H=l.useCallback(function(a){var b=w.current;if(a.keyCode===h&&E!=null){x.current&&y.current&&(a.preventDefault(),a.stopPropagation());return"MentionsAutocomplete/cancel"}if(b!=null&&x.current&&y.current)switch(a.keyCode){case g:a.preventDefault();return"MentionsAutocomplete/next-mention";case i:if(b.hasSelection()){a.preventDefault();return"MentionsAutocomplete/select-mention"}break;case j:if(b.hasSelection()){a.preventDefault();return"MentionsAutocomplete/select-mention"}break;case k:a.preventDefault();return"MentionsAutocomplete/previous-mention"}return},[E]),I=l.useCallback(function(){if(c!=null&&d!=null&&d.__type==="editor-state-based"){var a=d.draftEditorState;if(a.getSelection().getHasFocus()){a=m(a);if(a!==E){B(!0);D(!1);a=a!=null&&a.length>0&&s(a)!=null?a:null;F(a)}}else B(!1)}},[c,d,m,E,s]);l.useEffect(function(){var a={handleKeyCommand:G,keyBindingFn:H,priority:r};p({handler:a,type:"install_handler"});return function(){return p({handler:a,type:"uninstall_handler"})}},[H,G,p,r]);l.useEffect(function(){v.current=b("debounce")(I,100);v.current();return function(){if(v.current==null)return;v.current.reset()}},[I]);l.useEffect(function(){if(d!=null&&u!==d&&d.__type==="editor-state-based"){var a=d.draftEditorState;a=m(a);a==null||a.length===0||s(a)==null?I():v.current!=null&&v.current()}},[d,m,I,u,s]);z=l.useCallback(function(a){if(d==null||d.__type!=="editor-state-based")return;var c=d.draftEditorState,e=m(c);if(e==null){b("FBLogger")("CometComposer").warn("Race condition where the user selected a mention but theres no text in the editor");return}e=s(e);e=e.searchResult;if(e==null){b("recoverableViolation")("onPressEntry was called and no search result was found for the query","CometComposer");return}x.current=!1;t!=null&&t();a=b("cometReplaceMentionedTextInEditorState")(a,c,e.replaceableString.length,o,f);c!==a&&(n(a),B(!0),F(null))},[d,f,m,n,o,t,s]);var J=l.useCallback(function(){var a=!1,b=w.current;if(b!=null){b=b.getNode();if(b!=null){var c=document.activeElement;while(c!=null){if(c===b){a=!0;break}c=c.parentNode}}}D(a)},[]),K=l.useCallback(function(){D(!0)},[]),L=l.useCallback(function(a){y.current=a;if(a)return;t!=null&&t()},[t]);C=w.current==null?!1:C;A=E!=null&&E.length>0&&(A||C);C=s(E);var M=C.dataSource;C=C.searchResult;if(A&&e!=null&&M!=null&&C!=null){x.current=!0;return l.jsx(b("CometMentions.react"),{context:e,dataSource:M,onBlur:J,onFocus:K,onResultsUpdated:L,onSelectedEntry:z,position:q,query:C.matchingString,ref:w,viewItemStrategyRenderer:a})}x.current&&(t!=null&&t());x.current=!1;return null}d=b("withComposerViewStatePart")(a,function(a){return{editorRef:a.editorRef,editorState:a.editorState}});e.exports=d}),null);
__d("useCometComposerMentionsCaretDecorator",["CometComposerPluginsDispatchContext","CometMentionsBridge.react","React","useComposerViewStateDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function h(a){var c=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);var d=g.useContext(b("CometComposerPluginsDispatchContext")),e=b("useComposerViewStateDispatcher")(),f=g.useCallback(function(a){e({draftEditorState:a,type:"update_draft_editor_state"})},[e]),h=g.useRef();return g.jsxs("span",{ref:h,children:[g.jsx(b("CometMentionsBridge.react"),babelHelpers["extends"]({getAnchorRef:function(){return h.current},onEditorStateChange:f,pluginsDispatcher:d},a)),c]})}function a(a,b){return g.useMemo(function(){return{component:g.memo(h),priority:1,props:a,strategy:b.bind(null,a.strategyResolver,a.currentBlockKey)}},[a])}}),null);
__d("useCometComposerMentionsDecorator",["React","getEntityMatcher","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function h(a){var b=a.children,c=a.hasFormattedText,d=a.offsetKey;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","hasFormattedText","offsetKey"]);a.blockKey;a.contentState;a.decoratedText;a.entityKey;a=babelHelpers.objectWithoutPropertiesLoose(a,["blockKey","contentState","decoratedText","entityKey"]);return g.jsx("span",babelHelpers["extends"]({},a,{className:(c?"":"diy96o5h")+(c?" oo483o9r":""),"data-offset-key":d,spellCheck:!1,children:b}))}function a(a){var c=b("getEntityMatcher")(function(a){return a.getType()==="MENTION"});return g.useMemo(function(){return{component:g.memo(h),priority:1,props:{hasFormattedText:a},strategy:c}},[a,c])}}),null);
__d("CometComposerMentionsPlugin.react",["React","composerEditorStateViewStateReducer","useCometComposerDecorator","useCometComposerMentionsCaretDecorator","useCometComposerMentionsDecorator","useComposerViewStateReducer"],(function(a,b,c,d,e,f){"use strict";e.exports=a;b("React");var g=/\s/;function h(a){var b=a.getText();return a.getCharacterList().map(function(a,c){return a.getEntity()===null?b.slice(c,c+1):" "}).join("")}var i=function(a,b,c,d,e){if(b!==c.getKey())return;b=h(c);c=e.getSelectionAfter().getFocusOffset();e=b.substring(c).split(g)[0].length;b=b.substring(0,c+e);c=a(b);e=c.searchResult;if(e!=null){a=e.leadOffset;b=e.replaceableString;d(a,a+b.length)}};function a(a){var c=a.hasFormattedText;c=c===void 0?!1:c;a=babelHelpers.objectWithoutPropertiesLoose(a,["hasFormattedText"]);b("useComposerViewStateReducer")(b("composerEditorStateViewStateReducer"));b("useCometComposerDecorator")(b("useCometComposerMentionsDecorator")(c));b("useCometComposerDecorator")(b("useCometComposerMentionsCaretDecorator")(babelHelpers["extends"]({},a),i));return null}}),null);
__d("getCometComposerMentionsSearch",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function g(a,b){var c=a.getCharacterList().toSeq().slice(0,b).reverse().takeWhile(function(a){return a.getEntity()===null}).count();return a.getText().slice(b-c,b)}function a(a){var b=a.getSelection();a=a.getCurrentContent();var c=b.getAnchorKey();a=a.getBlockForKey(c);return g(a,b.getAnchorOffset())}}),null);
__d("useCometMentionsStrategyResolver",["JSTracing","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){g.useLayoutEffect(function(){a.forEach(function(a){var c=a.dataSource;b("JSTracing").clear(function(){return c.bootstrap()})})},[a]);return g.useMemo(function(){var b=new Map();return function(c){var d={dataSource:null,searchResult:null};if(c==null)return d;var e=b.get(c);if(e!=null)return e;for(var e=0;e<a.length;e++){var f=a[e],g=f.dataSource;f=f.searchStrategy;f=f.findMentionableString(c);if(f!=null){g={dataSource:g,searchResult:f};b.set(c,g);return g}}b.set(c,d);return d}},[a])}}),null);
__d("createCometAtSignComposerMentionStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;c=b("DocumentMentionsRegex").PUNCTUATION;d=["@","\\uff20"].join("");f="[^"+d+c+"\\s]";e="(?:\\.[ |$]| |["+c+"]|)";a=75;var g=new RegExp("(^|\\s|\\()(["+d+"]((?:"+f+e+"){0,"+a+"}))$");b=50;var h=new RegExp("(^|\\s|\\()(["+d+"]((?:"+f+"){0,"+b+"}))$");function a(a){var b=a.minMatchLength;return{findMentionableString:function(a){var c=g.exec(a);c===null&&(c=h.exec(a));if(c!==null){a=c[1];var d=c[3];if(d.length>=b)return{leadOffset:c.index+a.length,matchingString:d,replaceableString:c[2]}}return null},name:"AtSignComposerMentionStrategy("+b.toString()+")"}}}),null);
__d("CometSearchMentionsBaseViewItem.react",["CometSearchTypeaheadBaseViewItem.react","React","emptyFunction"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.onPressEntry,d=a.onPressEntryIn;a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["onPressEntry","onPressEntryIn","queryString"]);var e=function(a,b){b.preventDefault(),c&&c(a,b),d&&d(a,b)};return g.jsx(b("CometSearchTypeaheadBaseViewItem.react"),babelHelpers["extends"]({},a,{onPressEntry:b("emptyFunction"),onPressEntryIn:e}))}}),null);
__d("URLMatcher",["URLMatcherConfig"],(function(a,b,c,d,e,f){c="!\"#%&'()*,-./:;<>?@[\\]^_`{|}";d="\u2000-\u206f\xab\xbb\uff08\uff09";f="(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])";var g="(?:(?:ht|f)tps?)://";f="(?:(?:"+f+"[.]){3}"+f+")";var h="\\[(?:(?:[A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})\\]",i="(?:\\b)www\\d{0,3}[.]";c="[^\\s"+c+d+"]";d="(?:(?:(?:[.:\\-_%@]|"+c+")*"+c+")|"+h+")";c="(?::\\d+){0,1}";var j="(?=[/?#])";b=b("URLMatcherConfig").tlds;var k="(?:(?:"+g+d+c+")|(?:"+f+c+")|(?:"+h+c+")|(?:"+i+d+b+c+")|(?:"+d+b+c+j+"))";j="(?:(?:"+g+d+c+")|(?:"+f+c+")|(?:"+h+c+")|(?:"+i+d+b+c+")|(?:"+d+b+c+"))";f="[/#?]";h="\\([^\\s()<>]+\\)";var l="[^\\s()<>?#]+",m=new RegExp(k,"im"),n="^\\[[0-9]{1,4}:[0-9]{1,4}:[A-Fa-f0-9]{1,4}\\]",o=new RegExp(n,"im"),p="(?:(?:"+f+")(?:(?:"+h+"|"+l+")*)*)*",q=new RegExp("((?:"+j+")(?:"+p+"))","im"),r=new RegExp("((?:"+g+d+c+")|(?:"+i+d+b+c+"))"),s=/[\s\'\";]/,t=new RegExp(f,"im"),u=new RegExp("[\\s!\"#%&'()*,./:;<>?@[\\]^`{|}\xab\xbb\u2000-\u206f\uff08\uff09]","im"),v=new RegExp("[\\s()<>?#]","im"),w=new RegExp("\\s()<>"),x=function(a){if(a!=null&&a.indexOf("@")!=-1)return r.exec(a)?a:null;else return a},y=function(a){return new RegExp("((?:"+k+")(?:"+p+"))",a)};function a(){return q.source}n=function(a){return z(a,y("im"))};h=function(a){return A(a,y("igm"))};l=function(a){return z(a,q)};var z=function(a,b){b=b.exec(a);return b==null||b.length===0?null:x(b[1]||null)},A=function(a,b){a=a.match(b);return a==null?[]:a.filter(Boolean)||[]};j=function(a){return m.exec(a)};g=function(a){return!s.test(a.charAt(a.length-1))};i=function(a){a=a;var b=!1;do{var c=m.exec(a);if(!c)return null;b=!1;if(c[0][0]==="["&&c.index>0&&a[c.index-1]==="@"){var d=o.exec(c[0]);d&&(b=!0,a=a.substr(c.index+d[0].length))}}while(b);if(!c)return null;d=a.substr(c.index+c[0].length);if(d.length===0||!t.test(d[0]))return x(c[0]);b=0;a=0;var e=1,f=0,g=a;for(var h=1;h<d.length;h++){var i=d[h];if(g===a){if(i==="(")f+=1,g=e;else if(t.test(i)||!u.test(i))b=h;else if(v.test(i))break}else if(i==="(")f+=1;else if(i===")")f-=1,f===0&&(g=a,b=h);else if(w.test(i))break}return x(c[0]+d.substring(0,b+1))};d={permissiveHostPathMatch:l,permissiveMatch:n,permissiveMultiMatch:h,matchToPattern:z,multiMatchToPattern:A,matchHost:j,trigger:g,match:i,getPermissiveHostPathMatcherSource:a};e.exports=d}),null);
__d("DOMControl",["DataStore","$"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.root=b("$").fromIDOrElement(a),this.updating=!1,b("DataStore").set(a,"DOMControl",this)}var c=a.prototype;c.getRoot=function(){return this.root};c.beginUpdate=function(){if(this.updating)return!1;this.updating=!0;return!0};c.endUpdate=function(){this.updating=!1};c.update=function(a){if(!this.beginUpdate())return this;this.onupdate(a);this.endUpdate()};c.onupdate=function(a){};a.getInstance=function(a){return b("DataStore").get(a,"DOMControl")};return a}();e.exports=a}),null);
__d("Input",["CSS","DOMControl","DOMQuery"],(function(a,b,c,d,e,f){f.isWhiteSpaceOnly=g;f.isEmpty=h;f.getValue=a;f.getValueRaw=c;f.setValue=d;f.setPlaceholder=e;f.reset=i;f.setSubmitOnEnter=j;f.getSubmitOnEnter=k;f.setMaxLength=l;function g(a){return!/\S/.test(a||"")}function h(a){return g(a.value)}function a(a){return h(a)?"":a.value}function c(a){return a.value}function d(a,c){a.value=c||"";c=b("DOMControl").getInstance(a);c&&c.resetHeight&&c.resetHeight()}function e(a,b){b||(b=""),a.setAttribute("aria-label",b),a.setAttribute("placeholder",b)}function i(a){a.value="",a.style.height=""}function j(a,c){b("CSS").conditionClass(a,"enter_submit",c)}function k(a){return b("CSS").hasClass(a,"enter_submit")}function l(a,b){b>0?a.setAttribute("maxlength",b.toString()):a.removeAttribute("maxlength")}}),null);
__d("Form",["DataStore","DOM","DOMQuery","DTSG","DTSGUtils","Input","LSD","PHPQuerySerializer","Random","SprinkleConfig","URI","getElementPosition","isFacebookURI","isNode"],(function(a,b,c,d,e,f){var g,h,i="FileList"in window,j="FormData"in window;function k(a){var c={};(g||(g=b("PHPQuerySerializer"))).serialize(a).split("&").forEach(function(a){if(a){a=/^([^=]*)(?:=(.*))?$/.exec(a);var d=(h||(h=b("URI"))).decodeComponent(a[1]),e=a[2]!==void 0;e=e?(h||(h=b("URI"))).decodeComponent(a[2]):null;c[d]=e}});return c}var l={getInputs:function(a){a===void 0&&(a=document);return[].concat(b("DOMQuery").scry(a,"input"),b("DOMQuery").scry(a,"select"),b("DOMQuery").scry(a,"textarea"),b("DOMQuery").scry(a,"button"))},getInputsByName:function(a){var b={};l.getInputs(a).forEach(function(a){var c=b[a.name];b[a.name]=typeof c==="undefined"?a:[a].concat(c)});return b},getSelectValue:function(a){return a.options[a.selectedIndex].value},setSelectValue:function(a,b){for(var c=0;c<a.options.length;++c)if(a.options[c].value==b){a.selectedIndex=c;break}},getRadioValue:function(a){for(var b=0;b<a.length;b++)if(a[b].checked)return a[b].value;return null},getElements:function(a){return a.tagName=="FORM"&&a.elements!=a?Array.from(a.elements):l.getInputs(a)},getAttribute:function(a,b){return(a.getAttributeNode(b)||{}).value||null},setDisabled:function(a,c){l.getElements(a).forEach(function(a){if(a.disabled!==void 0){var d=b("DataStore").get(a,"origDisabledState");c?(d===void 0&&b("DataStore").set(a,"origDisabledState",a.disabled),a.disabled=c):d===!1&&(a.disabled=!1)}})},forEachValue:function(a,c,d){l.getElements(a).forEach(function(a){if(!a.name||a.disabled)return;if(a.type==="submit")return;if(a.type==="reset"||a.type==="button"||a.type==="image")return;if((a.type==="radio"||a.type==="checkbox")&&!a.checked)return;if(a.nodeName==="SELECT"){for(var c=0,e=a.options.length;c<e;c++){var f=a.options[c];f.selected&&d("select",a.name,f.value)}return}if(a.type==="file"){if(i){f=a.files;for(var c=0;c<f.length;c++)d("file",a.name,f.item(c))}return}d(a.type,a.name,b("Input").getValue(a))}),c&&c.name&&c.type==="submit"&&b("DOMQuery").contains(a,c)&&b("DOMQuery").isNodeOfType(c,["input","button"])&&d("submit",c.name,c.value)},createFormData:function(a,c){if(!j)return null;var d=new FormData();if(a)if(b("isNode")(a))l.forEachValue(a,c,function(b,a,c){d.append(a,c)});else{c=k(a);for(var e in c)c[e]==null?d.append(e,""):d.append(e,c[e])}return d},serialize:function(a,b){var c={};l.forEachValue(a,b,function(a,b,d){if(a==="file")return;l._serializeHelper(c,b,d)});return l._serializeFix(c)},_serializeHelper:function(a,b,c){var d=Object.prototype.hasOwnProperty,e=/([^\]]+)\[([^\]]*)\](.*)/.exec(b);if(e){if(!a[e[1]]||!d.call(a,e[1])){a[e[1]]=d={};if(a[e[1]]!==d)return}d=0;if(e[2]==="")while(a[e[1]][d]!==void 0)d++;else d=e[2];e[3]===""?a[e[1]][d]=c:l._serializeHelper(a[e[1]],d.concat(e[3]),c)}else a[b]=c},_serializeFix:function(a){for(var b in a)a[b]instanceof Object&&(a[b]=l._serializeFix(a[b]));var c=Object.keys(a);if(c.length===0||c.some(isNaN))return a;c.sort(function(a,b){return a-b});var d=0,e=c.every(function(a){return+a===d++});return e?c.map(function(b){return a[b]}):a},post:function(a,c,d,e){e===void 0&&(e=!0);a=new(h||(h=b("URI")))(a);var f=document.createElement("form");f.action=a.toString();f.method="POST";f.style.display="none";var g=!b("isFacebookURI")(a);if(d){if(g){f.rel="noopener";if(d==="_blank"){d=btoa(b("Random").uint32());var i=window.open("about:blank",d);i===void 0||(i.opener=null)}}f.target=d}if(e&&(!g&&a.getSubdomain()!=="apps")){i=b("DTSG").getToken();i&&(c.fb_dtsg=i,b("SprinkleConfig").param_name&&(c[b("SprinkleConfig").param_name]=b("DTSGUtils").getNumericValue(i)));b("LSD").token&&(c.lsd=b("LSD").token,b("SprinkleConfig").param_name&&!i&&(c[b("SprinkleConfig").param_name]=b("DTSGUtils").getNumericValue(b("LSD").token)))}l.createHiddenInputs(c,f);b("DOMQuery").getRootElement().appendChild(f);f.submit();return!1},createHiddenInputs:function(a,c,d,e){e===void 0&&(e=!1);d=d||{};a=k(a);for(var f in a){if(a[f]===null)continue;if(d[f]&&e)d[f].value=a[f];else{var g=b("DOM").create("input",{type:"hidden",name:f,value:a[f]});d[f]=g;c.appendChild(g)}}return d},getFirstElement:function(a,c){c===void 0&&(c=['input[type="text"]',"textarea",'input[type="password"]','input[type="button"]','input[type="submit"]']);var d=[];for(var e=0;e<c.length;e++){d=b("DOMQuery").scry(a,c[e]);for(var f=0;f<d.length;f++){var g=d[f];try{var h=b("getElementPosition")(g);if(h.y>0&&h.x>0)return g}catch(a){}}}return null},focusFirst:function(a){a=l.getFirstElement(a);if(a){a.focus();return!0}return!1}};e.exports=l}),null);
__d("AsyncUploadBase",["ArbiterMixin","AsyncRequest","AsyncResponse","BrowserSupport","Form","forEachObject","mixin","removeFromArray"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);c.parseFiles=function(a){var c={};b("forEachObject")(a,function(a,b){if(Array.isArray(a))c[b]=a;else{c[b]=[];if(a instanceof window.FileList)for(var d=0;d<a.length;d++)c[b].push(a.item(d));else(a instanceof window.File||a instanceof window.Blob)&&c[b].push(a)}});return c};function c(b){var c;c=a.call(this)||this;c._allowCrossOrigin=!1;c._allowCrossPageTransition=!1;c._customHeader={};c._inFlight=!1;c._limit=10;c._option={};c._preventDefaultErrorHandler=!1;c._suspended=!1;b&&c.setURI(b);c.setNetworkErrorRetryLimit(0);return c}var d=c.prototype;d.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};d.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};d.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};d.setData=function(a){this._data=a;return this};d.setOption=function(a,b){this._option[a]=b;return this};d.setPreventDefaultErrorHandler=function(a){this._preventDefaultErrorHandler=a;return this};d.setLimit=function(a){this._limit=a;return this};d.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};d.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};d.setRelativeTo=function(a){this._relativeTo=a;return this};d.setStatusElement=function(a){this._statusElement=a;return this};d.setURI=function(a){this._uri=a;return this};d.suspend=function(){this._suspended=!0;return this};d.resume=function(){this._suspended=!1;this._processQueue();return this};d.isUploading=function(){return this._inFlight};d._createFileUpload=function(a,b,c){return new g(a,b,c)};d._processQueue=function(){if(this._suspended)return;while(this._pending.length<this._limit){if(!this._waiting.length)break;var a=this._waiting.shift(),b=this._preprocessHandler;b?b(a,this._processUpload.bind(this)):this._processUpload(a);this._pending.push(a)}};d._processUpload=function(a){var c=b("Form").createFormData(a.getData()||this._data);if(a.getFile()){c.append(a.getName(),a.getFile());var d=a.getFile().uploadID;d&&c.append("upload_id",d);a.getAdditionalData().forEach(function(a,b){return c.append(b,a)})}d=new(b("AsyncRequest"))().setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setURI(this._uri).setRawData(c).setStatusElement(this._statusElement).setHandler(this._success.bind(this,a)).setErrorHandler(this._failure.bind(this,a)).setUploadProgressHandler(this._progress.bind(this,a)).setInitialHandler(this._initial.bind(this,a));for(var e in this._option)d.setOption(e,this._option[e]);for(var f in this._customHeader)d.setRequestHeader(f,this._customHeader[f]);this._relativeTo&&d.setRelativeTo(this._relativeTo);d.send();a.setAsyncRequest(d);this._inFlight=!0;a.getRetryCount()||this.inform("start",a)};d._abort=function(a){this._pending.indexOf(a)!==-1&&(b("removeFromArray")(this._pending,a),this._processQueue()),b("removeFromArray")(this._waiting,a),a.abort()};d._initial=function(a){if(a.isAborted())return;this.inform("initial",a)};d._success=function(a,b){if(a.isAborted()){this.inform("success_after_abort",b);return}this._complete(a);this.inform("success",a.handleSuccess(b));this._processQueue()};d._retryUpload=function(a){a.increaseRetryCount(),this._processUpload(a)};d._failure=function(a,c){if(a.isAborted())return;if(c.error===1004&&a.getRetryCount()<(this._retryLimit||0))return this._retryUpload(a);this._complete(a);this.inform("failure",a.handleFailure(c))!==!1&&(this._preventDefaultErrorHandler||b("AsyncResponse").defaultErrorHandler(c));this._processQueue()};d._progress=function(a,b){if(a.isAborted())return;this.inform("progress",a.handleProgress(b))};d._complete=function(a){b("removeFromArray")(this._pending,a),this._pending.length||(this._inFlight=!1)};c.isSupported=function(){return b("BrowserSupport").hasFileAPI()};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a;var g=function(){function a(a,b,c){this._additionalData=new Map(),this._success=null,this._response=null,this._progressEvent=null,this._request=null,this._numRetries=0,this._aborted=!1,this._name=a,this._file=b,this._data=c}var b=a.prototype;b.getName=function(){return this._name};b.getFile=function(){return this._file};b.setFile=function(a){this._file=a};b.getData=function(){return this._data};b.getAdditionalData=function(){return this._additionalData};b.isComplete=function(){return this._success!==null};b.isSuccess=function(){return this._success===!0};b.getResponse=function(){return this._response};b.getProgressEvent=function(){return this._progressEvent};b.setAsyncRequest=function(a){this._request=a;return this};b.increaseRetryCount=function(){this._numRetries++;return this};b.getRetryCount=function(){return this._numRetries};b.isWaiting=function(){return!this._request};b.isAborted=function(){return this._aborted};b.abort=function(){this._request=null,this._aborted=!0};b.handleSuccess=function(a){this._success=!0;this._response=a;this._progressEvent=null;return this};b.handleFailure=function(a){this._success=!1;this._response=a;this._progressEvent=null;return this};b.handleProgress=function(a){this._progressEvent=a;return this};return a}()}),null);
__d("AsyncUploadRequest",["AsyncUploadBase"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c._files=null,c._uploads=[],c._fileLessUpload=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.setFiles=function(a){this._files=b("AsyncUploadBase").parseFiles(a);return this};d.setAlwaysReturnResponse=function(a){this._shouldAlwaysReturnResponse=a};d.abort=function(){var a=this;this._uploads.forEach(function(b){return a._abort(b)},this)};d.send=function(){if(this._inFlight)return;this._inFlight=!0;this._uploads=[];for(var a in this._files)this._files[a].forEach(function(b){this._uploads.push(this._createFileUpload(a,b))}.bind(this));this._waiting=this._uploads.slice(0);this._pending=[];this._uploads.length?this._processQueue():(this._fileLessUpload=this._createFileUpload(null,null),this._processUpload(this._fileLessUpload))};d._processQueue=function(){a.prototype._processQueue.call(this);if(!this._pending.length&&!this._waiting.length){var b=this._uploads;b=this._shouldAlwaysReturnResponse?this._fileLessUpload!=null?{response:this._fileLessUpload.getResponse(),uploads:b}:{response:b[0].getResponse(),uploads:b}:b;this.inform("complete",b)}};c.isSupported=function(){return b("AsyncUploadBase").isSupported()};return c}(b("AsyncUploadBase"));e.exports=a}),null);
__d("shield",[],(function(a,b,c,d,e,f){e.exports=a;function a(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];if(typeof a!=="function")throw new TypeError("shield expects a function as the first argument");return function(){return a.apply(b,d)}}}),null);
__d("FileForm",["ArbiterMixin","AsyncRequest","AsyncResponse","AsyncUploadRequest","BehaviorsMixin","CurrentUser","DataStore","DOMQuery","Event","Form","JSONPTransport","Parent","URI","isElementNode","mixin","setTimeout","shield"],(function(a,b,c,d,e,f){var g;function h(a){var c={};a=b("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){c[a.name]=a.files});return c}function i(a){a=b("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){a.files=null})}a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e){var f;f=a.call(this)||this;f._handleSubmit=function(a){if(a.isDefaultPrevented()||a.getTarget()!==f._form)return;if(f.inform("submit")===!1){a.prevent();return}f.submit(a)};f.initial=function(a){return f.inform("initial",{upload:a})};if(c.getAttribute("rel")==="async")throw new Error("FileForm cannot be used with Primer forms.");if((c.getAttribute("method")||"").toUpperCase()!=="POST")throw new Error("FileForm must be used with POST forms.");f._form=c;f._previousEncoding=f._form.enctype;f._form.enctype=f._form.encoding="multipart/form-data";f._files=null;f._customHeader={};d&&f.enableBehaviors(d);f._options=e||{};f.setAllowCrossOrigin(f._options.allowCrossOrigin);f.setAllowCrossPageTransition(f._options.allowCrossPageTransition);f.setUploadInParallel(f._options.uploadInParallel);f.setConcurrentLimit(f._options.concurrentLimit);f.setPreprocessHandler(f._options.preprocessHandler);f.setNetworkErrorRetryLimit(f._options.networkErrorRetryLimit);f._listeners=[b("Event").listen(document.documentElement,"submit",f._handleSubmit),b("Event").listen(f._form,"click",f._click.bind(babelHelpers.assertThisInitialized(f)))];b("DataStore").set(f._form,"FileForm",babelHelpers.assertThisInitialized(f));return f}var d=c.prototype;d.getRoot=function(){return this._form};d.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};d.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};d.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};d.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};d.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};d.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};d.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};d.setFiles=function(a){this._files=a;return this};d.canUseXHR=function(){var a="FormData"in window;a&&(!new(g||(g=b("URI")))(this._form.action).isSameOrigin()&&!this._allowCrossOrigin&&(a=!1));return a};d._click=function(a){a=a.getTarget();while(b("isElementNode")(a)){if(a.type==="submit"){this._clickTarget=a;b("setTimeout")(this._unclick.bind(this),0);break}a=a.parentNode}};d._unclick=function(){this._clickTarget=null};d._sendViaFrame=function(){var a=this._request=new(b("AsyncRequest"))();a.setStatusElement(this._getStatusElement());a.addStatusIndicator();a.setOption("useIframeTransport",!0);var c=a.handleResponse.bind(a);c=new(b("JSONPTransport"))("iframe",this._form.action,c);var d=c.getTransportFrame(),e=c.getRequestURI().addQueryData({__iframe:!0,__user:b("CurrentUser").getID()});this._form.setAttribute("action",e.toString());c.createContinuationForFileForm_DO_NOT_USE();this._form.setAttribute("target",d.name);a.setJSONPTransport(c);a.setURI(e);a.setHandler(this.success.bind(this,null));a.setErrorHandler(this.failure.bind(this,null));a.setInitialHandler(b("shield")(this.initial,this,null))};d._sendViaXHR=function(a){var c=this,d;if(this._uploadInParallel&&b("AsyncUploadRequest").isSupported()){d=new(b("AsyncUploadRequest"))().setPreprocessHandler(this._preprocessHandler).setData(b("Form").serialize(this._form,this._clickTarget)).setNetworkErrorRetryLimit(this._retryLimit);for(var e in this._customHeader)d.setCustomHttpHeader(e,this._customHeader[e]);this._concurrentLimit&&d.setLimit(this._concurrentLimit);this._files?d.setFiles(this._files):d.setFiles(h(this._form));var f=[d.subscribe("progress",function(a,b){this.progress(b,b.getProgressEvent())}.bind(this)),d.subscribe("initial",function(a,b){this.initial(b)}.bind(this)),d.subscribe("success",function(a,b){this.success(b,b.getResponse())}.bind(this)),d.subscribe("start",function(a,b){this.inform("start",{upload:b})}.bind(this)),d.subscribe("failure",function(a,b){this.failure(b,b.getResponse());return!1}.bind(this)),d.subscribe("complete",function(){while(f.length)f.pop().unsubscribe()})]}else{var g,e,i;(function(){var a,f=c._files;if(f){a=b("Form").createFormData(b("Form").serialize(c._form,c._clickTarget));g=b("AsyncUploadRequest").parseFiles(f);for(e in g)i=g[e],i.length===1?a.append(e,i[0]):(e=e+"[]",i.forEach(function(b){a.append(e,b)}))}else a=b("Form").createFormData(c._form,c._clickTarget);d=new(b("AsyncRequest"))().setRawData(a).setHandler(c.success.bind(c,null)).setErrorHandler(c.failure.bind(c,null)).setUploadProgressHandler(c.progress.bind(c,null)).setInitialHandler(b("shield")(c.initial,c,null));c.inform("start",{upload:null})})()}d.setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setRelativeTo(this._form).setStatusElement(this._getStatusElement()).setURI(this._form.action).send();this._request=d;a&&a.prevent()};d.forceSendViaXHR=function(){return this._sendViaXHR(null)};d.success=function(a,c){c={response:c,upload:a};this.inform("success",c)!==!1&&b("Event").fire(this._form,"success",c);this._cleanup()};d.failure=function(a,c){a={response:c,upload:a};this.inform("failure",a)!==!1&&(b("Event").fire(this._form,"error",a)!==!1&&b("AsyncResponse").defaultErrorHandler(c));this._cleanup()};d.progress=function(a,b){this.inform("progress",{event:b,upload:a})};d.abort=function(){this._request&&(this._request.abort(),this._cleanup())};d.clear=function(){i(this._form)};d.destroy=function(){this._cleanup();while(this._listeners&&this._listeners.length)this._listeners.pop().remove();this._listeners=null;this._form.enctype=this._form.encoding=this._previousEncoding;b("DataStore").remove(this._form,"FileForm")};d.submit=function(a){this.canUseXHR()?this._sendViaXHR(a):this._sendViaFrame()};d._cleanup=function(){this._request=null};d._getStatusElement=function(){return b("Parent").byClass(this._form,"stat_elem")||this._form};c.getInstance=function(a){return b("DataStore").get(a,"FileForm")};return c}(b("mixin")(b("ArbiterMixin"),b("BehaviorsMixin")));e.exports=a;Object.assign(a,{EVENTS:["start","submit","initial","progress","success","failure"]})}),null);
__d("FileInputUploader",["ArbiterMixin","DOM","DTSG","FileForm","Form","mixin"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c._inputElem=b;c._data={};return c}var d=c.prototype;d.setInput=function(a){this._inputElem=a;return this};d.setURI=function(a){this._uri=a;return this};d.setData=function(a){this._data=a;return this};d.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};d.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};d.setFiles=function(a){this._files=a;return this};d.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};d.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};d.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};d.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};d.abort=function(){this._fileForm&&(this._fileForm.abort(),this._destroyFileForm())};d.send=function(){this._createForm();var a=this._inputElem&&!this._inputElem.parentElement;if(!a&&this._inputElem){var c=this._inputElem.cloneNode(!1);b("DOM").replace(this._inputElem,c)}this._inputElem&&b("DOM").appendContent(this._formElem,this._inputElem);b("DOM").appendContent(document.body,this._formElem);this._fileForm.submit();!a&&this._inputElem&&b("DOM").replace(c,this._inputElem);this._removeFormEl()};d._onFileFormEvent=function(a,b){(a==="success"||a==="failure")&&this._destroyFileForm();return this.inform(a,b)};d._createForm=function(){var a;this._destroyFileForm();this._formElem=b("DOM").create("form",{action:this._uri,method:"post"});this._fileForm=new(b("FileForm"))(this._formElem,null,{allowCrossOrigin:!!this._allowCrossOrigin,allowCrossPageTransition:!!this._allowCrossPageTransition,uploadInParallel:!!this._uploadInParallel,concurrentLimit:(a=this._concurrentLimit)!=null?a:0,preprocessHandler:(a=this._preprocessHandler)!=null?a:null,networkErrorRetryLimit:(a=this._retryLimit)!=null?a:0});this._files&&this._fileForm.setFiles(this._files);this._fileForm.subscribe(b("FileForm").EVENTS,this._onFileFormEvent.bind(this));b("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:b("DTSG").getToken()},this._data),this._formElem)};d._removeFormEl=function(){b("DOM").remove(this._formElem),this._formElem=null};d._destroyFileForm=function(){this._fileForm&&(this._fileForm.destroy(),this._fileForm=null)};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("PhotosUploadID",[],(function(a,b,c,d,e,f){f.getNewID=a;var g=1024;function a(){return(g++).toString()}}),null);
__d("XAsyncRequest",["AsyncRequest"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=new(b("AsyncRequest"))(a)}var c=a.prototype;c.setURI=function(a){this.$1.setURI(a);return this};c.setOption=function(a,b){this.$1.setOption(a,b);return this};c.setMethod=function(a){this.$1.setMethod(a);return this};c.setData=function(a){this.$1.setData(a);return this};c.setHandler=function(a){this.$1.setHandler(a);return this};c.setPayloadHandler=function(a){this.setHandler(function(b){return a(b.payload)});return this};c.setErrorHandler=function(a){this.$1.setErrorHandler(a);return this};c.send=function(){this.$1.send();return this};c.abort=function(){this.$1.abort()};c.setReadOnly=function(a){this.$1.setReadOnly(a);return this};c.setAllowCrossOrigin=function(a){this.$1.setAllowCrossOrigin(a);return this};c.setAllowCredentials=function(a){this.$1.setAllowCredentials(a);return this};c.setAllowCrossPageTransition=function(a){this.$1.setAllowCrossPageTransition(a);return this};return a}();e.exports=a}),null);
__d("curry",["bind"],(function(a,b,c,d,e,f){a=b("bind")(null,b("bind"),null);c=a;e.exports=c}),null);
__d("ReactComposerMediaFilterUtils",["ComposerXNativeAudioUploadsConfig","VideoUploadConfig"],(function(a,b,c,d,e,f){f.hasEditableVideos=a;f.hasVideos=c;f.hasAudioFiles=d;f.filterVideos=e;f.filterNonEditableVideos=g;f.filterAudioFiles=h;f.filterFileOfSupportedType=i;function a(a){var b=this.filterVideos(a).length;a=this.filterNonEditableVideos(a).length;return b>a}function c(a){return this.filterVideos(a).length>0}function d(a){return this.filterAudioFiles(a).length>0}function e(a){return this.filterFileOfSupportedType(a,b("VideoUploadConfig").videoExtensions)}function g(a){var b={gif:!0};return this.filterFileOfSupportedType(a,b)}function h(a){return this.filterFileOfSupportedType(a,b("ComposerXNativeAudioUploadsConfig").audioExtensions)}function i(a,b){return a.filter(function(a){a=a.indexOf(".")!==-1?a.split(".").pop().toLowerCase():"";return b[a]})}}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("exif-js-2.3.0",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g},i;function j(){(function(){var a=!1,b=this,c=function(a){if(a instanceof c)return a;if(!(this instanceof c))return new c(a);this.EXIFwrapped=a};typeof g!=="undefined"?(typeof h!=="undefined"&&h.exports&&(g=h.exports=c),g.EXIF=c):b.EXIF=c;var d=c.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},e=c.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},f=c.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},j=c.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},k=c.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function l(a){return!!a.exifdata}function m(a,b){b||a.match(/^data\:([^\;]+)\;base64,/im)[1]||"";a=a.replace(/^data\:([^\;]+)\;base64,/gim,"");b=atob(a);a=b.length;var c=new ArrayBuffer(a),d=new Uint8Array(c);for(var e=0;e<a;e++)d[e]=b.charCodeAt(e);return c}function n(a,b){var c=new XMLHttpRequest();c.open("GET",a,!0);c.responseType="blob";c.onload=function(a){(this.status==200||this.status===0)&&b(this.response)};c.send()}function o(b,d){function e(a){var e=p(a);b.exifdata=e||{};e=q(a);b.iptcdata=e||{};if(c.isXmpEnabled){e=z(a);b.xmpdata=e||{}}d&&d.call(b)}if(b.src)if(/^data\:/i.test(b.src)){var f=m(b.src);e(f)}else if(/^blob\:/i.test(b.src)){var g=new FileReader();g.onload=function(a){e(a.target.result)};n(b.src,function(a){g.readAsArrayBuffer(a)})}else{var h=new XMLHttpRequest();h.onload=function(){if(this.status==200||this.status===0)e(h.response);else throw"Could not load image";h=null};h.open("GET",b.src,!0);h.responseType="arraybuffer";h.send(null)}else if(self.FileReader&&(b instanceof self.Blob||b instanceof self.File)){var g=new FileReader();g.onload=function(b){a&&!1,e(b.target.result)};g.readAsArrayBuffer(b)}}function p(b){var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2;b=b.byteLength;var e;while(d<b){if(c.getUint8(d)!=255){a&&!1;return!1}e=c.getUint8(d+1);a&&!1;if(e==225){a&&!1;return y(c,d+4,c.getUint16(d+2)-2)}else d+=2+c.getUint16(d+2)}}function q(b){var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2,e=b.byteLength,f=function(a,b){return a.getUint8(b)===56&&a.getUint8(b+1)===66&&a.getUint8(b+2)===73&&a.getUint8(b+3)===77&&a.getUint8(b+4)===4&&a.getUint8(b+5)===4};while(d<e){if(f(c,d)){var g=c.getUint8(d+7);g%2!==0&&(g+=1);g===0&&(g=4);var h=d+8+g;g=c.getUint16(d+6+g);return s(b,h,g);break}d++}}var r={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function s(a,b,c){a=new DataView(a);var d={},e,f,g=b;while(g<b+c)a.getUint8(g)===28&&a.getUint8(g+1)===2&&(f=a.getUint8(g+2),f in r&&(e=a.getInt16(g+3),f=r[f],e=x(a,g+5,e),d.hasOwnProperty(f)?d[f]instanceof Array?d[f].push(e):d[f]=[d[f],e]:d[f]=e)),g++;return d}function t(b,c,d,e,f){var g=b.getUint16(d,!f),h={},i,j,k;for(k=0;k<g;k++)i=d+k*12+2,j=e[b.getUint16(i,!f)],!j&&a&&!1,h[j]=u(b,i,c,d,f);return h}function u(a,b,c,d,e){d=a.getUint16(b+2,!e);var f=a.getUint32(b+4,!e);c=a.getUint32(b+8,!e)+c;var g,h,i,j;switch(d){case 1:case 7:if(f==1)return a.getUint8(b+8,!e);else{d=f>4?c:b+8;g=[];for(i=0;i<f;i++)g[i]=a.getUint8(d+i);return g}case 2:d=f>4?c:b+8;return x(a,d,f-1);case 3:if(f==1)return a.getUint16(b+8,!e);else{d=f>2?c:b+8;g=[];for(i=0;i<f;i++)g[i]=a.getUint16(d+2*i,!e);return g}case 4:if(f==1)return a.getUint32(b+8,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getUint32(c+4*i,!e);return g}case 5:if(f==1){d=a.getUint32(c,!e);j=a.getUint32(c+4,!e);h=new Number(d/j);h.numerator=d;h.denominator=j;return h}else{g=[];for(i=0;i<f;i++)d=a.getUint32(c+8*i,!e),j=a.getUint32(c+4+8*i,!e),g[i]=new Number(d/j),g[i].numerator=d,g[i].denominator=j;return g}case 9:if(f==1)return a.getInt32(b+8,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getInt32(c+4*i,!e);return g}case 10:if(f==1)return a.getInt32(c,!e)/a.getInt32(c+4,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getInt32(c+8*i,!e)/a.getInt32(c+4+8*i,!e);return g}}}function v(a,b,c){var d=a.getUint16(b,!c);return a.getUint32(b+2+d*12,!c)}function w(a,b,c,d){c=v(a,b+c,d);if(!c)return{};else if(c>a.byteLength)return{};c=t(a,b,b+c,j,d);if(c.Compression)switch(c.Compression){case 6:if(c.JpegIFOffset&&c.JpegIFByteCount){d=b+c.JpegIFOffset;b=c.JpegIFByteCount;c.blob=new Blob([new Uint8Array(a.buffer,d,b)],{type:"image/jpeg"})}break;case 1:break;default:}else c.PhotometricInterpretation==2;return c}function x(a,b,c){var d="";for(var e=b;e<b+c;e++)d+=String.fromCharCode(a.getUint8(e));return d}function y(b,c){if(x(b,c,4)!="Exif"){a&&!1;return!1}var g,h,i,j;c=c+6;if(b.getUint16(c)==18761)g=!1;else if(b.getUint16(c)==19789)g=!0;else{a&&!1;return!1}if(b.getUint16(c+2,!g)!=42){a&&!1;return!1}var l=b.getUint32(c+4,!g);if(l<8){a&&!1;return!1}h=t(b,c,c+l,e,g);if(h.ExifIFDPointer){j=t(b,c,c+h.ExifIFDPointer,d,g);for(i in j){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":j[i]=k[i][j[i]];break;case"ExifVersion":case"FlashpixVersion":j[i]=String.fromCharCode(j[i][0],j[i][1],j[i][2],j[i][3]);break;case"ComponentsConfiguration":j[i]=k.Components[j[i][0]]+k.Components[j[i][1]]+k.Components[j[i][2]]+k.Components[j[i][3]];break}h[i]=j[i]}}if(h.GPSInfoIFDPointer){j=t(b,c,c+h.GPSInfoIFDPointer,f,g);for(i in j){switch(i){case"GPSVersionID":j[i]=j[i][0]+"."+j[i][1]+"."+j[i][2]+"."+j[i][3];break}h[i]=j[i]}}h.thumbnail=w(b,c,l,g);return h}function z(b){if(!("DOMParser"in self))return;var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2;b=b.byteLength;var e=new DOMParser();while(d<b-4)if(x(c,d,4)=="http"){var f=d-1,g=c.getUint16(d-2)-1;f=x(c,f,g);g=f.indexOf("xmpmeta>")+8;f=f.substring(f.indexOf("<x:xmpmeta"),g);g=f.indexOf("x:xmpmeta")+10;f=f.slice(0,g)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+f.slice(g);g=e.parseFromString(f,"text/xml");return B(g)}else d++}function A(a){var b={};if(a.nodeType==1){if(a.attributes.length>0){b["@attributes"]={};for(var c=0;c<a.attributes.length;c++){var d=a.attributes.item(c);b["@attributes"][d.nodeName]=d.nodeValue}}}else if(a.nodeType==3)return a.nodeValue;if(a.hasChildNodes())for(var d=0;d<a.childNodes.length;d++){c=a.childNodes.item(d);var e=c.nodeName;if(b[e]==null)b[e]=A(c);else{if(b[e].push==null){var f=b[e];b[e]=[];b[e].push(f)}b[e].push(A(c))}}return b}function B(a){try{var b={};if(a.children.length>0)for(var c=0;c<a.children.length;c++){var d=a.children.item(c),e=d.attributes;for(var f in e){var g=e[f],h=g.nodeName;g=g.nodeValue;h!==void 0&&(b[h]=g)}h=d.nodeName;if(typeof b[h]=="undefined")b[h]=A(d);else{if(typeof b[h].push=="undefined"){g=b[h];b[h]=[];b[h].push(g)}b[h].push(A(d))}}else b=a.textContent;return b}catch(a){}}c.enableXmp=function(){c.isXmpEnabled=!0};c.disableXmp=function(){c.isXmpEnabled=!1};c.getData=function(a,b){if((self.Image&&a instanceof self.Image||self.HTMLImageElement&&a instanceof self.HTMLImageElement)&&!a.complete)return!1;!l(a)?o(a,b):b&&b.call(a);return!0};c.getTag=function(a,b){if(!l(a))return;return a.exifdata[b]};c.getIptcTag=function(a,b){if(!l(a))return;return a.iptcdata[b]};c.getAllTags=function(a){if(!l(a))return{};var b;a=a.exifdata;var c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c};c.getAllIptcTags=function(a){if(!l(a))return{};var b;a=a.iptcdata;var c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c};c.pretty=function(a){if(!l(a))return"";var b;a=a.exifdata;var c="";for(b in a)a.hasOwnProperty(b)&&(typeof a[b]=="object"?a[b]instanceof Number?c+=b+" : "+a[b]+" ["+a[b].numerator+"/"+a[b].denominator+"]\r\n":c+=b+" : ["+a[b].length+" values]\r\n":c+=b+" : "+a[b]+"\r\n");return c};c.readFromBinaryFile=function(a){return p(a)};typeof i==="function"&&i.amd&&i("exif-js",[],function(){return c})}).call(this)}var k=!1;function l(){k||(k=!0,j());return h.exports}function a(a){switch(a){case void 0:return l()}}e.exports=a}),null);
__d("exif-js",["exif-js-2.3.0"],(function(a,b,c,d,e,f){e.exports=b("exif-js-2.3.0")()}),null);
__d("ImageExif",["exif-js"],(function(a,b,c,d,e,f){b("exif-js").enableXmp();function g(a){var b=function(b){return a.charCodeAt(b)&255};this.getByteAt=b;this.getShortAt=function(a,b){a=this.getSShortAt(a,b);return a>0?a:a+65536};this.getSShortAt=function(a,c){var d=b(a);a=b(a+1);return c?(d<<8)+a:(a<<8)+d};this.getLongAt=function(a,b){a=this.getSLongAt(a,b);return a>0?a:a+4294967296};this.getSLongAt=function(a,c){var d=b(a),e=b(a+1),f=b(a+2);a=b(a+3);return c?(((d<<8)+e<<8)+f<<8)+a:(((a<<8)+f<<8)+e<<8)+d};this.getStringAt=function(b,c){return a.substr(b,c)};this.getLength=function(){return a.length}}a={readFromFile:function(a,b){var c=this,d=new FileReader();d.addEventListener("load",function(a){a=a.target.result;a=a instanceof ArrayBuffer?c.readFromArrayBuffer(a):c.readFromBinaryString(a);b(a)},!1);window.DataView?d.readAsArrayBuffer(a):d.readAsBinaryString(a)},readFromBinaryString:function(a){return b("exif-js").readFromBinaryFile(new g(a))},readFromArrayBuffer:function(a){return b("exif-js").readFromBinaryFile(a)}};e.exports=a}),null);
__d("StringEncoding",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=new Uint8Array(a);var c=0,d=[];while(c<a.length){var e=a[c],f=void 0;if(e>>7===0)f=1;else if(e>>5===6)e&=31,f=2;else if(e>>4===14)e&=15,f=3;else if(e>>3===30)e&=7,f=4;else if(e>>2===62)e&=3,f=5;else if(e>>1===126)e&=1,f=6;else throw new Error("Cannot decode as UTF-8 - unrecognised codepoint header");if(c+f>a.length)throw new Error("Cannot decode as UTF-8 - incomplete codepoint");for(var g=1;g<f;g++){var h=a[c+g];if(h>>6!==2)throw new Error("Cannot decode as UTF-8 - unrecognised codepoint subsequent byte");h&=63;e<<=6;e|=h}if(e>1114111)throw new Error("Cannot decode as UTF-8 - JavaScript doesn't support codepoints over 0x10FFFF");if(!e)switch(b){case"error":throw new Error("Cannot decode as UTF-8 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(e);c+=f}return String.fromCodePoint.apply(String,d)}function g(a){return(a&255)<<8|a>>8}function b(a,b){if(a.byteLength%2!==0)throw new Error("Cannot decode as UTF-16 - data length mod 2 != 0");a=new Uint16Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==65534&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=g(f));var h=f;if(f>55295&&f<57344){if((f&64512)!==55296)throw new Error("Cannot decode as UTF-16 - incorrect signature for high surrogate");if(c+1>=a.length)throw new Error("Cannot decode as UTF-16 - incomplete codepoint");++c;var i=a[c];e&&(i=g(i));if((i&64512)!==56320)throw new Error("Cannot decode as UTF-16 - incorrect signature for low surrogate");h=((f&1023)<<10|i&1023)+65536}if(!h)switch(b){case"error":throw new Error("Cannot decode as UTF-16 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(h);++c}return String.fromCodePoint.apply(String,d)}function h(a){return(a&255)<<24|(a&255<<8)<<8|(a&255<<16)>>8|a>>>24}function c(a,b){if(a.byteLength%4!==0)throw new Error("Cannot decode as UTF-32 - data length mod 4 != 0");a=new Uint32Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==4294836224&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=h(f));if(f&2147483648)throw new Error("Cannot decode as UTF-32 - invalid codepoint");if(f>1114111)throw new Error("Cannot decode as UTF-32 - JavaScript doesn't support codepoints over 0x10FFFF");if(!f)switch(b){case"error":throw new Error("Cannot decode as UTF-32 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(f);++c}return String.fromCodePoint.apply(String,d)}var i={"utf-8":a,"utf-16":b,"utf-32":c};d=function(){function a(a,b){a?this.$1=a:this.$1=["utf-8","utf-16","utf-32"];b||(b="error");this.$2=b;for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.$3(d)}}var b=a.prototype;b.getPrecedence=function(){return this.$1};b.decode=function(a){var b=[];for(var c=this.$1,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f=this.$3(f);try{return f(a,this.$2)}catch(a){b.push(a)}}throw new Error(b.join(", "))};b.$3=function(a){var b=i[a];if(!b)throw new Error("Unknown encoding "+a);return b};return a}();f.Decoder=d}),null);
__d("ImageMetadata",["regeneratorRuntime","Promise","ImageExif","StringEncoding","emptyFunction"],(function(a,b,c,d,e,f){"use strict";c=function(){function c(a){this.$4="",this.$6=a,this.$7=new Uint8Array(a),this.$8()}var d=c.prototype;d.$8=function(){var a=0;while(a<this.$7.length){a=this.$9(a);if(a===-1)return;var b=this.$7[a+1];b=g[b];if(!b)return;var c=b.length;c===void 0&&(c=this.$7[a+2]*256+this.$7[a+3]);this.$10(a,c,b);if(b.name==="SOS")return;a+=2+c}};d.$10=function(a,b,c){switch(c.name){case"APP1":this.$11(a+4,h)?(this.$1||(this.$1=a,this.$2=b),this.$12(a+4+h.length,b-2-h.length)):this.$11(a+4,i)?(this.$1=a,this.$2=b,this.$13(a+4+i.length,b-2-i.length)):this.$11(a+4,j)&&this.$14(a+4+j.length,b-2-j.length);break;case"SOF0":case"SOF1":case"SOF2":case"SOF3":case"SOF5":case"SOF6":case"SOF7":case"JPG":case"SOF9":case"SOF10":case"SOF11":case"SOF13":case"SOF14":case"SOF15":this.$15(a+4,b-2);break}};d.$15=function(a,b){b=this.$7[a+3]*256+this.$7[a+4];a=this.$7[a+1]*256+this.$7[a+2];b>0&&a>0&&(this.$5={x:b,y:a})};d.$12=function(a,c){a=emptyFunction;try{emptyFunction=b("emptyFunction");c=b("ImageExif").readFromArrayBuffer(this.$6)||{}}finally{emptyFunction=a}a={};for(var d in c){var e=c[d];typeof e==="string"&&(e=e.trim());a[d.trim()]=e}this.$3=a};d.$13=function(a,c){var d=new(b("StringEncoding").Decoder)(null,"truncate");try{d=d.decode(this.$6.slice(a,a+c));this.$4=d}catch(a){return}};d.$14=function(a){};d.$11=function(a,b){var c=this;return b.split("").every(function(b){return c.$7[a++]===b.charCodeAt(0)})};d.$9=function(a){for(var a=a;a+1<this.$7.length;++a)if(this.$7[a]===255&&this.$7[a+1]!==0&&this.$7[a+1]!==255)return a;return-1};d.hasAPP1=function(){return Boolean(this.$1)};d.hasExif=function(){return Boolean(this.$3)};d.hasXMP=function(){return Boolean(this.$4)};d.hasSize=function(){return Boolean(this.$5)};d.getAPP1Location=function(){return!this.hasAPP1()?null:this.$1};d.getAPP1Length=function(){return!this.hasAPP1()?null:this.$2};d.getExif=function(){if(!this.$3)throw new Error("Image has no Exif data");return this.$3};d.getXMPString=function(){return this.$4};d.getSize=function(){if(!this.$5)throw new Error("Could not find size data?!");return this.$5};d.getBufferLength=function(){if(!this.$6)throw new Error("Do not find buffer data!");return this.$6.byteLength};c.genMetadataFromBlob=function(a){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.t0=c;d.next=3;return b("regeneratorRuntime").awrap(c.$16(a));case 3:d.t1=d.sent;return d.abrupt("return",new d.t0(d.t1));case 5:case"end":return d.stop()}},null,this)};c.$16=function(c){return new(b("Promise"))(function(b,d){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=b;e.readAsArrayBuffer(c)})};return c}();e.exports=c;var g=[];g[216]={name:"SOI",length:0};g[192]={name:"SOF0"};g[193]={name:"SOF1"};g[194]={name:"SOF2"};g[195]={name:"SOF3"};g[197]={name:"SOF5"};g[198]={name:"SOF6"};g[199]={name:"SOF7"};g[200]={name:"JPG"};g[201]={name:"SOF9"};g[202]={name:"SOF10"};g[203]={name:"SOF11"};g[205]={name:"SOF13"};g[206]={name:"SOF14"};g[207]={name:"SOF15"};g[196]={name:"DHT"};g[219]={name:"DQT"};g[221]={name:"DRI",length:2};g[218]={name:"SOS"};g[208]={name:"RST0",length:0};g[209]={name:"RST1",length:0};g[210]={name:"RST2",length:0};g[211]={name:"RST3",length:0};g[212]={name:"RST4",length:0};g[213]={name:"RST5",length:0};g[214]={name:"RST6",length:0};g[215]={name:"RST7",length:0};g[224]={name:"APP0"};g[225]={name:"APP1"};g[226]={name:"APP2"};g[227]={name:"APP3"};g[228]={name:"APP4"};g[229]={name:"APP5"};g[230]={name:"APP6"};g[231]={name:"APP7"};g[232]={name:"APP8"};g[233]={name:"APP9"};g[234]={name:"APP10"};g[235]={name:"APP11"};g[236]={name:"APP12"};g[237]={name:"APP13"};g[238]={name:"APP14"};g[239]={name:"APP15"};g[254]={name:"COM"};g[217]={name:"EOI",length:0};var h="Exif\0\0",i="http://ns.adobe.com/xap/1.0/\0",j="http://ns.adobe.com/xmp/extension/\0"}),null);
__d("XSphericalPhotoSphereMetadataAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/spherical_media/photo/metadata/",{})}),null);
__d("SphericalImageUtils",["Promise","ImageMetadata","XAsyncRequest","XSphericalPhotoSphereMetadataAsyncController"],(function(a,b,c,d,e,f){"use strict";f.genArrayBufferFromBlob=c;f.shouldCheckInServer=d;f.genPhotosphereMetadata=e;f.genPhotosphereMetadataFromServer=h;f.getExifString=i;f.getMayContainSphericalMetadata=j;var g=2048;function c(c){return new(b("Promise"))(function(b,d){if(a.FileReader){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=function(a){b(a.target.result)};e.readAsArrayBuffer(c)}else d(new Error("global.FileReader doesn't exit"))})}function d(a){if(!a.hasExif()&&!a.hasXMP()||!a.hasSize())return!1;var b=a.getXMPString();if(this.getMayContainSphericalMetadata(b))return!0;var c=a.getSize(),d=c.x;c=c.y;if(Math.max(d,c)<g||d/c<2&&c/d<2)return!1;c=a.hasExif()?a.getExif():{};return b===""&&(!c.Make||!c.Model)?!1:!0}function e(a){var c=this;return new(b("Promise"))(function(d,e){c.genArrayBufferFromBlob(a).done(function(a){try{var f=new(b("ImageMetadata"))(a);c.shouldCheckInServer(f)?c.genPhotosphereMetadataFromServer(f.hasSize()?f.getSize():{x:0,y:0},f.getXMPString(),f.hasExif()?f.getExif():{}).done(function(a){a=a.payload;d({photoSphereMetadata:a,imageMetadata:f})},e):d({})}catch(a){a.__manual=!0,e(a)}},e)})}function h(a,c,d){var e=this;return new(b("Promise"))(function(f,g){new(b("XAsyncRequest"))(b("XSphericalPhotoSphereMetadataAsyncController").getURIBuilder().getURI()).setMethod("POST").setData({exif_string:e.getExifString(d),height:a.y,width:a.x,xmp:c}).setHandler(f).setErrorHandler(g).send()})}function i(a){return JSON.stringify(a,function(a,b){return a==="FocalLength"&&b.numerator&&b.denominator?b.numerator+"/"+b.denominator:b})}function j(a){return a!==""&&a.indexOf("GPano:")>-1}}),null);
__d("SphericalImage",["regeneratorRuntime","SphericalImageUtils"],(function(a,b,c,d,e,f){"use strict";var g="ProjectionType";a=function(){function a(a){this.props=a}a.createFromBlob=function(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(b("SphericalImageUtils").genPhotosphereMetadata(a));case 2:c=d.sent;return d.abrupt("return",new this(c));case 4:case"end":return d.stop()}},null,this)};var c=a.prototype;c.isSpherical=function(){return Boolean(this.props.photoSphereMetadata)};c.getImageMetadata=function(){return this.props.imageMetadata};c.getPhotoSphereMetadata=function(){return this.props.photoSphereMetadata};c.getSize=function(){return this.props.imageMetadata?this.props.imageMetadata.getSize():null};c.getBufferLength=function(){return this.props.imageMetadata?this.props.imageMetadata.getBufferLength():null};c.getProjectionType=function(){var a="";this.props.photoSphereMetadata&&this.props.photoSphereMetadata[g]&&(a=this.props.photoSphereMetadata[g]);return a};return a}();e.exports=a}),null);
__d("SphericalPhotoUploadHelper",[],(function(a,b,c,d,e,f){"use strict";f.shouldResize360=a;f.shouldRecompress360=b;function a(a,b,c){return b&&Math.max(b.x,b.y)<=c||a==="cubestrip"?!1:!0}function b(a,b,c){return b==null||b<=c||a==="cubestrip"?!1:!0}}),null);
__d("XComposerPhotoUploader",["regeneratorRuntime","Promise","AsyncUploadRequest","FileInputUploader","PhotosMimeType","PhotosUploadID","ReactComposerMediaFilterUtils","SphericalImage","SphericalPhotoTypedConfig","SphericalPhotoUploadHelper","curry","emptyFunction","performanceNow","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g,h=a.URL||a.webkitURL||{};c=function(){function a(a){this.$20={},this.$2=a.uploadData||{},this.$1=a.uploadEndpoint,this.$3=a.retryLimit,this.$4=a.concurrentLimit,this.$5=a.resizer,this.$6=a.onUploadEnqueued||b("emptyFunction"),this.$7=a.onUploadsEnqueued||b("emptyFunction"),this.$8=a.onResizeStart||b("emptyFunction"),this.$11=a.onResizeProgress||b("emptyFunction"),this.$9=a.onResizeSuccess||b("emptyFunction"),this.$10=a.onResizeFailure||b("emptyFunction"),this.$12=a.onSphericalCheckFailure||b("emptyFunction"),this.$13=a.onSphericalCheckSuccess||b("emptyFunction"),this.$14=a.onUploadIsSpherical||b("emptyFunction"),this.$15=a.onUploadSent||b("emptyFunction"),this.$16=a.onUploadStart||b("emptyFunction"),this.$17=a.onUploadProgress||b("emptyFunction"),this.$18=a.onUploadSuccess||b("emptyFunction"),this.$19=a.onUploadFailure||b("emptyFunction")}var c=a.prototype;c.setUploadEndpoint=function(a){this.$1=a};c.setOption=function(a,b){this.$20[a]=b;return this};c.getUploadData=function(){return this.$2};c.setUploadData=function(a){this.$2=a};c.upload=function(a,c){var d=this;c||0;c=Object.assign({},this.$2);var e=null;if(!this.$21(a)){var f=b("PhotosUploadID").getNewID();a.uploadID=f;c.upload_id=f;this.$6({uploadID:f,fileName:a.value.split("/").pop().split("\\").pop(),fileURL:h.createObjectURL?h.createObjectURL(a):null})}else{e=Array.from(a.files);e=e.filter(function(a){return!b("ReactComposerMediaFilterUtils").hasVideos([a.name])});if(e.length===0)return;e.forEach(function(a){a.uploadID||(a.uploadID=b("PhotosUploadID").getNewID()),d.$6({uploadID:a.uploadID,fileName:a.name,isSpherical:!1,fileURL:h.createObjectURL?h.createObjectURL(a):null})})}this.$7();f=new(b("FileInputUploader"))(a).setURI(this.$1).setData(c).setAllowCrossOrigin(!0).setNetworkErrorRetryLimit(this.$3).setUploadInParallel(!0);e&&e.length>0&&(f.setFiles({farr:e}),this.$5?f.setPreprocessHandler(this.$22.bind(this)):f.setPreprocessHandler(this.$23.bind(this)),this.$4&&f.setConcurrentLimit(this.$4));f.subscribe("progress",function(b,c){return d.$17(d.$24(c,a),c)});f.subscribe("failure",function(b,c){return d.$19(d.$24(c,a),c,e)});f.subscribe("start",function(b,c){return d.$16(d.$24(c,a),c)});f.subscribe("success",function(b,c){return d.$18(d.$24(c,a),c)});try{f.send(),this.$15(a)}catch(a){throw a}};c.uploadFiles=function(a){var c=this;a=Array.from(a);var d=[];a.forEach(function(a){var e=b("PhotosUploadID").getNewID();a.uploadID||(a.uploadID=e);c.$6({fileName:a.name,fileURL:h.createObjectURL?h.createObjectURL(a):null,isSpherical:!1,uploadID:e});d.push(e)});a=this.getAsyncFileUploadRequest(a,d);a.send()};c.getAsyncFileUploadRequest=function(a,b,c){var d=this;c=this.$25(a,c);c.subscribe("start",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$16(c,{upload:e})});c.subscribe("progress",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$17(c,{upload:e,event:e.getProgressEvent()})});c.subscribe("success",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$18(c,{upload:e,response:e.getResponse()})});c.subscribe("failure",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);return d.$19(c,{upload:e,response:e.getResponse()},a)});return c};c.getAsyncUploadRequest=function(a,b){var c=this;b=this.$25(a,b);b.subscribe("start",function(a,b){return c.$16(b.getFile().uploadID,{upload:b})});b.subscribe("progress",function(a,b){return c.$17(b.getFile().uploadID,{upload:b,event:b.getProgressEvent()})});b.subscribe("success",function(a,b){return c.$18(b.getFile().uploadID,{upload:b,response:b.getResponse()})});b.subscribe("failure",function(b,d){return c.$19(d.getFile().uploadID,{upload:d,response:d.getResponse()},a)});return b};c.$25=function(a,c){c=new(b("AsyncUploadRequest"))().setData(Object.assign({},c&&c.data,this.$2)).setFiles({farr:a}).setAllowCrossOrigin(!0).setURI(this.$1);this.$4&&c.setLimit(this.$4);this.$5&&c.setPreprocessHandler(this.$22.bind(this));for(var d in this.$20)c.setOption(d,this.$20[d]);return c};c.$26=function(a,b,c){c=c.getFile();a=a.indexOf(c);return b[a]};c.$24=function(a,b){if(a.upload)return a.upload.getFile().uploadID;else return b.uploadID};c.$23=function(a,c){var d=this;b("promiseDone")(function(){return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(d.$27(a,c));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},null,this)}())};c.$27=function(a,c){var d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:d=a.getFile();f.next=3;return b("regeneratorRuntime").awrap(this.$28(d));case 3:e=f.sent,e&&e.isSpherical()?this.$14(d,e.isSpherical(),e.getProjectionType()):this.$14(d,!1,""),c(a);case 6:case"end":return f.stop()}},null,this)};c.$22=function(a,c){var d=this;b("promiseDone")(function(){return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(d.$29(a,c));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},null,this)}())};c.$28=function(a){var c,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:c=(g||(g=b("performanceNow")))();e.prev=1;e.next=4;return b("regeneratorRuntime").awrap(b("SphericalImage").createFromBlob(a));case 4:d=e.sent;this.$13(a,(g||(g=b("performanceNow")))()-c,d);return e.abrupt("return",d);case 9:e.prev=9;e.t0=e["catch"](1);this.$12(a,(g||(g=b("performanceNow")))()-c);return e.abrupt("return",null);case 14:case"end":return e.stop()}},null,this,[[1,9]])};c.$30=function(a){return this.$31(this.$5.resizeBlob.bind(this.$5),a)};c.$32=function(a,c){c===void 0&&(c=b("SphericalPhotoTypedConfig").upload_size_limit);return this.$31(this.$5.resize360Blob.bind(this.$5),a,c)};c.$33=function(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onload=function(){b({width:d.width,height:d.height})};d.onerror=function(a){c(a)};d.src=h.createObjectURL(a)})};c.$31=function(a,c,d){var e=this,f=b("curry")(this.$11,c.uploadID),g=b("curry")(this.$8,c),h=function(){return e.$33(c).then(g)};return new(b("Promise"))(function(b,e){h(),a(c,function(a,c,d,f,g,h,i){a?e(a):d?b({originalWidth:f,originalHeight:g}):b({blob:c,originalWidth:f,originalHeight:g,outputWidth:h,outputHeight:i})},f,d)})};c.$29=function(a,c){var d,e,f,h,i,j,k,l,m,n,o,p;return b("regeneratorRuntime").async(function(q){while(1)switch(q.prev=q.next){case 0:d=a.getFile();if(!(!d||!b("PhotosMimeType").isJpeg(d.type))){q.next=6;break}this.$14(d,!1,"");d&&b("promiseDone")(this.$33(d).then(function(b){a.getAdditionalData().set("js_resized",!1).set("original_file_size",d.size).set("original_width",b==null?void 0:b.width).set("original_height",b==null?void 0:b.height).set("upload_width",b==null?void 0:b.width).set("upload_height",b==null?void 0:b.height)},b("emptyFunction")));c(a);return q.abrupt("return");case 6:e=(g||(g=b("performanceNow")))();q.prev=7;i=null;q.next=11;return b("regeneratorRuntime").awrap(this.$28(d));case 11:i=q.sent;if(!(i&&i.isSpherical())){q.next=32;break}this.$14(d,!0,i.getProjectionType());j=i.getSize();k=b("SphericalPhotoTypedConfig").upload_size_limit;l=i.getProjectionType();m=!1;m=b("SphericalPhotoUploadHelper").shouldRecompress360(l,i.getBufferLength(),b("SphericalPhotoTypedConfig").upload_bytes_limit);n=b("SphericalPhotoUploadHelper").shouldResize360(l,j,k);if(!(j&&(n||m))){q.next=30;break}if(n){q.next=27;break}q.next=24;return b("regeneratorRuntime").awrap(this.$32(d,Math.max(j.x,j.y)-1));case 24:f=q.sent;q.next=30;break;case 27:q.next=29;return b("regeneratorRuntime").awrap(this.$32(d));case 29:f=q.sent;case 30:q.next=36;break;case 32:this.$14(d,!1,"");q.next=35;return b("regeneratorRuntime").awrap(this.$30(d));case 35:f=q.sent;case 36:f&&(f.blob!=null&&(h=f.blob,h.uploadID=d.uploadID,h.name=d.name,a.setFile(h)),a.getAdditionalData().set("js_resized",!0).set("original_file_size",d.size).set("original_width",f.originalWidth).set("original_height",f.originalHeight).set("upload_width",f.outputWidth).set("upload_height",f.outputHeight));o=h===null;a.getFile().filename=d.name;this.$9(d,h||d,o,(g||(g=b("performanceNow")))()-e,a.getAdditionalData().get("original_width"),a.getAdditionalData().get("original_height"),a.getAdditionalData().get("upload_width"),a.getAdditionalData().get("upload_height"));q.next=47;break;case 42:q.prev=42,q.t0=q["catch"](7),p=(g||(g=b("performanceNow")))()-e,this.$10(d,h||d,q.t0,p);case 47:c(a);case 48:case"end":return q.stop()}},null,this,[[7,42]])};c.$21=function(a){return!!a.files&&b("AsyncUploadRequest").isSupported()};return a}();e.exports=c}),null);
__d("WebWorker",["invariant","requireCond","BlobFactory","Bootloader","EventListener","SubscriptionsHandler","URI","WebWorkerConfig","XHRRequest","areSameOrigin","cr:951783","emptyFunction","filterObject","getCrossOriginTransport","gkx","memoize","performanceNow","recoverableViolation"],(function(a,b,c,d,e,f,g){var h,i,j=a.URL||a.webkitURL,k={remove:b("emptyFunction")},l=function(){"use strict";function c(a){var c=this;this.$2=!1;this.$3=null;this.$4=a;this.__worker=null;this.$5=b("emptyFunction");this.$6=b("emptyFunction");this.$7=[];this.$8=[];this.$9=!1;this.$10=new(b("SubscriptionsHandler"))();this.$1=b("cr:951783")!==null?b("cr:951783")(function(){c.$9||c.terminate()}):k;b("gkx")("708253")&&setTimeout(function(){!c.$9&&!c.isCurrentState("terminated")&&b("recoverableViolation")("WebWorker (resource: "+a.name+") allowCrossPageTransitions must be true on Comet, or you must handle cleaning up your worker.","comet_infra")},1e3);this.$11("constructed")}var d=c.prototype;d.setMessageHandler=function(a){this.$5=a||b("emptyFunction");return this};d.setErrorHandler=function(a){this.$6=a||b("emptyFunction");return this};d.postMessage=function(a,b){this.isCurrentState("constructed")&&g(0,5977);this.isCurrentState("terminated")&&g(0,5978);if(this.isCurrentState("preparing")){this.$7.push(this.postMessage.bind(this,a,b));return this}a={type:"message",message:a};b?this.getInterfaceableWorker().postMessage(a,b):this.getInterfaceableWorker().postMessage(a);return this};d.$12=function(){this.isCurrentState("terminated")||(this.$11("terminated"),this.__worker=null,this.$13(),this.$7=[],this.$8=[],this.$1&&this.$1.remove&&this.$1.remove())};d.terminate=function(){this.isCurrentState("executing")&&this.__worker!=null&&this.__worker.terminate();this.$12();return this};d.execute=function(){this.isCurrentState("terminated")&&g(0,5979);if(["preparing","executing"].some(this.isCurrentState,this))return this;this.$11("preparing");c.prepareResource(this.$4,this.$14.bind(this));return this};d.setAllowCrossPageTransition=function(a){b("gkx")("708253")&&!a&&b("recoverableViolation")("allowAcrossPageTransitions must be true because we dont kill these in Comet.","comet_infra");this.$9=a;return this};d.isCurrentState=function(a){c.states.includes(a)||g(0,5980,a);return a===this.$3};d.$14=function(){this.isCurrentState("executing")&&g(0,5981);if(this.isCurrentState("terminated"))return;this.$4.sameOriginURL||this.$4.source||g(0,19837,this.$4.name);this.$4.sameOriginURL?this.__worker=this.constructWorker(this.$4.sameOriginURL):(this.__worker=this.constructWorker(c.evalWorkerURL),this.getInterfaceableWorker().postMessage(this.$4.source));this.$15("ping",Date.now());if(this.$4.dynamicModules)try{this.$15("defineModules",this.$4.dynamicModules)}catch(a){this.terminate();this.$16("define_error",{message:a.message});throw a}this.$17();this.$11("executing");this.$7.forEach(function(a){return a()});this.$7=[];this.$8.forEach(function(a){return a()});this.$8=[]};d.$13=function(){this.$10.release()};d.$15=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.getInterfaceableWorker().postMessage({type:a,args:c})};d.$16=function(a,b){c.$16(a,this.$4.name,babelHelpers["extends"]({},b,{cross_page_transition:!!this.$9,state:this.$3}))};c.$18=function(){return Object.keys(b("filterObject")({object_url:c.$19(),eval_url:q(),data_url:c.$20(),worker:c.isSupported(),transferables:c.areTransferablesSupported()},function(a){return!!a}))};d.$17=function(){this.$10.addSubscriptions(b("EventListener").listen(this.getInterfaceableWorker(),"message",this.$21.bind(this)),b("EventListener").listen(this.getInterfaceableWorker(),"error",this.$22.bind(this)))};d.$22=function(a){var b=this.$6(a);!b&&!a.defaultPrevented&&this.$16("exception",{message:a.message})};d.$21=function(b){b=b.data;switch(b.type){case"message":this.$5(b.message);break;case"pong":this.$2=!0;this.$16("executed",{dt:Math.floor(b.args[1]-b.args[0]),bytes:this.$4.source?this.$4.source.length:-1});break;case"terminate":this.terminate();break;case"haste-error":this.terminate();this.$16("haste_error",{message:b.message});break;case"console":var c=b.args.shift();["log","error","info","debug","warn"].includes(c)||g(0,5983,c);a.console[c].apply(a.console,b.args);break}};d.$11=function(a){c.states.includes(a)||g(0,5984,a),this.$16("transition",{next_state:a}),this.$3=a};c.prepareResource=function(d,e){e===void 0&&(e=b("emptyFunction"));d.sameOriginURL||d.url||d.source||g(0,5985);!c.isSupported()&&g(0,5986);if(d.sameOriginURL)e();else if(d.url&&b("areSameOrigin")(new(h||(h=b("URI")))(d.url),new(h||(h=b("URI")))(a.location.href)))d.sameOriginURL=d.url,e();else if(d.source)c.$23()&&(d.sameOriginURL=c.$24(d.source)),e();else if(!d.loading){var f=(i||(i=b("performanceNow")))();d.loading=[e];c.$25(d.url,function(a){a?(d.source=a,c.$23()&&(d.sameOriginURL=c.$24(a)),c.$16("prepared",d.name,{dt:Math.floor((i||(i=b("performanceNow")))()-f),bytes:a.length})):c.$16("failed",d.name,{dt:Math.floor((i||(i=b("performanceNow")))()-f),bytes:0}),d.loading.forEach(function(a){return a()}),d.loading=!1})}else d.loading.push(e);return d};c.releaseResource=function(a){a.sameOriginURL.indexOf("blob:")===0&&(j.revokeObjectURL&&j.revokeObjectURL(a.sameOriginURL),a.sameOriginURL=null);return a};c.isSupported=function(){return p&&(c.$23()||q())};c.isMessageChannelSupported=function(){return c.areTransferablesSupported()&&!!a.MessageChannel};c.areTransferablesSupported=function(){return c.isSupported()&&r()};c.$25=function(a,c){new(b("XHRRequest"))(a).setTransportBuilder(b("getCrossOriginTransport")).setMethod("GET").setResponseHandler(function(a){c(a)}).setErrorHandler(c.bind(null,null)).send()};c.$24=function(a){c.$23()||g(0,5987);if(c.$19()){var d=b("BlobFactory").getBlob([a],{type:"application/javascript"});return j.createObjectURL(d)}if(c.$20())return"data:application/javascript,"+encodeURIComponent(a)};c.$19=function(){return b("BlobFactory").isSupported()&&n()};c.$20=function(){return o()};c.$23=function(){return c.$19()||c.$20()};c.$16=function(a,d,e){if(!b("WebWorkerConfig").logging.enabled)return;b("Bootloader").loadModules(["BanzaiLogger"],function(f){f.log(b("WebWorkerConfig").logging.config,babelHelpers["extends"]({},e,{features_array:c.$18(),event:a,resource:d}))},"WebWorker")};d.constructWorker=function(a){return m(a)};d.$26=function(a,b){if(this.isCurrentState("preparing")){this.$8.push(this.$26.bind(this,a,b));return}this.getInterfaceableWorker().postMessage({type:"port",message:a},b)};d.createMessageChannel=function(a,b){var c=new MessageChannel();this.$26(a,[c.port2].concat(b||[]));c.port1.start();return c.port1};d.getInterfaceableWorker=function(){return this.__worker};return c}();l.states=["constructed","preparing","executing","terminated"];l.evalWorkerURL=b("WebWorkerConfig").evalWorkerURL;function m(b){return new a.Worker(b)}var n=b("memoize")(function(){var a;if(!j||!j.createObjectURL)return!1;try{a=j.createObjectURL(b("BlobFactory").getBlob([""],{type:"application/javascript"}));var c=m(a);c.terminate();c=!0}catch(a){c=!1}finally{j.revokeObjectURL&&j.revokeObjectURL(a)}return c}),o=b("memoize")(function(){try{var a=m("data:application/javascript,");a.terminate();a=!0}catch(b){a=!1}return a}),p=!!a.Worker,q=b("memoize")(function(){try{var a=m(l.evalWorkerURL);a.terminate();a=!0}catch(b){a=!1}return a}),r=b("memoize")(function(){try{var a=m(l.evalWorkerURL),b=new ArrayBuffer(0);a.postMessage({buffer:b},[b]);a.terminate();b=!0}catch(a){b=!1}return b});e.exports=l}),null);